a000.N5U=(function(S5U){return {M5U:function(){var i5U,w5U=arguments;switch(S5U){case 22:i5U=w5U[1] >= w5U[0];break;case 18:i5U=w5U[1] * w5U[2] * w5U[0] - w5U[3];break;case 4:i5U=w5U[3] + w5U[0] + w5U[2] + w5U[4] + w5U[1];break;case 20:i5U=-w5U[0] - w5U[2] + w5U[3] * w5U[1];break;case 10:i5U=w5U[1] + w5U[3] / w5U[0] * w5U[2];break;case 12:i5U=w5U[0] / w5U[2] | w5U[1];break;case 21:i5U=w5U[0] * w5U[2] - w5U[1];break;case 5:i5U=w5U[0] + w5U[2] + w5U[1];break;case 19:i5U=(w5U[0] - w5U[2]) * w5U[1];break;case 8:i5U=w5U[0] * w5U[1];break;case 11:i5U=w5U[2] * w5U[1] / w5U[0] | w5U[3];break;case 7:i5U=w5U[1] / w5U[0];break;case 9:i5U=(w5U[3] / w5U[2] | w5U[1]) * w5U[0];break;case 13:i5U=w5U[1] - w5U[2] + w5U[3] + w5U[0];break;case 6:i5U=w5U[1] * w5U[0] - w5U[2] + -w5U[3];break;case 1:i5U=w5U[1] + w5U[0];break;case 15:i5U=w5U[0] * w5U[2] / w5U[1];break;case 2:i5U=w5U[2] / w5U[0] / w5U[1];break;case 14:i5U=w5U[1] * w5U[0] + w5U[2];break;case 24:i5U=w5U[1] === w5U[0];break;case 3:i5U=void w5U[0] !== w5U[1];break;case 16:i5U=w5U[2] * w5U[3] * w5U[0] * w5U[1] - w5U[4];break;case 17:i5U=w5U[1] - w5U[2] * w5U[0];break;case 23:i5U=w5U[0] < w5U[1];break;case 0:i5U=w5U[1] - w5U[0];break;}return i5U;},c5U:function(t5U){S5U=t5U;}};})();a000.a5U=function(){return typeof a000.N5U.M5U === 'function'?a000.N5U.M5U.apply(a000.N5U,arguments):a000.N5U.M5U;};a000.x5U=function(){return typeof a000.N5U.c5U === 'function'?a000.N5U.c5U.apply(a000.N5U,arguments):a000.N5U.c5U;};a000.e5U=function(){return typeof a000.N5U.c5U === 'function'?a000.N5U.c5U.apply(a000.N5U,arguments):a000.N5U.c5U;};a000.u5U=function(){return typeof a000.N5U.M5U === 'function'?a000.N5U.M5U.apply(a000.N5U,arguments):a000.N5U.M5U;};function a000(){}(function(){(function(nb,Ab){var wc,Fc,Qb,ud,Db,Gb,Zb,De,Ee,Lb,Mb,Mc,Fe,vd,Ge,He,Vd,La,Bb,jd,Ie,Wd,cb,ub,yb,xc,kc,Vb,vb,$b,Pb,Oc,Ib,Hb,Jb,cc,wd,yc,sc,tc,xd,Xd,Je,Hc,Ic,Pc,Yd,Zc,zc,yd,Lc,Zd,Ke,$c,$d,ae,be,ce,Ac,de,ee,fe,bd,Bc,Cc,cd,zd,Ad,Bd,jc,Kf,Ob,Nc,Le,Cd,oc,Me,Lf,uc,Ne,Mf,Dd,Oe,Nf,id,Pe,Jf,Of,ge,Ed,Pf,Qf,Ae,Rf,Be,Qe,lc,kd,Re,ld,Se,pc,Te,he,Ue,ie,Fd,Ve,Tf,Ce,Gd,Ud,We,Sf,Xe,je,Ye,Ze,$e,ke,Kc,bf,af,Uf,md,cf,me,nd,df,le,ef,ff,ne,hf,jf,Jd,Sc,dd,Tc,kf,lf,mf,nf,of,pf,Kd,Vf,qf,rf,pe,sf,ic,Qc,ad,Rc,Jc,Dc,Hd,ac,Gc,gf,od,Uc,tf,Wf,pd,uf,Xf,ed,vf,Ld,qe,qd,re,wf,rd,xf,yf,zf,Yf,sd,Af,Zf,$f,Bf,oe,Id,Cf,If,Df,ag,cg,bg,fd,td,dg,ze,eg,Ef;function Tb(hb,fb){if(!fb || "utf-8" === fb)return Pd(hb);throw Error("unsupported encoding");}function Rb(hb,fb){if(!fb || "utf-8" === fb)return Qd(hb);throw Error("unsupported encoding");}function Pd(hb){for(var fb=0,eb,bb=hb.length,lb="";fb < bb;){eb=hb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (hb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((hb[fb++] & 63) << 6) + (hb[fb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Qd(hb){var fb,eb,bb,lb,pb;fb=hb.length;eb=0;lb=0;for(bb=fb;bb--;){pb=hb.charCodeAt(bb);128 > pb?eb++:eb=2048 > pb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(bb=0;bb < fb;bb++){pb=hb.charCodeAt(bb);128 > pb?eb[lb++]=pb:(2048 > pb?eb[lb++]=192 | pb >>> 6:(eb[lb++]=224 | pb >>> 12,eb[lb++]=128 | pb >>> 6 & 63),eb[lb++]=128 | pb & 63);}return eb;}function Wb(hb,fb){if(hb === fb)return !0;if(!hb || !fb || hb.length != fb.length)return !1;for(var eb=0;eb < hb.length;++eb){if(hb[eb] != fb[eb])return !1;}return !0;}function gc(hb){var bb;if(!(hb && hb.constructor == Uint8Array || Array.isArray(hb)))throw new TypeError("Cannot compute the hash code of " + hb);for(var fb=1,eb=0;eb < hb.length;++eb){bb=hb[eb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);fb=31 * fb + bb & 4294967295;}return fb;}function ue(hb,fb){var kb;if(hb === fb)return !0;if(!hb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var bb=fb[eb],lb=!1,pb=0;pb < hb.length;++pb){kb=hb[pb];if(bb.equals && "function" === typeof bb.equals && bb.equals(kb) || bb == kb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ve(hb,fb){return ue(hb,fb) && (hb.length == fb.length || ue(fb,hb));}function Ma(hb,fb,eb){var bb,lb;eb && (bb=eb);if("object" !== typeof hb || "function" !== typeof hb.result || "function" !== typeof hb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=fb.call(bb,hb);lb !== Ab && hb.result(lb);}catch(pb){try{hb.error(pb);}catch(kb){}}}function db(hb,fb,eb){if("object" !== typeof hb || "function" !== typeof hb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ma(hb,fb,eb);}function W(hb,fb,eb){1E5 > hb && (hb=1E5 + hb);Object.defineProperties(this,{internalCode:{value:hb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Rd(hb){switch(hb){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function we(hb){switch(hb){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function Ff(hb){return hb.toJSON();}function xe(hb,fb){td?fb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(hb);}).catch(function(){return Jb.generateKey({name:hb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){td=eb;fb.result(td);}).catch(function(eb){fb.error(new cb(W.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ye(hb,fb){var eb,bb;eb=fb.masterToken;bb=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:hb.method,UserId:hb.userId,UT:bb && bb.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Gf(hb){return hb.uniqueKey();}function Hf(hb,fb,eb,bb,lb){var Ra;function pb(Aa,oa){Aa.errorCode === La.ENTITY_REAUTH || Aa.errorCode === La.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Na()):Aa.errorCode !== La.USER_REAUTH && Aa.errorCode !== La.USERDATA_REAUTH || kb(oa);}function kb(Aa){if(Aa=bb.getUserIdToken(Aa))(bb.removeUserIdToken(Aa),Na());}function Ga(Aa,oa,ha){var ba;ba=[];(function ia(){Aa.read(-1,oa,{result:function(fa){Ma(ha,function(){var V,Z,sa,pa,va;if(fa)(ba.push(fa),ia());else switch(ba.length){case 0:return new Uint8Array(0);case 1:return ba[0];default:(sa=ba.length,pa=0);for(Z=V=0;Z < sa;Z++){V+=ba[Z].length;}V=new Uint8Array(V);for(Z=0;Z < sa;Z++){va=ba[Z];V.set(va,pa);pa+=va.length;}return V;}});},timeout:function(){ha.timeout();},error:function(fa){ha.error(fa);}});})();}function Na(){bb.getStoreState({result:function(Aa){for(var oa=Ra.slice(),ha=0;ha < oa.length;ha++){oa[ha]({storeState:Aa});}},timeout:function(){hb.error("Timeout getting store state","" + e);},error:function(Aa){hb.error("Error getting store state","" + Aa);}});}Ra=[];this.addEventHandler=function(Aa,oa){switch(Aa){case "shouldpersist":Ra.push(oa);}};this.send=function(Aa){return new Promise(function(oa,ha){var ba,da,ia;ba=Aa.timeout;da=new ze(hb,eb,Aa,bb.getKeyRequestData());ia=new Ae(Aa.url);hb.trace("Sending MSL request");fb.request(eb,da,ia,ba,{result:function(fa){var V;hb.trace("Received MSL response",{Method:Aa.method});if(fa){Aa.allowTokenRefresh && Na();V=fa.getErrorHeader();V?(pb(V,Aa.profileGuid || Aa.userId),ha({success:!1,error:V})):Ga(fa,ba,{result:function(Z){oa({success:!0,body:Tb(Z)});},timeout:function(){ha({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(Z){ha({success:!1,error:Z});}});}else ha({success:!1,error:new cb(W.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(fa){ha({success:!1,error:fa});}});});};this.hasUserIdToken=function(Aa){return ! !bb.getUserIdToken(Aa);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=kb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Na();};this.isErrorReauth=function(Aa){return Aa && Aa.errorCode == La.USERDATA_REAUTH;};this.isErrorHeader=function(Aa){return Aa instanceof Kc;};this.getErrorCode=function(Aa){return Aa && Aa.errorCode;};this.getStateForMdx=function(Aa){var oa,ha;oa=bb.getMasterToken();Aa=bb.getUserIdToken(Aa);ha=bb.getCryptoContext(oa);return {masterToken:oa,userIdToken:Aa,cryptoContext:ha};};this.buildPlayDataRequest=function(Aa,oa){var ha;ha=new Be();fb.request(eb,new ze(hb,eb,Aa),ha,Aa.timeout,{result:function(){oa.result(ha.getRequest());},error:function(){oa.result(ha.getRequest());},timeout:function(){oa.timeout();}});};this.rekeyUserIdToken=function(Aa,oa){bb.rekeyUserIdToken(Aa,oa);Na();};this.getServiceTokens=function(Aa){var oa;oa=bb.getMasterToken();(Aa=bb.getUserIdToken(Aa)) && !Aa.isBoundTo(oa) && (Aa=Ab);return bb.getServiceTokens(oa,Aa);};this.removeServiceToken=function(Aa){var oa;oa=bb.getMasterToken();bb.getServiceTokens(oa).find(function(ha){return ha.name === Aa;}) && (bb.removeServiceTokens(Aa,oa),Na());};}function Sd(hb,fb,eb,bb,lb,pb){function kb(Ga){var Na;return Promise.resolve().then(function(){Na=hb.authenticationKeyNames[Ga];if(!Na)throw new cb(W.KEY_IMPORT_ERROR,"Invalid config keyName " + Ga);return Jb.getKeyByName(Na);}).then(function(Ra){return new Promise(function(Aa,oa){Zc(Ra,{result:Aa,error:function(){oa(new cb(W.KEY_IMPORT_ERROR,"Unable to create " + Na + " CipherKey"));}});});}).catch(function(Ra){throw new cb(W.KEY_IMPORT_ERROR,"Unable to import " + Na,Ra);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new cb(W.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([kb("e"),kb("h"),kb("w")]);}).then(function(Ga){var Na,Ra,Aa;Na={};Na[fb]=new eb(hb.esn,Ga[0],Ga[1],Ga[2]);Ga=new bb(hb.esn);Ra=new If();Ra=[new lb(Ra)];Aa=new pb(fb);return {entityAuthFactories:Na,entityAuthData:Ga,keyExchangeFactories:Ra,keyRequestData:Aa};});}function Td(hb,fb,eb){var pb;function bb(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(kb){return lb(kb.publicKey,kb.privateKey);});}function lb(kb,Ga){return Promise.all([new Promise(function(Na,Ra){Lc(kb,{result:Na,error:function(Aa){Ra(new cb(W.INTERNAL_EXCEPTION,"Unable to create keyx public key",Aa));}});}),new Promise(function(Na,Ra){$c(Ga,{result:Na,error:function(Aa){Ra(new cb(W.INTERNAL_EXCEPTION,"Unable to create keyx private key",Aa));}});})]).then(function(Na){Na=new Ud("rsaKeypairId",eb,Na[0],Na[1]);pb && (Na.storeData={keyxPublicKey:kb,keyxPrivateKey:Ga});return Na;});}pb=!hb.systemKeyWrapFormat;return Promise.resolve().then(function(){var kb,Ga;kb=hb.storeState;Ga=kb && kb.keyxPublicKey;kb=kb && kb.keyxPrivateKey;return pb && Ga && kb?lb(Ga,kb):bb();}).then(function(kb){var Ga,Na,Ra;Ga={};Ga[Ob.NONE]=new Jf();Na=new id(hb.esn);Ra=[new Ce()];return {entityAuthFactories:Ga,entityAuthData:Na,keyExchangeFactories:Ra,keyRequestData:kb,createKeyRequestData:pb?bb:Ab};});}Fc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Qb=Fc && (Fc.webkitSubtle || Fc.subtle);ud=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(hb){var fb,eb;fb=(function(){function bb(lb,pb){lb instanceof fb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=pb || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,pb,kb){var Ga;Ga=new Uint8Array(this.abv.buffer,this.position,kb);lb=new Uint8Array(lb.buffer,pb,kb);Ga.set(lb);this.position+=kb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();eb={};(function(){var fa,V,Z,sa,pa,va,Ca,wa,ra;function bb(X,aa){var ea;aa.writeByte(X.tagClass << 6 | X.constructed << 5 | X.tag);ea=X.payloadLen;if(128 > ea)aa.writeByte(ea);else {for(var na=ea,Ia=0;na;){++Ia;na>>=8;}aa.writeByte(128 | Ia);for(na=0;na < Ia;++na){aa.writeByte(ea >> 8 * (Ia - na - 1) & 255);}}if(X.child)for((X.tag == fa.BIT_STRING && aa.writeByte(0),X=X._child);X;){if(!bb(X,aa))return !1;X=X.next;}else switch(X.tag){case fa.INTEGER:X.backingStore[X.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.BIT_STRING:aa.writeByte(0);aa.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OCTET_STRING:aa.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OBJECT_IDENTIFIER:aa.copyBytes(X.backingStore,X.dataIdx,X.dataLen);}return !0;}function lb(X){var aa,ea;aa=X.readByte();ea=aa & 127;if(ea == aa)return ea;if(3 < ea || 0 === ea)return -1;for(var na=aa=0;na < ea;++na){aa=aa << 8 | X.readByte();}return aa;}function pb(X,aa,ea){var na,Ia,Ea,Pa,Ta,la,xa;na=X.backingStore;Ia=new fb(na,aa);aa+=ea;ea=X;if(8 < pa++)return Ab;for(;Ia.getPosition() < aa;){Ia.getPosition();Pa=Ia.readByte();if(31 == (Pa & 31)){for(Ea=0;Pa & 128;){Ea<<=8;Ea|=Pa & 127;}Pa=Ea;}Ta=Pa;Ea=Ta & 31;if(0 > Ea || 30 < Ea)return Ab;Pa=lb(Ia);if(0 > Pa || Pa > Ia.getRemaining())return Ab;ea.constructed=Ta & 32;ea.tagClass=(Ta & 192) >> 6;ea.tag=Ea;ea.dataLen=Pa;ea.dataIdx=Ia.getPosition();Ea=Ia;la=Ta;Ta=Pa;if(la & 32)Ea=!0;else if(la < fa.BIT_STRING || la > fa.OCTET_STRING)Ea=!1;else {xa=new fb(Ea);la == fa.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ea=!1:(la=lb(xa),Ea=xa.getPosition() - Ea.getPosition() + la == Ta);}Ea && (Ea=Ia.getPosition(),Ta=Pa,ea.tag == fa.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Ea++,Ta--),ea.child=new V(na,ea),pb(ea.child,Ea,Ta));ea.tag == fa.INTEGER && (Ea=Ia.getPosition(),0 == Ia.peekByte(Ea) && Ia.peekByte(Ea + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ia.skip(Pa);Ia.getPosition() < aa && (ea.next=new V(na,ea.parent),ea=ea.next);}pa--;return X;}function kb(X,aa,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea){if(X[aa++] != va[ea])return !1;}return !0;}function Ga(X){var aa;if(!(X && X.child && X.child.next && X.child.child && X.child.next.child))return !1;aa=X.child.child;return kb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == X.nChildren && 2 == X.child.nChildren && 2 == X.child.next.child.nChildren?!0:!1;}function Na(X){var aa;if(!(X && X.child && X.child.next && X.child.next.child && X.child.next.next && X.child.next.next.child))return !1;aa=X.child.next.child;return kb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == X.nChildren && 2 == X.child.next.nChildren && 9 == X.child.next.next.child.nChildren?!0:!1;}function Ra(X){var aa,ea;aa=Z.createSequenceNode();ea=new sa(aa);ea.addChild(Z.createSequenceNode());ea.addChild(Z.createOidNode(va));ea.addSibling(Z.createNullNode());ea.addToParent(aa,Z.createBitStringNode(null));ea.addChild(Z.createSequenceNode());ea.addChild(Z.createIntegerNode(X.n));ea.addSibling(Z.createIntegerNode(X.e));return aa;}function Aa(X){var aa;X=X.child.next.child.child;aa=X.data;X=X.next;return new Ca(aa,X.data,null,null);}function oa(X){var aa,ea;aa=Z.createSequenceNode();ea=new sa(aa);ea.addChild(Z.createIntegerNode(new Uint8Array([0])));ea.addSibling(Z.createSequenceNode());ea.addChild(Z.createOidNode(va));ea.addSibling(Z.createNullNode());ea.addToParent(aa,Z.createOctetStringNode(null));ea.addChild(Z.createSequenceNode());ea.addChild(Z.createIntegerNode(new Uint8Array([0])));ea.addSibling(Z.createIntegerNode(X.n));ea.addSibling(Z.createIntegerNode(X.e));ea.addSibling(Z.createIntegerNode(X.d));ea.addSibling(Z.createIntegerNode(X.p));ea.addSibling(Z.createIntegerNode(X.q));ea.addSibling(Z.createIntegerNode(X.dp));ea.addSibling(Z.createIntegerNode(X.dq));ea.addSibling(Z.createIntegerNode(X.qi));return aa;}function ha(X){var aa;aa=[];X=X.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++){aa.push(X.data);X=X.next;}return new wa(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function ba(X,aa,ea,na){if(!(X instanceof Ca || X instanceof wa))return Ab;if(ea)for(var Ia=0;Ia < ea.length;++Ia){if(-1 == ra.indexOf(ea[Ia]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:ea || [],ext:na == Ab?!1:na,n:Db(X.n,!0),e:Db(X.e,!0)};X instanceof wa && (aa.d=Db(X.d,!0),aa.p=Db(X.p,!0),aa.q=Db(X.q,!0),aa.dp=Db(X.dp,!0),aa.dq=Db(X.dq,!0),aa.qi=Db(X.qi,!0));return aa;}function da(X){var aa,ea,na,Ia,Ea,Pa,Ta,la,xa,za;if(!X.kty || "RSA" != X.kty || !X.n || !X.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(X.alg && -1 == aa.indexOf(X.alg))return Ab;aa=[];X.use?"enc" == X.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == X.use && (aa=["sign","verify"]):aa=X.key_ops;ea=X.ext;na=Gb(X.n,!0);Ia=Gb(X.e,!0);if(X.d){Ea=Gb(X.d,!0);Pa=Gb(X.p,!0);Ta=Gb(X.q,!0);la=Gb(X.dp,!0);xa=Gb(X.dq,!0);za=Gb(X.qi,!0);return new wa(na,Ia,Ea,Pa,Ta,la,xa,za,X.alg,aa,ea);}return new Ca(na,Ia,ea,aa);}function ia(X,aa,ea,na){this.der=X;this.type=aa;this.keyOps=ea;this.extractable=na;}fa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(X,aa,ea,na,Ia,Ea){this._data=X;this._parent=aa || Ab;this._constructed=ea || !1;this._tagClass=0;this._tag=na || 0;this._dataIdx=Ia || 0;this._dataLen=Ea || 0;};V.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(X) {this._constructed=0 != X?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(X) {this._tagClass=X;},get tag() {return this._tag;},set tag(X) {this._tag=X;},get dataIdx() {return this._dataIdx;},set dataIdx(X) {this._dataIdx=X;},get dataLen() {return this._dataLen;},set dataLen(X) {this._dataLen=X;},get child() {return this._child;},set child(X) {this._child=X;this._child.parent=this;},get next() {return this._next;},set next(X) {this._next=X;},get parent() {return this._parent;},set parent(X) {this._parent=X;},get payloadLen() {var X;X=0;if(this._child){for(var aa=this._child;aa;){X+=aa.length;aa=aa.next;}this._tag == fa.BIT_STRING && X++;}else switch(this._tag){case fa.INTEGER:X=this._dataLen;this._data[this._dataIdx] >> 7 && X++;break;case fa.BIT_STRING:X=this._dataLen + 1;break;case fa.OCTET_STRING:X=this._dataLen;break;case fa.NULL:X=0;break;case fa.OBJECT_IDENTIFIER:kb(this._data,this._dataIdx,this._dataLen) && (X=9);}return X;},get length() {var X,aa;X=this.payloadLen;if(127 < X)for(aa=X;aa;){aa>>=8;++X;}return X + 2;},get der() {var X,aa;X=this.length;if(!X)return Ab;X=new Uint8Array(X);aa=new fb(X);return bb(this,aa)?X:Ab;},get nChildren() {for(var X=0,aa=this._child;aa;){X++;aa=aa.next;}return X;}};Z={createSequenceNode:function(){return new V(null,null,!0,fa.SEQUENCE,null,null);},createOidNode:function(X){return new V(X,null,!1,fa.OBJECT_IDENTIFIER,0,X?X.length:0);},createNullNode:function(){return new V(null,null,!1,fa.NULL,null,null);},createBitStringNode:function(X){return new V(X,null,!1,fa.BIT_STRING,0,X?X.length:0);},createIntegerNode:function(X){return new V(X,null,!1,fa.INTEGER,0,X?X.length:0);},createOctetStringNode:function(X){return new V(X,null,!1,fa.OCTET_STRING,0,X?X.length:0);}};sa=function(X){this._currentNode=this._rootNode=X;};sa.prototype={addChild:function(X){this.addTo(this._currentNode,X);},addSibling:function(X){this.addTo(this._currentNode.parent,X);},addTo:function(X,aa){this._currentNode=aa;this._currentNode.parent=X;if(X.child){for(X=X.child;X.next;){X=X.next;}X.next=aa;}else X.child=aa;},addToParent:function(X,aa){this.findNode(X) && this.addTo(X,aa);},findNode:function(X){for(var aa=this._currentNode;aa;){if(X == aa)return !0;aa=aa.parent;}return !1;}};pa=0;va=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ca=function(X,aa,ea,na){this.n=X;this.e=aa;this.ext=ea;this.keyOps=na;};wa=function(X,aa,ea,na,Ia,Ea,Pa,Ta,la,xa,za){this.n=X;this.e=aa;this.d=ea;this.p=na;this.q=Ia;this.dp=Ea;this.dq=Pa;this.qi=Ta;this.alg=la;this.keyOps=xa;this.ext=za;};ra=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ia.prototype.getDer=function(){return this.der;};ia.prototype.getType=function(){return this.type;};ia.prototype.getKeyOps=function(){return this.keyOps;};ia.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(X){pa=0;return pb(new V(X),0,X.length);};eb.show=function(X,aa){};eb.isRsaSpki=Ga;eb.isRsaPkcs8=Na;eb.NodeFactory=Z;eb.Builder=sa;eb.tagVal=fa;eb.RsaPublicKey=Ca;eb.RsaPrivateKey=wa;eb.buildRsaSpki=Ra;eb.parseRsaSpki=function(X){X=eb.parse(X);return Ga?Aa(X):Ab;};eb.buildRsaPkcs8=oa;eb.parseRsaPkcs8=function(X){X=eb.parse(X);return Na(X)?ha(X):Ab;};eb.buildRsaJwk=ba;eb.parseRsaJwk=da;eb.RsaDer=ia;eb.rsaDerToJwk=function(X,aa,ea,na){X=eb.parse(X);if(!X)return Ab;if(Ga(X))X=Aa(X);else if(Na(X))X=ha(X);else return Ab;return ba(X,aa,ea,na);};eb.jwkToRsaDer=function(X){var aa,ea;X=da(X);if(!X)return Ab;if(X instanceof Ca){aa="spki";ea=Ra(X).der;}else if(X instanceof wa)(aa="pkcs8",ea=oa(X).der);else return Ab;return new ia(ea,aa,X.keyOps,X.ext);};eb.webCryptoAlgorithmToJwkAlg=function(X){return "RSAES-PKCS1-v1_5" == X.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == X.name?"SHA-256" == X.hash.name?"RS256":"SHA-384" == X.hash.name?"RS384":"SHA-512" == X.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(X){return X.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();hb.ASN1=eb;})(nb);(function(){for(var hb={},fb={},eb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,pb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,kb=64;kb--;){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=262144 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=4096 * kb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=kb;}for(kb=64;kb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb];){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=262144 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=4096 * kb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=kb;}Db=function(Ga,Na){for(var Ra="",Aa=0,oa=Ga.length,ha=oa - 2,ba=Na?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",da=Na?"":"=";Aa < ha;){Na=65536 * Ga[Aa++] + 256 * Ga[Aa++] + Ga[Aa++];Ra+=ba[Na >>> 18] + ba[Na >>> 12 & 63] + ba[Na >>> 6 & 63] + ba[Na & 63];}Aa == ha?(Na=65536 * Ga[Aa++] + 256 * Ga[Aa++],Ra+=ba[Na >>> 18] + ba[Na >>> 12 & 63] + ba[Na >>> 6 & 63] + da):Aa == oa - 1 && (Na=65536 * Ga[Aa++],Ra+=ba[Na >>> 18] + ba[Na >>> 12 & 63] + da + da);return Ra;};Gb=function(Ga,Na){Ga=Ga.replace(lb,"");if(Na && (Na=Ga.length % 4)){Na=4 - Na;for(var Ra=0;Ra < Na;++Ra){Ga+="=";}}Na=Ga.length;if(0 != Na % 4 || !pb.test(Ga))throw Error("bad base64: " + Ga);for(var Aa=Na / 4 * 3 - ("=" == Ga[Na - 1]?1:0) - ("=" == Ga[Na - 2]?1:0),oa=new Uint8Array(Aa),ha=0,ba=0;ha < Na;){Ra=hb[Ga[ha++]] + fb[Ga[ha++]] + eb[Ga[ha++]] + bb[Ga[ha++]];oa[ba++]=Ra >>> 16;ba < Aa && (oa[ba++]=Ra >>> 8 & 255,ba < Aa && (oa[ba++]=Ra & 255));}return oa;};})();Zb={};(function(){var pb,kb,Ga,Ra;function hb(Aa){if(!(this instanceof hb))return new hb(Aa);for(var oa=0,ha=kb.length;oa < ha;oa++){this[kb[oa]]="";}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Aa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ga.BEGIN;this.stack=new pb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(Aa,oa,ha){if(Aa[oa])Aa[oa](ha);}function eb(Aa,oa){var ha,ba;ha=Aa.opt;ba=Aa.textNode;ha.trim && (ba=ba.trim());ha.normalize && (ba=ba.replace(/\s+/g," "));Aa.textNode=ba;Aa.textNode && fb(Aa,oa?oa:"onvalue",Aa.textNode);Aa.textNode="";}function bb(Aa,oa){eb(Aa);oa+="\nLine: " + Aa.line + "\nColumn: " + Aa.column + "\nChar: " + Aa.c;oa=Error(oa);Aa.error=oa;fb(Aa,"onerror",oa);return Aa;}function lb(Aa){Aa.state !== Ga.VALUE && bb(Aa,"Unexpected end");eb(Aa);Aa.c="";Aa.closed=!0;fb(Aa,"onend");hb.call(Aa,Aa.opt);return Aa;}pb=Array;Zb.parser=function(Aa){return new hb(Aa);};Zb.CParser=hb;Zb.MAX_BUFFER_LENGTH=65536;Zb.DEBUG=!1;Zb.INFO=!1;Zb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");kb=["textNode","numberNode"];Zb.EVENTS.filter(function(Aa){return "error" !== Aa && "end" !== Aa;});Ga=0;Zb.STATE={BEGIN:Ga++,VALUE:Ga++,OPEN_OBJECT:Ga++,CLOSE_OBJECT:Ga++,OPEN_ARRAY:Ga++,CLOSE_ARRAY:Ga++,TEXT_ESCAPE:Ga++,STRING:Ga++,BACKSLASH:Ga++,END:Ga++,OPEN_KEY:Ga++,CLOSE_KEY:Ga++,TRUE:Ga++,TRUE2:Ga++,TRUE3:Ga++,FALSE:Ga++,FALSE2:Ga++,FALSE3:Ga++,FALSE4:Ga++,NULL:Ga++,NULL2:Ga++,NULL3:Ga++,NUMBER_DECIMAL_POINT:Ga++,NUMBER_DIGIT:Ga++};for(var Na in Zb.STATE){Zb.STATE[Zb.STATE[Na]]=Na;}Ga=Zb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Aa){return Aa.__proto__;});Ra=/[\\"\n]/g;hb.prototype={end:function(){lb(this);},write:function(Aa){var ba,da,ia;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === Aa)return lb(this);for(var oa=Aa[0],ha;oa;){ha=oa;this.c=oa=Aa.charAt(this.index++);ha !== oa?this.p=ha:ha=this.p;if(!oa)break;this.position++;"\n" === oa?(this.line++,this.column=0):this.column++;switch(this.state){case Ga.BEGIN:"{" === oa?this.state=Ga.OPEN_OBJECT:"[" === oa?this.state=Ga.OPEN_ARRAY:"\r" !== oa && "\n" !== oa && " " !== oa && "\t" !== oa && bb(this,"Non-whitespace before {[.");continue;case Ga.OPEN_KEY:case Ga.OPEN_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ga.OPEN_KEY)this.stack.push(Ga.CLOSE_KEY);else if("}" === oa){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_OBJECT);'"' === oa?this.state=Ga.STRING:bb(this,'Malformed object key should start with "');continue;case Ga.CLOSE_KEY:case Ga.CLOSE_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;":" === oa?(this.state === Ga.CLOSE_OBJECT?(this.stack.push(Ga.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Ga.VALUE):"}" === oa?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ga.VALUE):"," === oa?(this.state === Ga.CLOSE_OBJECT && this.stack.push(Ga.CLOSE_OBJECT),eb(this),this.state=Ga.OPEN_KEY):bb(this,"Bad object");continue;case Ga.OPEN_ARRAY:case Ga.VALUE:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ga.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ga.VALUE,"]" === oa)){fb(this,"onclosearray");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_ARRAY);'"' === oa?this.state=Ga.STRING:"{" === oa?this.state=Ga.OPEN_OBJECT:"[" === oa?this.state=Ga.OPEN_ARRAY:"t" === oa?this.state=Ga.TRUE:"f" === oa?this.state=Ga.FALSE:"n" === oa?this.state=Ga.NULL:"-" === oa?this.numberNode+=oa:"0" === oa?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):-1 !== ("123456789").indexOf(oa)?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ga.CLOSE_ARRAY:if("," === oa)(this.stack.push(Ga.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Ga.VALUE);else if("]" === oa)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ga.VALUE);else if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;else bb(this,"Bad array");continue;case Ga.STRING:ha=this.index - 1;(ba=this.slashed,da=this.unicodeI);a:for(;;){if(Zb.DEBUG)for(;0 < da;){if((this.unicodeS+=oa,oa=Aa.charAt(this.index++),4 === da?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),da=0,ha=this.index - 1):da++,!oa))break a;}if('"' === oa && !ba){this.state=this.stack.pop() || Ga.VALUE;(this.textNode+=Aa.substring(ha,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === oa && !ba && (ba=!0,this.textNode+=Aa.substring(ha,this.index - 1),oa=Aa.charAt(this.index++),!oa))break;if(ba)if((ba=!1,"n" === oa?this.textNode+="\n":"r" === oa?this.textNode+="\r":"t" === oa?this.textNode+="\t":"f" === oa?this.textNode+="\f":"b" === oa?this.textNode+="\b":"u" === oa?(da=1,this.unicodeS=""):this.textNode+=oa,oa=Aa.charAt(this.index++),ha=this.index - 1,oa))continue;else break;Ra.lastIndex=this.index;ia=Ra.exec(Aa);if(null === ia){this.index=Aa.length + 1;this.textNode+=Aa.substring(ha,this.index - 1);break;}this.index=ia.index + 1;oa=Aa.charAt(ia.index);if(!oa){this.textNode+=Aa.substring(ha,this.index - 1);break;}}this.slashed=ba;this.unicodeI=da;continue;case Ga.TRUE:if("" === oa)continue;"r" === oa?this.state=Ga.TRUE2:bb(this,"Invalid true started with t" + oa);continue;case Ga.TRUE2:if("" === oa)continue;"u" === oa?this.state=Ga.TRUE3:bb(this,"Invalid true started with tr" + oa);continue;case Ga.TRUE3:if("" === oa)continue;"e" === oa?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid true started with tru" + oa);continue;case Ga.FALSE:if("" === oa)continue;"a" === oa?this.state=Ga.FALSE2:bb(this,"Invalid false started with f" + oa);continue;case Ga.FALSE2:if("" === oa)continue;"l" === oa?this.state=Ga.FALSE3:bb(this,"Invalid false started with fa" + oa);continue;case Ga.FALSE3:if("" === oa)continue;"s" === oa?this.state=Ga.FALSE4:bb(this,"Invalid false started with fal" + oa);continue;case Ga.FALSE4:if("" === oa)continue;"e" === oa?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid false started with fals" + oa);continue;case Ga.NULL:if("" === oa)continue;"u" === oa?this.state=Ga.NULL2:bb(this,"Invalid null started with n" + oa);continue;case Ga.NULL2:if("" === oa)continue;"l" === oa?this.state=Ga.NULL3:bb(this,"Invalid null started with nu" + oa);continue;case Ga.NULL3:if("" === oa)continue;"l" === oa?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid null started with nul" + oa);continue;case Ga.NUMBER_DECIMAL_POINT:"." === oa?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ga.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(oa)?this.numberNode+=oa:"." === oa?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=oa):"e" === oa || "E" === oa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=oa):"+" === oa || "-" === oa?("e" !== ha && "E" !== ha && bb(this,"Invalid symbol in number"),this.numberNode+=oa):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ga.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Aa=Math.max(Zb.MAX_BUFFER_LENGTH,10);ha=oa=0;for(ba=kb.length;ha < ba;ha++){da=this[kb[ha]].length;if(da > Aa)switch(kb[ha]){case "text":break;default:bb(this,"Max buffer length exceeded: " + kb[ha]);}oa=Math.max(oa,da);}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH - oa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,pb;function hb(kb,Ga){Ga || (Ga=kb.length);return kb.reduce(function(Na,Ra,Aa){return Aa < Ga?Na + String.fromCharCode(Ra):Na;},"");}for(var fb={},eb=0;256 > eb;++eb){bb=hb([eb]);fb[bb]=eb;}lb=Object.keys(fb).length;pb=[];for(eb=0;256 > eb;++eb){pb[eb]=[eb];}De=function(kb,Ga){var V,Z;function Na(sa,pa){var va;for(;0 < pa;){if(da >= ba.length)return !1;if(pa > ia){va=sa;va>>>=pa - ia;ba[da]|=va & 255;pa-=ia;ia=8;++da;}else pa <= ia && (va=sa,va<<=ia - pa,va&=255,va>>>=8 - ia,ba[da]|=va & 255,ia-=pa,pa=0,0 == ia && (ia=8,++da));}return !0;}for(var Ra in fb){Ga[Ra]=fb[Ra];}for(var Aa=lb,oa=[],ha=8,ba=new Uint8Array(kb.length),da=0,ia=8,fa=0;fa < kb.length;++fa){V=kb[fa];oa.push(V);Ra=hb(oa);Z=Ga[Ra];if(!Z){oa=hb(oa,oa.length - 1);if(!Na(Ga[oa],ha))return null;0 != Aa >> ha && ++ha;Ga[Ra]=Aa++;oa=[V];}}return 0 < oa.length && (Ra=hb(oa),Z=Ga[Ra],!Na(Z,ha))?null:ba.subarray(0,8 > ia?da + 1:da);};Ee=function(kb){var fa,V;for(var Ga=pb.slice(),Na=0,Ra=0,Aa=8,oa=new Uint8Array(Math.ceil(1.5 * kb.length)),ha=0,ba,da=[];Na < kb.length && !(8 * (kb.length - Na) - Ra < Aa);){for(var ia=ba=0;ia < Aa;){fa=Math.min(Aa - ia,8 - Ra);V=kb[Na];V<<=Ra;V&=255;V>>>=8 - fa;ia+=fa;Ra+=fa;8 == Ra && (Ra=0,++Na);ba|=(V & 255) << Aa - ia;}ia=Ga[ba];0 == da.length?++Aa:(ia?da.push(ia[0]):da.push(da[0]),Ga[Ga.length]=da,da=[],Ga.length == 1 << Aa && ++Aa,ia || (ia=Ga[ba]));ba=ha + ia.length;ba >= oa.length && (fa=new Uint8Array(Math.ceil(1.5 * ba)),fa.set(oa),oa=fa);oa.set(ia,ha);ha=ba;da=da.concat(ia);}return oa.subarray(0,ha);};})();(function(){var hb,fb,eb;Lb="utf-8";Mb=9007199254740992;hb=Mc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Mc);Fe=function(bb){for(var lb=[hb.GZIP,hb.LZW],pb=0;pb < lb.length && 0 < bb.length;++pb){for(var kb=lb[pb],Ga=0;Ga < bb.length;++Ga){if(bb[Ga] == kb)return kb;}}return null;};fb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ge=function(bb){return fb.AES_CBC_PKCS5Padding == bb?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == bb?fb.RSA_ECB_PKCS1Padding:fb[bb];};eb=He={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(He);Vd=function(bb){return eb[bb];};La={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(La);})();Bb={isObjectLiteral:function(hb){return null !== hb && "object" === typeof hb && hb.constructor === Object;},extendDeep:function(){var hb,fb,eb,bb,lb,pb,kb,Ga;hb=arguments[0];fb=1;eb=arguments.length;bb=!1;"boolean" === typeof hb && (bb=hb,hb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (lb=arguments[fb]))for(pb in lb){if(!(bb && (pb in hb))){kb=lb[pb];if(hb !== kb && kb !== Ab){Ga=hb[pb];hb[pb]=null !== Ga && null !== kb && "object" === typeof Ga && "object" === typeof kb?Bb.extendDeep(bb,{},Ga,kb):kb;}}}}return hb;}};(function(){var kb,Ga;function hb(Na,Ra){return function(){var Aa,oa;Aa=Na.base;Na.base=Ra;oa=Na.apply(this,arguments);Na.base=Aa;return oa;};}function fb(Na,Ra,Aa){var oa,ha,ba,da;Aa=Aa || Ga;ha=! !Aa.extendAll;for(oa in Ra){ba=Ra.__lookupGetter__(oa);da=Ra.__lookupSetter__(oa);ba || da?(ba && Na.__defineGetter__(oa,ba),da && Na.__defineSetter__(oa,da)):(ba=Ra[oa],da=Na[oa],"function" === typeof ba && "function" === typeof da && ba !== da?(ba.base !== Function.prototype.base && (ba=hb(ba,da)),ba.base=da):(ha || Aa[oa]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(da) && (ba=Bb.extendDeep({},da,ba)),Na[oa]=ba);}}function eb(){var Na,Ra;Na=Array.prototype.slice;Ra=Na.call(arguments,1);return this.extend({init:function oa(){var ha;ha=Na.call(arguments,0);oa.base.apply(this,Ra.concat(ha));}});}function bb(Na,Ra){var Aa;Aa=new this(kb);fb(Aa,Na,Ra);return pb(Aa);}function lb(Na,Ra){fb(this.prototype,Na,Ra);return this;}function pb(Na){var Ra;Ra=function(){var Aa;Aa=this.init;Aa && arguments[0] !== kb && Aa.apply(this,arguments);};Na && (Ra.prototype=Na);Ra.prototype.constructor=Ra;Ra.extend=bb;Ra.bind=eb;Ra.mixin=lb;return Ra;}kb={};Ga={actions:!0};Function.prototype.base=function(){};Bb.Class={create:pb,mixin:fb,extend:function(Na,Ra){var Aa;Aa=pb();Aa.prototype=new Na();return Aa.extend(Ra);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var kb,Ga,Na;function hb(Ra,Aa){return function(){var oa,ha;oa=Ra.base;Ra.base=Aa;ha=Ra.apply(this,arguments);Ra.base=oa;return ha;};}function fb(Ra,Aa,oa){var ha,ba,da,ia;oa=oa || Ga;ba=! !oa.extendAll;for(ha in Aa){da=Aa.__lookupGetter__(ha);ia=Aa.__lookupSetter__(ha);da || ia?(da && Ra.__defineGetter__(ha,da),ia && Ra.__defineSetter__(ha,ia)):(da=Aa[ha],ia=Ra[ha],"function" === typeof da && "function" === typeof ia && da !== ia?(da.base !== Na && (da=hb(da,ia)),da.base=ia):(ba || oa[ha]) && Bb.isObjectLiteral(da) && Bb.isObjectLiteral(ia) && (da=Bb.extendDeep({},ia,da)),Ra[ha]=da);}}function eb(){var Ra,Aa;Ra=Array.prototype.slice;Aa=Ra.call(arguments,1);return this.extend({init:function ha(){var ba;ba=Ra.call(arguments,0);ha.base.apply(this,Aa.concat(ba));}});}function bb(Ra,Aa){var oa;oa=new this(kb);fb(oa,Ra,Aa);return pb(oa);}function lb(Ra,Aa){fb(this.prototype,Ra,Aa);return this;}function pb(Ra){var Aa;Aa=function(){var oa;oa=this.init;oa && arguments[0] !== kb && oa.apply(this,arguments);};Ra && (Aa.prototype=Ra);Aa.prototype.constructor=Aa;Aa.extend=bb;Aa.bind=eb;Aa.mixin=lb;return Aa;}kb={};Ga={actions:!0};Na=function(){};Function.prototype.base=Na;Bb.Class={create:pb,mixin:fb,extend:function(Ra,Aa){var oa;oa=pb();oa.prototype=new Ra();return oa.extend(Aa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function hb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var bb=hb(eb._nextWaiter);!eb._waiters[bb];){bb=hb(bb);}return bb;}jd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var bb;if(this._waiters[eb]){bb=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));bb.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,bb){var lb,pb;lb=this;pb=hb(this._lastWaiter);this._lastWaiter=pb;db(bb,function(){var kb,Ga;if(0 < this._queue.length){kb=this._queue.shift();setTimeout(function(){bb.result(kb);},0);}else {-1 != eb && (Ga=setTimeout(function(){delete lb._waiters[pb];pb == lb._nextWaiter && (lb._nextWaiter=fb(lb));bb.timeout();},eb));this._waiters[pb]=function(Na){clearTimeout(Ga);setTimeout(function(){bb.result(Na);},0);};this._nextWaiter || (this._nextWaiter=pb);}},lb);return pb;},add:function(eb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);bb.call(this,eb);}else this._queue.push(eb);}});})();(function(){var hb;hb=0 - Mb;Ie=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Fc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Fc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Fc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=hb;fb == hb;){fb=new Uint8Array(7);Fc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Fc.getRandomValues(fb);}});})();(function(){function hb(bb){return bb == Mb?1:bb + 1;}function fb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=hb(bb._nextReader);!bb._waitingReaders[lb];){lb=hb(lb);}return lb;}function eb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=hb(bb._nextWriter);!bb._waitingWriters[lb];){lb=hb(lb);}return lb;}Wd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=fb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var pb,kb;pb=this;kb=hb(this._lastNumber);this._lastNumber=kb;db(lb,function(){var Ga;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[kb]=!0,kb);-1 != bb && (Ga=setTimeout(function(){delete pb._waitingReaders[kb];kb == pb._nextReader && (pb._nextReader=fb(pb));lb.timeout();},bb));this._waitingReaders[kb]=function(Na){clearTimeout(Ga);Na?setTimeout(function(){lb.result(Ab);},0):(pb._readers[kb]=!0,setTimeout(function(){lb.result(kb);},0));};this._nextReader || (this._nextReader=kb);},pb);return kb;},writeLock:function(bb,lb){var pb,kb;pb=this;kb=hb(this._lastNumber);this._lastNumber=kb;db(lb,function(){var Ga;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=kb;-1 != bb && (Ga=setTimeout(function(){delete pb._waitingWriters[kb];kb == pb._nextWriter && (pb._nextWriter=eb(pb));lb.timeout();},bb));this._waitingWriters[kb]=function(Na){clearTimeout(Ga);Na?setTimeout(function(){lb.result(Ab);},0):(pb._writer=kb,setTimeout(function(){lb.result(kb);},0));};this._nextWriter || (this._nextWriter=kb);},pb);return kb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new vb("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=hb(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(W,{JSON_PARSE_ERROR:new W(0,La.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new W(1,La.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new W(2,La.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new W(3,La.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new W(4,La.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new W(5,La.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new W(6,La.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new W(7,La.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new W(8,La.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new W(9,La.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new W(10,La.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new W(11,La.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new W(12,La.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new W(13,La.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new W(14,La.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new W(15,La.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new W(16,La.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new W(17,La.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new W(18,La.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new W(19,La.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new W(20,La.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new W(21,La.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new W(22,La.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new W(23,La.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new W(24,La.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new W(25,La.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new W(26,La.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new W(27,La.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new W(28,La.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new W(29,La.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new W(30,La.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new W(31,La.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new W(32,La.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new W(33,La.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new W(34,La.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new W(35,La.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new W(36,La.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new W(37,La.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new W(38,La.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new W(39,La.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new W(40,La.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new W(41,La.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new W(42,La.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new W(43,La.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new W(44,La.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new W(45,La.FAIL,"Error exporting key."),DIGEST_ERROR:new W(46,La.FAIL,"Error in digest."),UNSUPPORTED_KEY:new W(47,La.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new W(48,La.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new W(49,La.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new W(50,La.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new W(51,La.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new W(52,La.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new W(53,La.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new W(54,La.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new W(55,La.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new W(56,La.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new W(57,La.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new W(58,La.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new W(59,La.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new W(60,La.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new W(61,La.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new W(62,La.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new W(1E3,La.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new W(1001,La.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new W(1002,La.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new W(1003,La.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(1004,La.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(1005,La.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new W(1006,La.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new W(1007,La.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new W(1008,La.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new W(1009,La.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new W(1010,La.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new W(1011,La.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new W(1012,La.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new W(1013,La.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new W(1014,La.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new W(2E3,La.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new W(2001,La.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new W(2002,La.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new W(2003,La.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new W(2004,La.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new W(2005,La.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2006,La.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2007,La.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new W(2008,La.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new W(2009,La.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new W(2010,La.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new W(2011,La.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new W(2012,La.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new W(2013,La.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new W(2014,La.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new W(2015,La.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new W(2016,La.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new W(2017,La.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new W(2018,La.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new W(2019,La.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new W(2020,La.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new W(3E3,La.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new W(3001,La.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new W(3002,La.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new W(3003,La.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new W(3004,La.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3005,La.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3006,La.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new W(3007,La.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new W(3008,La.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new W(3009,La.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new W(4E3,La.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new W(4001,La.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new W(4002,La.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new W(4003,La.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new W(4004,La.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new W(4005,La.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new W(4006,La.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new W(4007,La.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new W(4008,La.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new W(4009,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new W(4010,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new W(4011,La.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new W(4012,La.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new W(4013,La.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new W(4014,La.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new W(4015,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new W(4016,La.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new W(4017,La.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new W(4018,La.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new W(4019,La.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new W(4020,La.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new W(4021,La.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new W(4022,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new W(4023,La.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new W(4024,La.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new W(4025,La.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new W(4026,La.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new W(5E3,La.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new W(5001,La.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new W(5002,La.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new W(5003,La.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new W(5004,La.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new W(5005,La.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new W(5006,La.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new W(5007,La.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new W(5008,La.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new W(5009,La.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new W(5010,La.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new W(5011,La.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new W(5012,La.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new W(5013,La.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new W(5014,La.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new W(5015,La.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new W(5016,La.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new W(5017,La.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new W(5018,La.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new W(5019,La.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new W(5020,La.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new W(5021,La.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new W(5022,La.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new W(5023,La.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new W(5024,La.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new W(5025,La.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new W(5026,La.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new W(5027,La.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new W(5028,La.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new W(5029,La.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new W(5030,La.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new W(5031,La.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new W(5032,La.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new W(5033,La.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new W(5034,La.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new W(5035,La.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new W(5036,La.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new W(5037,La.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new W(5038,La.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new W(5039,La.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new W(5040,La.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new W(6E3,La.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new W(6001,La.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new W(6002,La.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new W(6003,La.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new W(6004,La.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new W(6005,La.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new W(6006,La.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new W(6007,La.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new W(6008,La.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new W(6009,La.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new W(6010,La.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new W(6011,La.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new W(6012,La.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new W(6013,La.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new W(6014,La.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new W(6015,La.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new W(6016,La.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new W(6017,La.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new W(6018,La.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(6019,La.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new W(6020,La.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new W(6021,La.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new W(6022,La.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new W(6023,La.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new W(6024,La.FAIL,"Invalid header data."),PAYLOAD_INVALID:new W(6025,La.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new W(6026,La.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new W(6027,La.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new W(6028,La.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new W(6029,La.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new W(6030,La.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new W(6031,La.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new W(6032,La.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new W(6033,La.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new W(6034,La.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new W(6035,La.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new W(6036,La.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new W(6037,La.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new W(7E3,La.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new W(7001,La.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new W(7002,La.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new W(7003,La.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new W(7004,La.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new W(7005,La.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new W(7006,La.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new W(7007,La.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new W(7008,La.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new W(7009,La.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new W(7010,La.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new W(7011,La.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new W(7012,La.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new W(7013,La.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new W(7014,La.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new W(7015,La.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new W(7016,La.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new W(8E3,La.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new W(8001,La.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new W(8002,La.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new W(8003,La.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new W(8004,La.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new W(8005,La.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new W(8006,La.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new W(8007,La.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new W(8008,La.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new W(8009,La.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new W(8010,La.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new W(8011,La.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new W(8012,La.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new W(9E3,La.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new W(9001,La.FAIL,"Error communicating with MSL entity."),NONE:new W(9999,La.FAIL,"Special unit test error.")});Object.freeze(W);(function(){cb=Bb.Class.create(Error());cb.mixin({init:function(hb,fb,eb){var lb,pb,kb;function bb(){return pb?pb:this.cause && this.cause instanceof cb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=hb.message;fb && (lb+=" [" + fb + "]");kb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:hb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ga){if(0 > Ga || Ga > Mb)throw new RangeError("Message ID " + Ga + " is outside the valid range.");bb() || (pb=Ga);},configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();kb && (Ga+="\n" + kb);eb && eb.stack && (Ga+="\nCaused by " + eb.stack);return Ga;},configurable:!0}});},setEntity:function(hb){!hb || this.masterToken || this.entityAuthenticationData || (hb instanceof ic?this.masterToken=hb:hb instanceof Nc && (this.entityAuthenticationData=hb));return this;},setUser:function(hb){!hb || this.userIdToken || this.userAuthenticationData || (hb instanceof ad?this.userIdToken=hb:hb instanceof Gc && (this.userAuthenticationData=hb));return this;},setMessageId:function(hb){this.messageId=hb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=cb.extend({init:function lb(fb,eb,bb){lb.base.call(this,fb,eb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=cb.extend({init:function pb(eb,bb,lb){pb.base.call(this,eb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xc=cb.extend({init:function kb(bb,lb,pb){kb.base.call(this,bb,lb,pb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(bb,lb,pb){var kb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:pb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();kb && (Ga+="\n" + kb);lb && lb.stack && (Ga+="\nCaused by " + lb.stack);return Ga;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Bb.Class.create(Error());Vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$b=Bb.Class.create(Error());$b.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=cb.extend({init:function Ga(lb,pb,kb){Ga.base.call(this,lb,pb,kb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Oc=cb.extend({init:function Ga(pb,kb){Ga.base.call(this,pb);Object.defineProperties(this,{masterToken:{value:kb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=cb.extend({init:function Ra(kb,Ga,Na){Ra.base.call(this,kb,Ga,Na);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Hb=cb.extend({init:function Aa(Ga,Na,Ra){Aa.base.call(this,Ga,Na,Ra);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var oa;function Ga(ha){return "undefined" === typeof ha?!1:ha;}function Na(ha){return ha && ha.length?(cc === oa.V2014_02 && (ha=ha.map(function(ba){return "wrap" == ba?"wrapKey":"unwrap" == ba?"unwrapKey":ba;})),ha):cc === oa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Ra(ha,ba,da,ia,fa){return Promise.resolve().then(function(){return Qb.importKey(ha,ba,da,ia,fa);}).catch(function(V){var Z;if("spki" !== ha && "pkcs8" !== ha)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(da);Z=ASN1.webCryptoUsageToJwkKeyOps(fa);V=ASN1.rsaDerToJwk(ba,V,Z,ia);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Qb.importKey("jwk",Qd(V),da,ia,fa);});}function Aa(ha,ba){return Promise.resolve().then(function(){return Qb.exportKey(ha,ba);}).catch(function(da){if("spki" !== ha && "pkcs8" !== ha)throw da;return Qb.exportKey("jwk",ba).then(function(ia){ia=JSON.parse(Pd(new Uint8Array(ia)));ia=ASN1.jwkToRsaDer(ia);if(!ia)throw Error("Could not make valid DER from JWK input");return ia.getDer().buffer;});});}oa=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);cc=oa.LATEST;Jb={encrypt:function(ha,ba,da){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.encrypt(ha,ba,da);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.encrypt(ha,ba,da).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,ba,da){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.decrypt(ha,ba,da);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.decrypt(ha,ba,da).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,ba,da){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.sign(ha,ba,da);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.sign(ha,ba,da).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,ba,da,ia){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var Z;Z=Qb.verify(ha,ba,da,ia);Z.oncomplete=function(sa){fa(sa.target.result);};Z.onerror=function(sa){V(sa);};});case oa.V2014_01:case oa.V2014_02:return Qb.verify(ha,ba,da,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,ba){switch(cc){case oa.LEGACY:return new Promise(function(da,ia){var fa;fa=Qb.digest(ha,ba);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ia(V);};});case oa.V2014_01:case oa.V2014_02:return Qb.digest(ha,ba).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,ba,da){var ia,fa;ia=Ga(ba);fa=Na(da);switch(cc){case oa.LEGACY:return new Promise(function(V,Z){var sa;sa=Qb.generateKey(ha,ia,fa);sa.oncomplete=function(pa){V(pa.target.result);};sa.onerror=function(pa){Z(pa);};});case oa.V2014_01:case oa.V2014_02:return Qb.generateKey(ha,ia,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,ba,da,ia,fa){var V,Z;V=Ga(ia);Z=Na(fa);switch(cc){case oa.LEGACY:return new Promise(function(sa,pa){var va;va=Qb.deriveKey(ha,ba,da,V,Z);va.oncomplete=function(Ca){sa(Ca.target.result);};va.onerror=function(Ca){pa(Ca);};});case oa.V2014_01:case oa.V2014_02:return Qb.deriveKey(ha,ba,da,V,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,ba,da,ia,fa){var V,Z;V=Ga(ia);Z=Na(fa);switch(cc){case oa.LEGACY:return new Promise(function(sa,pa){var va;va=Qb.importKey(ha,ba,da,V,Z);va.oncomplete=function(Ca){sa(Ca.target.result);};va.onerror=function(Ca){pa(Ca);};});case oa.V2014_01:case oa.V2014_02:return Ra(ha,ba,da,V,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,ba){switch(cc){case oa.LEGACY:return new Promise(function(da,ia){var fa;fa=Qb.exportKey(ha,ba);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ia(V);};});case oa.V2014_01:case oa.V2014_02:return Aa(ha,ba).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,ba,da,ia){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var Z;Z=Qb.wrapKey(ba,da,ia);Z.oncomplete=function(sa){fa(sa.target.result);};Z.onerror=function(sa){V(sa);};});case oa.V2014_01:case oa.V2014_02:return Qb.wrapKey(ha,ba,da,ia).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,ba,da,ia,fa,V,Z){switch(cc){case oa.LEGACY:return new Promise(function(sa,pa){var va;va=Qb.unwrapKey(ba,fa,da);va.oncomplete=function(Ca){sa(Ca.target.result);};va.onerror=function(Ca){pa(Ca);};});case oa.V2014_01:case oa.V2014_02:return Qb.unwrapKey(ha,ba,da,ia,fa,Ga(V),Na(Z));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(ha){switch(cc){case oa.LEGACY:return new Promise(function(ba,da){var ia;ia=ud.getKeyByName(ha);ia.oncomplete=function(fa){ba(fa.target.result);};ia.onerror=function(fa){da(fa);};});case oa.V2014_01:case oa.V2014_02:return ud.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();yc={name:"AES-KW"};sc={name:"AES-CBC"};tc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xd={name:"RSAES-PKCS1-v1_5"};Je={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hc=["encrypt","decrypt"];Ic=["wrap","unwrap"];Pc=["sign","verify"];(function(){Yd=Bb.Class.create({init:function(Ga,Na,Ra){var oa;function Aa(ha){Ma(Na,function(){var ba;ba=ha?Db(ha):Ab;Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:ba,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Na,function(){if(!Ga || "object" != typeof Ga)throw new ub(W.INVALID_SYMMETRIC_KEY);!Ra && Ga.extractable?Jb.exportKey("raw",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Na.error(new ub(W.KEY_EXPORT_ERROR,"raw"));}):Aa(Ra);},oa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zc=function(Ga,Na){new Yd(Ga,Na);};zc=function(Ga,Na,Ra,Aa){Ma(Aa,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(oa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + Ga,oa);}Jb.importKey("raw",Ga,Na,!0,Ra).then(function(oa){new Yd(oa,Aa,Ga);},function(oa){Aa.error(new ub(W.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Ga,Na,Ra){var oa;function Aa(ha){Ma(Na,function(){Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Na,function(){if(!Ga || "object" != typeof Ga || "public" != Ga.type)throw new TypeError("Only original public crypto keys are supported.");!Ra && Ga.extractable?Jb.exportKey("spki",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Na.error(new ub(W.KEY_EXPORT_ERROR,"spki"));}):Aa(Ra);});},getEncoded:function(){return this.encoded;}});Lc=function(Ga,Na){new yd(Ga,Na);};Zd=function(Ga,Na,Ra,Aa){Ma(Aa,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(oa){throw new ub(W.INVALID_PUBLIC_KEY,"spki " + Ga,oa);}Jb.importKey("spki",Ga,Na,!0,Ra).then(function(oa){new yd(oa,Aa,Ga);},function(oa){Aa.error(new ub(W.INVALID_PUBLIC_KEY));});});};})();(function(){Ke=Bb.Class.create({init:function(Ga,Na,Ra){var oa;function Aa(ha){Ma(Na,function(){Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Na,function(){if(!Ga || "object" != typeof Ga || "private" != Ga.type)throw new TypeError("Only original private crypto keys are supported.");!Ra && Ga.extractable?Jb.exportKey("pkcs8",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Na.error(new ub(W.KEY_EXPORT_ERROR,"pkcs8"));}):Aa(Ra);});},getEncoded:function(){return this.encoded;}});$c=function(Ga,Na){new Ke(Ga,Na);};})();(function(){var Ga;Ga=ce={V1:1,V2:2};$d=Bb.Class.create({init:function(Na,Ra,Aa,oa){Ma(oa,function(){var ha,ba,da,ia;ha=Ga.V1;ba=Na;da=null;for(ia in vd){if(vd[ia] == Na){ha=Ga.V2;ba=null;da=Na;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ba,writable:!1,configurable:!1},cipherSpec:{value:da,writable:!1,configurable:!1},iv:{value:Ra,writable:!1,configurable:!1},ciphertext:{value:Aa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Na;Na={};switch(this.version){case Ga.V1:Na.keyid=this.keyId;this.iv && (Na.iv=Db(this.iv));Na.ciphertext=Db(this.ciphertext);Na.sha256="AA==";break;case Ga.V2:Na.version=this.version;Na.cipherspec=this.cipherSpec;this.iv && (Na.iv=Db(this.iv));Na.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Na;}});ae=function(Na,Ra,Aa,oa){new $d(Na,Ra,Aa,oa);};be=function(Na,Ra,Aa){Ma(Aa,function(){var oa,ha,ba,da,ia,fa,V;oa=Na.keyid;ha=Na.cipherspec;ba=Na.iv;da=Na.ciphertext;ia=Na.sha256;if(!Ra)if((Ra=Na.version) && "number" === typeof Ra && Ra === Ra){fa=!1;for(V in Ga){if(Ga[V] == Ra){fa=!0;break;}}if(!fa)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}else Ra=Ga.V1;switch(Ra){case Ga.V1:if("string" !== typeof oa || ba && "string" !== typeof ba || "string" !== typeof da || "string" !== typeof ia)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));break;case Ga.V2:V=Na.version;if(V != Ga.V2)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));if("string" !== typeof ha || ba && "string" !== typeof ba || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));ha=Ge(ha);if(!ha)throw new ub(W.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Na));oa=ha;break;default:throw new ub(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}try{ba && (ba=Gb(ba));da=Gb(da);}catch(Z){throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Na),Z);}new $d(oa,ba,da,Aa);});};})();(function(){var Ga;Ga=fe={V1:1,V2:2};Ac=Bb.Class.create({init:function(Na,Ra,Aa){var oa;switch(Na){case Ga.V1:oa=Aa;break;case Ga.V2:oa={};oa.version=Na;oa.algorithm=Ra;oa.signature=Db(Aa);oa=Rb(JSON.stringify(oa),Lb);break;default:throw new vb("Signature envelope version " + Na + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Na,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Ra,writable:!1,configurable:!1},signature:{value:Aa,writable:!1,configurable:!1},bytes:{value:oa,writable:!1,configurable:!1}});}});de=function(){var Na,Ra,Aa,oa;if(2 == arguments.length){Na=Ga.V1;Ra=arguments[0];Aa=null;oa=arguments[1];}else 3 == arguments.length && (Na=Ga.V2,Aa=arguments[0],Ra=arguments[1],oa=arguments[2]);Ma(oa,function(){return new Ac(Na,Aa,Ra);});};ee=function(Na,Ra,Aa){Ma(Aa,function(){var oa,ha,ba,da,ia,fa,V;if(Ra)switch(Ra){case Ga.V1:return new Ac(Ga.V1,null,Na);case Ga.V2:try{oa=Tb(Na,Lb);ha=JSON.parse(oa);ba=parseInt(ha.version);da=ha.algorithm;ia=ha.signature;if(!ba || "number" !== typeof ba || ba != ba || "string" !== typeof da || "string" !== typeof ia)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Na));if(Ga.V2 != ba)throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Na));fa=Vd(da);if(!fa)throw new ub(W.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(Na));V=Gb(ia);if(!V)throw new ub(W.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Na));return new Ac(Ga.V2,fa,V);}catch(Z){if(Z instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Na),Z);throw Z;}default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Na));}try{oa=Tb(Na,Lb);ha=JSON.parse(oa);}catch(Z){ha=null;}if(ha && ha.version){if((oa=ha.version,"number" !== typeof oa || oa !== oa))oa=Ga.V1;}else oa=Ga.V1;switch(oa){case Ga.V1:return new Ac(oa,null,Na);case Ga.V2:fa=ha.algorithm;ia=ha.signature;if("string" !== typeof fa || "string" !== typeof ia)return new Ac(Ga.V1,null,Na);fa=Vd(fa);if(!fa)return new Ac(Ga.V1,null,Na);try{V=Gb(ia);}catch(Z){return new Ac(Ga.V1,null,Na);}return new Ac(oa,fa,V);default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Na);}});};})();bd=Bb.Class.create({encrypt:function(Ga,Na){},decrypt:function(Ga,Na){},wrap:function(Ga,Na){},unwrap:function(Ga,Na,Ra,Aa){},sign:function(Ga,Na){},verify:function(Ga,Na,Ra){}});(function(){var Ga;Ga=Cc={RSA_OAEP:xd.name,A128KW:yc.name};wc="A128GCM";Bc=Bb.Class.create({init:function(Na,Ra,Aa,oa,ha){switch(Ra){case Ga.RSA_OAEP:ha=ha && (ha.rawKey || ha);oa=oa && (oa.rawKey || oa);break;case Ga.A128KW:ha=oa=oa && (oa.rawKey || oa);break;default:throw new vb("Unsupported algorithm: " + Ra);}Object.defineProperties(this,{_ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Ra){Ra.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Na,Ra){Ra.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Na,Ra){Ma(Ra,function(){Jb.wrapKey("jwe+jwk",Na.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Aa){Ra.result(Aa);},function(Aa){Ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Na,Ra,Aa,oa){function ha(ba){Ma(oa,function(){switch(ba.type){case "secret":Zc(ba,oa);break;case "public":Lc(ba,oa);break;case "private":$c(ba,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ma(oa,function(){Jb.unwrapKey("jwe+jwk",Na,this._unwrapKey,this._unwrapKey.algorithm,Ra,!1,Aa).then(function(ba){ha(ba);},function(){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Na,Ra){Ra.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(Na,Ra,Aa){Aa.error(new ub(W.VERIFY_NOT_SUPPORTED));}});})();cd=bd.extend({encrypt:function(Ga,Na){Na.result(Ga);},decrypt:function(Ga,Na){Na.result(Ga);},wrap:function(Ga,Na){Na.result(Ga);},unwrap:function(Ga,Na,Ra,Aa){Aa.result(Ga);},sign:function(Ga,Na){Na.result(new Uint8Array(0));},verify:function(Ga,Na,Ra){Ra.result(!0);}});(function(){var Ga;Ga=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=bd.extend({init:function da(Ra,Aa,oa,ha,ba){da.base.call(this);oa && (oa=oa.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:Aa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:ba == Ga.ENCRYPT_DECRYPT_PKCS1?Xd:ba == Ga.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ba == Ga.WRAP_UNWRAP_PKCS1?Xd:ba == Ga.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ba == Ga.SIGN_VERIFY?Je:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ra,Aa){var oa;oa=this;Ma(Aa,function(){if("nullOp" == this.transform)return Ra;if(!this.publicKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Ra.length)return Ra;Jb.encrypt(oa.transform,oa.publicKey,Ra).then(function(ha){ae(oa.id,null,ha,{result:function(ba){var da;try{da=JSON.stringify(ba);Aa.result(Rb(da,Lb));}catch(ia){Aa.error(new ub(W.ENCRYPT_ERROR,null,ia));}},error:function(ba){ba instanceof cb || (ba=new ub(W.ENCRYPT_ERROR,null,ba));Aa.error(ba);}});},function(ha){Aa.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Ra,Aa){var oa;oa=this;Ma(Aa,function(){var ha,ba;if("nullOp" == this.transform)return Ra;if(!this.privateKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Ra.length)return Ra;try{ha=Tb(Ra,Lb);ba=JSON.parse(ha);}catch(da){if(da instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,da);throw new ub(W.DECRYPT_ERROR,null,da);}be(ba,ce.V1,{result:function(da){var ia;try{if(da.keyId != oa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);ia=Aa.result;Jb.decrypt(oa.transform,oa.privateKey,da.ciphertext).then(ia,function(fa){Aa.error(new ub(W.DECRYPT_ERROR));});}catch(fa){fa instanceof cb?Aa.error(fa):Aa.error(new ub(W.DECRYPT_ERROR,null,fa));}},error:function(da){da instanceof yb && (da=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,da));da instanceof cb || (da=new ub(W.DECRYPT_ERROR,null,da));Aa.error(da);}});},this);},wrap:function(Ra,Aa){Ma(Aa,function(){var oa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no public key");oa=Aa.result;Jb.wrapKey("jwk",Ra.rawKey,this.publicKey,this.wrapTransform).then(oa,function(ha){Aa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Ra,Aa,oa,ha){function ba(da){Ma(ha,function(){switch(da.type){case "secret":Zc(da,ha);break;case "public":Lc(da,ha);break;case "private":$c(da,ha);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + da.type);}});}Ma(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Ra,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Aa,!1,oa).then(ba,function(da){ha.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Ra,Aa){Ma(Aa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Ra).then(function(oa){de(oa,{result:function(ha){Aa.result(ha.bytes);},error:Aa.error});},function(oa){Aa.error(new ub(W.SIGNATURE_ERROR));});},this);},verify:function(Ra,Aa,oa){var ha;ha=this;Ma(oa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no public key");ee(Aa,fe.V1,{result:function(ba){Ma(oa,function(){var da;da=oa.result;Jb.verify(this.algo,this.publicKey,ba.signature,Ra).then(da,function(ia){oa.error(new ub(W.SIGNATURE_ERROR));});},ha);},error:oa.error});},this);}});})();(function(){Bd=bd.extend({init:function ba(Na,Ra,Aa,oa,ha){ba.base.call(this);Aa=Aa && Aa.rawKey;oa=oa && oa.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},id:{value:Ra,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Ra){var Aa;Aa=this;Ma(Ra,function(){var oa;if(!this.encryptionKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;oa=new Uint8Array(16);this.ctx.getRandom().nextBytes(oa);Jb.encrypt({name:sc.name,iv:oa},Aa.encryptionKey,Na).then(function(ha){ha=new Uint8Array(ha);ae(Aa.id,oa,ha,{result:function(ba){var da;try{da=JSON.stringify(ba);Ra.result(Rb(da,Lb));}catch(ia){Ra.error(new ub(W.ENCRYPT_ERROR,null,ia));}},error:function(ba){ba instanceof cb || (ba=new ub(W.ENCRYPT_ERROR,null,ba));Ra.error(ba);}});},function(ha){Ra.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Na,Ra){var Aa;Aa=this;Ma(Ra,function(){var oa,ha;if(!this.encryptionKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;try{oa=Tb(Na,Lb);ha=JSON.parse(oa);}catch(ba){if(ba instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new ub(W.DECRYPT_ERROR,null,ba);}be(ha,ce.V1,{result:function(ba){try{if(ba.keyId != Aa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:sc.name,iv:ba.iv},Aa.encryptionKey,ba.ciphertext).then(function(da){da=new Uint8Array(da);Ra.result(da);},function(){Ra.error(new ub(W.DECRYPT_ERROR));});}catch(da){da instanceof cb?Ra.error(da):Ra.error(new ub(W.DECRYPT_ERROR,null,da));}},error:function(ba){ba instanceof yb && (ba=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof cb || (ba=new ub(W.DECRYPT_ERROR,null,ba));Ra.error(ba);}});},this);},wrap:function(Na,Ra){Ma(Ra,function(){if(!this.wrapKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Na.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Aa){Ra.result(Aa);},function(Aa){Ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Na,Ra,Aa,oa){function ha(ba){Ma(oa,function(){switch(ba.type){case "secret":Zc(ba,oa);break;case "public":Lc(ba,oa);break;case "private":$c(ba,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ma(oa,function(){if(!this.wrapKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Na,this.wrapKey,this.wrapKey.algorithm,Ra,!1,Aa).then(function(ba){ha(ba);},function(ba){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Na,Ra){var Aa;Aa=this;Ma(Ra,function(){if(!this.hmacKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(tc,this.hmacKey,Na).then(function(oa){Ma(Ra,function(){var ha;ha=new Uint8Array(oa);de(ha,{result:function(ba){Ra.result(ba.bytes);},error:Ra.error});},Aa);},function(){Ra.error(new ub(W.HMAC_ERROR));});},this);},verify:function(Na,Ra,Aa){var oa;oa=this;Ma(Aa,function(){if(!this.hmacKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no HMAC key.");ee(Ra,fe.V1,{result:function(ha){Ma(Aa,function(){Jb.verify(tc,this.hmacKey,ha.signature,Na).then(function(ba){Aa.result(ba);},function(ba){Aa.error(new ub(W.HMAC_ERROR));});},oa);},error:Aa.error});},this);}});})();jc=Bd.extend({init:function ba(Na,Ra,Aa,oa,ha){if(Aa || oa || ha)ba.base.call(this,Na,Aa + "_" + Ra.sequenceNumber,oa,ha,null);else {if(!Ra.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,Ra);ba.base.call(this,Na,Ra.identity + "_" + Ra.sequenceNumber,Ra.encryptionKey,Ra.hmacKey,null);}}});Kf=bd.extend({encrypt:function(Na,Ra){Ra.result(Na);},decrypt:function(Na,Ra){Ra.result(Na);},wrap:function(Na,Ra){Ra.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Na,Ra,Aa,oa){oa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Na,Ra){Ra.result(new Uint8Array(0));},verify:function(Na,Ra,Aa){Aa.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Nc=Bb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Na){return this === Na?!0:Na instanceof Nc?this.scheme == Na.scheme:!1;},toJSON:function(){var Na;Na={};Na.scheme=this.scheme;Na.authdata=this.getAuthData();return Na;}});Le=function(Na,Ra){var Aa,oa;Aa=Ra.scheme;oa=Ra.authdata;if(!Aa || !oa)throw new yb(W.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Ra));if(!Ob[Aa])throw new xc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME,Aa);Ra=Na.getEntityAuthenticationFactory(Aa);if(!Ra)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Aa);return Ra.createData(Na,oa);};})();Cd=Bb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},createData:function(Na,Ra){},getCryptoContext:function(Na,Ra){}});(function(){oc=Nc.extend({init:function Aa(Ra){Aa.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Ra,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ra;Ra={};Ra.identity=this.identity;return Ra;},equals:function oa(Aa){return this === Aa?!0:Aa instanceof oc?oa.base.call(this,this,Aa) && this.identity == Aa.identity:!1;}});Me=function(Aa){var oa;oa=Aa.identity;if(!oa)throw new yb(W.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Aa));return new oc(oa);};})();Lf=Cd.extend({init:function Aa(Ra){Aa.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ra,Aa){return Me(Aa);},getCryptoContext:function(Ra,Aa){if(!(Aa instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(Aa) + ".");if(Aa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + Aa.identity).setEntity(Aa);return new cd();}});(function(){uc=Nc.extend({init:function oa(Aa){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:Aa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Aa;Aa={};Aa.identity=this.identity;return Aa;},equals:function ha(oa){return this === oa?!0:oa instanceof uc?ha.base.call(this,this,oa) && this.identity == oa.identity:!1;}});Ne=function(oa){var ha;ha=oa.identity;if(!ha)throw new yb(W.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(oa));return new uc(ha);};})();Mf=Cd.extend({init:function oa(Aa){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Aa,oa){return Ne(oa);},getCryptoContext:function(Aa,oa){if(!(oa instanceof uc))throw new vb("Incorrect authentication data type " + JSON.stringify(oa) + ".");if(oa.getIdentity() != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + oa.identity).setEntity(oa);return new cd();}});(function(){Dd=Nc.extend({init:function ba(oa,ha){ba.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:oa,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var oa;oa={};oa.identity=this.identity;oa.pubkeyid=this.publicKeyId;return oa;},equals:function ba(ha){return this === ha?!0:ha instanceof Dd?ba.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});Oe=function(ha){var ba,da;ba=ha.identity;da=ha.pubkeyid;if(!ba || "string" !== typeof ba || !da || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new Dd(ba,da);};})();Nf=Cd.extend({init:function ha(oa){ha.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(oa,ha){return Oe(ha);},getCryptoContext:function(oa,ha){var ba,da,ia;if(!(ha instanceof Dd))throw new vb("Incorrect authentication data type " + ha + ".");ba=ha.identity;da=ha.publicKeyId;ia=this.store.getPublicKey(da);if(!ia)throw new xc(W.RSA_PUBLICKEY_NOT_FOUND,da).setEntity(ha);return new zd(oa,ba,null,ia,Ad.SIGN_VERIFY);}});(function(){id=Nc.extend({init:function ba(ha){ba.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function da(ba){return this === ba?!0:ba instanceof id?da.base.call(this,this,ba) && this.identity == ba.identity:!1;}});Pe=function(ba){var da;da=ba.identity;if(!da)throw new yb(W.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ba));return new id(da);};})();Jf=Cd.extend({init:function ha(){ha.base.call(this,Ob.NONE);},createData:function(ha,ba){return Pe(ba);},getCryptoContext:function(ha,ba){if(!(ba instanceof id))throw new vb("Incorrect authentication data type " + JSON.stringify(ba) + ".");return new cd();}});Of=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,ba){if(!(ba instanceof yd))throw new vb("Incorrect key data type " + ba + ".");this.rsaKeys[ha]=ba;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});ge=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,ba,da){}});Ed=Bb.Class.create({abort:function(){},close:function(ha,ba){},write:function(ha,ba,da,ia,fa){},flush:function(ha,ba){}});Pf=Bb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Vb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,ba,da){db(da,function(){var ia;if(this._closed)throw new Vb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);ia=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=ia.length;return ia;},this);}});Qf=Bb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,ba){this._closed=!0;ba.result(!0);},write:function(ha,ba,da,ia,fa){db(fa,function(){var V;if(this._closed)throw new Vb("Stream is already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ba + da > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ha.subarray(ba,da);this._buffered.push(V);return V.length;},this);},flush:function(ha,ba){var da;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){da=new Uint8Array(this._result.length + ha.length);da.set(this._result);da.set(ha,this._result.length);this._result=da;}else this._result=new Uint8Array(ha);}ba.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Rf=Bb.Class.create({getResponse:function(ha,ba,da){}});(function(){var ha,ba;ha=Ed.extend({init:function(da,ia){da={_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new jd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(da){this._timeout=da;},getResponse:function(da,ia){var fa;fa=this;this._responseQueue.poll(da,{result:function(V){db(ia,function(){V && this._responseQueue.add(V);return V;},fa);},timeout:function(){db(ia,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ia.timeout();},fa);},error:function(V){db(ia,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},fa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(da,ia){var fa;fa=this;db(ia,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(Z){fa._response={response:Z};fa._responseQueue.add(fa._response);},timeout:function(){fa._response={isTimeout:!0};fa._responseQueue.add(fa._response);},error:function(Z){fa._response={isError:!0,error:Z};fa._responseQueue.add(fa._response);}}));return !0;},this);},write:function(da,ia,fa,V,Z){db(Z,function(){if(this._response)throw new Vb("HttpOutputStream already closed.");this._buffer.write(da,ia,fa,V,Z);},this);},flush:function(da,ia){db(ia,function(){if(this._response)return !0;this._buffer.flush(da,ia);},this);}});ba=ge.extend({init:function(da){Object.defineProperties(this,{_out:{value:da,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(da,ia,fa){var Z;function V(sa){db(fa,function(){if(!sa)return new Uint8Array(0);this._out.getResponse(ia,{result:function(pa){db(fa,function(){var va;if(pa.isTimeout)(this._timedout=!0,fa.timeout());else {if(pa.isError)throw (this._exception=pa.error || new Vb("Unknown HTTP exception."),this._exception);if(!pa.response)throw (this._exception=new Vb("Missing HTTP response."),this._exception);pa.response.json !== Ab && (this._json=pa.response.json,this.getJSON=function(){return Z._json;});va=pa.response.content || Qd("string" === typeof pa.response.body?pa.response.body:JSON.stringify(this._json));this._buffer=new Pf(va);this._buffer.read(da,ia,fa);}},Z);},timeout:function(){fa.timeout();},error:function(pa){fa.error(pa);}});},Z);}Z=this;db(fa,function(){if(this._exception)throw this._exception;if(this._timedout)fa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(da,ia,fa):this._out.close(ia,{result:function(sa){V(sa);},timeout:function(){fa.timeout();},error:function(sa){fa.error(sa);}});}},Z);}});Ae=Bb.Class.create({init:function(da,ia){Object.defineProperties(this,{_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(da){this._timeout=da;},openConnection:function(){var da;da=new ha(this._httpLocation,this._timeout);return {input:new ba(da),output:da};}});})();(function(){var ha,ba;ha=Ed.extend({init:function(){var da;da={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},getResponse:function(da,ia){ia.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(da,ia){ia.result(!0);},write:function(da,ia,fa,V,Z){var sa,pa;try{if(0 > ia)throw new RangeError("Offset cannot be negative.");if(0 > fa)throw new RangeError("Length cannot be negative.");if(ia + fa > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");sa=da.subarray(ia,fa);pa=new Uint8Array(this._buffer.length + sa.length);pa.set(this._buffer);pa.set(sa,this._buffer.length);this._buffer=pa;Z.result(sa.length);}catch(va){Z.error(va);}},flush:function(da,ia){ia.result(!0);},request:function(){return this._buffer;}});ba=ge.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,ia,fa){fa.result(new Uint8Array(16));}});Be=Bb.Class.create({init:function(){var da;da={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ba(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Pd(this.output.request());}});})();Qe=function(ha,ba,da){(function(ia,fa,V){ia.read(-1,fa,{result:function(Z){Z && Z.length?V(null,Z):V(null,null);},timeout:function(){da.timeout();},error:function(Z){V(Z,null);}});})(ha,ba,function(ia,fa){var V,Z;if(ia)da.error(ia);else if(fa){if(ha.getJSON !== Ab && "function" === typeof ha.getJSON)da.result(ha.getJSON());else {ia=da.result;fa=new Sf(Tb(fa,"utf-8"));V=[];for(Z=fa.nextValue();Z !== Ab;){V.push(Z);Z=fa.nextValue();}ia.call(da,V);}}else da.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){kd=Bb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof kd?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Re=function(ha,ba,da){Ma(da,function(){var ia,fa,V;ia=ba.scheme;fa=ba.keydata;if(!ia || !fa || "object" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ba));if(!lc[ia])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,ia);V=ha.getKeyExchangeFactory(ia);if(!V)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,ia);V.createRequestData(ha,fa,da);});};})();(function(){ld=Bb.Class.create({init:function(ha,ba){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:ba,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof ld?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Se=function(ha,ba,da){Ma(da,function(){var ia,fa,V;ia=ba.mastertoken;fa=ba.scheme;V=ba.keydata;if(!fa || !ia || "object" !== typeof ia || !V || "object" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ba));if(!lc[fa])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,fa);Qc(ha,ia,{result:function(Z){Ma(da,function(){var sa;sa=ha.getKeyExchangeFactory(fa);if(!sa)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,fa);return sa.createResponseData(ha,Z,V);});},error:function(Z){da.error(Z);}});});};})();(function(){var ha;ha=Bb.Class.create({init:function(ba,da){Object.defineProperties(this,{keyResponseData:{value:ba,writable:!1,configurable:!1},cryptoContext:{value:da,writable:!1,configurable:!1}});}});pc=Bb.Class.create({init:function(ba){Object.defineProperties(this,{scheme:{value:ba,writable:!1,configurable:!1}});},createRequestData:function(ba,da,ia){},createResponseData:function(ba,da,ia){},generateResponse:function(ba,da,ia,fa){},getCryptoContext:function(ba,da,ia,fa,V){},generateSessionKeys:function(ba,da){Ma(da,function(){var ia,fa;ia=new Uint8Array(16);fa=new Uint8Array(32);ba.getRandom().nextBytes(ia);ba.getRandom().nextBytes(fa);zc(ia,sc,Hc,{result:function(V){zc(fa,tc,Pc,{result:function(Z){da.result({encryptionKey:V,hmacKey:Z});},error:function(Z){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,Z));}});},error:function(V){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(ba,da,ia){zc(ba,sc,Hc,{result:function(fa){zc(da,tc,Pc,{result:function(V){ia.result({encryptionKey:fa,hmacKey:V});},error:function(V){ia.error(V);}});},error:function(fa){ia.error(fa);}});}});pc.KeyExchangeData=ha;})();(function(){var ba,da,ia;function ha(fa,V,Z,sa,pa){Ma(pa,function(){var va,Ca;switch(V){case ba.PSK:(va=new uc(sa),Ca=fa.getEntityAuthenticationFactory(Ob.PSK));if(!Ca)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Ca.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ba.MGK:va=new oc(sa);Ca=fa.getEntityAuthenticationFactory(Ob.MGK);if(!Ca)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Ca.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ba.WRAP:va=fa.getMslCryptoContext();va.unwrap(Z,yc,Ic,{result:function(wa){Ma(pa,function(){return new Bc(fa,Cc.A128KW,wc,wa);});},error:pa.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=he=kd.extend({init:function sa(V,Z){sa.base.call(this,lc.JWE_LADDER);switch(V){case ba.WRAP:if(!Z)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Z=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Db(this.wrapdata));return V;},equals:function sa(Z){return Z === this?!0:Z instanceof he?sa.base.call(this,Z) && this.mechanism == Z.mechanism && Wb(this.wrapdata,Z.wrapdata):!1;},uniqueKey:function sa(){var pa;pa=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (pa+=":" + gc(this.wrapdata));return pa;}});ia=Ue=ld.extend({init:function X(pa,va,Ca,wa,ra){X.base.call(this,pa,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:va,writable:!1,configurable:!1},wrapdata:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var pa;pa={};pa.wrapkey=Db(this.wrapKey);pa.wrapdata=Db(this.wrapdata);pa.encryptionkey=Db(this.encryptionKey);pa.hmackey=Db(this.hmacKey);return pa;},equals:function Ca(va){return this === va?!0:va instanceof Ue?Ca.base.call(this,va) && Wb(this.wrapKey,va.wrapKey) && Wb(this.wrapdata,va.wrapdata) && Wb(this.encryptionKey,va.encryptionKey) && Wb(this.hmacKey,va.hmacKey):!1;},uniqueKey:function Ca(){return Ca.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Te=pc.extend({init:function ra(wa){ra.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(wa,ra,X){Ma(X,function(){var aa,ea,na;aa=ra.mechanism;ea=ra.wrapdata;if(!aa || aa == ba.WRAP && (!ea || "string" !== typeof ea))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!ba[aa])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case ba.WRAP:try{na=Gb(ea);}catch(Ia){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());}if(null == na || 0 == na.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());break;default:na=null;}return new da(aa,na);});},createResponseData:function(wa,ra,X){var aa,ea,na,Ia,Ea,Pa,Ta;wa=X.wrapkey;aa=X.wrapdata;ea=X.encryptionkey;na=X.hmackey;if(!(wa && "string" === typeof wa && aa && "string" === typeof aa && ea && "string" === typeof ea && na) || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));try{Ia=Gb(wa);Ea=Gb(aa);}catch(la){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(X),la);}try{Pa=Gb(ea);}catch(la){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(X),la);}try{Ta=Gb(na);}catch(la){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(X),la);}return new ia(ra,Ia,Ea,Pa,Ta);},generateResponse:function(wa,ra,X,aa){var Pa,Ta;function ea(la,xa,za){Pa.generateSessionKeys(wa,{result:function(Ja){Ma(aa,function(){na(la,xa,za,Ja.encryptionKey,Ja.hmacKey);},Pa);},error:function(Ja){Ma(aa,function(){Ja instanceof cb && Ja.setEntity(Ta);throw Ja;});}});}function na(la,xa,za,Ja,Ba){Ma(aa,function(){ha(wa,ra.mechanism,ra.wrapdata,la,{result:function(Oa){Oa.wrap(xa,{result:function(Fa){Ia(xa,za,Ja,Ba,Fa);},error:function(Fa){Ma(aa,function(){Fa instanceof cb && Fa.setEntity(Ta);throw Fa;});}});},error:function(Oa){Ma(aa,function(){Oa instanceof cb && Oa.setEntity(Ta);throw Oa;});}});},Pa);}function Ia(la,xa,za,Ja,Ba){Ma(aa,function(){var Oa;Oa=new Bc(wa,Cc.A128KW,wc,la);Oa.wrap(za,{result:function(Fa){Oa.wrap(Ja,{result:function(Va){Ea(xa,Ba,za,Fa,Ja,Va);},error:function(Va){Ma(aa,function(){Va instanceof cb && Va.setEntity(Ta);throw Va;});}});},error:function(Fa){Ma(aa,function(){Fa instanceof cb && Fa.setEntity(Ta);throw Fa;});}});},Pa);}function Ea(la,xa,za,Ja,Ba,Oa){Ma(aa,function(){var Fa;Fa=wa.getTokenFactory();Ta?Fa.renewMasterToken(wa,Ta,za,Ba,{result:function(Va){Ma(aa,function(){var Za,Wa;Za=new jc(wa,Va);Wa=new ia(Va,xa,la,Ja,Oa);return new pc.KeyExchangeData(Wa,Za,aa);},Pa);},error:function(Va){Ma(aa,function(){Va instanceof cb && Va.setEntity(Ta);throw Va;});}}):Fa.createMasterToken(wa,X,za,Ba,{result:function(Va){Ma(aa,function(){var Za,Wa;Za=new jc(wa,Va);Wa=new ia(Va,xa,la,Ja,Oa);return new pc.KeyExchangeData(Wa,Za,aa);},Pa);},error:aa.error});},Pa);}Pa=this;Ma(aa,function(){var la,xa;if(!(ra instanceof da))throw new vb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");la=X;if(X instanceof ic){if(!X.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,X);Ta=X;la=X.identity;}xa=new Uint8Array(16);wa.getRandom().nextBytes(xa);zc(xa,yc,Ic,{result:function(za){Ma(aa,function(){wa.getMslCryptoContext().wrap(za,{result:function(Ja){ea(la,za,Ja);},error:function(Ja){Ma(aa,function(){Ja instanceof cb && Ja.setEntity(Ta);throw Ja;},Pa);}});},Pa);},error:function(za){Ma(aa,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,za).setEntity(Ta);},Pa);}});},Pa);},getCryptoContext:function(wa,ra,X,aa,ea){var Ia;function na(Ea,Pa,Ta,la,xa){Ma(ea,function(){var za;za=new Bc(wa,Cc.A128KW,wc,xa);za.unwrap(Pa.encryptionKey,sc,Hc,{result:function(Ja){za.unwrap(Pa.hmacKey,tc,Pc,{result:function(Ba){Ma(ea,function(){this.repository.addCryptoContext(Pa.wrapdata,za);this.repository.removeCryptoContext(Ta);return new jc(wa,Pa.masterToken,la,Ja,Ba);},Ia);},error:function(Ba){Ma(ea,function(){Ba instanceof cb && Ba.setEntity(Ea);throw Ba;});}});},error:function(Ja){Ma(ea,function(){Ja instanceof cb && Ja.setEntity(Ea);throw Ja;});}});},Ia);}Ia=this;Ma(ea,function(){var Ea,Pa;if(!(ra instanceof da))throw new vb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");if(!(X instanceof ia))throw new vb("Key response data " + JSON.stringify(X) + " was not created by this factory.");Ea=ra.mechanism;Pa=ra.wrapdata;wa.getEntityAuthenticationData(null,{result:function(Ta){Ma(ea,function(){var la,xa,za;la=Ta.getIdentity();switch(Ea){case ba.PSK:xa=new uc(la);za=wa.getEntityAuthenticationFactory(Ob.PSK);if(!za)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);xa=za.getCryptoContext(wa,xa);xa=new Bc(wa,Cc.A128KW,wc,Ab);break;case ba.MGK:xa=new oc(la);za=wa.getEntityAuthenticationFactory(Ob.MGK);if(!za)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);xa=za.getCryptoContext(wa,xa);xa=new Bc(wa,Cc.A128KW,wc,xa.wrapKey);break;case ba.WRAP:xa=this.repository.getCryptoContext(Pa);if(!xa)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Pa)).setEntity(Ta);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);}xa.unwrap(X.wrapKey,yc,Ic,{result:function(Ja){na(Ta,X,Pa,la,Ja);},error:function(Ja){Ma(ea,function(){Ja instanceof cb && Ja.setEntity(Ta);throw Ja;});}});},Ia);},error:ea.error});},Ia);}});})();(function(){var ba,da,ia,fa;function ha(V,Z,sa,pa,va){Ma(va,function(){var Ca,wa;switch(Z){case ba.PSK:(Ca=new uc(pa),wa=V.getEntityAuthenticationFactory(Ob.PSK));if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);Ca=wa.getCryptoContext(V,Ca);return new fa(Ab);case ba.MGK:Ca=new oc(pa);wa=V.getEntityAuthenticationFactory(Ob.MGK);if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);Ca=wa.getCryptoContext(V,Ca);return new fa(Ab);case ba.WRAP:Ca=V.getMslCryptoContext();Ca.unwrap(sa,yc,Ic,{result:function(ra){Ma(va,function(){return new fa(ra);});},error:va.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=Fd=kd.extend({init:function pa(Z,sa){pa.base.call(this,lc.JWK_LADDER);switch(Z){case ba.WRAP:if(!sa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:sa=null;}Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1}});},getKeydata:function(){var Z;Z={};Z.mechanism=this.mechanism;this.wrapdata && (Z.wrapdata=Db(this.wrapdata));return Z;},equals:function pa(sa){return sa === this?!0:sa instanceof Fd?pa.base.call(this,sa) && this.mechanism == sa.mechanism && Wb(this.wrapdata,sa.wrapdata):!1;},uniqueKey:function pa(){var va;va=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + gc(this.wrapdata));return va;}});ia=Ve=ld.extend({init:function aa(va,Ca,wa,ra,X){aa.base.call(this,va,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ca,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:X,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Db(this.wrapKey);va.wrapdata=Db(this.wrapdata);va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Ca){return this === Ca?!0:Ca instanceof Ve?wa.base.call(this,Ca) && Wb(this.wrapKey,Ca.wrapKey) && Wb(this.wrapdata,Ca.wrapdata) && Wb(this.encryptionKey,Ca.encryptionKey) && Wb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});fa=bd.extend({init:function(wa){wa && wa.rawKey && (wa=wa.rawKey);Object.defineProperties(this,{_wrapKey:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(wa,ra){ra.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(wa,ra){ra.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(wa,ra){Ma(ra,function(){Jb.wrapKey("jwk",wa.rawKey,this._wrapKey,yc).then(function(X){ra.result(X);},function(X){ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(wa,ra,X,aa){function ea(na){Ma(aa,function(){switch(na.type){case "secret":Zc(na,aa);break;case "public":Lc(na,aa);break;case "private":$c(na,aa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + na.type);}});}Ma(aa,function(){Jb.unwrapKey("jwk",wa,this._wrapKey,yc,ra,!1,X).then(function(na){ea(na);},function(na){aa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(wa,ra){ra.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(wa,ra,X){X.error(new ub(W.VERIFY_NOT_SUPPORTED));}});ie=pc.extend({init:function X(ra){X.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ra,X,aa){Ma(aa,function(){var ea,na,Ia;ea=X.mechanism;na=X.wrapdata;if(!ea || ea == ba.WRAP && (!na || "string" !== typeof na))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));if(!ba[ea])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case ba.WRAP:try{Ia=Gb(na);}catch(Ea){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());}if(null == Ia || 0 == Ia.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());break;default:Ia=null;}return new da(ea,Ia);});},createResponseData:function(ra,X,aa){var ea,na,Ia,Ea,Pa,Ta,la;ra=aa.wrapkey;ea=aa.wrapdata;na=aa.encryptionkey;Ia=aa.hmackey;if(!(ra && "string" === typeof ra && ea && "string" === typeof ea && na && "string" === typeof na && Ia) || "string" !== typeof Ia)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ea=Gb(ra);Pa=Gb(ea);}catch(xa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),xa);}try{Ta=Gb(na);}catch(xa){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),xa);}try{la=Gb(Ia);}catch(xa){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),xa);}return new ia(X,Ea,Pa,Ta,la);},generateResponse:function(ra,X,aa,ea){var Ta,la;function na(xa,za,Ja){Ta.generateSessionKeys(ra,{result:function(Ba){Ma(ea,function(){Ia(xa,za,Ja,Ba.encryptionKey,Ba.hmacKey);},Ta);},error:function(Ba){Ma(ea,function(){Ba instanceof cb && Ba.setEntity(la);throw Ba;});}});}function Ia(xa,za,Ja,Ba,Oa){Ma(ea,function(){ha(ra,X.mechanism,X.wrapdata,xa,{result:function(Fa){Fa.wrap(za,{result:function(Va){Ea(za,Ja,Ba,Oa,Va);},error:function(Va){Ma(ea,function(){Va instanceof cb && Va.setEntity(la);throw Va;});}});},error:function(Fa){Ma(ea,function(){Fa instanceof cb && Fa.setEntity(la);throw Fa;});}});},Ta);}function Ea(xa,za,Ja,Ba,Oa){Ma(ea,function(){var Fa;Fa=new fa(xa);Fa.wrap(Ja,{result:function(Va){Fa.wrap(Ba,{result:function(Za){Pa(za,Oa,Ja,Va,Ba,Za);},error:function(Za){Ma(ea,function(){Za instanceof cb && Za.setEntity(la);throw Za;});}});},error:function(Va){Ma(ea,function(){Va instanceof cb && Va.setEntity(la);throw Va;});}});},Ta);}function Pa(xa,za,Ja,Ba,Oa,Fa){Ma(ea,function(){var Va;Va=ra.getTokenFactory();la?Va.renewMasterToken(ra,la,Ja,Oa,{result:function(Za){Ma(ea,function(){var Wa,jb;Wa=new jc(ra,Za);jb=new ia(Za,za,xa,Ba,Fa);return new pc.KeyExchangeData(jb,Wa,ea);},Ta);},error:function(Za){Ma(ea,function(){Za instanceof cb && Za.setEntity(la);throw Za;});}}):Va.createMasterToken(ra,aa,Ja,Oa,{result:function(Za){Ma(ea,function(){var Wa,jb;Wa=new jc(ra,Za);jb=new ia(Za,za,xa,Ba,Fa);return new pc.KeyExchangeData(jb,Wa,ea);},Ta);},error:ea.error});},Ta);}Ta=this;Ma(ea,function(){var xa,za;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");xa=aa;if(aa instanceof ic){if(!aa.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,aa);la=aa;xa=aa.identity;}za=new Uint8Array(16);ra.getRandom().nextBytes(za);zc(za,yc,Ic,{result:function(Ja){Ma(ea,function(){ra.getMslCryptoContext().wrap(Ja,{result:function(Ba){na(xa,Ja,Ba);},error:function(Ba){Ma(ea,function(){Ba instanceof cb && Ba.setEntity(la);throw Ba;},Ta);}});},Ta);},error:function(Ja){Ma(ea,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(la);},Ta);}});},Ta);},getCryptoContext:function(ra,X,aa,ea,na){var Ea;function Ia(Pa,Ta,la,xa,za){Ma(na,function(){var Ja;Ja=new fa(za);Ja.unwrap(Ta.encryptionKey,sc,Hc,{result:function(Ba){Ja.unwrap(Ta.hmacKey,tc,Pc,{result:function(Oa){Ma(na,function(){this.repository.addCryptoContext(Ta.wrapdata,Ja);this.repository.removeCryptoContext(la);return new jc(ra,Ta.masterToken,xa,Ba,Oa);},Ea);},error:function(Oa){Ma(na,function(){Oa instanceof cb && Oa.setEntity(Pa);throw Oa;});}});},error:function(Ba){Ma(na,function(){Ba instanceof cb && Ba.setEntity(Pa);throw Ba;});}});},Ea);}Ea=this;Ma(na,function(){var Pa,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(aa instanceof ia))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Pa=X.mechanism;Ta=X.wrapdata;ra.getEntityAuthenticationData(null,{result:function(la){Ma(na,function(){var xa,za,Ja;xa=la.getIdentity();switch(Pa){case ba.PSK:za=new uc(xa);Ja=ra.getEntityAuthenticationFactory(Ob.PSK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);za=Ja.getCryptoContext(ra,za);za=new fa(za.wrapKey);break;case ba.MGK:za=new oc(xa);Ja=ra.getEntityAuthenticationFactory(Ob.MGK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);za=Ja.getCryptoContext(ra,za);za=new fa(za.wrapKey);break;case ba.WRAP:za=this.repository.getCryptoContext(Ta);if(!za)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ta)).setEntity(la);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);}za.unwrap(aa.wrapKey,yc,Ic,{result:function(Ba){Ia(la,aa,Ta,xa,Ba);},error:function(Ba){Ma(na,function(){Ba instanceof cb && Ba.setEntity(la);throw Ba;});}});},Ea);},error:na.error});},Ea);}});})();Tf=Bb.Class.create({addCryptoContext:function(ha,ba){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var ba,da,ia,fa;function ha(V,Z,sa,pa,va){switch(sa){case ba.JWE_RSA:case ba.JWEJS_RSA:return new Bc(V,Cc.RSA_OAEP,wc,pa,va);case ba.JWK_RSA:return new zd(V,Z,pa,va,Ad.WRAP_UNWRAP_OAEP);case ba.JWK_RSAES:return new zd(V,Z,pa,va,Ad.WRAP_UNWRAP_PKCS1);default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,sa);}}ba=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};da=Ud=kd.extend({init:function Ca(Z,sa,pa,va){Ca.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Z,writable:!1,configurable:!1},mechanism:{value:sa,writable:!1,configurable:!1},publicKey:{value:pa,writable:!1,configurable:!1},privateKey:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var Z;Z={};Z.keypairid=this.keyPairId;Z.mechanism=this.mechanism;Z.publickey=Db(this.publicKey.getEncoded());return Z;},equals:function pa(sa){var va;if(sa === this)return !0;if(!(sa instanceof Ud))return !1;va=this.privateKey === sa.privateKey || this.privateKey && sa.privateKey && Wb(this.privateKey.getEncoded(),sa.privateKey.getEncoded());return pa.base.call(this,sa) && this.keyPairId == sa.keyPairId && this.mechanism == sa.mechanism && Wb(this.publicKey.getEncoded(),sa.publicKey.getEncoded()) && va;},uniqueKey:function pa(){var va,Ca;va=this.publicKey.getEncoded();Ca=this.privateKey && this.privateKey.getEncoded();va=pa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(va);Ca && (va+=":" + gc(Ca));return va;}});ia=function(pa,va){Ma(va,function(){var Ca,wa,ra,X;Ca=pa.keypairid;wa=pa.mechanism;ra=pa.publickey;if(!Ca || "string" !== typeof Ca || !wa || !ra || "string" !== typeof ra)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(pa));if(!ba[wa])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,wa);try{X=Gb(ra);switch(wa){case ba.JWE_RSA:case ba.JWEJS_RSA:case ba.JWK_RSA:Zd(X,xd,Ic,{result:function(aa){va.result(new da(Ca,wa,aa,null));},error:function(aa){va.error(aa);}});break;case ba.JWK_RSAES:Zd(X,Xd,Ic,{result:function(aa){va.result(new da(Ca,wa,aa,null));},error:function(aa){va.error(aa);}});break;default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,wa);}}catch(aa){if(!(aa instanceof cb))throw new ub(W.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(pa),aa);throw aa;}});};fa=We=ld.extend({init:function X(va,Ca,wa,ra){X.base.call(this,va,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.keypairid=this.keyPairId;va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Ca){return this === Ca?!0:Ca instanceof We?wa.base.call(this,Ca) && this.keyPairId == Ca.keyPairId && Wb(this.encryptionKey,Ca.encryptionKey) && Wb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ce=pc.extend({init:function ra(){ra.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ra,X,aa){ia(X,aa);},createResponseData:function(ra,X,aa){var ea,na,Ia,Ea;ra=aa.keypairid;ea=aa.encryptionkey;na=aa.hmackey;if(!ra || "string" !== typeof ra || !ea || "string" !== typeof ea || !na || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ia=Gb(ea);}catch(Pa){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Pa);}try{Ea=Gb(na);}catch(Pa){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Pa);}return new fa(X,ra,Ia,Ea);},generateResponse:function(ra,X,aa,ea){var Ea;function na(Pa,Ta){Ma(ea,function(){var la;la=ha(ra,X.keyPairId,X.mechanism,null,X.publicKey);la.wrap(Pa,{result:function(xa){Ma(ea,function(){la.wrap(Ta,{result:function(za){Ia(Pa,xa,Ta,za);},error:function(za){Ma(ea,function(){za instanceof cb && aa instanceof ic && za.setEntity(aa);throw za;},Ea);}});},Ea);},error:function(xa){Ma(ea,function(){xa instanceof cb && aa instanceof ic && xa.setEntity(aa);throw xa;},Ea);}});},Ea);}function Ia(Pa,Ta,la,xa){Ma(ea,function(){var za;za=ra.getTokenFactory();aa instanceof ic?za.renewMasterToken(ra,aa,Pa,la,{result:function(Ja){Ma(ea,function(){var Ba,Oa;Ba=new jc(ra,Ja);Oa=new fa(Ja,X.keyPairId,Ta,xa);return new pc.KeyExchangeData(Oa,Ba,ea);},Ea);},error:function(Ja){Ma(ea,function(){Ja instanceof cb && Ja.setEntity(aa);throw Ja;},Ea);}}):za.createMasterToken(ra,aa,Pa,la,{result:function(Ja){Ma(ea,function(){var Ba,Oa;Ba=new jc(ra,Ja);Oa=new fa(Ja,X.keyPairId,Ta,xa);return new pc.KeyExchangeData(Oa,Ba,ea);},Ea);},error:ea.error});},Ea);}Ea=this;Ma(ea,function(){if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");this.generateSessionKeys(ra,{result:function(Pa){na(Pa.encryptionKey,Pa.hmacKey);},error:function(Pa){Ma(ea,function(){Pa instanceof cb && aa instanceof ic && Pa.setEntity(aa);throw Pa;},Ea);}});},Ea);},getCryptoContext:function(ra,X,aa,ea,na){var Ia;Ia=this;Ma(na,function(){var Ea,Pa,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(aa instanceof fa))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ea=X.keyPairId;Pa=aa.keyPairId;if(Ea != Pa)throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ea + "; response " + Pa).setEntity(ea);Pa=X.privateKey;if(!Pa)throw new Pb(W.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Ta=ha(ra,Ea,X.mechanism,Pa,null);Ta.unwrap(aa.encryptionKey,sc,Hc,{result:function(la){Ta.unwrap(aa.hmacKey,tc,Pc,{result:function(xa){ra.getEntityAuthenticationData(null,{result:function(za){Ma(na,function(){var Ja;Ja=za.getIdentity();return new jc(ra,aa.masterToken,Ja,la,xa);},Ia);},error:function(za){Ma(na,function(){za instanceof cb && za.setEntity(ea);throw za;},Ia);}});},error:function(xa){Ma(na,function(){xa instanceof cb && xa.setEntity(ea);throw xa;},Ia);}});},error:function(la){Ma(na,function(){la instanceof cb && la.setEntity(ea);throw la;},Ia);}});},Ia);}});})();Sf=Bb.Class.create({init:function(ha){var ba,da,ia,fa,V,Z,sa,pa;ba=Zb.parser();da=[];ia=[];sa=0;pa=!1;ba.onerror=function(va){pa || (pa=!0,ba.end());};ba.onopenobject=function(va){var Ca;if(fa)(fa[Z]={},ia.push(fa),fa=fa[Z]);else if(V){Ca={};ia.push(V);V.push(Ca);fa=Ca;V=Ab;}else fa={};Z=va;};ba.oncloseobject=function(){var va;va=ia.pop();va?"object" === typeof va?fa=va:(fa=Ab,V=va):(da.push(fa),sa=ba.index,fa=Ab);};ba.onopenarray=function(){var va;if(fa)(fa[Z]=[],ia.push(fa),V=fa[Z],fa=Ab);else if(V){va=[];ia.push(V);V.push(va);V=va;}else V=[];};ba.onclosearray=function(){var va;va=ia.pop();va?"object" === typeof va?(fa=va,V=Ab):V=va:(da.push(V),sa=ba.index,V=Ab);};ba.onkey=function(va){Z=va;};ba.onvalue=function(va){fa?fa[Z]=va:V?V.push(va):(da.push(va),sa=ba.index);};ba.write(ha).close();Object.defineProperties(this,{_values:{value:da,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:sa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,ba,da,ia,fa;ha=je="entityauthdata";ba=Ye="mastertoken";da=Ze="headerdata";ia=$e="errordata";fa=ke="signature";Xe=function(V,Z,sa,pa){Ma(pa,function(){var va,Ca,wa,ra,X,aa;va=Z[ha];Ca=Z[ba];wa=Z[fa];if(va && "object" !== typeof va || Ca && "object" !== typeof Ca || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));try{ra=Gb(wa);}catch(ea){throw new Ib(W.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Z),ea);}X=null;va && (X=Le(V,va));aa=Z[da];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));Ca?Qc(V,Ca,{result:function(ea){le(V,aa,X,ea,ra,sa,pa);},error:function(ea){pa.error(ea);}}):le(V,aa,X,null,ra,sa,pa);}else if((va=Z[ia],va != Ab && null != va)){if("string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));af(V,va,X,ra,pa);}else throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(Z));});};})();(function(){function ha(ba,da){this.errordata=ba;this.signature=da;}Kc=Bb.Class.create({init:function(ba,da,ia,fa,V,Z,sa,pa,va,Ca){var wa;wa=this;Ma(Ca,function(){var ra,X;0 > Z && (Z=-1);if(0 > fa || fa > Mb)throw new vb("Message ID " + fa + " is out of range.");if(!da)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);if(va)return (Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:Z,writable:!1,configurable:!1},errorMessage:{value:sa,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:va.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ra={};ia && (ra.recipient=ia);ra.messageid=fa;ra.errorcode=V;0 < Z && (ra.internalcode=Z);sa && (ra.errormsg=sa);pa && (ra.usermsg=pa);try{X=ba.getEntityAuthenticationFactory(da.scheme).getCryptoContext(ba,da);}catch(aa){throw (aa instanceof cb && (aa.setEntity(da),aa.setMessageId(fa)),aa);}ra=Rb(JSON.stringify(ra),Lb);X.encrypt(ra,{result:function(aa){Ma(Ca,function(){X.sign(aa,{result:function(ea){Ma(Ca,function(){Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:Z,writable:!1,configurable:!1},errorMessage:{value:sa,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},wa);},error:function(ea){Ma(Ca,function(){ea instanceof cb && (ea.setEntity(da),ea.setMessageId(fa));throw ea;},wa);}});},wa);},error:function(aa){Ma(Ca,function(){aa instanceof cb && (aa.setEntity(da),aa.setMessageId(fa));throw aa;},wa);}});},wa);},toJSON:function(){var ba;ba={};ba[je]=this.entityAuthenticationData;ba[$e]=Db(this.errordata);ba[ke]=Db(this.signature);return ba;}});bf=function(ba,da,ia,fa,V,Z,sa,pa,va){new Kc(ba,da,ia,fa,V,Z,sa,pa,null,va);};af=function(ba,da,ia,fa,V){Ma(V,function(){var Z,sa,pa;if(!ia)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);try{Z=ia.scheme;sa=ba.getEntityAuthenticationFactory(Z);if(!sa)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Z);pa=sa.getCryptoContext(ba,ia);}catch(va){throw (va instanceof cb && va.setEntity(ia),va);}try{da=Gb(da);}catch(va){throw new Ib(W.HEADER_DATA_INVALID,da,va).setEntity(ia);}if(!da || 0 == da.length)throw new Ib(W.HEADER_DATA_MISSING,da).setEntity(ia);pa.verify(da,fa,{result:function(va){Ma(V,function(){if(!va)throw new ub(W.MESSAGE_VERIFICATION_FAILED).setEntity(ia);pa.decrypt(da,{result:function(Ca){Ma(V,function(){var wa,ra,X,aa,ea,na,Ia,Ea;wa=Tb(Ca,Lb);try{ra=JSON.parse(wa);}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa,Ta).setEntity(ia);throw Ta;}X=ra.recipient !== Ab?ra.recipient:null;aa=parseInt(ra.messageid);ea=parseInt(ra.errorcode);na=parseInt(ra.internalcode);Ia=ra.errormsg;Ea=ra.usermsg;if(X && "string" !== typeof X || !aa || aa != aa || !ea || ea != ea || ra.internalcode && na != na || Ia && "string" !== typeof Ia || Ea && "string" !== typeof Ea)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa).setEntity(ia);if(0 > aa || aa > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"errordata " + wa).setEntity(ia);ra=!1;for(var Pa in La){if(La[Pa] == ea){ra=!0;break;}}ra || (ea=La.FAIL);if(na){if(0 > na)throw new Ib(W.INTERNAL_CODE_NEGATIVE,"errordata " + wa).setEntity(ia).setMessageId(aa);}else na=-1;wa=new ha(da,fa);new Kc(ba,ia,X,aa,ea,na,Ia,Ea,wa,V);});},error:function(Ca){Ma(V,function(){Ca instanceof cb && Ca.setEntity(ia);throw Ca;});}});});},error:function(va){Ma(V,function(){va instanceof cb && va.setEntity(ia);throw va;});}});});};})();Uf=Bb.Class.create({getUserMessage:function(ha,ba){}});(function(){me=function(ha,ba){var da;if(!ha || !ba)return null;da=ha.compressionAlgorithms.filter(function(ia){for(var fa=0;fa < ba.compressionAlgorithms.length;++fa){if(ia == ba.compressionAlgorithms[fa])return !0;}return !1;});ha=ha.languages.filter(function(ia){for(var fa=0;fa < ba.languages.length;++fa){if(ia == ba.languages[fa])return !0;}return !1;});return new md(da,ha);};md=Bb.Class.create({init:function(ha,ba){ha || (ha=[]);ba || (ba=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:ba,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof md?ve(this.compressionAlgorithms,ha.compressionAlgorithms) && ve(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});cf=function(ha){var ba,da,fa;ba=ha.compressionalgos;da=ha.languages;if(ba && !(ba instanceof Array) || da && !(da instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var ia=0;ba && ia < ba.length;++ia){fa=ba[ia];Mc[fa] && ha.push(fa);}return new md(ha,da);};})();(function(){var Ca,wa;function ha(ra,X,aa,ea,na){this.customer=ra;this.sender=X;this.messageCryptoContext=aa;this.headerdata=ea;this.signature=na;}function ba(ra,X,aa,ea,na,Ia,Ea,Pa,Ta,la,xa,za,Ja,Ba,Oa,Fa,Va,Za,Wa,jb){return {cryptoContext:{value:X,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:na,writable:!1,configurable:!1},sender:{value:Ia,writable:!1,configurable:!1},messageId:{value:Ea,writable:!1,configurable:!1},nonReplayableId:{value:Fa,writable:!1,configurable:!1},keyRequestData:{value:Pa,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:la,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:za,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ba,writable:!1,configurable:!1},peerServiceTokens:{value:Oa,writable:!1,configurable:!1},messageCapabilities:{value:Za,writable:!1,configurable:!1},renewable:{value:Va,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function da(ra,X,aa){var ea;if(aa){if(X=ra.getMslStore().getCryptoContext(aa))return X;if(!aa.isVerified() || !aa.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,aa);return new jc(ra,aa);}aa=X.scheme;ea=ra.getEntityAuthenticationFactory(aa);if(!ea)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ea.getCryptoContext(ra,X);}function ia(ra,X,aa,ea,na){Ma(na,function(){X.verify(aa,ea,{result:function(Ia){Ma(na,function(){if(!Ia)throw new ub(W.MESSAGE_VERIFICATION_FAILED);X.decrypt(aa,{result:function(Ea){Ma(na,function(){return Tb(Ea,Lb);});},error:function(Ea){na.error(Ea);}});});},error:function(Ia){na.error(Ia);}});});}function fa(ra,X,aa){Ma(aa,function(){if(X)Se(ra,X,aa);else return null;});}function V(ra,X,aa,ea){Ma(ea,function(){if(X)Rc(ra,X,aa,ea);else return null;});}function Z(ra,X,aa,ea){Ma(ea,function(){if(aa)gf(ra,X,aa,ea);else return null;});}function sa(ra,X,aa,ea,na,Ia,Ea){var Ta;function Pa(la,xa,za){var Ja,Ba;if(xa >= la.length){Ja=[];for(Ba in Ta){Ja.push(Ta[Ba]);}za.result(Ja);}else {Ja=la[xa];if("object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Hd(ra,Ja,aa,ea,na,{result:function(Oa){Ma(za,function(){Ta[Oa.uniqueKey()]=Oa;Pa(la,xa + 1,za);});},error:function(Oa){za.error(Oa);}});}}Ta={};Ma(Ea,function(){if(X){if(!(X instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Pa(X,0,Ea);}else return [];});}function pa(ra,X,aa,ea,na,Ia){function Ea(Ta,la,xa){Ma(xa,function(){var za;za=la.peermastertoken;if(za && "object" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!za)return null;Qc(Ta,za,xa);});}function Pa(Ta,la,xa,za){Ma(za,function(){var Ja;Ja=la.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Ja)return null;Rc(Ta,Ja,xa,za);});}Ma(Ia,function(){if(!ra.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ea(ra,X,{result:function(Ta){Ma(Ia,function(){var la;la=aa?aa.masterToken:Ta;Pa(ra,X,la,{result:function(xa){Ma(Ia,function(){sa(ra,X.peerservicetokens,la,xa,ea,na,{result:function(za){Ma(Ia,function(){return {peerMasterToken:Ta,peerUserIdToken:xa,peerServiceTokens:za};});},error:function(za){Ma(Ia,function(){za instanceof cb && (za.setEntity(la),za.setUser(xa));throw za;});}});});},error:function(xa){Ma(Ia,function(){xa instanceof cb && xa.setEntity(la);throw xa;});}});});},error:Ia.error});});}function va(ra,X,aa,ea){var Ia;function na(Ea,Pa){Ma(ea,function(){if(Pa >= Ea.length)return Ia;Re(ra,Ea[Pa],{result:function(Ta){Ma(ea,function(){Ia.push(Ta);na(Ea,Pa + 1);});},error:function(Ta){ea.error(Ta);}});});}Ia=[];Ma(ea,function(){var Ea;Ea=X.keyrequestdata;if(!Ea)return Ia;if(!(Ea instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + aa);na(Ea,0);});}Ca=ef=Bb.Class.create({init:function(ra,X,aa,ea,na,Ia,Ea,Pa,Ta){Object.defineProperties(this,{messageId:{value:ra,writable:!1,configurable:!1},nonReplayableId:{value:X,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:na,writable:!1,configurable:!1},keyResponseData:{value:Ia,writable:!1,configurable:!1},userAuthData:{value:Ea,writable:!1,configurable:!1},userIdToken:{value:Pa,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});wa=ff=Bb.Class.create({init:function(ra,X,aa){Object.defineProperties(this,{peerMasterToken:{value:ra,writable:!1,configurable:!1},peerUserIdToken:{value:X,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});nd=Bb.Class.create({init:function(ra,X,aa,ea,na,Ia,Ea){var Ta;function Pa(la){Ma(Ea,function(){var xa,za,Ja,Ba,Oa,Fa,Va,Za,Wa,jb,mb,ob,rb,sb,zb,xb,r;X=aa?null:X;xa=ea.nonReplayableId;za=ea.renewable;Ja=ea.capabilities;Ba=ea.messageId;Oa=ea.keyRequestData?ea.keyRequestData:[];Fa=ea.keyResponseData;Va=ea.userAuthData;Za=ea.userIdToken;Wa=ea.serviceTokens?ea.serviceTokens:[];if(ra.isPeerToPeer()){jb=na.peerMasterToken;mb=na.peerUserIdToken;ob=na.peerServiceTokens?na.peerServiceTokens:[];}else (mb=jb=null,ob=[]);if(0 > Ba || Ba > Mb)throw new vb("Message ID " + Ba + " is out of range.");if(!X && !aa)throw new vb("Message entity authentication data or master token must be provided.");if(Fa){if(ra.isPeerToPeer()){rb=aa;sb=Fa.masterToken;}else (rb=Fa.masterToken,sb=jb);}else (rb=aa,sb=jb);if(Za && (!rb || !Za.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Wa.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Za || !b.isBoundTo(Za)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ia){r=Ia.customer;zb=Ia.messageCryptoContext;xb=ba(ra,zb,r,X,aa,la,Ba,Oa,Fa,Va,Za,Wa,jb,mb,ob,xa,za,Ja,Ia.headerdata,Ia.signature);Object.defineProperties(this,xb);return this;}r=Za?Za.customer:null;xb={};la && (xb.sender=la);xb.messageid=Ba;"number" === typeof xa && (xb.nonreplayableid=xa);xb.renewable=za;Ja && (xb.capabilities=Ja);0 < Oa.length && (xb.keyrequestdata=Oa);Fa && (xb.keyresponsedata=Fa);Va && (xb.userauthdata=Va);Za && (xb.useridtoken=Za);0 < Wa.length && (xb.servicetokens=Wa);jb && (xb.peermastertoken=jb);mb && (xb.peeruseridtoken=mb);0 < ob.length && (xb.peerservicetokens=ob);try{zb=da(ra,X,aa);}catch(b){throw (b instanceof cb && (b.setEntity(aa),b.setEntity(X),b.setUser(Za),b.setUser(Va),b.setMessageId(Ba)),b);}xb=Rb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ma(Ea,function(){zb.sign(b,{result:function(a){Ma(Ea,function(){var c;c=ba(ra,zb,r,X,aa,la,Ba,Oa,Fa,Va,Za,Wa,jb,mb,ob,xa,za,Ja,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Ma(Ea,function(){a instanceof cb && (a.setEntity(aa),a.setEntity(X),a.setUser(Za),a.setUser(Va),a.setMessageId(Ba));throw a;},Ta);}});},Ta);},error:function(b){Ma(Ea,function(){b instanceof cb && (b.setEntity(aa),b.setEntity(X),b.setUser(Za),b.setUser(Va),b.setMessageId(Ba));throw b;},Ta);}});},Ta);}Ta=this;Ma(Ea,function(){Ia?Pa(Ia.sender):aa?ra.getEntityAuthenticationData(null,{result:function(la){la=la.getIdentity();Pa(la);},error:Ea.error}):Pa(null);},Ta);},isEncrypting:function(){return this.masterToken || Rd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ra;ra={};this.masterToken?ra[Ye]=this.masterToken:ra[je]=this.entityAuthenticationData;ra[Ze]=Db(this.headerdata);ra[ke]=Db(this.signature);return ra;}});df=function(ra,X,aa,ea,na,Ia){new nd(ra,X,aa,ea,na,null,Ia);};le=function(ra,X,aa,ea,na,Ia,Ea){Ma(Ea,function(){var Pa,Ta;aa=ea?null:aa;if(!aa && !ea)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);Pa=X;try{X=Gb(Pa);}catch(la){throw new Ib(W.HEADER_DATA_INVALID,Pa,la);}if(!X || 0 == X.length)throw new Ib(W.HEADER_DATA_MISSING,Pa);try{Ta=da(ra,aa,ea);}catch(la){throw (la instanceof cb && (la.setEntity(ea),la.setEntity(aa)),la);}ia(ra,Ta,X,na,{result:function(la){Ma(Ea,function(){var xa,za,Ja,Ba,Oa;try{xa=JSON.parse(la);}catch(Fa){if(Fa instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la,Fa).setEntity(ea).setEntity(aa);throw Fa;}za=parseInt(xa.messageid);if(!za || za != za)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(aa);if(0 > za || za > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + la).setEntity(ea).setEntity(aa);Ja=ea?xa.sender:null;if(ea && (!Ja || "string" !== typeof Ja))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(aa).setMessageId(za);Ba=xa.keyresponsedata;if(Ba && "object" !== typeof Ba)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(aa).setMessageId(za);Oa=Ea;Ea={result:function(Fa){Oa.result(Fa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(ea),Fa.setEntity(aa),Fa.setMessageId(za));Oa.error(Fa);}};fa(ra,Ba,{result:function(Fa){Ma(Ea,function(){var Va,Za;Va=!ra.isPeerToPeer() && Fa?Fa.masterToken:ea;Za=xa.useridtoken;if(Za && "object" !== typeof Za)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la);V(ra,Za,Va,{result:function(Wa){Ma(Ea,function(){var jb;jb=xa.userauthdata;if(jb && "object" !== typeof jb)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la);Z(ra,Va,jb,{result:function(mb){Ma(Ea,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=ra.getUserAuthenticationFactory(ob);if(!rb)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Wa).setUser(mb);ob=ea?ea.identity:aa.getIdentity();sb=rb.authenticate(ra,ob,mb,Wa);}else sb=Wa?Wa.customer:null;sa(ra,xa.servicetokens,Va,Wa,Ia,la,{result:function(zb){Ma(Ea,function(){var xb,r,b,a;xb=xa.nonreplayableid !== Ab?parseInt(xa.nonreplayableid):null;r=xa.renewable;if(xb != xb || "boolean" !== typeof r)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la);if(0 > xb || xb > Mb)throw new Ib(W.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + la);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + la);b=cf(a);}va(ra,xa,la,{result:function(c){pa(ra,xa,Fa,Ia,la,{result:function(f){Ma(Ea,function(){var l,m,d,g;l=f.peerMasterToken;m=f.peerUserIdToken;d=f.peerServiceTokens;g=new Ca(za,xb,r,b,c,Fa,mb,Wa,zb);l=new wa(l,m,d);m=new ha(sb,Ja,Ta,X,na);new nd(ra,aa,ea,g,l,m,Ea);});},error:Ea.error});},error:function(c){Ma(Ea,function(){c instanceof cb && (c.setUser(Wa),c.setUser(mb));throw c;});}});});},error:function(zb){Ma(Ea,function(){zb instanceof cb && (zb.setEntity(Va),zb.setUser(Wa),zb.setUser(mb));throw zb;});}});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});};})();(function(){function ha(ba,da){this.payload=ba;this.signature=da;}ne=Bb.Class.create({init:function(ba,da,ia,fa,V,Z,sa,pa){var va;va=this;Ma(pa,function(){var Ca,wa;if(0 > ba || ba > Mb)throw new vb("Sequence number " + ba + " is outside the valid range.");if(0 > da || da > Mb)throw new vb("Message ID " + da + " is outside the valid range.");if(sa)return (Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:sa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(fa){Ca=oe(fa,V);Ca || (fa=null,Ca=V);}else (fa=null,Ca=V);wa={};wa.sequencenumber=ba;wa.messageid=da;ia && (wa.endofmsg=ia);fa && (wa.compressionalgo=fa);wa.data=Db(Ca);Ca=Rb(JSON.stringify(wa),Lb);Z.encrypt(Ca,{result:function(ra){Ma(pa,function(){Z.sign(ra,{result:function(X){Ma(pa,function(){Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:X,writable:!1,enumerable:!1,configurable:!1}});return this;},va);},error:function(X){pa.error(X);}});},va);},error:function(ra){pa.error(ra);}});},va);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ba;ba={};ba.payload=Db(this.payload);ba.signature=Db(this.signature);return ba;}});hf=function(ba,da,ia,fa,V,Z,sa){new ne(ba,da,ia,fa,V,Z,null,sa);};jf=function(ba,da,ia){Ma(ia,function(){var fa,V,Z,sa;fa=ba.payload;V=ba.signature;if(!fa || "string" !== typeof fa || "string" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ba));try{Z=Gb(fa);}catch(pa){throw new Ib(W.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ba),pa);}try{sa=Gb(V);}catch(pa){throw new Ib(W.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ba),pa);}da.verify(Z,sa,{result:function(pa){Ma(ia,function(){if(!pa)throw new ub(W.PAYLOAD_VERIFICATION_FAILED);da.decrypt(Z,{result:function(va){Ma(ia,function(){var Ca,wa,ra,X,aa,ea,na;Ca=Tb(va,Lb);try{wa=JSON.parse(Ca);}catch(Ia){if(Ia instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Ca,Ia);throw Ia;}ra=parseInt(wa.sequencenumber);X=parseInt(wa.messageid);aa=wa.endofmsg;ea=wa.compressionalgo;wa=wa.data;if(!ra || ra != ra || !X || X != X || aa && "boolean" !== typeof aa || ea && "string" !== typeof ea || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Ca);if(0 > ra || ra > Mb)throw new cb(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ca);if(0 > X || X > Mb)throw new cb(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ca);aa || (aa=!1);if(ea && !Mc[ea])throw new Ib(W.UNIDENTIFIED_COMPRESSION,ea);try{na=Gb(wa);}catch(Ia){throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa,Ia);}if(na && 0 != na.length)Ca=ea?Id(ea,na):na;else {if(0 < wa.length)throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa);if(aa)Ca=new Uint8Array(0);else throw new Ib(W.PAYLOAD_DATA_MISSING,wa);}na=new ha(Z,sa);new ne(ra,X,aa,ea,Ca,da,na,ia);});},error:function(va){ia.error(va);}});});},error:function(pa){ia.error(pa);}});});};})();(function(){var ia,fa;function ha(V,Z,sa,pa,va){var wa,ra,X,aa,ea;function Ca(){Ma(va,function(){var na,Ia;ra >= Z.length && (ra=0,++wa);if(wa >= X.length){if(aa)throw aa;throw new Pb(W.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Z));}na=X[wa];Ia=Z[ra];na.scheme != Ia.keyExchangeScheme?(++ra,Ca()):na.generateResponse(V,Ia,ea,{result:function(Ea){va.result(Ea);},error:function(Ea){Ma(va,function(){if(!(Ea instanceof cb))throw Ea;aa=Ea;++ra;Ca();});}});});}wa=0;ra=0;X=V.getKeyExchangeFactories();ea=sa?sa:pa;Ca();}function ba(V,Z,sa,pa,va){Ma(va,function(){var Ca;Ca=Z.keyRequestData;if(Z.isRenewable() && 0 < Ca.length)pa?pa.isRenewable() || pa.isExpired()?ha(V,Ca,pa,null,va):V.getTokenFactory().isNewestMasterToken(V,pa,{result:function(wa){Ma(va,function(){if(wa)return null;ha(V,Ca,pa,null,va);});},error:va.error}):ha(V,Ca,null,sa.getIdentity(),va);else return null;});}function da(V,Z,sa,pa){Ma(pa,function(){var va,Ca,wa,ra;va=Z.userIdToken;Ca=Z.userAuthenticationData;wa=Z.messageId;if(va && va.isVerified()){if(va.isRenewable() && Z.isRenewable() || va.isExpired() || !va.isBoundTo(sa)){Ca=V.getTokenFactory();Ca.renewUserIdToken(V,va,sa,pa);return;}}else if(Z.isRenewable() && sa && Ca){va=Z.customer;if(!va){va=Ca.scheme;ra=V.getUserAuthenticationFactory(va);if(!ra)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,va).setEntity(sa).setUser(Ca).setMessageId(wa);va=ra.authenticate(V,sa.identity,Ca,null);}Ca=V.getTokenFactory();Ca.createUserIdToken(V,va,sa,pa);return;}return va;});}ia=new Uint8Array(0);fa=Sc=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return V == Mb?0:V + 1;};dd=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return 0 == V?Mb:V - 1;};Tc=function(V,Z,sa,pa,va){Ma(va,function(){var Ca;if(pa == Ab || null == pa){Ca=V.getRandom();do {pa=Ca.nextLong();}while(0 > pa || pa > Mb);}else if(0 > pa || pa > Mb)throw new vb("Message ID " + pa + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(wa){Ma(va,function(){var ra;ra=V.getMessageCapabilities();return new Jd(V,pa,ra,wa,Z,sa,null,null,null,null,null);});},error:function(wa){va.error(wa);}});});};kf=function(V,Z,sa){Ma(sa,function(){var va,Ca,wa,ra,X,aa;function pa(ea){Ma(sa,function(){ea instanceof cb && (ea.setEntity(va),ea.setEntity(Ca),ea.setUser(wa),ea.setUser(ra),ea.setMessageId(X));throw ea;});}va=Z.masterToken;Ca=Z.entityAuthenticationData;wa=Z.userIdToken;ra=Z.userAuthenticationData;X=Z.messageId;aa=fa(X);ba(V,Z,Ca,va,{result:function(ea){Ma(sa,function(){var na;na=ea?ea.keyResponseData.masterToken:na=va;V.getEntityAuthenticationData(null,{result:function(Ia){Ma(sa,function(){da(V,Z,na,{result:function(Ea){Ma(sa,function(){var Pa,Ta,la;wa=Ea;Pa=me(Z.messageCapabilities,V.getMessageCapabilities());Ta=Z.keyResponseData;la=Z.serviceTokens;return V.isPeerToPeer()?new Jd(V,aa,Pa,Ia,Ta?Ta.masterToken:Z.peerMasterToken,Z.peerUserIdToken,Z.peerServiceTokens,va,wa,la,ea):new Jd(V,aa,Pa,Ia,Ta?Ta.masterToken:va,wa,la,null,null,null,ea);});},error:pa});});},error:pa});});},error:pa});});};lf=function(V,Z,sa,pa,va){Ma(va,function(){V.getEntityAuthenticationData(null,{result:function(Ca){Ma(va,function(){var wa,ra;if(Z != Ab && null != Z)wa=fa(Z);else {ra=V.getRandom();do {wa=ra.nextInt();}while(0 > wa || wa > Mb);}bf(V,Ca,wa,sa.responseCode,sa.internalCode,sa.message,pa,va);});},error:function(Ca){va.error(Ca);}});});};Jd=Bb.Class.create({init:function(V,Z,sa,pa,va,Ca,wa,ra,X,aa,ea){var na,Ia,Ea,Pa,Ta;if(!V.isPeerToPeer() && (ra || X))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");na=ea && !V.isPeerToPeer()?ea.keyResponseData.masterToken:va;Ia=[];na=V.getMslStore().getServiceTokens(na,Ca);Ia.push.apply(Ia,na);wa && wa.forEach(function(la){Ia.push(la);},this);Ea=[];if(V.isPeerToPeer()){Pa=ra;Ta=X;wa=ea?ea.keyResponseData.masterToken:ra;X=V.getMslStore().getServiceTokens(wa,X);Ea.push.apply(Ea,X);aa && aa.forEach(function(la){Ea.push(la);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:pa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:va,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Z,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Rd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || we(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || we(this._entityAuthData.scheme);},getHeader:function(V){Ma(V,function(){var Z,sa,pa;Z=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;sa=[];for(pa in this._keyRequestData){sa.push(this._keyRequestData[pa]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);pa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else pa=null;Z=new ef(this._messageId,pa,this._renewable,this._capabilities,sa,Z,this._userAuthData,this._userIdToken,this._serviceTokens);sa=new ff(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);df(this._ctx,this._entityAuthData,this._masterToken,Z,sa,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,Z){var sa,va;if(Z && !Z.isBoundTo(V))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{sa=this._ctx.getMslStore().getServiceTokens(V,Z);}catch(Ca){if(Ca instanceof cb)throw new vb("Invalid master token and user ID token combination despite checking above.",Ca);throw Ca;}for(var pa=this._serviceTokens.length - 1;0 <= pa;--pa){va=this._serviceTokens[pa];(va.isUserIdTokenBound() && !va.isBoundTo(Z) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._serviceTokens.splice(pa,1);}sa.forEach(function(Ca){this.excludeServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._serviceTokens.push(Ca);},this);this._masterToken=V;this._userIdToken=Z;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,Z){var sa;sa=this;Ma(Z,function(){var pa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");pa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!pa)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,pa,{result:function(va){Ma(Z,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=va:(this._userIdToken=va,this._userAuthData=null);return !0;},sa);},error:function(va){Z.error(va);}});},sa);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var Z;Z=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(Z))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(Z)).setEntity(Z);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Z).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var sa;for(var Z=this._serviceTokens.length - 1;0 <= Z;--Z){sa=this._serviceTokens[Z];if(sa.name == V.name && sa.isMasterTokenBound() == V.isMasterTokenBound() && sa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,Z,sa,va;if(1 == arguments.length){V=arguments[0];Z=V.name;sa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],sa=arguments[1],V=arguments[2]);for(var pa=this._serviceTokens.length - 1;0 <= pa;--pa){va=this._serviceTokens[pa];va.name == Z && va.isMasterTokenBound() == sa && va.isUserIdTokenBound() == V && this._serviceTokens.splice(pa,1);}return this;},deleteServiceToken:function(){var V,Z,sa,pa;if(2 == arguments.length){V=arguments[0];Z=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();sa=arguments[1];}else (arguments.length=4,Z=arguments[0],sa=arguments[3]);pa=this;Ma(sa,function(){var va,Ca;va=originalToken.isMasterTokenBound()?this._masterToken:null;Ca=originalToken.isUserIdTokenBound()?this._userIdToken:null;Dc(this._ctx,Z,ia,va,Ca,!1,null,new cd(),{result:function(wa){Ma(sa,function(){return this.addServiceToken(wa);},pa);},error:function(wa){wa instanceof cb && (wa=new vb("Failed to create and add empty service token to message.",wa));sa.error(wa);}});},pa);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,Z){var sa,va;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Z && !V)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Z && !Z.isBoundTo(V))throw new Ib(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Z + "; mt " + V).setEntity(V).setUser(Z);try{sa=this._ctx.getMslStore().getServiceTokens(V,Z);}catch(Ca){if(Ca instanceof cb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ca);throw Ca;}for(var pa=this._peerServiceTokens.length - 1;0 <= pa;--pa){va=this._peerServiceTokens[pa];(va.isUserIdTokenBound() && !va.isBoundTo(Z) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._peerServiceTokens.slice(pa,1);}sa.forEach(function(Ca){this.excludePeerServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._peerServiceTokens.push(Ca);},this);this._peerUserIdToken=Z;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var sa;for(var Z=this._peerServiceTokens.length - 1;0 <= Z;--Z){sa=this._peerServiceTokens[Z];if(sa.name == V.name && sa.isMasterTokenBound() == V.isMasterTokenBound() && sa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,Z,sa,va;if(1 == arguments.length){V=arguments[0];Z=V.name;sa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],sa=arguments[1],V=arguments[2]);for(var pa=this._peerServiceTokens.length - 1;0 <= pa;--pa){va=this._peerServiceTokens[pa];va.name == Z && va.isMasterTokenBound() == sa && va.isUserIdTokenBound() == V && this._peerServiceTokens.splice(pa,1);}return this;},deletePeerServiceToken:function(){var V,Z,sa,pa,va,Ca;if(2 == arguments.length){V=arguments[0];Z=V.name;sa=V.isMasterTokenBound();pa=V.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,Z=arguments[0],sa=arguments[1],pa=arguments[2],va=arguments[3]);Ca=this;Ma(va,function(){Dc(this._ctx,Z,ia,sa?this._peerMasterToken:null,pa?this._peerUserIdToken:null,!1,null,new cd(),{result:function(wa){Ma(va,function(){return this.addPeerServiceToken(wa);},Ca);},error:function(wa){wa instanceof cb && (wa=new vb("Failed to create and add empty peer service token to message.",wa));va.error(wa);}});},Ca);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ha(da,ia){return ia[da]?ia[da]:ia[""];}function ba(da){var ia;ia=da.builder.getKeyExchangeData();return ia && !da.ctx.isPeerToPeer()?ia.keyResponseData.masterToken:da.builder.getMasterToken();}mf=Bb.Class.create({init:function(da,ia,fa){da={ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ia.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},isPrimaryMasterTokenAvailable:function(){return ba(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(da){try{return (this.builder.addServiceToken(da),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addPeerServiceToken:function(da){try{return (this.builder.addPeerServiceToken(da),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addUnboundPrimaryServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa;pa=ha(da,this.cryptoContexts);if(!pa)return !1;Dc(this.ctx,da,ia,null,null,fa,V,pa,{result:function(va){Ma(Z,function(){try{this.builder.addServiceToken(va);}catch(Ca){if(Ca instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},sa);},error:function(va){Z.error(va);}});},sa);},addUnboundPeerServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa;pa=ha(da,this.cryptoContexts);if(!pa)return !1;Dc(this.ctx,da,ia,null,null,fa,V,pa,{result:function(va){Ma(Z,function(){try{this.builder.addPeerServiceToken(va);}catch(Ca){if(Ca instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},sa);},error:function(va){Z.error(va);}});},sa);},addMasterBoundPrimaryServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa,va;pa=ba(this);if(!pa)return !1;va=ha(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ia,pa,null,fa,V,va,{result:function(Ca){Ma(Z,function(){try{this.builder.addServiceToken(Ca);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},sa);},error:function(Ca){Z.error(Ca);}});},sa);},addMasterBoundPeerServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa,va;pa=this.builder.getPeerMasterToken();if(!pa)return !1;va=ha(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ia,pa,null,fa,V,va,{result:function(Ca){Ma(Z,function(){try{this.builder.addPeerServiceToken(Ca);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},sa);},error:function(Ca){Z.error(Ca);}});},sa);},addUserBoundPrimaryServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa,va,Ca;pa=ba(this);if(!pa)return !1;va=this.builder.getUserIdToken();if(!va)return !1;Ca=ha(da,this.cryptoContexts);if(!Ca)return !1;Dc(this.ctx,da,ia,pa,va,fa,V,Ca,{result:function(wa){Ma(Z,function(){try{this.builder.addServiceToken(wa);}catch(ra){if(ra instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},sa);},error:function(wa){Z.error(wa);}});},sa);},addUserBoundPeerServiceToken:function(da,ia,fa,V,Z){var sa;sa=this;Ma(Z,function(){var pa,va,Ca;pa=this.builder.getPeerMasterToken();if(!pa)return !1;va=this.builder.getPeerUserIdToken();if(!va)return !1;Ca=ha(da,this.cryptoContexts);if(!Ca)return !1;Dc(this.ctx,da,ia,pa,va,fa,V,Ca,{result:function(wa){Ma(Z,function(){try{this.builder.addPeerServiceToken(wa);}catch(ra){if(ra instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},sa);},error:function(wa){Z.error(wa);}});},sa);},excludePrimaryServiceToken:function(){var da,ia,fa,V;if(1 == arguments.length){da=arguments[0];ia=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],V=arguments[2]);for(var Z=this.builder.getServiceTokens(),sa=0;sa < Z.length;++sa){if((da=Z[sa],da.name == ia && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(ia,fa,V),!0);}return !1;},excludePeerServiceToken:function(){var da,ia,fa,V;if(1 == arguments.length){da=arguments[0];ia=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],V=arguments[2]);for(var Z=this.builder.getPeerServiceTokens(),sa=0;sa < Z.length;++sa){if((da=Z[sa],da.name == ia && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(ia,fa,V),!0);}return !1;},deletePrimaryServiceToken:function(){var da,ia,fa,V,Z;if(2 == arguments.length){da=arguments[0];ia=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();Z=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],V=arguments[2],Z=arguments[3]);Ma(Z,function(){var va;for(var sa=this.builder.getServiceTokens(),pa=0;pa < sa.length;++pa){va=sa[pa];if(va.name == ia && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deleteServiceToken(ia,fa,V,{result:function(){Z.result(!0);},error:function(Ca){Z.error(Ca);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var da,ia,fa,V,Z;if(2 == arguments.length){da=arguments[0];ia=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();Z=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],V=arguments[2],Z=arguments[3]);Ma(Z,function(){var va;for(var sa=this.builder.getPeerServiceTokens(),pa=0;pa < sa.length;++pa){va=sa[pa];if(va.name == ia && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(ia,fa,V,{result:function(){Z.result(!0);},error:function(Ca){Z.error(Ca);}});return;}}return !1;},this);}});})();(function(){function ha(ba,da,ia,fa){Ma(fa,function(){var Z,sa,pa,va,Ca,wa;function V(){Ma(fa,function(){var ra;if(wa >= ia.length){if(Ca)throw Ca;throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ia));}ra=ia[wa];pa != ra.keyExchangeScheme?(++wa,V()):va.getCryptoContext(ba,ra,sa,Z,{result:fa.result,error:function(X){Ma(fa,function(){if(!(X instanceof cb))throw X;Ca=X;++wa;V();});}});});}Z=da.masterToken;sa=da.keyResponseData;if(!sa)return null;pa=sa.keyExchangeScheme;va=ba.getKeyExchangeFactory(pa);if(!va)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,pa);wa=0;V();});}nf=ge.extend({init:function(ba,da,ia,fa,V,Z,sa){var pa;pa=this;db(sa,function(){var aa;function va(){pa._ready=!0;pa._readyQueue.add(!0);}function Ca(ea,na){var Ia;try{Ia=na.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ia,{result:function(Ea){Ea?(pa._errored=new Oc(Ea,Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):wa(ea,na);},error:function(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));pa._errored=Ea;va();}});}catch(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));pa._errored=Ea;va();}}function wa(ea,na){var Ia,Ea;try{Ia=na.masterToken;Ea=na.userIdToken;Ea?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ia,Ea,{result:function(Pa){Pa?(pa._errored=new MslUserIdTokenException(Pa,Ea).setEntity(Ia).setUser(Ea).setMessageId(na.messageId),va()):ra(ea,na);},error:function(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));pa._errored=Pa;va();}}):ra(ea,na);}catch(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));pa._errored=Pa;va();}}function ra(ea,na){var Ia;try{Ia=na.masterToken;Ia.isExpired()?na.isRenewable() && 0 != na.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ia,{result:function(Ea){Ea?(pa._errored=new Ib(Ea,"Master token is expired and not renewable.").setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ea,na);},error:function(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));pa._errored=Ea;va();}}):(pa._errored=new Ib(W.MESSAGE_EXPIRED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ea,na);}catch(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));pa._errored=Ea;va();}}function X(ea,na){var Ia,Ea;try{Ia=na.masterToken;Ea=na.nonReplayableId;"number" === typeof Ea?Ia?ea.getTokenFactory().acceptNonReplayableId(ea,Ia,Ea,{result:function(Pa){Pa || (pa._errored=new Ib(W.MESSAGE_REPLAYED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId));va();},error:function(Pa){Pa instanceof cb && (Pa.setEntity(Ia),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));pa._errored=Pa;va();}}):(pa._errored=new Ib(W.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(na)).setEntity(na.entityAuthenticationData).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):va();}catch(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setEntity(na.entityAuthenticationData),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));pa._errored=Pa;va();}}aa={_source:{value:da,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ia,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);Qe(pa._source,Z,{result:function(ea){pa._json=ea;pa._jsonIndex=0;null === pa._json?(pa._errored=new yb(W.MESSAGE_DATA_MISSING),va()):Xe(ba,pa._json[pa._jsonIndex++],V,{result:function(na){var Ia;pa._header=na;if(pa._header instanceof Kc)(pa._keyxCryptoContext=null,pa._cryptoContext=null,va());else {Ia=pa._header;ha(ba,Ia,fa,{result:function(Ea){var Pa;try{pa._keyxCryptoContext=Ea;ba.isPeerToPeer() || !pa._keyxCryptoContext?pa._cryptoContext=Ia.cryptoContext:pa._cryptoContext=pa._keyxCryptoContext;try{Pa=Ia.masterToken;Pa && (ba.isPeerToPeer() || Pa.isVerified())?Ca(ba,Ia):X(ba,Ia);}catch(Ta){Ta instanceof cb && (Ta.setEntity(Ia.masterToken),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));pa._errored=Ta;va();}}catch(Ta){Ta instanceof cb && (Ta.setEntity(Ia.masterToken),Ta.setEntity(Ia.entityAuthenticationData),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));pa._errored=Ta;va();}},error:function(Ea){Ea instanceof cb && (Ea.setEntity(Ia.masterToken),Ea.setEntity(Ia.entityAuthenticationData),Ea.setUser(Ia.userIdToken),Ea.setUser(Ia.userAuthenticationData),Ea.setMessageId(Ia.messageId));pa._errored=Ea;va();}});}},error:function(na){pa._errored=na;va();}});},timeout:function(){pa._timedout=!0;va();},error:function(ea){pa._errored=ea;va();}});return this;},pa);},nextData:function(ba,da){var ia;ia=this;db(da,function(){var V;function fa(Z){db(Z,function(){var sa;if(this._jsonIndex < this._json.length)return sa=this._json[this._jsonIndex++];Qe(this._source,this._timeout,{result:function(pa){pa && pa.length && 0 < pa.length?(pa.forEach(function(va){this._json.push(va);}),fa(Z)):(this._eom=!0,Z.result(null));},timeout:function(){Z.timeout();},error:function(pa){Z.error(pa);}});},ia);}V=this.getMessageHeader();if(!V)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;fa({result:function(Z){db(da,function(){if(!Z)return null;if("object" !== typeof Z)throw new yb(W.MESSAGE_FORMAT_ERROR);jf(Z,this._cryptoContext,{result:function(sa){db(da,function(){var pa,va,Ca,wa;pa=V.masterToken;va=V.entityAuthenticationData;Ca=V.userIdToken;wa=V.getUserAuthenticationData;if(sa.messageId != V.messageId)throw new Ib(W.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + sa.messageId + " header mid " + V.messageId).setEntity(pa).setEntity(va).setUser(Ca).setUser(wa);if(sa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + sa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(pa).setEntity(va).setUser(Ca).setUser(wa);++this._payloadSequenceNumber;sa.isEndOfMessage() && (this._eom=!0);pa=sa.data;this._payloads.push(pa);this._payloadIndex=-1;return pa;},ia);},error:function(sa){sa instanceof SyntaxError && (sa=new yb(W.JSON_PARSE_ERROR,"payloadchunk",sa));da.error(sa);}});},ia);},timeout:function(){da.timeout();},error:function(Z){da.error(Z);}});},ia);},isReady:function(ba,da){var fa;function ia(){db(da,function(){if(this._aborted)return !1;if(this._timedout)da.timeout();else {if(this._errored)throw this._errored;return !0;}},fa);}fa=this;db(da,function(){this._ready?ia():this._readyQueue.poll(ba,{result:function(V){db(da,function(){if(V === Ab)return !1;ia();},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorHeader:function(){return this._header instanceof Kc?this._header:null;},getIdentity:function(){var ba,da;ba=this.getMessageHeader();if(ba){da=ba.masterToken;return da?da.identity:ba.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ba;ba=this.getMessageHeader();return ba?ba.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ba){this._closeSource=ba;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ba,da,ia){var V;function fa(){db(ia,function(){var sa,pa,va,Ca;function Z(wa){db(wa,function(){var ra,X,aa;if(pa && Ca >= pa.length)return pa.subarray(0,Ca);ra=-1;if(this._currentPayload){X=this._currentPayload.length - this._payloadOffset;if(!pa){aa=X;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea){aa+=this._payloads[ea].length;}0 < aa && (pa=new Uint8Array(aa));}X=Math.min(X,pa?pa.length - Ca:0);0 < X && (ra=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + X),pa.set(ra,va),ra=X,va+=X,this._payloadOffset+=X);}-1 != ra?(Ca+=ra,Z(wa)):this.nextData(da,{result:function(na){db(wa,function(){if(this._aborted)return pa?pa.subarray(0,Ca):new Uint8Array(0);this._currentPayload=na;this._payloadOffset=0;if(this._currentPayload)Z(wa);else return 0 == Ca && 0 != ba?null:pa?pa.subarray(0,Ca):new Uint8Array(0);},V);},timeout:function(){wa.timeout(pa?pa.subarray(0,Ca):new Uint8Array(0));},error:function(na){db(wa,function(){na instanceof cb && (na=new Vb("Error reading the payload chunk.",na));if(0 < Ca)return (V._readException=na,pa.subarray(0,Ca));throw na;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ia.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){sa=this._readException;this._readException=null;throw sa;}pa=-1 != ba?new Uint8Array(ba):Ab;va=0;Ca=0;Z(ia);}},V);}V=this;db(ia,function(){if(-1 > ba)throw new RangeError("read requested with illegal length " + ba);this._ready?fa():this._readyQueue.poll(da,{result:function(Z){Z === Ab?ia.result(!1):fa();},timeout:function(){ia.timeout(new Uint8Array(0));},error:function(Z){ia.error(Z);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});of=function(ba,da,ia,fa,V,Z,sa){new nf(ba,da,ia,fa,V,Z,sa);};})();(function(){pf=Ed.extend({init:function(ha,ba,da,ia,fa,V,Z){var sa;sa=this;db(Z,function(){var va,Ca,wa;function pa(){sa._ready=!0;sa._readyQueue.add(!0);}va=me(ha.getMessageCapabilities(),ia.messageCapabilities);Ca=null;va && (Ca=Fe(va.compressionAlgorithms));va={_destination:{value:ba,writable:!1,enumerable:!1,configurable:!1},_charset:{value:da,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_header:{value:ia,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,va);wa=Rb(JSON.stringify(ia),da);ba.write(wa,0,wa.length,V,{result:function(ra){try{sa._aborted?pa():ra < wa.length?(sa._timedout=!0,pa()):ba.flush(V,{result:function(X){sa._aborted || (sa._timedout=!X);pa();},timeout:function(){sa._timedout=!0;pa();},error:function(X){sa._errored=X;pa();}});}catch(X){sa._errored=X;pa();}},timeout:function(){sa._timedout=!0;pa();},error:function(ra){sa._errored=ra;pa();}});return this;},sa);},setCompressionAlgorithm:function(ha,ba,da){var fa;function ia(){fa.flush(ba,{result:function(V){db(da,function(){if(!V)throw new Vb("flush() aborted");this._compressionAlgo=ha;return !0;},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});}fa=this;db(da,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,Z=0;Z < V.length;++Z){if(V[Z] == ha){ia();return;}}return !1;}ia();},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorMessage:function(){return this._header instanceof Kc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,ba){var da;da=this;db(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(ia){db(ba,function(){ia && (this._currentPayload=null);return ia;},da);},timeout:function(){ba.timeout();},error:function(ia){ba.error(ia);}});}},da);},flush:function(ha,ba){var ia;function da(){db(ba,function(){var fa,V,va;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;fa=this.getMessageHeader();if(!fa)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(Ca){V+=Ca.length;});for(var Z=new Uint8Array(V),sa=0,pa=0;this._currentPayload && pa < this._currentPayload.length;++pa){va=this._currentPayload[pa];Z.set(va,sa);sa+=va.length;}hf(this._payloadSequenceNumber,fa.messageId,this._closed,this._compressionAlgo,Z,this._cryptoContext,{result:function(Ca){db(ba,function(){var wa;this._payloads.push(Ca);wa=Rb(JSON.stringify(Ca),this._charset);this._destination.write(wa,0,wa.length,ha,{result:function(ra){db(ba,function(){if(this._aborted)return !1;ra < Ca.length?ba.timeout():this._destination.flush(ha,{result:function(X){db(ba,function(){if(this._aborted)return !1;if(X)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ba.timeout();},ia);},timeout:function(){ba.timeout();},error:function(X){X instanceof cb && (X=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",X));ba.error(X);}});},ia);},timeout:function(ra){ba.timeout();},error:function(ra){ra instanceof cb && (ra=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",ra));ba.error(ra);}});},ia);},error:function(Ca){Ca instanceof cb && (Ca=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",Ca));ba.error(Ca);}});}},ia);}ia=this;db(ba,function(){this._ready?da():this._readyQueue.poll(ha,{result:function(fa){fa === Ab?ba.result(!1):da();},timeout:function(){ba.timeout();},error:function(fa){ba.error(fa);}});},ia);},write:function(ha,ba,da,ia,fa){db(fa,function(){var V;if(this._aborted)return !1;if(this._timedout)fa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Vb("Message output stream already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ba + da > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");V=ha.subarray(ba,ba + da);this._currentPayload.push(V);return V.length;}},this);}});Kd=function(ha,ba,da,ia,fa,V,Z){new pf(ha,ba,da,ia,fa,V,Z);};})();Vf=Bb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:La.USERDATA_REAUTH,SSOTOKEN_REJECTED:La.SSOTOKEN_REJECTED});qf=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,ba,da,ia){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,ba,da){},write:function(ha,ba,da){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var sa,pa,va,Ca,wa,ra,X,aa,ea,na,Ia,Ea;function ha(Pa){return function(){Pa.abort();};}function ba(Pa,Ta){Object.defineProperties(this,{masterToken:{value:Pa,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function da(Pa,Ta){Object.defineProperties(this,{builder:{value:Pa,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function ia(Pa,Ta,la){Object.defineProperties(this,{requestHeader:{value:Pa,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:la,writable:!1,configurable:!1}});}function fa(Pa,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Pa,writable:!1,configurable:!1}});}function V(Pa){for(;Pa;){if(Pa instanceof $b)return !0;Pa=Pa instanceof cb?Pa.cause:Ab;}return !1;}function Z(Pa,Ta,la,xa,za,Ja,Ba,Oa,Fa){lf(Ta,xa,za,Ja,{result:function(Va){la && la.sentHeader(Va);Kd(Ta,Ba,Lb,Va,null,null,Oa,{result:function(Za){Pa.setAbort(function(){Za.abort();});Za.close(Oa,{result:function(Wa){db(Fa,function(){if(!Wa)throw new $b("sendError aborted.");return Wa;});},timeout:function(){Fa.timeout();},error:function(Wa){Fa.error(Wa);}});},timeout:function(){},error:function(Za){Fa.error(Za);}});},error:function(Va){Fa.error(Va);}});}sa=Ed.extend({close:function(Pa,Ta){Ta.result(!0);},write:function(Pa,Ta,la,xa,za){Ma(za,function(){return Math.min(Pa.length - Ta,la);});},flush:function(Pa,Ta){Ta.result(!0);}});pa=Uf.extend({getUserMessage:function(Pa,Ta){return null;}});va=qf.extend({init:function(Pa){Object.defineProperties(this,{_appCtx:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Pa,Ta,la,xa){this._appCtx.getUserAuthData(Pa,Ta,la,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Pa){this._appCtx.getKeyRequestData(Pa);},updateServiceTokens:function(Pa,Ta,la){this._appCtx.updateServiceTokens(Pa,Ta,la);},write:function(Pa,Ta,la){this._appCtx.write(Pa,Ta,la);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ca=va.extend({init:function xa(Ta,la){xa.base.call(this,la);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,la,xa){var Ja;function za(Ba,Oa){var Fa;if(Ba == Ja._payloads.length)xa.result(!0);else {Fa=Ja._payloads[Ba];Ta.setCompressionAlgorithm(Fa.compressionAlgo,la,{result:function(Va){Ta.write(Fa.data,0,Fa.data.length,la,{result:function(Za){db(xa,function(){Fa.isEndOfMessage()?za(Ba + 1,Oa):Ta.flush(la,{result:function(Wa){xa.result(Wa);},timeout:function(){xa.timeout();},error:function(Wa){xa.error(Wa);}});},Ja);},timeout:function(Za){xa.timeout(Za);},error:function(Za){xa.error(Za);}});},timeout:function(){},error:function(Va){xa.error(Va);}});}}Ja=this;za(0);}});wa=va.extend({init:function xa(la){xa.base.call(this,la);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(la,xa,za){za.result(!0);}});ra={};X=Bb.Class.create({init:function(la){la || (la=new pa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:la,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(la){this._filterFactory=la;},getNewestMasterToken:function(la,xa,za,Ja){var Ba;Ba=this;db(Ja,function(){var Oa,Fa,Va,Za,Wa;Oa=xa.getMslStore();Fa=Oa.getMasterToken();if(!Fa)return null;Va=Fa.uniqueKey();Za=this._masterTokenLocks[Va];Za || (Za=new Wd(),this._masterTokenLocks[Va]=Za);Wa=Za.readLock(za,{result:function(jb){db(Ja,function(){var mb;if(jb === Ab)throw new $b("getNewestMasterToken aborted.");mb=Oa.getMasterToken();if(Fa.equals(mb))return new ba(Fa,jb);Za.unlock(jb);Za.writeLock(za,{result:function(ob){db(Ja,function(){if(ob === Ab)throw new $b("getNewestMasterToken aborted.");delete this._masterTokenLocks[Va];Za.unlock(ob);return this.getNewestMasterToken(la,xa,za,Ja);},Ba);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},Ba);},timeout:function(){Ja.timeout();},error:function(jb){Ja.error(jb);}});la.setAbort(function(){Wa && (Za.cancel(Wa),Wa=Ab);});},Ba);},deleteMasterToken:function(la,xa){var za;if(xa){za=this;setTimeout(function(){var Ja,Ba;Ja=xa.uniqueKey();Ba=za._masterTokenLocks[Ja];Ba || (Ba=new Wd(),za._masterTokenLocks[Ja]=Ba);Ba.writeLock(-1,{result:function(Oa){la.getMslStore().removeCryptoContext(xa);delete za._masterTokenLocks[Ja];Ba.unlock(Oa);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Oa){throw Oa;}});},0);}},releaseMasterToken:function(la){var xa;if(la && la.masterToken){xa=la.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new vb("Master token read/write lock does not exist when it should.");xa.unlock(la.ticket);}},updateOutgoingCryptoContexts:function(la,xa,za){var Ja;Ja=la.getMslStore();!la.isPeerToPeer() && za && (Ja.setCryptoContext(za.keyResponseData.masterToken,za.cryptoContext),this.deleteMasterToken(la,xa.masterToken));},updateIncomingCryptoContexts:function(la,xa,za){var Ja,Ba;Ja=za.getMessageHeader();if(Ja){Ba=la.getMslStore();if(Ja=Ja.keyResponseData)(Ba.setCryptoContext(Ja.masterToken,za.getKeyExchangeCryptoContext()),this.deleteMasterToken(la,xa.masterToken));}},storeServiceTokens:function(la,xa,za,Ja){var Fa,Va;la=la.getMslStore();for(var Ba=[],Oa=0;Oa < Ja.length;++Oa){Fa=Ja[Oa];if(!Fa.isBoundTo(xa) || !xa.isVerified()){Va=Fa.data;Va && 0 == Va.length?la.removeServiceTokens(Fa.name,Fa.isMasterTokenBound()?xa:null,Fa.isUserIdTokenBound()?za:null):Ba.push(Fa);}}0 < Ba.length && la.addServiceTokens(Ba);},buildRequest:function(la,xa,za,Ja,Ba){var Oa;Oa=this;this.getNewestMasterToken(la,xa,Ja,{result:function(Fa){Ma(Ba,function(){var Va,Za,Wa;Va=Fa && Fa.masterToken;if(Va){Za=za.getUserId();Wa=xa.getMslStore();Za=(Za=Za?Wa.getUserIdToken(Za):null) && Za.isBoundTo(Va)?Za:null;}else Za=null;Tc(xa,Va,Za,null,{result:function(jb){Ma(Ba,function(){jb.setNonReplayable(za.isNonReplayable());return {builder:jb,tokenTicket:Fa};});},error:function(jb){Ma(Ba,function(){this.releaseMasterToken(Fa);jb instanceof cb && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Oa);}});},Oa);},timeout:function(){Ba.timeout();},error:function(Fa){Ba.error(Fa);}});},buildResponse:function(la,xa,za,Ja,Ba,Oa){var Fa;Fa=this;kf(xa,Ja,{result:function(Va){db(Oa,function(){Va.setNonReplayable(za.isNonReplayable());if(!xa.isPeerToPeer() && !Ja.keyResponseData)return {builder:Va,tokenTicket:null};this.getNewestMasterToken(la,xa,Ba,{result:function(Za){db(Oa,function(){var Wa,jb,mb;Wa=Za && Za.masterToken;if(Wa){jb=za.getUserId();mb=xa.getMslStore();jb=(jb=jb?mb.getUserIdToken(jb):null) && jb.isBoundTo(Wa)?jb:null;}else jb=null;Va.setAuthTokens(Wa,jb);return {builder:Va,tokenTicket:Za};},Fa);},timeout:function(){Oa.timeout();},error:function(Za){Oa.error(Za);}});},Fa);},error:function(Va){Oa.error(Va);}});},buildErrorResponse:function(la,xa,za,Ja,Ba,Oa,Fa){var Wa;function Va(jb,mb){db(Fa,function(){var ob,rb;ob=Sc(Ba.messageId);rb=new Ca(mb,za);Tc(xa,null,null,ob,{result:function(sb){db(Fa,function(){xa.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Fa.error(sb);}});},Wa);}function Za(jb,mb){Wa.getNewestMasterToken(la,xa,Oa,{result:function(ob){db(Fa,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Sc(Ba.messageId);zb=new Ca(mb,za);Tc(xa,rb,null,sb,{result:function(xb){db(Fa,function(){xa.isPeerToPeer() && xb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new da(xb,zb),tokenTicket:ob};},Wa);},error:function(xb){Fa.error(xb);}});},Wa);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});}Wa=this;db(Fa,function(){var jb,mb,ob,rb;jb=Ja.requestHeader;mb=Ja.payloads;ob=Ba.errorCode;switch(ob){case La.ENTITYDATA_REAUTH:case La.ENTITY_REAUTH:xa.getEntityAuthenticationData(ob,{result:function(sb){db(Fa,function(){if(!sb)return null;Va(jb,mb);},Wa);},error:function(sb){Fa.error(sb);}});break;case La.USERDATA_REAUTH:case La.SSOTOKEN_REJECTED:za.getUserAuthData(ob,!1,!0,{result:function(sb){db(Fa,function(){if(!sb)return null;Za(jb,mb);},Wa);},error:function(sb){Fa.error(sb);}});break;case La.USER_REAUTH:Za(jb,mb);break;case La.KEYX_REQUIRED:ob=Sc(Ba.messageId);rb=new Ca(mb,za);Tc(xa,null,null,ob,{result:function(sb){db(Fa,function(){xa.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Fa.error(sb);}});break;case La.EXPIRED:this.getNewestMasterToken(la,xa,Oa,{result:function(sb){db(Fa,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=jb.userIdToken;r=Sc(Ba.messageId);b=new Ca(mb,za);Tc(xa,zb,xb,r,{result:function(a){db(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Wa);},error:function(a){Fa.error(a);}},Wa);},Wa);},timeout:function(){Fa.timeout();},error:function(sb){Fa.error(sb);}});break;case La.REPLAYED:this.getNewestMasterToken(la,xa,Oa,{result:function(sb){db(Fa,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=jb.userIdToken;r=Sc(Ba.messageId);b=new Ca(mb,za);Tc(xa,zb,xb,r,{result:function(a){db(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Wa);},error:function(a){Fa.error(a);}});},Wa);},timeout:function(){Fa.timeout();},error:function(sb){Fa.error(sb);}});break;default:return null;}},Wa);},cleanupContext:function(la,xa,za){switch(za.errorCode){case La.ENTITY_REAUTH:this.deleteMasterToken(la,xa.masterToken);break;case La.USER_REAUTH:(za=xa.userIdToken,xa.masterToken && za && la.getMslStore().removeUserIdToken(za));}},send:function(la,xa,za,Ja,Ba,Oa,Fa){var ob;function Va(rb,sb,zb){db(Fa,function(){var xb;xb=Ba.getPeerUserIdToken();!xa.isPeerToPeer() && !sb || xa.isPeerToPeer() && !xb?(xb=za.getCustomer())?Ba.setCustomer(xb,{result:function(r){db(Fa,function(){sb=Ba.getUserIdToken();Za(rb,sb,zb);},ob);},error:function(r){Fa.error(r);}}):Za(rb,sb,zb):Za(rb,sb,zb);},ob);}function Za(rb,sb,zb){db(Fa,function(){var xb,r;xb=!zb && (!za.isEncrypted() || Ba.willEncryptPayloads()) && (!za.isIntegrityProtected() || Ba.willIntegrityProtectPayloads()) && (!za.isNonReplayable() || Ba.isNonReplayable() && rb);xb || Ba.setNonReplayable(!1);r=[];Ba.isRenewable() && (!rb || rb.isRenewable() || za.isNonReplayable())?za.getKeyRequestData({result:function(b){db(Fa,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Ba.addKeyRequestData(c);}Wa(rb,sb,xb,r);},ob);},error:function(b){Fa.error(b);}}):Wa(rb,sb,xb,r);},ob);}function Wa(rb,sb,zb,xb){db(Fa,function(){var r;r=new mf(xa,za,Ba);za.updateServiceTokens(r,!zb,{result:function(b){Ba.getHeader({result:function(a){db(Fa,function(){var c,f;c=za.getDebugContext();c && c.sentHeader(a);c=Ba.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,rb,sb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(la.isAborted())throw new $b("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;Kd(xa,f,Lb,a,c,Oa,{result:function(l){la.setAbort(function(){l.abort();});jb(l,a,zb);},timeout:function(){Fa.timeout();},error:function(l){Fa.error(l);}});},ob);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},error:function(b){Fa.error(b);}});},ob);}function jb(rb,sb,zb){var xb,r;if(zb)za.write(rb,Oa,{result:function(b){db(Fa,function(){if(la.isAborted())throw new $b("MessageOutputStream write aborted.");mb(rb,sb,zb);},ob);},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});else {xb=new sa();r=new cd();Kd(xa,xb,Lb,sb,r,Oa,{result:function(b){za.write(b,Oa,{result:function(a){db(Fa,function(){if(la.isAborted())throw new $b("MessageOutputStream proxy write aborted.");b.close(Oa,{result:function(c){db(Fa,function(){var f;if(!c)throw new $b("MessageOutputStream proxy close aborted.");f=b.getPayloads();mb(rb,sb,zb,f);},ob);},timeout:function(){Fa.timeout();},error:function(c){Fa.error(c);}});},ob);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});}}function mb(rb,sb,zb,xb){rb.close(Oa,{result:function(r){db(Fa,function(){if(!r)throw new $b("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ia(sb,xb,!zb);},ob);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}ob=this;db(Fa,function(){var rb,sb,zb,xb;rb=Ba.getMasterToken();sb=Ba.getUserIdToken();zb=!1;if(za.getUserId()){xb=!sb;za.getUserAuthData(null,Ba.isRenewable(),xb,{result:function(r){db(Fa,function(){r && (Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()?Ba.setUserAuthenticationData(r):zb=!0);Va(rb,sb,zb);},ob);},error:function(r){Fa.error(r);}});}else Va(rb,sb,zb);},ob);},receive:function(la,xa,za,Ja,Ba,Oa,Fa){var Va;Va=this;db(Fa,function(){var Za,Wa,jb;if(la.isAborted())throw new $b("receive aborted.");Za=[];Ba && (Za=Ba.keyRequestData.filter(function(){return !0;}));Wa=za.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;of(xa,jb,Lb,Za,Wa,Oa,{result:function(mb){la.setAbort(function(){mb.abort();});mb.isReady(Oa,{result:function(ob){db(Fa,function(){var rb,sb,zb,xb;if(!ob)throw new $b("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();zb=za.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Ba && (zb=sb?sb.errorCode:null,rb || zb != La.FAIL && zb != La.TRANSIENT_FAILURE && zb != La.ENTITY_REAUTH && zb != La.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Sc(Ba.messageId);if(zb != xb)throw new Ib(W.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}xa.getEntityAuthenticationData(null,{result:function(r){db(Fa,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);Ba && this.updateIncomingCryptoContexts(xa,Ba,mb);b=rb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=za.getUserId();f && c && !c.isVerified() && xa.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(xa,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Va);},error:Fa.error});},Va);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});},timeout:function(){Fa.timeout();},error:function(mb){Fa.error(mb);}});},Va);},sendReceive:function(la,xa,za,Ja,Ba,Oa,Fa,Va,Za){var jb;function Wa(mb,ob){db(Za,function(){Oa.setRenewable(ob);this.send(la,xa,za,Ba,Oa,Fa,{result:function(rb){db(Za,function(){var sb;sb=rb.requestHeader.keyRequestData;Va || rb.handshake || !sb.isEmpty()?this.receive(la,xa,za,Ja,rb.requestHeader,Fa,{result:function(zb){db(Za,function(){ob && this.releaseRenewalLock(xa,mb,zb);return new fa(zb,rb);},jb);},timeout:function(){db(Za,function(){ob && this.releaseRenewalLock(xa,mb,null);Za.timeout();},jb);},error:function(zb){db(Za,function(){ob && this.releaseRenewalLock(xa,mb,null);throw zb;},jb);}}):db(Za,function(){ob && this.releaseRenewalLock(xa,mb,null);return new fa(null,rb);},jb);},jb);},timeout:function(){db(Za,function(){ob && this.releaseRenewalLock(xa,mb,null);Za.timeout();},jb);},error:function(rb){db(Za,function(){ob && this.releaseRenewalLock(xa,mb,null);throw rb;},jb);}});},jb);}jb=this;db(Za,function(){var mb;mb=new jd();this.acquireRenewalLock(la,xa,za,mb,Oa,Fa,{result:function(ob){Wa(mb,ob);},timeout:function(){Za.timeout();},error:function(ob){ob instanceof $b?Za.result(null):Za.error(ob);}});},jb);},acquireRenewalLock:function(la,xa,za,Ja,Ba,Oa,Fa){var Wa;function Va(jb,mb,ob){db(Fa,function(){var zb,xb;if(la.isAborted())throw new $b("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === xa){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:xa,queue:Ja}),!0);xb=rb.poll(Oa,{result:function(r){db(Fa,function(){var b;if(r === Ab)throw new $b("acquireRenewalLock aborted.");rb.add(r);if(r === ra || r.isExpired())Va(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=xa.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Ba.setAuthTokens(r,mb);Ba.isRenewable() && r.equals(jb)?Va(r,mb,ob):za.isRequestingTokens() && !mb?Va(r,mb,ob):Za(r,mb);}},Wa);},timeout:function(){},error:function(r){}});la.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Wa);}function Za(jb,mb){db(Fa,function(){var sb;if(la.isAborted())throw new $b("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !mb && za.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === xa){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:xa,queue:Ja}),!0);}return !1;},Wa);}Wa=this;db(Fa,function(){var jb,mb,ob;jb=Ba.getMasterToken();mb=Ba.getUserIdToken();ob=za.getUserId();za.isEncrypted() && !Ba.willEncryptPayloads() || za.isIntegrityProtected() && !Ba.willIntegrityProtectPayloads() || Ba.isRenewable() || !jb && za.isNonReplayable() || jb && jb.isExpired() || !(mb || !ob || Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()) || za.isRequestingTokens() && (!jb || ob && !mb)?Va(jb,mb,ob):Za(jb,mb);},Wa);},releaseRenewalLock:function(la,xa,za){var Fa;for(var Ja,Ba,Oa=0;Oa < this._renewingContexts.length;++Oa){Fa=this._renewingContexts[Oa];if(Fa.ctx === la){Ja=Oa;Ba=Fa.queue;break;}}if(Ba !== xa)throw new vb("Attempt to release renewal lock that is not owned by this queue.");za?(za=za.messageHeader)?(Ba=za.keyResponseData)?xa.add(Ba.masterToken):(la=la.isPeerToPeer()?za.peerMasterToken:za.masterToken)?xa.add(la):xa.add(ra):xa.add(ra):xa.add(ra);this._renewingContexts.splice(Ja,1);}});rf=Bb.Class.create({init:function(){var la;la={_impl:{value:new X(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},setFilterFactory:function(la){this._impl.setFilterFactory(la);},shutdown:function(){this._shutdown=!0;},receive:function(la,xa,za,Ja,Ba,Oa){var Fa;if(this._shutdown)throw new cb("MslControl is shutdown.");Fa=new aa(this._impl,la,xa,za,Ja,Ba);setTimeout(function(){Fa.call(Oa);},0);return ha(Fa);},respond:function(la,xa,za,Ja,Ba,Oa,Fa){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new ea(this._impl,la,xa,za,Ja,Ba,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);},error:function za(la,xa,za,Ja,Ba,Oa,Fa){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new na(this._impl,la,xa,za,Ja,Ba,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);},request:function(la,xa){var za,Ja,Ba,Oa,Fa,Va;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ba=za=null;Oa=arguments[3];Fa=arguments[4];if(la.isPeerToPeer()){Fa.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,za=arguments[2],Ba=arguments[3],Oa=arguments[4],Fa=arguments[5],!la.isPeerToPeer())){Fa.error(new vb("This method cannot be used in trusted network mode."));return;}Va=new Ea(this._impl,la,xa,Ja,za,Ba,null,0,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);}});aa=Bb.Class.create({init:function(la,xa,za,Ja,Ba,Oa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},call:function(la){var Ba;function xa(Oa){db(la,function(){var Fa;Fa=Oa.messageHeader;if(!Fa)return Oa;this.setAbort(function(){Oa.abort();});Oa.mark(Number.MAX_VALUE);Oa.read(1,Ba._timeout,{result:function(Va){db(la,function(){if(Va && 0 == Va.length)return null;if(Va)return (Oa.reset(),Oa);za(Oa);},Ba);},timeout:function(){la.timeout();},error:function(Va){db(la,function(){var Za,Wa,jb;if(V(Va))return null;Za=Fa?Fa.messageId:null;if(Va instanceof Vb){Wa=W.MSL_COMMS_FAILURE;jb=Va;}else (Wa=W.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));Z(this,this._ctx,this._msgCtx.getDebugContext(),Za,Wa,null,this._output,this._timeout,{result:function(mb){la.error(jb);},timeout:function(){la.timeout();},error:function(mb){db(la,function(){if(V(mb))return null;throw new kc("Error peeking into the message payloads.",mb,Va);},Ba);}});},Ba);}});},Ba);}function za(Oa){db(la,function(){Oa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Oa.messageHeader,this._timeout,{result:function(Fa){db(la,function(){var Va,Za,Wa,jb,mb;Va=Fa.builder;Za=Fa.tokenTicket;Wa=Oa.messageHeader;jb=new wa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Wa.isEncrypting() || Wa.keyResponseData)Ja(Wa,Va,jb,Za);else {mb=new Ea(this._ctrl,this._ctx,jb,null,this._input,this._output,Fa,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(la);}},Ba);},timeout:function(){la.timeout();},error:function(Fa){db(la,function(){var Va,Za,Wa,jb;if(V(Fa))return null;if(Fa instanceof cb){Va=Fa.messageId;Za=Fa.error;Wa=Oa.messageHeader.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage(Za,Wa?Wa.languages:null);jb=Fa;}else (Va=requestHeader?requestHeader.messageId:null,Za=W.INTERNAL_EXCEPTION,Wa=null,jb=new vb("Error creating an automatic handshake response.",Fa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Va,Za,Wa,this._output,this._timeout,{result:function(mb){la.error(jb);},timeout:function(){la.timeout();},error:function(mb){db(la,function(){if(V(mb))return null;throw new kc("Error creating an automatic handshake response.",mb,Fa);},Ba);}});},Ba);}});},Ba);}function Ja(Oa,Fa,Va,Za){db(la,function(){Fa.setRenewable(!1);this._ctrl.send(this._ctx,Va,this._output,Fa,this._timeout,{result:function(Wa){db(la,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);return null;},Ba);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);la.timeout();},Ba);},error:function(Wa){db(la,function(){var jb,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);if(V(Wa))return null;if(Wa instanceof cb){jb=Wa.messageId;mb=Wa.error;ob=Oa?Oa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Wa;}else Wa instanceof Vb?(jb=Oa?Oa.messageId:null,mb=W.MSL_COMMS_FAILURE,ob=null,rb=Wa):(jb=Oa?Oa.messageId:null,mb=W.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Wa));Z(this,this._ctx,this._msgCtx.getDebugContext(),jb,mb,ob,this._output,this._timeout,{result:function(sb){la.error(rb);},timeout:function(){la.timeout();},error:function(sb){db(la,function(){if(V(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Wa);},Ba);}});},Ba);}});},Ba);}Ba=this;db(la,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Oa){xa(Oa);},timeout:function(){la.timeout();},error:function(Oa){db(la,function(){var Fa,Va,Za,Wa;if(V(Oa))return null;if(Oa instanceof cb){Fa=Oa.messageId;Va=Oa.error;Za=this._ctrl.messageRegistry.getUserMessage(Va,null);Wa=Oa;}else (Fa=null,Va=W.INTERNAL_EXCEPTION,Za=null,Wa=new vb("Error receiving the message header.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,Za,this._output,this._timeout,{result:function(jb){la.error(Wa);},timeout:function(){la.timeout();},error:function(jb){db(la,function(){if(V(jb))return null;throw new kc("Error receiving the message header.",jb,Oa);},Ba);}});},Ba);}});},Ba);}});ea=Bb.Class.create({init:function(la,xa,za,Ja,Ba,Oa,Fa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},trustedNetworkExecute:function(la,xa,za){var Ja;Ja=this;db(za,function(){var Ba,Oa;if(12 < xa + 1)return !1;if(Ba=this._msgCtx.isIntegrityProtected() && !la.willIntegrityProtectHeader()?W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !la.willEncryptPayloads()?W.RESPONSE_REQUIRES_ENCRYPTION:null){Oa=dd(la.getMessageId());Z(this,this._ctx,this._msgCtx.getDebugContext(),Oa,Ba,null,this._output,this._timeout,{result:function(Fa){za.result(!1);},timeout:function(){za.timeout();},error:function(Fa){db(za,function(){if(V(Fa))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Ba,Fa,null);},Ja);}});}else !this._msgCtx.getCustomer() || la.getMasterToken() || la.getKeyExchangeData()?(la.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,la,this._timeout,{result:function(Fa){za.result(!0);},timeout:function(){za.timeout();},error:function(Fa){za.error(Fa);}})):(Oa=dd(la.getMessageId()),Z(this,this._ctx,this._msgCtx.getDebugContext(),Oa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Fa){za.result(!1);},timeout:function(){za.timeout();},error:function(Fa){db(za,function(){if(V(Fa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Fa,null);},Ja);}}));},Ja);},peerToPeerExecute:function(la,xa,za,Ja){var Oa;function Ba(Fa){db(Ja,function(){var Va;Va=Fa.response;Va.close();Va=Va.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Fa.requestHeader,Va);this._ctrl.buildErrorResponse(this,this._ctx,la,Fa,Va,{result:function(Za){db(Ja,function(){var Wa,jb;if(!Za)return !1;Wa=Za.errorResult;jb=Za.tokenTicket;this.peerToPeerExecute(Wa.msgCtx,Wa.builder,za,{result:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);return mb;},Oa);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(jb);Ja.timeout();},Oa);},error:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);throw mb;},Oa);}});},Oa);}});},Oa);}Oa=this;db(Ja,function(){var Fa;if(12 < za + 2)return !1;if(null != la.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Fa=dd(xa.getMessageId());Z(this,this._ctx,la.getDebugContext(),Fa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Va){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Va){db(Ja,function(){if(V(Va))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Va,null);},Oa);}});}else this._ctrl.sendReceive(this._ctx,la,this._input,this._output,xa,this._timeout,!1,{result:function(Va){db(Ja,function(){var jb,mb,ob;function Za(){jb.read(32768,Oa._timeout,{result:function(rb){db(Ja,function(){rb?Za():Wa();},Oa);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});}function Wa(){db(Ja,function(){var rb;rb=new Ca(Va.payloads,la);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){db(Ja,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,za,{result:function(xb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);return xb;},Oa);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(zb);Ja.timeout();},Oa);},error:function(xb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Oa);}});},Oa);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Oa);}jb=Va.response;za+=2;if(!jb)return !0;mb=jb.getMessageHeader();if(mb){ob=Va.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Va.handshake && ob)Za();else return !0;}else Ba(Va);},Oa);},timeout:function(){Ja.timeout();},error:function(Va){Ja.error(Va);}});},Oa);},call:function(la){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(za){db(la,function(){var Ja,Ba;Ja=za.builder;Ba=za.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Oa){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Oa;},xa);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);la.timeout();},xa);},error:function(Oa){db(la,function(){var Fa,Va,Za,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(V(Oa))return !1;Fa=dd(Ja.getMessageId());if(Oa instanceof cb){Va=Oa.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Va,Za?Za.languages:null);Wa=Oa;}else Oa instanceof Vb?(Va=W.MSL_COMMS_FAILURE,Za=null,Wa=Oa):(Va=W.INTERNAL_EXCEPTION,Za=null,Wa=new vb("Error sending the response.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,Za,this._output,this._timeout,{result:function(jb){la.error(Wa);},timeout:function(){la.timeout();},error:function(jb){db(la,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ja,3,{result:function(Oa){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Oa;},xa);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);la.timeout();},xa);},error:function(Oa){db(la,function(){var Fa,Va,Za,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(V(Oa))return !1;Fa=dd(Ja.getMessageId());if(Oa instanceof cb){Va=Oa.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Va,Za?Za.languages:null);Wa=Oa;}else Oa instanceof Vb?(Va=W.MSL_COMMS_FAILURE,Za=null,Wa=Oa):(Va=W.INTERNAL_EXCEPTION,Za=null,Wa=new vb("Error sending the response.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,Za,this._output,this._timeout,{result:function(jb){la.error(Wa);},timeout:function(){la.timeout();},error:function(jb){db(la,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},xa);}});},xa);}});},xa);},timeout:function(){la.timeout();},error:function(za){db(la,function(){var Ja,Ba,Oa,Fa;if(V(za))return !1;if(za instanceof cb){Ja=za.messageId;Ba=za.error;Oa=this._request.messageCapabilities;Oa=this._ctrl.messageRegistry.getUserMessage(Ba,Oa?Oa.languages:null);Fa=za;}else (Ja=null,Ba=W.INTERNAL_EXCEPTION,Oa=null,Fa=new vb("Error building the response.",za));Z(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ba,Oa,this._output,this._timeout,{result:function(Va){la.error(Fa);},timeout:function(){la.timeout();},error:function(Va){db(la,function(){if(V(Va))return null;throw new kc("Error building the response.",Va,za);},xa);}});},xa);}});}});na=Bb.Class.create({init:function(la,xa,za,Ja,Ba,Oa,Fa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},call:function(la){var xa;xa=this;db(la,function(){var za,Ja;if(this._appError == ENTITY_REJECTED)za=this._request.masterToken?W.MASTERTOKEN_REJECTED_BY_APP:W.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)za=this._request.userIdToken?W.USERIDTOKEN_REJECTED_BY_APP:W.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(za,Ja?Ja.languages:null);Z(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,za,Ja,this._output,this._timeout,{result:function(Ba){la.result(Ba);},timeout:la.timeout,error:function(Ba){db(la,function(){if(V(Ba))return !1;if(Ba instanceof cb)throw Ba;throw new vb("Error building the error response.",Ba);},xa);}});},xa);}});Ia={result:function(){},timeout:function(){},error:function(){}};Ea=Bb.Class.create({init:function(la,xa,za,Ja,Ba,Oa,Fa,Va,Za){var Wa;if(Fa){Wa=Fa.builder;Fa=Fa.tokenTicket;}else Fa=Wa=null;Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_output:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Za,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Va,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},execute:function(la,xa,za,Ja,Ba){var Va;function Oa(Za){function Wa(jb){db(Ba,function(){var mb;mb=Za.response;return jb?jb:mb;},Va);}db(Ba,function(){var jb,mb;jb=Za.response;jb.close();mb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Za.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,la,Za,mb,za,{result:function(ob){db(Ba,function(){var rb,sb,zb,xb;if(!ob)return jb;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ja,{result:function(r){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Wa(r);},Va);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.timeout();},Va);},error:function(r){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.error(r);},Va);}});else {this._openedStreams && (this._input.close(),this._output.close(za,Ia));xb=new Ea(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ja,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Wa(r);},timeout:function(){Ba.timeout();},error:function(r){Ba.error(r);}});}},Va);},timeout:function(){Ba.timeout();},error:function(ob){Ba.error(ob);}});},Va);}function Fa(Za){db(Ba,function(){var mb,ob,rb,sb,zb;function Wa(){mb.read(32768,Va._timeout,{result:function(xb){xb?Wa():jb();},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}function jb(){db(Ba,function(){var xb;xb=new Ca(Za.payloads,la);this._ctrl.buildResponse(this,this._ctx,la,ob,za,{result:function(r){db(Ba,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ja,{result:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);return a;},Va);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Va);},error:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){Ba.timeout();},error:function(r){Ba.error(r);}});},Va);}mb=Za.response;ob=mb.getMessageHeader();rb=Za.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Za.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(za,Ia));sb=new Ca(Za.payloads,la);this._ctrl.buildResponse(this,this._ctx,la,ob,za,{result:function(xb){db(Ba,function(){var r;r=new Ea(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ja,this._timeout);this.setAbort(function(){r.abort();});r.call(Ba);},Va);},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}else if(Za.handshake && rb)Wa();else if(0 < ob.keyRequestData.length){zb=new wa(la);this._ctrl.buildResponse(this,this._ctx,zb,ob,za,{result:function(xb){db(Ba,function(){var r,b;r=xb.builder;b=xb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){db(Ba,function(){function c(){mb.read(32768,Va._timeout,{result:function(l){l?c():f();},timeout:function(){Ba.timeout();},error:function(l){Ba.error(l);}});}function f(){Va.execute(zb,r,Va._timeout,Ja,{result:function(l){db(Ba,function(){this._ctrl.releaseMasterToken(b);return l;},Va);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Va);},error:function(l){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw l;},Va);}});}if(a){if((mb.reset(),12 >= Ja + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(l){db(Ba,function(){this.releaseMasterToken(b);return mb;},Va);},timeout:function(){Ba.timeout();},error:function(l){Ba.error(l);}}));else return (this.releaseMasterToken(b),mb);}else c();},Va);},timeout:function(){db(Ba,function(){this.releaseMasterToken(b);Ba.timeout();},Va);},error:function(a){db(Ba,function(){this.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}},Va);}Va=this;db(Ba,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,la,this._input,this._output,xa,za,!0,{result:function(Za){db(Ba,function(){var Wa;if(!Za)return null;Wa=Za.response;Ja+=2;Wa.getMessageHeader()?Fa(Za):Oa(Za);},Va);},timeout:function(){Ba.timeout();},error:function(Za){Ba.error(Za);}});},Va);},call:function(la){var za;function xa(Ja,Ba,Oa){db(la,function(){this.execute(this._msgCtx,Ja,Oa,this._msgCount,{result:function(Fa){db(la,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && this._output.close(Oa,Ia);Fa && Fa.closeSource(this._openedStreams);return Fa;},za);},timeout:function(){db(la,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Oa,Ia),this._input.close());la.timeout();},za);},error:function(Fa){db(la,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Oa,Ia),this._input.close());if(V(Fa))return null;throw Fa;},za);}});},za);}za=this;db(la,function(){var Ja,Ba,Oa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ba=Date.now();Oa=this._remoteEntity.openConnection();this._output=Oa.output;this._input=Oa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ba));this._openedStreams=!0;}catch(Fa){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ia);this._input && this._input.close();if(V(Fa))return null;throw Fa;}this._builder?xa(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Fa){db(la,function(){xa(Fa.builder,Fa.tokenTicket,Ja);},za);},timeout:function(){db(la,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());la.timeout();},za);},error:function(Fa){db(la,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());if(V(Fa))return null;throw Fa;},za);}});},za);}});})();(function(){pe=Bb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof pe?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});sf=function(ha){var ba;ba=ha.id;if(!ba)throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(ha));return new pe(ba);};})();Bb.Class.create({isNewestMasterToken:function(ha,ba,da){},isMasterTokenRevoked:function(ha,ba){},acceptNonReplayableId:function(ha,ba,da,ia){},createMasterToken:function(ha,ba,da,ia,fa){},isMasterTokenRenewable:function(ha,ba,da){},renewMasterToken:function(ha,ba,da,ia,fa){},isUserIdTokenRevoked:function(ha,ba,da,ia){},createUserIdToken:function(ha,ba,da,ia){},renewUserIdToken:function(ha,ba,da,ia){}});(function(){function ha(ba,da,ia,fa){this.sessiondata=ba;this.tokendata=da;this.signature=ia;this.verified=fa;}ic=Bb.Class.create({init:function(ba,da,ia,fa,V,Z,sa,pa,va,Ca,wa){var ra;ra=this;Ma(wa,function(){var X,aa,ea,na,Ia;if(ia.getTime() < da.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > fa || fa > Mb)throw new vb("Sequence number " + fa + " is outside the valid range.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");X=Math.floor(da.getTime() / 1E3);aa=Math.floor(ia.getTime() / 1E3);if(Ca)ea=Ca.sessiondata;else {na={};Z && (na.issuerdata=Z);na.identity=sa;na.encryptionkey=Db(pa.toByteArray());na.hmackey=Db(va.toByteArray());ea=Rb(JSON.stringify(na),Lb);}if(Ca)return (Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},identity:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:pa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ca.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ia=ba.getMslCryptoContext();Ia.encrypt(ea,{result:function(Ea){Ma(wa,function(){var Pa,Ta;Pa={};Pa.renewalwindow=X;Pa.expiration=aa;Pa.sequencenumber=fa;Pa.serialnumber=V;Pa.sessiondata=Db(Ea);Ta=Rb(JSON.stringify(Pa),Lb);Ia.sign(Ta,{result:function(la){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},identity:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:pa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(la){wa.error(la);}});},ra);},error:function(Ea){wa.error(Ea);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ba){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ba){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ba){var da;if(this.sequenceNumber == ba.sequenceNumber)return this.expiration > ba.expiration;if(this.sequenceNumber > ba.sequenceNumber){da=this.sequenceNumber - Mb + 127;return ba.sequenceNumber >= da;}da=ba.sequenceNumber - Mb + 127;return this.sequenceNumber < da;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof ic?this.serialNumber == ba.serialNumber && this.sequenceNumber == ba.sequenceNumber && this.expiration.getTime() == ba.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Qc=function(ba,da,ia){Ma(ia,function(){var fa,V,Z,sa,pa;fa=ba.getMslCryptoContext();V=da.tokendata;Z=da.signature;if("string" !== typeof V || "string" !== typeof Z)throw new yb(W.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(da));try{sa=Gb(V);}catch(va){throw new cb(W.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(da),va);}if(!sa || 0 == sa.length)throw new yb(W.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(da));try{pa=Gb(Z);}catch(va){throw new cb(W.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(da),va);}fa.verify(sa,pa,{result:function(va){Ma(ia,function(){var Ca,wa,ra,X,aa,ea,na,Ia,Ea,Pa;Ca=Tb(sa,Lb);try{wa=JSON.parse(Ca);ra=parseInt(wa.renewalwindow);X=parseInt(wa.expiration);aa=parseInt(wa.sequencenumber);ea=parseInt(wa.serialnumber);na=wa.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca,Ta);throw Ta;}if(!ra || ra != ra || !X || X != X || "number" !== typeof aa || aa != aa || "number" !== typeof ea || ea != ea || "string" !== typeof na)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca);if(X < ra)throw new cb(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ca);if(0 > aa || aa > Mb)throw new cb(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);if(0 > ea || ea > Mb)throw new cb(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);Ia=new Date(1E3 * ra);Ea=new Date(1E3 * X);try{Pa=Gb(na);}catch(Ta){throw new cb(W.MASTERTOKEN_SESSIONDATA_INVALID,na,Ta);}if(!Pa || 0 == Pa.length)throw new cb(W.MASTERTOKEN_SESSIONDATA_MISSING,na);va?fa.decrypt(Pa,{result:function(Ta){Ma(ia,function(){var la,xa,za,Ja,Ba,Oa;la=Tb(Ta,Lb);try{xa=JSON.parse(la);za=xa.issuerdata;Ja=xa.identity;Ba=xa.encryptionkey;Oa=xa.hmackey;}catch(Fa){if(Fa instanceof SyntaxError)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + la,Fa);throw Fa;}if(za && "object" !== typeof za || !Ja || "string" !== typeof Ba || "string" !== typeof Oa)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + la);zc(Ba,sc,Hc,{result:function(Fa){zc(Oa,tc,Pc,{result:function(Va){Ma(ia,function(){var Za;Za=new ha(Ta,sa,pa,va);new ic(ba,Ia,Ea,aa,ea,za,Ja,Fa,Va,Za,ia);});},error:function(Va){ia.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Va));}});},error:function(Fa){ia.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Fa));}});});},error:function(Ta){ia.error(Ta);}}):(ra=new ha(null,sa,pa,va),new ic(ba,Ia,Ea,aa,ea,null,null,null,null,ra,ia));});},error:function(va){ia.error(va);}});});};})();(function(){function ha(ba,da,ia){this.tokendata=ba;this.signature=da;this.verified=ia;}ad=Bb.Class.create({init:function(ba,da,ia,fa,V,Z,sa,pa,va){var Ca;Ca=this;Ma(va,function(){var wa,ra,X,aa,ea,na,Ia;if(ia.getTime() < da.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!fa)throw new vb("Cannot construct a user ID token without a master token.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");wa=Math.floor(da.getTime() / 1E3);ra=Math.floor(ia.getTime() / 1E3);X=fa.serialNumber;if(pa){aa=pa.tokendata;ea=pa.signature;na=pa.verified;X=fa.serialNumber;Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},customer:{value:sa,writable:!1,configurable:!1},verified:{value:na,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Z && (aa.issuerdata=Z);aa.identity=sa;aa=Rb(JSON.stringify(aa),Lb);Ia=ba.getMslCryptoContext();Ia.encrypt(aa,{result:function(Ea){Ma(va,function(){var Pa,Ta;Pa={};Pa.renewalwindow=wa;Pa.expiration=ra;Pa.mtserialnumber=X;Pa.serialnumber=V;Pa.userdata=Db(Ea);Ta=Rb(JSON.stringify(Pa),Lb);Ia.sign(Ta,{result:function(la){Ma(va,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:fa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},customer:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},Ca);},error:function(la){Ma(va,function(){la instanceof cb && la.setEntity(fa);throw la;},Ca);}});},Ca);},error:function(Ea){Ma(va,function(){Ea instanceof cb && Ea.setEntity(fa);throw Ea;},Ca);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ba){return ba && ba.serialNumber == this.mtSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof ad?this.serialNumber == ba.serialNumber && this.mtSerialNumber == ba.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Rc=function(ba,da,ia,fa){Ma(fa,function(){var V,Z,sa,pa,va;V=ba.getMslCryptoContext();Z=da.tokendata;sa=da.signature;if("string" !== typeof Z || "string" !== typeof sa)throw new yb(W.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(da)).setEntity(ia);try{pa=Gb(Z);}catch(Ca){throw new cb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Ca).setEntity(ia);}if(!pa || 0 == pa.length)throw new yb(W.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(da)).setEntity(ia);try{va=Gb(sa);}catch(Ca){throw new cb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Ca).setEntity(ia);}V.verify(pa,va,{result:function(Ca){Ma(fa,function(){var wa,ra,X,aa,ea,na,Ia,Ea,Pa,Ta;wa=Tb(pa,Lb);try{ra=JSON.parse(wa);X=parseInt(ra.renewalwindow);aa=parseInt(ra.expiration);ea=parseInt(ra.mtserialnumber);na=parseInt(ra.serialnumber);Ia=ra.userdata;}catch(la){if(la instanceof SyntaxError)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa,la).setEntity(ia);throw la;}if(!X || X != X || !aa || aa != aa || "number" !== typeof ea || ea != ea || "number" !== typeof na || na != na || "string" !== typeof Ia)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa).setEntity(ia);if(aa < X)throw new cb(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + wa).setEntity(ia);if(0 > ea || ea > Mb)throw new cb(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ia);if(0 > na || na > Mb)throw new cb(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ia);Ea=new Date(1E3 * X);Pa=new Date(1E3 * aa);if(!ia || ea != ia.serialNumber)throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(ia)).setEntity(ia);try{Ta=Gb(Ia);}catch(la){throw new cb(W.USERIDTOKEN_USERDATA_INVALID,Ia,la).setEntity(ia);}if(!Ta || 0 == Ta.length)throw new cb(W.USERIDTOKEN_USERDATA_MISSING,Ia).setEntity(ia);Ca?V.decrypt(Ta,{result:function(la){Ma(fa,function(){var xa,za,Ja,Ba,Oa;xa=Tb(la,Lb);try{za=JSON.parse(xa);Ja=za.issuerdata;Ba=za.identity;}catch(Fa){if(Fa instanceof SyntaxError)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);throw Fa;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ba)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);try{Oa=sf(Ba);}catch(Fa){throw new cb(W.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Fa).setEntity(ia);}Ba=new ha(pa,va,Ca);new ad(ba,Ea,Pa,ia,na,Ja,Oa,Ba,fa);});},error:function(la){Ma(fa,function(){la instanceof cb && la.setEntity(ia);throw la;});}}):(X=new ha(pa,va,Ca),new ad(ba,Ea,Pa,ia,na,null,null,X,fa));});},error:function(Ca){Ma(fa,function(){Ca instanceof cb && Ca.setEntity(ia);throw Ca;});}});});};})();(function(){function ha(da,ia){var fa,V,Z;fa=da.tokendata;if("string" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));try{V=Gb(fa);}catch(sa){throw new cb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(da),sa);}if(!V || 0 == V.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(da));try{Z=JSON.parse(Tb(V,Lb)).name;}catch(sa){if(sa instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da),sa);throw sa;}if(!Z)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));return ia[Z]?ia[Z]:ia[""];}function ba(da,ia,fa){this.tokendata=da;this.signature=ia;this.verified=fa;}Jc=Bb.Class.create({init:function(da,ia,fa,V,Z,sa,pa,va,Ca,wa){var ra;ra=this;Ma(wa,function(){var X,aa,ea,na,Ia;if(V && Z && !Z.isBoundTo(V))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");X=V?V.serialNumber:-1;aa=Z?Z.serialNumber:-1;if(Ca)return (Ia=Ca.tokendata,Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(pa){ea=oe(pa,fa);ea.length < fa.length || (pa=null,ea=fa);}else (pa=null,ea=fa);na={};na.name=ia;-1 != X && (na.mtserialnumber=X);-1 != aa && (na.uitserialnumber=aa);na.encrypted=sa;pa && (na.compressionalgo=pa);if(sa && 0 < ea.length)va.encrypt(ea,{result:function(Ea){Ma(wa,function(){var Pa;na.servicedata=Db(Ea);Pa=Rb(JSON.stringify(na),Lb);va.sign(Pa,{result:function(Ta){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Ta){Ma(wa,function(){Ta instanceof cb && (Ta.setEntity(V),Ta.setUser(Z));throw Ta;});}});},ra);},error:function(Ea){Ma(wa,function(){Ea instanceof cb && (Ea.setEntity(V),Ea.setUser(Z));throw Ea;});}});else {na.servicedata=Db(ea);Ia=Rb(JSON.stringify(na),Lb);va.sign(Ia,{result:function(Ea){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Ea){Ma(wa,function(){Ea instanceof cb && (Ea.setEntity(V),Ea.setUser(Z));throw Ea;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(da){return da?da instanceof ic?da.serialNumber == this.mtSerialNumber:da instanceof ad?da.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var da;da={};da.tokendata=Db(this.tokendata);da.signature=Db(this.signature);return da;},equals:function(da){return this === da?!0:da instanceof Jc?this.name == da.name && this.mtSerialNumber == da.mtSerialNumber && this.uitSerialNumber == da.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Dc=function(da,ia,fa,V,Z,sa,pa,va,Ca){new Jc(da,ia,fa,V,Z,sa,pa,va,null,Ca);};Hd=function(da,ia,fa,V,Z,sa){Ma(sa,function(){var pa,va,Ca,wa,ra,X,aa,ea,na,Ia,Ea,Pa,Ta;!Z || Z instanceof bd || (Z=ha(ia,Z));pa=ia.tokendata;va=ia.signature;if("string" !== typeof pa || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(V);try{Ca=Gb(pa);}catch(la){throw new cb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ia),la).setEntity(fa).setEntity(V);}if(!Ca || 0 == Ca.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(V);try{wa=Gb(va);}catch(la){throw new cb(W.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ia),la).setEntity(fa).setEntity(V);}ra=Tb(Ca,Lb);try{X=JSON.parse(ra);aa=X.name;ea=X.mtserialnumber?parseInt(X.mtserialnumber):-1;na=X.uitserialnumber?parseInt(X.uitserialnumber):-1;Ia=X.encrypted;Ea=X.compressionalgo;Pa=X.servicedata;}catch(la){if(la instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ra,la).setEntity(fa).setEntity(V);throw la;}if(!aa || "number" !== typeof ea || ea != ea || "number" !== typeof na || na != na || "boolean" !== typeof Ia || Ea && "string" !== typeof Ea || "string" !== typeof Pa)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(X.mtserialnumber && 0 > ea || ea > Mb)throw new cb(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(X.uitserialnumber && 0 > na || na > Mb)throw new cb(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(-1 != ea && (!fa || ea != fa.serialNumber))throw new cb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + fa).setEntity(fa).setEntity(V);if(-1 != na && (!V || na != V.serialNumber))throw new cb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + na + "; uit " + V).setEntity(fa).setEntity(V);Ia=!0 === Ia;if(Ea){if(!Mc[Ea])throw new cb(W.UNIDENTIFIED_COMPRESSION,Ea);Ta=Ea;}else Ta=null;Z?Z.verify(Ca,wa,{result:function(la){Ma(sa,function(){var xa,za;if(la){try{xa=Gb(Pa);}catch(Ja){throw new cb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra,Ja).setEntity(fa).setEntity(V);}if(!xa || 0 != Pa.length && 0 == xa.length)throw new cb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(Ia && 0 < xa.length)Z.decrypt(xa,{result:function(Ja){Ma(sa,function(){var Ba,Oa;Ba=Ta?Id(Ta,Ja):Ja;Oa=new ba(Ca,wa,la);new Jc(da,aa,Ba,-1 != ea?fa:null,-1 != na?V:null,Ia,Ta,Z,Oa,sa);});},error:function(Ja){Ma(sa,function(){Ja instanceof cb && (Ja.setEntity(fa),Ja.setUser(V));throw Ja;});}});else {xa=Ta?Id(Ta,xa):xa;za=new ba(Ca,wa,la);new Jc(da,aa,xa,-1 != ea?fa:null,-1 != na?V:null,Ia,Ta,Z,za,sa);}}else (xa="" == Pa?new Uint8Array(0):null,za=new ba(Ca,wa,la),new Jc(da,aa,xa,-1 != ea?fa:null,-1 != na?V:null,Ia,Ta,Z,za,sa));});},error:function(la){Ma(sa,function(){la instanceof cb && (la.setEntity(fa),la.setUser(V));throw la;});}}):(pa="" == Pa?new Uint8Array(0):null,va=new ba(Ca,wa,!1),new Jc(da,aa,pa,-1 != ea?fa:null,-1 != na?V:null,Ia,Ta,Z,va,sa));});};})();ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ac);(function(){Gc=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Gc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});gf=function(ha,ba,da,ia){Ma(ia,function(){var fa,V,Z;fa=da.scheme;V=da.authdata;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(da));if(!ac[fa])throw new Hb(W.UNIDENTIFIED_USERAUTH_SCHEME,fa);Z=ha.getUserAuthenticationFactory(fa);if(!Z)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,fa);Z.createData(ha,ba,V,ia);});};})();od=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,ba,da,ia){},authenticate:function(ha,ba,da,ia){}});(function(){Uc=Gc.extend({init:function ia(ba,da){ia.base.call(this,ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ba,writable:!1,configurable:!1},secureNetflixId:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.netflixid=this.netflixId;this.secureNetflixId && (ba.securenetflixid=this.secureNetflixId);return ba;},equals:function ia(da){return this === da?!0:da instanceof Uc?ia.base.call(this,da) && this.netflixId == da.netflixId && this.secureNetflixId == da.secureNetflixId:!1;}});tf=function(da){var ia,fa;ia=da.netflixid;fa=da.securenetflixid;if(!ia)throw new yb(W.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(da));return new Uc(ia,fa);};})();Wf=od.extend({init:function ba(){ba.base.call(this,ac.NETFLIXID);},createData:function(ba,da,ia,fa){Ma(fa,function(){return tf(ia);});},authenticate:function(ba,da,ia,fa){if(!(ia instanceof Uc))throw new vb("Incorrect authentication data type " + ia + ".");ba=ia.secureNetflixId;if(!ia.netflixId || !ba)throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(ia);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ia);}});(function(){pd=Gc.extend({init:function fa(da,ia){fa.base.call(this,ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:da,writable:!1,configurable:!1},password:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){var da;da={};da.email=this.email;da.password=this.password;return da;},equals:function fa(ia){return this === ia?!0:ia instanceof pd?fa.base.call(this,this,ia) && this.email == ia.email && this.password == ia.password:!1;}});uf=function(ia){var fa,V;fa=ia.email;V=ia.password;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ia));return new pd(fa,V);};})();Xf=od.extend({init:function da(){da.base.call(this,ac.EMAIL_PASSWORD);},createData:function(da,ia,fa,V){Ma(V,function(){return uf(fa);});},authenticate:function(da,ia,fa,V){if(!(fa instanceof pd))throw new vb("Incorrect authentication data type " + fa + ".");da=fa.password;if(!fa.email || !da)throw new Hb(W.EMAILPASSWORD_BLANK).setUser(fa);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){var V,Z,sa,pa,va,Ca,wa,ra;function da(X,aa){return "<" + X + ">" + aa + "</" + X + ">";}function ia(X){return X.replace(/[<>&"']/g,function(aa){return va[aa];});}function fa(X){return encodeURIComponent(X).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}V=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Z=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});sa=qe=Z.extend({init:function(X,aa,ea,na,Ia,Ea,Pa){var xa;function Ta(za){Ma(Pa,function(){var Ja,Ba;try{Ja={};Ja.useridtoken=X;Ja.action=aa;Ja.nonce=ea;Ja.pin=Db(za);Ba=Rb(JSON.stringify(Ja),Lb);}catch(Oa){throw new yb(W.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Oa);}Ia.sign(Ba,{result:function(Oa){la(Ba,Oa);},error:Pa.error});},xa);}function la(za,Ja){Ma(Pa,function(){Object.defineProperties(this,{_userIdToken:{value:X,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ea,writable:!1,enumerable:!1,configurable:!1},_pin:{value:na,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:za,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},xa);}xa=this;Ma(Pa,function(){Ea?la(Ea.encoding,Ea.signature):Ia.encrypt(Rb(na,Lb),{result:function(za){Ta(za);},error:Pa.error});},xa);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof sa?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin && this._userIdToken.equals(X._userIdToken):!1;}});qe.ACTION="userauth";pa=function(X,aa,ea,na,Ia){function Ea(Ta){Ma(Ia,function(){var la,xa,za,Ja,Ba,Oa;la=Tb(ea,Lb);try{xa=JSON.parse(la);za=xa.useridtoken;Ja=xa.action;Ba=xa.nonce;Oa=xa.pin;}catch(Fa){if(Fa instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + la,Fa);throw Fa;}if(!(za && "object" === typeof za && Ja && "string" === typeof Ja && Ba && "number" === typeof Ba && Oa) || "string" !== typeof Oa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + la);Rc(X,za,aa,{result:function(Fa){Ma(Ia,function(){if(!Fa.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + la);Pa(Ta,Fa,Ja,Ba,Oa);});},error:function(Fa){Ma(Ia,function(){if(Fa instanceof cb)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + la,Fa);throw Fa;});}});});}function Pa(Ta,la,xa,za,Ja){Ma(Ia,function(){var Ba;Ba=Gb(Ja);Ta.decrypt(Ba,{result:function(Oa){Ma(Ia,function(){var Fa;Fa=Tb(Oa,Lb);new sa(la,xa,za,Fa,null,{encoding:ea,signature:na},Ia);});},error:Ia.error});});}Ma(Ia,function(){var Ta,la;try{Ta=X.getMslStore().getCryptoContext(aa);la=Ta?Ta:new jc(X,aa);}catch(xa){if(xa instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ea));throw xa;}la.verify(ea,na,{result:function(xa){Ma(Ia,function(){if(!xa)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ea));Ea(la);});},error:Ia.error});});};va={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ca=qd=Z.extend({init:function(X,aa,ea,na){var Ia,Ea;Ia=da("action",ia(X));Ea=da("nonce",aa.toString());ea=da("pin",ea);Ia=da("registerdata",Ia + Ea + ea);Ia=Rb(Ia,"utf-8");Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof Ca?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});qd.ACTION="regpairrequest";wa=re=Z.extend({init:function(X,aa,ea,na,Ia,Ea){var la;function Pa(xa){Ma(Ea,function(){var za,Ja,Ba,Oa,Fa;za=Db(xa);Ja=da("action",ia(X));Ba=da("nonce",aa.toString());Oa=da("pin",za);Ja=da("registerdata",Ja + Ba + Oa);Fa=Rb(Ja,"utf-8");za="action=" + fa(X) + "&nonce=" + fa(aa.toString()) + "&pin=" + fa(za);na.sign(Rb(za,"utf-8"),{result:function(Va){Ta(Fa,Va);},error:Ea.error});},la);}function Ta(xa,za){Ma(Ea,function(){Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ea,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;},la);}la=this;Ma(Ea,function(){Ia?Ta(Ia.encoding,Ia.signature):na.encrypt(Rb(ea,"utf-8"),{result:function(xa){Pa(xa);},error:Ea.error});},la);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof wa?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});re.ACTION=qd.ACTION;ra=function(X,aa,ea,na,Ia){Ma(Ia,function(){var Ea,Pa,Ta,la,xa,za,Ja;Ea=X.getMslStore().getCryptoContext(aa);Pa=Ea?Ea:new jc(X,aa);Ea=Tb(ea,"utf-8");Ta=new DOMParser().parseFromString(Ea,"application/xml");Ea=Ta.getElementsByTagName("action");la=Ta.getElementsByTagName("nonce");Ta=Ta.getElementsByTagName("pin");xa=Ea && 1 == Ea.length && Ea[0].firstChild?Ea[0].firstChild.nodeValue:null;za=la && 1 == la.length && la[0].firstChild?parseInt(la[0].firstChild.nodeValue):null;Ja=Ta && 1 == Ta.length && Ta[0].firstChild?Ta[0].firstChild.nodeValue:null;if(!xa || !za || !Ja)throw new yb(W.XML_PARSE_ERROR,"MDX authdata " + Db(ea));Ea="action=" + fa(xa) + "&nonce=" + fa(za.toString()) + "&pin=" + fa(Ja);Pa.verify(Rb(Ea,"utf-8"),na,{result:function(Ba){Ma(Ia,function(){var Oa;if(!Ba)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ea));Oa=Gb(Ja);Pa.decrypt(Oa,{result:function(Fa){Ma(Ia,function(){var Va;Va=Tb(Fa,"utf-8");new wa(xa,za,Va,null,{encoding:ea,signature:na},Ia);});},error:Ia.error});});},error:Ia.error});});};ed=Gc.extend({init:function Ta(aa,ea,na,Ia,Ea,Pa){var la,xa,za,Ja,Ba,Oa;Ta.base.call(this,ac.MDX);la=null;xa=null;za=null;if("string" === typeof na)(aa=V.MSL_LEGACY,za=na);else if(na instanceof Uint8Array)(aa=V.NTBA,xa=na);else if(na instanceof ic)(aa=V.MSL,la=na);else throw new TypeError("Controller token " + na + " is not a master token, encrypted CTicket, or MSL token construct.");Ja=na=null;Ba=null;if(Pa){Oa=Pa.controllerAuthData;na=Oa.getAction();Ja=Oa.getPin();Pa=Pa.userIdToken;Oa instanceof sa?Ba=Oa.getUserIdToken().customer:Pa && (Ba=Pa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:na,writable:!1,configurable:!1},targetPin:{value:ea,writable:!1,configurable:!1},controllerPin:{value:Ja,writable:!1,configurable:!1},customer:{value:Ba,writable:!1,configurable:!1},_masterToken:{value:la,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:xa,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:za,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,ea;aa={};switch(this.mechanism){case V.MSL:ea=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=ea;break;case V.NTBA:ea=Tb(this._encryptedCTicket,"utf-8");aa.cticket=ea;break;case V.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Db(this._controllerEncoding);aa.signature=Db(this._signature);return aa;},equals:function na(ea){return this === ea?!0:ea instanceof ed?na.base.call(this,ea) && (this._masterToken == ea._masterToken || this._masterToken && this._masterToken.equals(ea._masterToken)) && (this._encryptedCTicket == ea._encryptedCTicket || this._encryptedCTicket && Wb(this._encryptedCTicket,ea._encryptedCTicket)) && this._mslTokens == ea._mslTokens && Wb(this._controllerEncoding,ea._controllerEncoding) && Wb(this._signature,ea._signature):!1;}});vf=function(ea,na,Ia){function Ea(la,xa,za,Ja){Qc(ea,xa,{result:function(Ba){Ma(Ia,function(){if(!Ba.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());pa(ea,Ba,za,Ja,{result:function(Oa){Ma(Ia,function(){var Fa,Va;Fa=Oa.getEncoding();Va=Oa.getSignature();return new ed(ea,la,Ba,Fa,Va,{controllerAuthData:Oa,userIdToken:null});});},error:Ia.error});});},error:function(Ba){Ma(Ia,function(){if(Ba instanceof cb)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),Ba);throw Ba;});}});}function Pa(la,xa,za,Ja){Ma(Ia,function(){throw new Hb(W.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ta(la,xa,za,Ja){function Ba(Fa,Va){Ma(Va,function(){var Za,Wa;try{Za=Gb(Fa);}catch(jb){throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);}if(!Za || 0 == Za.length)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{Wa=JSON.parse(Tb(Za,"utf-8"));Qc(ea,Wa,{result:function(jb){Ma(Va,function(){if(!jb.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());return jb;});},error:function(jb){Ma(Va,function(){if(jb instanceof cb)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);throw jb;});}});}catch(jb){if(jb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),jb);throw jb;}});}function Oa(Fa,Va,Za){Ma(Za,function(){var Wa,jb;try{Wa=Gb(Fa);}catch(mb){throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);}if(!Wa || 0 == Wa.length)throw new Hb(W.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{jb=JSON.parse(Tb(Wa,"utf-8"));Rc(ea,jb,Va,{result:function(mb){Ma(Za,function(){if(!mb.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na));return mb;});},error:function(mb){Ma(Za,function(){if(mb instanceof cb)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),mb);throw mb;}});}Ma(Ia,function(){var Fa;Fa=xa.split(",");if(3 != Fa.length || "1" != Fa[0])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));Ba(Fa[1],{result:function(Va){Oa(Fa[2],Va,{result:function(Za){ra(ea,Va,za,Ja,{result:function(Wa){Ma(Ia,function(){return new ed(ea,la,xa,za,Ja,{controllerAuthData:Wa,userIdToken:Za});});},error:function(Wa){Ma(Ia,function(){if(Wa instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na),Wa);throw Wa;});}});},error:Ia.error});},error:Ia.error});});}Ma(Ia,function(){var la,xa,za,Ja,Ba;la=na.pin;xa=na.mdxauthdata;za=na.signature;if(!la || "string" !== typeof la || !xa || "string" !== typeof xa || !za || "string" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));try{Ja=Gb(xa);Ba=Gb(za);}catch(Oa){throw new Hb(W.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(na),Oa);}if(na.mastertoken){xa=na.mastertoken;if(!xa || "object" !== typeof xa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));Ea(la,xa,Ja,Ba);}else if(na.cticket){xa=na.cticket;if(!xa || "string" !== typeof xa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));-1 == xa.indexOf(",")?Pa(la,xa,Ja,Ba):Ta(la,xa,Ja,Ba);}else throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));});};})();(function(){var da,ia,fa;da=qe.ACTION;ia=qd.ACTION;fa=re.ACTION;wf=od.extend({init:function Z(){Z.base.call(this,ac.MDX);},createData:function(Z,sa,pa,va){vf(Z,pa,va);},authenticate:function(Z,sa,pa,va){if(!(pa instanceof ed))throw new vb("Incorrect authentication data type " + pa.getClass().getName() + ".");Z=pa.action;switch(pa.mechanism){case Ld.MSL:if(da != Z)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(pa);break;case Ld.NTBA:if(ia != Z)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(pa);break;case Ld.MSL_LEGACY:if(fa != Z)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(pa);}Z=pa.controllerPin;sa=pa.targetPin;if(!Z || !sa)throw new Hb(W.MDX_PIN_BLANK).setUser(pa);if(Z != sa)throw new Hb(W.MDX_PIN_MISMATCH).setUser(pa);Z=pa.customer;if(!Z)throw new Hb(W.MDX_USER_UNKNOWN).setUser(pa);if(va && (va=va.customer,!Z.equals(va)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Z + "; uit customer " + va).setUser(pa);return Z;}});})();(function(){var da,ia,fa;da={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ia=yf=Bb.Class.create({init:function(V,Z){Object.defineProperties(this,{email:{value:V,writable:!1,enumerable:!0,configurable:!1},password:{value:Z,writable:!1,enumerable:!0,configurable:!1}});}});fa=zf=Bb.Class.create({init:function(V,Z){Object.defineProperties(this,{netflixId:{value:V,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Z,writable:!1,enumerable:!0,configurable:!1}});}});rd=Gc.extend({init:function Ca(Z,sa,pa,va){var wa,ra,X,aa;Ca.base.call(this,ac.SSO);wa=null;ra=null;X=null;aa=null;pa instanceof ia?(wa=pa.email,ra=pa.password):pa instanceof fa && (X=pa.netflixId,aa=pa.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},token:{value:sa,writable:!1,configurable:!1},email:{value:wa,writable:!1,configurable:!1},password:{value:ra,writable:!1,configurable:!1},netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof va?null:va,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.mechanism=this.mechanism;Z.token=Db(this.token);this.email && this.password?(Z.email=this.email,Z.password=this.password):this.netflixId && this.secureNetflixId && (Z.netflixid=this.netflixId,Z.securenetflixid=this.secureNetflixId);this.profileGuid && (Z.profileguid=this.profileGuid);return Z;},equals:function pa(sa){return this === sa?!0:sa instanceof rd?pa.base.call(this,sa) && this.mechanism == sa.mechanism && Wb(this.token,sa.token) && this.email == sa.email && this.password == sa.password && this.netflixId == sa.netflixId && this.secureNetflixId == sa.secureNetflixId && this.profileGuid == sa.profileGuid:!1;}});xf=function(sa){var pa,va,Ca,wa,ra,X,aa,ea,na;pa=sa.mechanism;va=sa.token;if(!pa || !va || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(sa));if(!da[pa])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(sa));Ca=sa.email;wa=sa.password;ra=sa.netflixid;X=sa.securenetflixid;aa=sa.profileguid;if(Ca && !wa || !Ca && wa || ra && !X || !ra && X || Ca && ra)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(sa));try{ea=Gb(va);}catch(Ia){throw new Hb(W.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(sa),Ia);}Ca && wa?na=new ia(Ca,wa):ra && X && (na=new fa(ra,X));return new rd(pa,ea,na,aa);};})();Yf=od.extend({init:function ia(){ia.base.call(this,ac.SSO);},createData:function(ia,fa,V,Z){Ma(Z,function(){return xf(V);});},authenticate:function(ia,fa,V,Z){var sa,pa;if(!(V instanceof rd))throw new vb("Incorrect authentication data type " + V + ".");ia=V.token;fa=V.email;Z=V.password;sa=V.netflixId;pa=V.secureNetflixId;if(!ia || 0 == ia.length)throw new Hb(W.SSOTOKEN_BLANK);if(!(null === fa && null === Z || fa && Z))throw new Hb(W.EMAILPASSWORD_BLANK);if(!(null === sa && null === pa || sa && pa))throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){sd=Gc.extend({init:function Z(fa,V){Z.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:fa,writable:!1,configurable:!1},profileGuid:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var fa;fa={};fa.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));fa.profileguid=this.profileGuid;return fa;},equals:function Z(V){return this == V?!0:V instanceof sd?Z.base.call(this,V) && this.userIdToken.equals(V.userIdToken) && this.profileGuid == V.profileGuid:!1;}});Af=function(V,Z,sa,pa){Ma(pa,function(){var va,Ca;if(!Z)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING);va=sa.useridtoken;Ca=sa.profileguid;if("object" !== typeof va || "string" !== typeof Ca)throw new yb(W.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(sa));Rc(V,va,Z,{result:function(wa){Ma(pa,function(){if(!wa.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(sa));return new sd(wa,Ca);});},error:function(wa){pa.error(new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(sa),wa));}});});};})();Zf=od.extend({init:function V(fa){V.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(fa,V,Z,sa){Af(fa,V,Z,sa);},authenticate:function(fa,V,Z,sa){if(!(Z instanceof sd))throw new vb("Incorrect authentication data type " + Z + ".");V=Z.userIdToken;fa=Z.profileGuid;if(!fa)throw new Hb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Z);V=V.user;if(!V)throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Z);fa=this._store.switchUsers(V,fa);if(!fa)throw new Hb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Z);if(sa && (sa=sa.user,!fa.equals(sa)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + fa + "; uit user " + sa).setUserAuthenticationData(Z);return fa;}});Object.freeze({ENTITY_REAUTH:La.ENTITY_REAUTH,ENTITYDATA_REAUTH:La.ENTITYDATA_REAUTH});$f=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(fa,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(fa){},getUserAuthenticationFactory:function(fa){},getTokenFactory:function(){},getKeyExchangeFactory:function(fa){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Bf=Bb.Class.create({setCryptoContext:function(fa,V){},getMasterToken:function(){},getNonReplayableId:function(fa){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){},removeServiceTokens:function(fa,V,Z){},clearServiceTokens:function(){}});(function(){var fa;fa=Mc;oe=function(V,Z){var sa;sa={};switch(V){case fa.LZW:return De(Z,sa);case fa.GZIP:return gzip$compress(Z);default:throw new cb(W.UNSUPPORTED_COMPRESSION,V);}};Id=function(V,Z,sa){switch(V){case fa.LZW:return Ee(Z);case fa.GZIP:return gzip$uncompress(Z);default:throw new cb(W.UNSUPPORTED_COMPRESSION,V.name());}};})();Bf.extend({setCryptoContext:function(fa,V){},getMasterToken:function(){return null;},getNonReplayableId:function(fa){return 1;},getCryptoContext:function(fa){return null;},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){return null;},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){if(V){if(!fa)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(fa))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + fa.serialNumber);}return [];},removeServiceTokens:function(fa,V,Z){if(Z && V && !Z.isBoundTo(V))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){Cf=Bf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,Z){var sa;if(Z){sa=V.uniqueKey();this.masterTokens[sa]=V;this.cryptoContexts[sa]=Z;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,Z,sa;V=null;for(Z in this.masterTokens){sa=this.masterTokens[Z];if(!V || sa.isNewerThan(V))V=sa;}return V;},getNonReplayableId:function(V){var Z;V=V.serialNumber;Z=this.nonReplayableIds[V] !== Ab?this.nonReplayableIds[V]:0;if(0 > Z || Z > Mb)throw new vb("Non-replayable ID " + Z + " is outside the valid range.");Z=Z == Mb?0:Z + 1;return this.nonReplayableIds[V]=Z;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var Z,sa,pa,va;Z=V.uniqueKey();if(this.masterTokens[Z]){sa=V.serialNumber;for(pa in this.masterTokens){va=this.masterTokens[pa];if(!va.equals(V) && va.serialNumber == sa){delete this.masterTokens[Z];delete this.cryptoContexts[Z];return;}}Object.keys(this.userIdTokens).forEach(function(Ca){Ca=this.userIdTokens[Ca];Ca.isBoundTo(V) && this.removeUserIdToken(Ca);},this);try{this.removeServiceTokens(null,V,null);}catch(Ca){if(Ca instanceof cb)throw new vb("Unexpected exception while removing master token bound service tokens.",Ca);throw Ca;}delete this.nonReplayableIds[sa];delete this.masterTokens[Z];delete this.cryptoContexts[Z];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var Z in V){delete V[Z];}},this);},addUserIdToken:function(V,Z){var sa,pa;sa=!1;for(pa in this.masterTokens){if(Z.isBoundTo(this.masterTokens[pa])){sa=!0;break;}}if(!sa)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Z.mtSerialNumber);this.userIdTokens[V]=Z;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var Z,sa,pa;Z=null;for(sa in this.masterTokens){pa=this.masterTokens[sa];if(V.isBoundTo(pa)){Z=pa;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,Z,V);}catch(Ca){if(Ca instanceof cb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(Z){var sa,pa;if(Z.isMasterTokenBound()){sa=!1;for(pa in this.masterTokens){if(Z.isBoundTo(this.masterTokens[pa])){sa=!0;break;}}if(!sa)throw new cb(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Z.mtSerialNumber);}if(Z.isUserIdTokenBound()){sa=!1;for(var va in this.userIdTokens){if(Z.isBoundTo(this.userIdTokens[va])){sa=!0;break;}}if(!sa)throw new cb(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Z.uitSerialNumber);}},this);V.forEach(function(Z){var sa;if(Z.isUnbound())this.unboundServiceTokens[Z.uniqueKey()]=Z;else {if(Z.isMasterTokenBound()){sa=this.mtServiceTokens[Z.mtSerialNumber];sa || (sa={});sa[Z.uniqueKey()]=Z;this.mtServiceTokens[Z.mtSerialNumber]=sa;}Z.isUserIdTokenBound() && ((sa=this.uitServiceTokens[Z.uitSerialNumber]) || (sa={}),sa[Z.uniqueKey()]=Z,this.uitServiceTokens[Z.uitSerialNumber]=sa);}},this);},getServiceTokens:function(V,Z){var sa,pa,va;if(Z){if(!V)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!Z.isBoundTo(V))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.mtSerialNumber + "; mt " + V.serialNumber);}sa={};for(pa in this.unboundServiceTokens){va=this.unboundServiceTokens[pa];sa[va.uniqueKey()]=va;}if(V && (pa=this.mtServiceTokens[V.serialNumber]))for(var Ca in pa){va=pa[Ca];va.isUserIdTokenBound() || (sa[Ca]=va);}if(Z && (Z=this.uitServiceTokens[Z.serialNumber]))for(var wa in Z){Ca=Z[wa];Ca.isBoundTo(V) && (sa[wa]=Ca);}V=[];for(var ra in sa){V.push(sa[ra]);}return V;},removeServiceTokens:function(V,Z,sa){var pa,va,Ca;if(sa && Z && !sa.isBoundTo(Z))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + sa.mtSerialNumber + "; mt " + Z.serialNumber);!V || Z || sa || Object.keys(this.unboundServiceTokens).forEach(function(wa){this.unboundServiceTokens[wa].name == V && delete this.unboundServiceTokens[wa];},this);if(Z && !sa && (pa=this.mtServiceTokens[Z.serialNumber])){Ca=Object.keys(pa);Ca.forEach(function(wa){var ra;ra=pa[wa];V && ra.name != V || delete pa[wa];},this);this.mtServiceTokens[Z.serialNumber]=pa;}sa && (va=this.uitServiceTokens[sa.serialNumber]) && (Z=Object.keys(va),Z.forEach(function(wa){var ra;ra=va[wa];V && ra.name != V || delete va[wa];},this),this.uitServiceTokens[sa.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var Z in V){delete V[Z];}},this);}});})();If=Tf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,Z){Z && V && V.length && (V=Db(V),this._contextMap[V]=Z);},getCryptoContext:function(V){return V && V.length?(V=Db(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Db(V),delete this._contextMap[V]);}});Df=Lf.extend({init:function Ca(Z,sa,pa,va){Ca.base.call(this,Z);Object.defineProperties(this,{_kde:{value:sa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Z,sa){if(!(sa instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(sa) + ".");if(sa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + sa.identity);return new Bd(Z,this.localIdentity,this._kde,this._kdh,this._kdw);}});ag=Mf.extend({init:function wa(sa,pa,va,Ca){wa.base.call(this,sa);Object.defineProperties(this,{_kpe:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(sa,pa){if(!(pa instanceof uc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + pa.identity);return new Bd(sa,this.localIdentity,this._kpe,this._kph,this._kpw);}});cg=Cf.extend({init:function aa(pa,va,Ca,wa,ra,X){aa.base.call(this);this._log=pa;this._esn=va;this._keyRequestData=Ca;this._createKeyRequestData=wa;this._systemKeyName=ra;this._systemKeyWrapFormat=X;},setCryptoContext:function ra(va,Ca,wa){var X;X=this;X._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});ra.base.call(this,va,Ca);!wa && (va=X._createKeyRequestData) && (X._log.trace("Generating new keyx request data"),va().then(function(aa){X._keyRequestData=aa;},function(aa){X._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function ra(Ca,wa){this._log.trace("Adding UserIdToken",{UserId:Ca,SerialNumber:wa.serialNumber,MTSerialNumber:wa.mtSerialNumber,Expiration:wa.expiration.getTime()});ra.base.call(this,Ca,wa);},addServiceTokens:function ra(wa){ra.base.call(this,wa.filter(function(X){return !bg[X.name];}));},getUserIdTokenKeys:function(){var wa,ra;wa=[];for(ra in this.userIdTokens){wa.push(ra);}return wa;},rekeyUserIdToken:function(wa,ra){this.userIdTokens[wa] && (this.userIdTokens[ra]=this.userIdTokens[wa],delete this.userIdTokens[wa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(wa){var ra;ra=this;Ma(wa,function(){var X;X=ra.getMasterToken();X?ra.getKeysForStore(X,{result:function(aa){Ma(wa,function(){var ea,na,Ia;ea=ra.userIdTokens;na=Object.keys(ea).map(function(Ea){var Pa;Pa=ea[Ea];return {userId:Ea,userIdTokenJSON:ea[Ea].toJSON(),serviceTokenJSONList:ra.getServiceTokens(X,Pa).map(Ff)};});aa.esn=ra._esn;aa.masterTokenJSON=X.toJSON();aa.userList=na;Ia=ra._keyRequestData.storeData;Ia && Object.keys(Ia).forEach(function(Ea){aa[Ea]=Ia[Ea];});return aa;});},timeout:wa.timeout,error:wa.error}):wa.result(null);});},getKeysForStore:function(wa,ra){var X;X=this;Ma(ra,function(){var aa;aa=X.getCryptoContext(wa);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(X._systemKeyWrapFormat)X.wrapKeysWithSystemKey(aa,ra);else return aa;}else throw new cb(W.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(wa,ra){var X;X=this;xe(this._systemKeyName,{result:function(aa){Ma(ra,function(){var ea,na,Ia,Ea;ea=wa.encryptionKey;na=wa.hmacKey;Ia=ea[fd];Ea=na[fd];if(Ia && Ea)return {wrappedEncryptionKey:Ia,wrappedHmacKey:Ea};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(X._systemKeyWrapFormat,ea,aa,aa.algorithm),Jb.wrapKey(X._systemKeyWrapFormat,na,aa,aa.algorithm)]);}).then(function(Pa){Ia=Db(Pa[0]);ea[fd]=Ia;Ea=Db(Pa[1]);na[fd]=Ea;ra.result({wrappedEncryptionKey:Ia,wrappedHmacKey:Ea});}).catch(function(Pa){ra.error(new cb(W.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Pa));});});},timeout:ra.timeout,error:ra.error});},unwrapKeysWithSystemKey:function(wa,ra){var X;X=this;xe(this._systemKeyName,{result:function(aa){Ma(ra,function(){var ea,na;ea=Gb(wa.wrappedEncryptionKey);na=Gb(wa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(X._systemKeyWrapFormat,ea,aa,aa.algorithm,sc,!1,Hc),Jb.unwrapKey(X._systemKeyWrapFormat,na,aa,aa.algorithm,tc,!1,Pc)]);}).then(function(Ia){var Ea;Ea=Ia[0];Ia=Ia[1];Ea[fd]=wa.wrappedEncryptionKey;Ia[fd]=wa.wrappedHmacKey;ra.result({encryptionKey:Ea,hmacKey:Ia});}).catch(function(Ia){ra.error(new cb(W.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ia));});});},timeout:ra.timeout,error:ra.error});},loadStoreState:function(wa,ra,X,aa){var Ia,Ea;function ea(Pa,Ta){var la;try{la=X.userList.slice();}catch(xa){}la?(function za(){var Ja;Ja=la.shift();Ja?Rc(ra,Ja.userIdTokenJSON,Pa,{result:function(Ba){try{Ia.addUserIdToken(Ja.userId,Ba);na(Pa,Ba,Ja.serviceTokenJSONList,{result:za,timeout:za,error:za});}catch(Oa){za();}},timeout:za,error:za}):Ta.result();})():Ta.result();}function na(Pa,Ta,la,xa){var za,Ja;try{za=la.slice();}catch(Ba){}if(za){Ja=Ia.getCryptoContext(Pa);(function Oa(){var Fa;Fa=za.shift();Fa?Hd(ra,Fa,Pa,Ta,Ja,{result:function(Va){Ia.addServiceTokens([Va]);Oa();},timeout:function(){Oa();},error:function(){Oa();}}):xa.result();})();}else xa.result();}Ia=this;Ea=Ia._log;X.esn != Ia._esn?(Ea.error("Esn mismatch, starting fresh"),aa.error()):(function(Pa){var xa,za,Ja,Ba;function Ta(){var Oa;if(!xa && za && Ja && Ba){xa=!0;Oa=new jc(ra,za,wa.esn,{rawKey:Ja},{rawKey:Ba});Ia.setCryptoContext(za,Oa,!0);Pa.result(za);}}function la(Oa,Fa){Ea.error(Oa,Fa && "" + Fa);xa || (xa=!0,Pa.error());}X.masterTokenJSON?(Qc(ra,X.masterTokenJSON,{result:function(Oa){za=Oa;Ta();},timeout:function(){la("Timeout parsing MasterToken");},error:function(Oa){la("Error parsing MasterToken",Oa);}}),Ia._systemKeyWrapFormat?Ia.unwrapKeysWithSystemKey(X,{result:function(Oa){Ja=Oa.encryptionKey;Ba=Oa.hmacKey;Ta();},timeout:function(){la("Timeout unwrapping keys");},error:function(Oa){la("Error unwrapping keys",Oa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:sc.name,iv:new Uint8Array(16)},X.encryptionKey,new Uint8Array(1));}).then(function(Oa){Ja=X.encryptionKey;}).catch(function(Oa){la("Error loading encryptionKey");}).then(function(){return Jb.sign(tc,X.hmacKey,new Uint8Array(1));}).then(function(Oa){Ba=X.hmacKey;Ta();}).catch(function(Oa){la("Error loading hmacKey");})):la("Persisted store is corrupt");})({result:function(Pa){ea(Pa,aa);},timeout:aa.timeout,error:aa.error});}});bg={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fd="$netflix$msl$wrapsys";dg=$f.extend({init:function(wa,ra,X,aa,ea,na){var Ia,Ea;Ia=new md([Mc.LZW]);Ea=new Of();Ea.addPublicKey(ra,X);aa[Ob.RSA]=new Nf(Ea);ra={};ra[ac.EMAIL_PASSWORD]=new Xf();ra[ac.NETFLIXID]=new Wf();ra[ac.MDX]=new wf();ra[ac.SSO]=new Yf();ra[ac.SWITCH_PROFILE]=new Zf();wa={_mslCryptoContext:{value:new Kf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ea,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ra,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_store:{value:wa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,wa);},getTime:function(){return Date.now();},getRandom:function(){return new Ie();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(wa,ra){ra.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(wa){return this._entityAuthFactories[wa];},getUserAuthenticationFactory:function(wa){return this._userAuthFactories[wa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(wa){return this._keyExchangeFactories.filter(function(ra){return ra.scheme == wa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ze=qf.extend({init:function(wa,ra,X,aa){this._log=wa;this._mslContext=ra;this._mslRequest=X;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(wa,ra,X,aa){var ea,na;ea=this._mslRequest;na=this._mslContext;Ma(aa,function(){var Ia,Ea;if(wa || !ea.shouldSendUserAuthData)return null;if(ea.token){ea.email?Ia=new yf(ea.email,ea.password):ea.netflixId && (Ia=new zf(ea.netflixId,ea.secureNetflixId));Ea="undefined" === typeof ea.profileGuid?null:ea.profileGuid;return new rd(ea.mechanism,Rb(ea.token),Ia,Ea);}return ea.email?new pd(ea.email,ea.password):ea.netflixId?new Uc(ea.netflixId,ea.secureNetflixId):ea.mdxControllerToken?(Ia=new qd("regpairrequest",ea.mdxNonce,ea.mdxEncryptedPinB64,ea.mdxSignature).getEncoding(),new ed(na,ea.mdxPin,ea.mdxControllerToken,Ia,ea.mdxSignature)):ea.useNetflixUserAuthData?new Uc():ea.profileGuid?(Ia=ea.userId,Ia=na.getMslStore().userIdTokens[Ia],new sd(Ia,ea.profileGuid)):X && ea.sendUserAuthIfRequired?new Uc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(wa){wa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(wa,ra,X){var aa,ea,na,Ia,Ea,Pa;aa=this._log;ea=(this._mslRequest.serviceTokens || []).slice();na=this._mslContext;ra=na.getMslStore();Ia=wa.builder.getMasterToken();Ea=this.getUserId();Pa=ra.getUserIdToken(Ea);(function la(){var xa;xa=ea.shift();if(xa)try{xa instanceof Jc?(wa.addPrimaryServiceToken(xa),la()):Hd(na,xa,Ia,Pa,null,{result:function(za){try{wa.addPrimaryServiceToken(za);}catch(Ja){aa.warn("Exception adding service token","" + Ja);}la();},timeout:function(){aa.warn("Timeout parsing service token");la();},error:function(za){aa.warn("Error parsing service token","" + za);la();}});}catch(za){aa.warn("Exception processing service token","" + za);la();}else X.result(!0);})();},write:function(wa,ra,X){var aa;aa=Rb(this._mslRequest.body);wa.write(aa,0,aa.length,ra,{result:function(ea){ea != aa.length?X.error(new Vb("Not all data was written to output.")):wa.flush(ra,{result:function(){X.result(!0);},timeout:function(){X.timeout();},error:function(na){X.error(na);}});},timeout:function(){X.timeout();},error:function(ea){X.error(ea);}});},getDebugContext:function(){this._dc || (this._dc=new eg(this._log,this._mslRequest));return this._dc;}});eg=Vf.extend({init:function(wa,ra){this._log=wa;this._mslRequest=ra;},sentHeader:function(wa){this._log.trace("Sent MSL header",ye(this._mslRequest,wa),wa.serviceTokens && wa.serviceTokens.map(Gf).join("\n"));},receivedHeader:function(wa){var ra,X;ra=ye(this._mslRequest,wa);X=wa.errorCode;X?this._log.warn("Received MSL error header",ra,{errorCode:X,errorMessage:wa.errorMessage,internalCode:wa.internalCode}):this._log.trace("Received MSL header",ra);}});Ef={PSK:function(wa){return Sd(wa,Ob.PSK,ag,uc,ie,Fd);},MGK:function(wa){return Sd(wa,Ob.MGK,Df,oc,ie,Fd);},MGK_WITH_FALLBACK:function(wa){var ra,X;switch(wa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":ra="PSK";break;default:ra="MGK";}X=Ef[ra];if(!X)throw new cb(W.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + ra);return X(wa);},MGK_JWE:function(wa){return Sd(wa,Ob.MGK,Df,oc,Te,he);},JWK_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(wa){return Td(wa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(wa,ra){var X,aa,ea,na,Ia;X=wa.log;Ia=wa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new cb(W.INTERNAL_EXCEPTION,"No WebCrypto");cc=Qb.generateKey({name:"AES-CBC",length:128},!0,Hc).then?wd.V2014_02:wd.LEGACY;Ia("mslisik");return Jb.importKey("spki",wa.serverIdentityKeyData,Je,!1,["verify"]);}).then(function(Ea){return new Promise(function(Pa,Ta){Lc(Ea,{result:Pa,error:function(){Ta(new cb(W.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ea){aa=Ea;if(Ea=Ef[wa.authenticationType])return (Ia("mslcc"),Ea(wa));throw new cb(W.INTERNAL_EXCEPTION,"Invalid authenticationType: " + wa.authenticationType);}).then(function(Ea){var Pa;ea=new cg(X,wa.esn,Ea.keyRequestData,Ea.createKeyRequestData,wa.authenticationKeyNames.s,wa.systemKeyWrapFormat);na=new dg(ea,wa.serverIdentityId,aa,Ea.entityAuthFactories,Ea.entityAuthData,Ea.keyExchangeFactories);Pa=wa.storeState;if(Pa)return (Ia("mslss"),X.info("Loading store state"),new Promise(function(Ta,la){ea.loadStoreState(wa,na,Pa,{result:Ta,timeout:Ta,error:Ta});}));X.info("No store state, starting fresh");}).then(function(){var Ea;Ea=new rf();Ia("msldone");ra.result(new Hf(X,Ea,na,ea,wa.ErrorSubCodes));}).catch(function(Ea){ra.error(Ea);});},IHttpLocation:Rf,MslIoException:Vb};(function(){var Za,Wa,jb,mb,ob,rb,sb,zb,xb;function wa(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ra(r,b){var a,f;if(b)a:{a=Wa;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && Za(a,r,{configurable:!0,writable:!0,value:b});}}function X(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function aa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:wa(r)};}function ea(r){if(!(r instanceof Array)){r=aa(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function na(r,b){var c;r.prototype=jb(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Xcc=b.prototype;}function Ia(){this.rW=!1;this.yE=null;this.Bya=void 0;this.SH=1;this.lWa=this.nub=0;this.wT=null;}function Ea(r){if(r.rW)throw new TypeError("Generator is already running");r.rW=!0;}function Pa(r){this.Hf=new Ia();this.uUb=r;}function Ta(r,b){var a;Ea(r.Hf);a=r.Hf.yE;if(a)return la(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.Hf.return);r.Hf.return(b);return xa(r);}function la(r,b,a,c){var f,l;try{f=b.call(r.Hf.yE,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.Hf.rW=!1,f);l=f.value;}catch(m){return (r.Hf.yE=null,r.Hf.wZ(m),xa(r));}r.Hf.yE=null;c.call(r.Hf,l);return xa(r);}function xa(r){var b;for(;r.Hf.SH;){try{b=r.uUb(r.Hf);if(b)return (r.Hf.rW=!1,{value:b.value,done:!1});}catch(a){r.Hf.Bya=void 0;r.Hf.wZ(a);}}r.Hf.rW=!1;if(r.Hf.wT){b=r.Hf.wT;r.Hf.wT=null;if(b.WKb)throw b.IM;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function za(r){this.next=function(b){return r.lX(b);};this.throw=function(b){return r.wZ(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ja(r,b){b=new za(new Pa(b));zb && r.prototype && zb(b,r.prototype);return b;}function Ba(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Oa(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var l;if(!c && a < r.length){l=a++;return {value:b(l,r[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Fa(r,b,a){var l;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){l=r[f];if(b.call(a,l,f,r))return {apa:f,tE:l};}return {apa:-1,tE:void 0};}function Va(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}Za="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Wa=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ra("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,l){this.tcb=f;Za(this,"description",{configurable:!0,writable:!0,value:l});}if(r)return r;a.prototype.toString=function(){return this.tcb;};c=0;return b;});ra("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Wa[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && Za(c.prototype,r,{configurable:!0,writable:!0,value:function(){return X(wa(this));}});}return r;});jb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=jb(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;Ia.prototype.lX=function(r){this.Bya=r;};Ia.prototype.wZ=function(r){this.wT={IM:r,WKb:!0};this.SH=this.nub || this.lWa;};Ia.prototype.return=function(r){this.wT={return:r};this.SH=this.lWa;};Pa.prototype.lX=function(r){Ea(this.Hf);if(this.Hf.yE)return la(this,this.Hf.yE.next,r,this.Hf.lX);this.Hf.lX(r);return xa(this);};Pa.prototype.wZ=function(r){Ea(this.Hf);if(this.Hf.yE)return la(this,this.Hf.yE["throw"],r,this.Hf.lX);this.Hf.wZ(r);return xa(this);};ra("Reflect",function(r){return r?r:{};});ra("Reflect.construct",function(){return mb;});ra("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});ra("Object.setPrototypeOf",function(r){return r || zb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Ba(c,f) && (r[f]=c[f]);}}return r;};ra("Object.assign",function(r){return r || xb;});ra("Promise",function(r){var f,l;function b(m){var d;this.EP=0;this.DY=void 0;this.qO=[];this.D0a=!1;d=this.zka();try{m(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.tC=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.QQa=function(m){var d;if(null == this.tC){this.tC=[];d=this;this.RQa(function(){d.BCb();});}this.tC.push(m);};f=Wa.setTimeout;a.prototype.RQa=function(m){f(m,0);};a.prototype.BCb=function(){var m,g;for(;this.tC && this.tC.length;){m=this.tC;this.tC=[];for(var d=0;d < m.length;++d){g=m[d];m[d]=null;try{g();}catch(h){this.dsb(h);}}}this.tC=null;};a.prototype.dsb=function(m){this.RQa(function(){throw m;});};b.prototype.zka=function(){var d,g;function m(h){return function(k){g || (g=!0,h.call(d,k));};}d=this;g=!1;return {resolve:m(this.CWb),reject:m(this.Nua)};};b.prototype.CWb=function(m){var d;if(m === this)this.Nua(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.BYb(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.BWb(m):this.VWa(m);}};b.prototype.BWb=function(m){var d;d=void 0;try{d=m.then;}catch(g){this.Nua(g);return;}"function" == typeof d?this.CYb(d,m):this.VWa(m);};b.prototype.Nua=function(m){this.s9a(2,m);};b.prototype.VWa=function(m){this.s9a(1,m);};b.prototype.s9a=function(m,d){if(0 != this.EP)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.EP);this.EP=m;this.DY=d;2 === this.EP && this.fXb();this.CCb();};b.prototype.fXb=function(){var m;m=this;f(function(){var d;if(m.oQb()){d=Wa.console;"undefined" !== typeof d && d.error(m.DY);}},1);};b.prototype.oQb=function(){var m,d,g;if(this.D0a)return !1;m=Wa.CustomEvent;d=Wa.Event;g=Wa.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Wa.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.DY;return g(m);};b.prototype.CCb=function(){if(null != this.qO){for(var m=0;m < this.qO.length;++m){l.QQa(this.qO[m]);}this.qO=null;}};l=new a();b.prototype.BYb=function(m){var d;d=this.zka();m.U3(d.resolve,d.reject);};b.prototype.CYb=function(m,d){var g;g=this.zka();try{m.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function g(p,q){return "function" == typeof p?function(u){try{h(p(u));}catch(t){k(t);}}:q;}n=new b(function(p,q){h=p;k=q;});this.U3(g(m,h),g(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.U3=function(m,d){var h;function g(){switch(h.EP){case 1:m(h.DY);break;case 2:d(h.DY);break;default:throw Error("Unexpected state: " + h.EP);}}h=this;null == this.qO?l.QQa(g):this.qO.push(g);this.D0a=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,g){g(m);});};b.race=function(m){return new b(function(d,g){for(var h=aa(m),k=h.next();!k.done;k=h.next()){c(k.value).U3(d,g);}});};b.all=function(m){var d,g;d=aa(m);g=d.next();return g.done?c([]):new b(function(h,k){var p,q;function n(u){return function(t){p[u]=t;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(g.value).U3(n(p.length - 1),k);g=d.next();}while(!g.done);});};return b;});ra("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push([c,b[c]]);}return a;};});ra("Array.prototype.keys",function(r){return r?r:function(){return Oa(this,function(b){return b;});};});ra("Array.prototype.find",function(r){return r?r:function(b,a){return Fa(this,b,a).tE;};});ra("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ra("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,l;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});ra("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Va(this,b,"includes").indexOf(b,a || 0);};});ra("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ra("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ra("Array.prototype.entries",function(r){return r?r:function(){return Oa(this,function(b,a){return [b,a];});};});ra("WeakMap",function(r){var m,d;function b(g){this.dW=(d+=Math.random() + 1).toString();if(g){g=aa(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Ba(g,m)){h=new a();Za(g,m,{value:h});}}function l(g){var h;h=Object[g];h && (Object[g]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && f(k);return h(k);});}if((function(){var g,h,k;if(!r || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});k=new r([[g,2],[h,3]]);if(2 != k.get(g) || 3 != k.get(h))return !1;k.delete(g);k.set(h,4);return !k.has(g) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Ba(g,m))throw Error("WeakMap key fail: " + g);g[m][this.dW]=h;return this;};b.prototype.get=function(g){return c(g) && Ba(g,m)?g[m][this.dW]:void 0;};b.prototype.has=function(g){return c(g) && Ba(g,m) && Ba(g[m],this.dW);};b.prototype.delete=function(g){return c(g) && Ba(g,m) && Ba(g[m],this.dW)?delete g[m][this.dW]:!1;};return b;});ra("Map",function(r){var l,m;function b(){var d;d={};return d.AA=d.next=d.head=d;}function a(d,g){var h;h=d.Lz;return X(function(){if(h){for(;h.head != d.Lz;){h=h.AA;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,k,n;h=g && typeof g;"object" == h || "function" == h?l.has(g)?h=l.get(g):(h="" + ++m,l.set(g,h)):h="p_" + g;k=d.dz[h];if(k && Ba(d.dz,h))for(d=0;d < k.length;d++){n=k[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function f(d){this.dz={};this.Lz=b();this.size=0;if(d){d=aa(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new r(aa([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;l=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.dz[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.Lz,AA:this.Lz.AA,head:this.Lz,key:d,value:g},h.list.push(h.entry),this.Lz.AA.next=h.entry,this.Lz.AA=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.dz[d.id],d.entry.AA.next=d.entry.next,d.entry.next.AA=d.entry.AA,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.dz={};this.Lz=this.Lz.AA=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(g,k[1],k[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});ra("Set",function(r){function b(a){this.Kw=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Kw.size;}if((function(){var a,c,f,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();l=f.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=f.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:f.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Kw.set(a,a);this.size=this.Kw.size;return this;};b.prototype.delete=function(a){a=this.Kw.delete(a);this.size=this.Kw.size;return a;};b.prototype.clear=function(){this.Kw.clear();this.size=0;};b.prototype.has=function(a){return this.Kw.has(a);};b.prototype.entries=function(){return this.Kw.entries();};b.prototype.values=function(){return this.Kw.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.Kw.forEach(function(l){return a.call(c,l,l,f);});};return b;});ra("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Va(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});ra("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Va(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ra("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ra("Array.prototype.values",function(r){return r?r:function(){return Oa(this,function(b,a){return a;});};});ra("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push(b[c]);}return a;};});ra("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,l;c=Va(this,b,"startsWith");b+="";f=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < f;){if(c[a++] != b[m++])return !1;}return m >= l;};});ra("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Fa(this,b,a).apa;};});ra("Array.from",function(r){return r?r:function(b,a,c){var f,l;a=null != a?a:function(d){return d;};f=[];l="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof l){b=l.call(b);for(var m=0;!(l=b.next()).done;){f.push(a.call(c,l.value,m++));}}else for((l=b.length,m=0);m < l;m++){f.push(a.call(c,b[m],m));}return f;};});ra("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});ra("Number.parseInt",function(r){return r || parseInt;});ra("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={apa:c,dMb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.dMb=!0;return f.exports;}a={};b.Mac=r;b.c=a;b.d=function(c,f,l){b.yQb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var l;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.yQb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.VWb=559);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(43);b.m6b=r;r=a(562);b.M_=r.M_;r=a(76);b.Ss=r.Ss;b.Ij=r.Ij;b.$x=r.$x;r=a(578);b.mza=r.mza;b.rd=r.rd;r=a(579);b.R=r.R;r=a(580);b.J$a=r.J$a;r=a(581);b.I3a=r.I3a;r=a(311);b.l=r.l;b.Yca=r.Yca;r=a(582);b.optional=r.optional;r=a(583);b.pl=r.pl;r=a(584);b.OH=r.OH;r=a(585);b.tZ=r.tZ;r=a(586);b.b6a=r.b6a;r=a(309);b.vda=r.vda;r=a(107);b.id=r.id;r=a(93);b.Hr=r.Hr;r=a(314);b.Cab=r.Cab;b.K$a=r.K$a;b.J3a=r.J3a;b.Jab=r.Jab;r=a(135);b.jN=r.jN;a=a(587);b.E3a=a.E3a;},function(r,b,a){var G,K;function c(){c=Object.assign || (function(J){for(var I,M=1,R=arguments.length;M < R;M++){I=arguments[M];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (J[H]=I[H]);}}return J;});return c.apply(this,arguments);}function f(J,I){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,R){M.__proto__=R;}) || (function(M,R){for(var H in R){Object.prototype.hasOwnProperty.call(R,H) && (M[H]=R[H]);}});return f(J,I);}function l(J,I){function M(){this.constructor=J;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");f(J,I);J.prototype=null === I?Object.create(I):(M.prototype=I.prototype,new M());}function m(J,I){var M,R,H;M={};for(R in J){Object.prototype.hasOwnProperty.call(J,R) && 0 > I.indexOf(R) && (M[R]=J[R]);}if(null != J && "function" === typeof Object.getOwnPropertySymbols){H=0;for(R=Object.getOwnPropertySymbols(J);H < R.length;H++){0 > I.indexOf(R[H]) && Object.prototype.propertyIsEnumerable.call(J,R[H]) && (M[R[H]]=J[R[H]]);}}return M;}function d(J,I,M,R){var H,P,N;H=arguments.length;P=3 > H?I:null === R?R=Object.getOwnPropertyDescriptor(I,M):R;if("object" === typeof Reflect && "function" === typeof Reflect.Hr)P=Reflect.Hr(J,I,M,R);else for(var L=J.length - 1;0 <= L;L--){if(N=J[L])P=(3 > H?N(P):3 < H?N(I,M,P):N(I,M)) || P;}return (3 < H && P && Object.defineProperty(I,M,P),P);}function g(J,I){return function(M,R){I(M,R,J);};}function h(J,I){if("object" === typeof Reflect && "function" === typeof Reflect.Gc)return Reflect.Gc(J,I);}function k(J,I,M,R){function H(P){return P instanceof M?P:new M(function(N){N(P);});}return new (M || (M=Promise))(function(P,N){function L(U){try{S(R.next(U));}catch(ca){N(ca);}}function Q(U){try{S(R["throw"](U));}catch(ca){N(ca);}}function S(U){U.done?P(U.value):H(U.value).then(L,Q);}S((R=R.apply(J,I || [])).next());});}function n(J,I){var H,P,N,L,Q;function M(S){return function(U){return R([S,U]);};}function R(S){if(P)throw new TypeError("Generator is already executing.");for(;H;){try{if((P=1,N && (L=S[0] & 2?N["return"]:S[0]?N["throw"] || ((L=N["return"]) && L.call(N),0):N.next) && !(L=L.call(N,S[1])).done))return L;if((N=0,L))S=[S[0] & 2,L.value];switch(S[0]){case 0:case 1:L=S;break;case 4:return (H.label++,{value:S[1],done:!1});case 5:H.label++;N=S[1];S=[0];continue;case 7:S=H.Pn.pop();H.Qm.pop();continue;default:if(!(L=H.Qm,L=0 < L.length && L[L.length - 1]) && (6 === S[0] || 2 === S[0])){H=0;continue;}if(3 === S[0] && (!L || S[1] > L[0] && S[1] < L[3]))H.label=S[1];else if(6 === S[0] && H.label < L[1])(H.label=L[1],L=S);else if(L && H.label < L[2])(H.label=L[2],H.Pn.push(S));else {L[2] && H.Pn.pop();H.Qm.pop();continue;}}S=I.call(J,H);}catch(U){S=[6,U];N=0;}finally{P=L=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}H={label:0,Ic:function(){if(L[0] & 1)throw L[1];return L[1];},Qm:[],Pn:[]};return (Q={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (Q[Symbol.iterator]=function(){return this;}),Q);}function p(J,I){for(var M in J){"default" === M || Object.prototype.hasOwnProperty.call(I,M) || G(I,J,M);}}function q(J){var I,M,R;I="function" === typeof Symbol && Symbol.iterator;M=I && J[I];R=0;if(M)return M.call(J);if(J && "number" === typeof J.length)return {next:function(){J && R >= J.length && (J=void 0);return {value:J && J[R++],done:!J};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(J,I){var M,R,H;M="function" === typeof Symbol && J[Symbol.iterator];if(!M)return J;J=M.call(J);H=[];try{for(;(void 0 === I || 0 < I--) && !(R=J.next()).done;){H.push(R.value);}}catch(N){var P;P={error:N};}finally{try{R && !R.done && (M=J["return"]) && M.call(J);}finally{if(P)throw P.error;}}return H;}function t(){for(var J=[],I=0;I < arguments.length;I++){J=J.concat(u(arguments[I]));}return J;}function w(){var R;for(var J=0,I=0,M=arguments.length;I < M;I++){J+=arguments[I].length;}J=Array(J);R=0;for(I=0;I < M;I++){for(var H=arguments[I],P=0,N=H.length;P < N;(P++,R++)){J[R]=H[P];}}return J;}function v(J,I,M){if(M || 2 === arguments.length)for(var R=0,H=I.length,P;R < H;R++){!P && (R in I) || (P || (P=Array.prototype.slice.call(I,0,R)),P[R]=I[R]);}return J.concat(P || I);}function x(J){return this instanceof x?(this.tE=J,this):new x(J);}function y(J,I,M){var Q,S,U;function R(ca){Q[ca] && (S[ca]=function(ka){return new Promise(function(ya,qa){1 < U.push([ca,ka,ya,qa]) || H(ca,ka);});});}function H(ca,ka){var ya;try{ya=Q[ca](ka);ya.value instanceof x?Promise.resolve(ya.value.tE).then(P,N):L(U[0][2],ya);}catch(qa){L(U[0][3],qa);}}function P(ca){H("next",ca);}function N(ca){H("throw",ca);}function L(ca,ka){(ca(ka),U.shift(),U.length) && H(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=M.apply(J,I || []);U=[];return (S={},R("next"),R("throw"),R("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(J){var M,R;function I(H,P){M[H]=J[H]?function(N){return (R=!R)?{value:x(J[H](N)),done:"return" === H}:P?P(N):N;}:P;}return (M={},I("next"),I("throw",function(H){throw H;}),I("return"),M[Symbol.iterator]=function(){return this;},M);}function A(J){var R,H;function I(P){H[P]=J[P] && (function(N){return new Promise(function(L,Q){N=J[P](N);M(L,Q,N.done,N.value);});});}function M(P,N,L,Q){Promise.resolve(Q).then(function(S){P({value:S,done:L});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=J[Symbol.asyncIterator];return R?R.call(J):(J="function" === typeof q?q(J):J[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(J,I){Object.defineProperty?Object.defineProperty(J,"raw",{value:I}):J.raw=I;return J;}function E(J){var I;if(J && J.__esModule)return J;I={};if(null != J)for(var M in J){"default" !== M && Object.prototype.hasOwnProperty.call(J,M) && G(I,J,M);}K(I,J);return I;}function D(J){return J && J.__esModule?J:{default:J};}function F(J,I,M,R){if("a" === M && !R)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?J !== I || !R:!I.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?R:"a" === M?R.call(J):R?R.value:I.get(J);}function C(J,I,M,R,H){if("m" === R)throw new TypeError("Private method is not writable");if("a" === R && !H)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?J !== I || !H:!I.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === R?H.call(J,M):H?H.value=M:I.set(J,M),M);}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});G=Object.create?function(J,I,M,R){void 0 === R && (R=M);Object.defineProperty(J,R,{enumerable:!0,get:function(){return I[M];}});}:function(J,I,M,R){void 0 === R && (R=M);J[R]=I[M];};K=Object.create?function(J,I){Object.defineProperty(J,"default",{enumerable:!0,value:I});}:function(J,I){J["default"]=I;};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var K,J=1,I=arguments.length;J < I;J++){K=arguments[J];for(var M in K){Object.prototype.hasOwnProperty.call(K,M) && (G[M]=K[M]);}}return G;});return c.apply(this,arguments);}function f(G,K){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,I){J.__proto__=I;}) || (function(J,I){for(var M in I){I.hasOwnProperty(M) && (J[M]=I[M]);}});return f(G,K);}function l(G,K){function J(){this.constructor=G;}f(G,K);G.prototype=null === K?Object.create(K):(J.prototype=K.prototype,new J());}function m(G,K){var J,I,M;J={};for(I in G){Object.prototype.hasOwnProperty.call(G,I) && 0 > K.indexOf(I) && (J[I]=G[I]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(I=Object.getOwnPropertySymbols(G);M < I.length;M++){0 > K.indexOf(I[M]) && Object.prototype.propertyIsEnumerable.call(G,I[M]) && (J[I[M]]=G[I[M]]);}}return J;}function d(G,K,J,I){var M,R,H;M=arguments.length;R=3 > M?K:null === I?I=Object.getOwnPropertyDescriptor(K,J):I;if("object" === typeof Reflect && "function" === typeof Reflect.Hr)R=Reflect.Hr(G,K,J,I);else for(var P=G.length - 1;0 <= P;P--){if(H=G[P])R=(3 > M?H(R):3 < M?H(K,J,R):H(K,J)) || R;}return (3 < M && R && Object.defineProperty(K,J,R),R);}function g(G,K){return function(J,I){K(J,I,G);};}function h(G,K){if("object" === typeof Reflect && "function" === typeof Reflect.Gc)return Reflect.Gc(G,K);}function k(G,K,J,I){function M(R){return R instanceof J?R:new J(function(H){H(R);});}return new (J || (J=Promise))(function(R,H){function P(Q){try{L(I.next(Q));}catch(S){H(S);}}function N(Q){try{L(I["throw"](Q));}catch(S){H(S);}}function L(Q){Q.done?R(Q.value):M(Q.value).then(P,N);}L((I=I.apply(G,K || [])).next());});}function n(G,K){var M,R,H,P,N;function J(L){return function(Q){return I([L,Q]);};}function I(L){if(R)throw new TypeError("Generator is already executing.");for(;M;){try{if((R=1,H && (P=L[0] & 2?H["return"]:L[0]?H["throw"] || ((P=H["return"]) && P.call(H),0):H.next) && !(P=P.call(H,L[1])).done))return P;if((H=0,P))L=[L[0] & 2,P.value];switch(L[0]){case 0:case 1:P=L;break;case 4:return (M.label++,{value:L[1],done:!1});case 5:M.label++;H=L[1];L=[0];continue;case 7:L=M.Pn.pop();M.Qm.pop();continue;default:if(!(P=M.Qm,P=0 < P.length && P[P.length - 1]) && (6 === L[0] || 2 === L[0])){M=0;continue;}if(3 === L[0] && (!P || L[1] > P[0] && L[1] < P[3]))M.label=L[1];else if(6 === L[0] && M.label < P[1])(M.label=P[1],P=L);else if(P && M.label < P[2])(M.label=P[2],M.Pn.push(L));else {P[2] && M.Pn.pop();M.Qm.pop();continue;}}L=K.call(G,M);}catch(Q){L=[6,Q];H=0;}finally{R=P=0;}}if(L[0] & 5)throw L[1];return {value:L[0]?L[1]:void 0,done:!0};}M={label:0,Ic:function(){if(P[0] & 1)throw P[1];return P[1];},Qm:[],Pn:[]};return (N={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function p(G,K,J,I){void 0 === I && (I=J);G[I]=K[J];}function q(G,K){for(var J in G){"default" === J || K.hasOwnProperty(J) || (K[J]=G[J]);}}function u(G){var K,J,I;K="function" === typeof Symbol && Symbol.iterator;J=K && G[K];I=0;if(J)return J.call(G);if(G && "number" === typeof G.length)return {next:function(){G && I >= G.length && (G=void 0);return {value:G && G[I++],done:!G};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,K){var J,I,M;J="function" === typeof Symbol && G[Symbol.iterator];if(!J)return G;G=J.call(G);M=[];try{for(;(void 0 === K || 0 < K--) && !(I=G.next()).done;){M.push(I.value);}}catch(H){var R;R={error:H};}finally{try{I && !I.done && (J=G["return"]) && J.call(G);}finally{if(R)throw R.error;}}return M;}function w(){for(var G=[],K=0;K < arguments.length;K++){G=G.concat(t(arguments[K]));}return G;}function v(){var I;for(var G=0,K=0,J=arguments.length;K < J;K++){G+=arguments[K].length;}G=Array(G);I=0;for(K=0;K < J;K++){for(var M=arguments[K],R=0,H=M.length;R < H;(R++,I++)){G[I]=M[R];}}return G;}function x(G){return this instanceof x?(this.tE=G,this):new x(G);}function y(G,K,J){var N,L,Q;function I(S){N[S] && (L[S]=function(U){return new Promise(function(ca,ka){1 < Q.push([S,U,ca,ka]) || M(S,U);});});}function M(S,U){var ca;try{ca=N[S](U);ca.value instanceof x?Promise.resolve(ca.value.tE).then(R,H):P(Q[0][2],ca);}catch(ka){P(Q[0][3],ka);}}function R(S){M("next",S);}function H(S){M("throw",S);}function P(S,U){(S(U),Q.shift(),Q.length) && M(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=J.apply(G,K || []);Q=[];return (L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function z(G){var J,I;function K(M,R){J[M]=G[M]?function(H){return (I=!I)?{value:x(G[M](H)),done:"return" === M}:R?R(H):H;}:R;}return (J={},K("next"),K("throw",function(M){throw M;}),K("return"),J[Symbol.iterator]=function(){return this;},J);}function A(G){var I,M;function K(R){M[R]=G[R] && (function(H){return new Promise(function(P,N){H=G[R](H);J(P,N,H.done,H.value);});});}function J(R,H,P,N){Promise.resolve(N).then(function(L){R({value:L,done:P});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=G[Symbol.asyncIterator];return I?I.call(G):(G="function" === typeof u?u(G):G[Symbol.iterator](),M={},K("next"),K("throw"),K("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function B(G,K){Object.defineProperty?Object.defineProperty(G,"raw",{value:K}):G.raw=K;return G;}function E(G){var K;if(G && G.__esModule)return G;K={};if(null != G)for(var J in G){Object.hasOwnProperty.call(G,J) && (K[J]=G[J]);}K.default=G;return K;}function D(G){return G && G.__esModule?G:{default:G};}function F(G,K){if(!K.has(G))throw new TypeError("attempted to get private field on non-instance");return K.get(G);}function C(G,K,J){if(!K.has(G))throw new TypeError("attempted to set private field on non-instance");K.set(G,J);return J;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ws=b.wCa=b.vCa=b.rca=b.Lfb=b.Mfb=b.uCa=b.qca=b.Kfb=b.VFa=b.J0=b.z0=b.tCa=b.L=b.M=void 0;(function(f){f[f.Wl=7001]="UNKNOWN";f[f.RLa=7002]="UNHANDLED_EXCEPTION";f[f.Ggb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.fgb=7004]="HLS_NOT_SUPPORTED";f[f.Mca=7010]="INIT_ASYNCCOMPONENT";f[f.eEa=7011]="INIT_HTTP";f[f.Cgb=7014]="INIT_BADMOVIEID";f[f.Ugb=7016]="INIT_NETFLIXID_MISSING";f[f.Tgb=7017]="INIT_NETFLIXID_INVALID";f[f.Wgb=7018]="INIT_SECURENETFLIXID_MISSING";f[f.fEa=7020]="INIT_PLAYBACK_LOCK";f[f.gEa=7022]="INIT_SESSION_LOCK";f[f.Vgb=7029]="INIT_POSTAUTHORIZE";f[f.dEa=7031]="INIT_HEADER_MEDIA";f[f.N5b=7032]="HEADER_MISSING";f[f.M5b=7033]="HEADER_FRAGMENTS_MISSING";f[f.Xgb=7034]="INIT_TIMEDTEXT_TRACK";f[f.a6b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.b6b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.Bcb=7037]="ASE_SESSION_ERROR";f[f.Acb=7038]="ASE_SEEK_THREW";f[f.Ccb=7039]="ASE_SKIPPED_THREW";f[f.Qgb=7041]="INIT_CORE_OBJECTS1";f[f.Rgb=7042]="INIT_CORE_OBJECTS2";f[f.Sgb=7043]="INIT_CORE_OBJECTS3";f[f.Y5b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.S5b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.XDa=7053]="INIT_COMPONENT_STORAGE";f[f.YDa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.T5b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.U5b=7056]="INIT_COMPONENT_NRDDPI";f[f.W5b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.UDa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.Nca=7059]="INIT_COMPONENT_DEVICE";f[f.V5b=7062]="INIT_COMPONENT_NTBA";f[f.VDa=7063]="INIT_COMPONENT_MSL";f[f.Egb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.TDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.uB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.X5b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.Dgb=7069]="INIT_COMPONENT_ACCOUNT";f[f.Igb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.Kgb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.Lgb=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.Mgb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.Ngb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.Hgb=7081]="INIT_COMPONENT_NRDP";f[f.Jgb=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.cEa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.Pgb=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.$5b=7085]="INIT_CONGESTION_SERVICE";f[f.SDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.ZDa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.QDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.PDa=7089]="INIT_COMPONENT_ASE";f[f.Z5b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.VJ=7091]="INIT_COMPONENT_DRM_CACHE";f[f.Fgb=7092]="INIT_COMPONENT_DRM";f[f.Ogb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.RDa=7094]="INIT_COMPONENT_FTL";f[f.WDa=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.$Da=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.aEa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.bEa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.xR=7111]="MANIFEST";f[f.Mcb=7112]="AUTHORIZE_UNKNOWN";f[f.xhb=7117]="MANIFEST_VERIFY";f[f.ekb=7120]="START";f[f.YJ=7121]="LICENSE";f[f.Aea=7122]="RELEASE";f[f.iKa=7123]="STOP";f[f.D5b=7124]="FPSAPPDATA";f[f.Vca=7125]="KEEPALIVE";f[f.A4b=7126]="DEACTIVATE";f[f.o8b=7127]="SYNC_DEACTIVATE_LINKS";f[f.z3b=7130]="ACTIVATE";f[f.Uib=7131]="PING";f[f.K6b=7133]="NETFLIXID";f[f.Hfb=7134]="ENGAGE";f[f.uhb=7135]="LOGIN";f[f.lkb=7136]="SWITCH_PROFILES";f[f.thb=7137]="LOGBLOB";f[f.Dib=7138]="PAUSE";f[f.Njb=7139]="RESUME";f[f.gKa=7140]="SPLICE";f[f.M4b=7141]="DOWNLOAD_EVENT";f[f.Zcb=7142]="BIND";f[f.Bib=7143]="PAIR";f[f.$cb=7144]="BIND_DEVICE";f[f.Xfb=7145]="GENERATE_SCREENSHOTS";f[f.Yib=7202]="PLAY_INIT_EXCEPTION";f[f.l6b=7301]="MEDIA_DOWNLOAD";f[f.s7b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.t7b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.kHa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.djb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.lHa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.ejb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.Mda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.u7b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.cjb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.pHa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.jHa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.Nda=7355]="PLAY_MSE_SOURCEADD";f[f.iHa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.LR=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.x7b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.r7b=7359]="PLAY_MSE_ADDKEY";f[f.A7b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.oHa=7361]="PLAY_MSE_EVENT_ERROR";f[f.hK=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.hr=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.gjb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.hjb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.ijb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.jjb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.y7b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.njb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.mjb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.ljb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.z7b=7379]="PLAY_MSE_SOURCE_EOS";f[f.kjb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.qHa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.w7b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Zib=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.$ib=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.ajb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.mHa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.fjb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.v7b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.nHa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.bjb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.X0=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.eCa=7400]="EXTERNAL";f[f.W0=7500]="PAUSE_TIMEOUT";f[f.A0=7502]="INACTIVITY_TIMEOUT";f[f.Lcb=7510]="AUTHORIZATION_EXPIRED";f[f.C4b=7520]="DECRYPT_AUDIO";f[f.Bfb=7700]="EME_INVALID_KEYSYSTEM";f[f.SBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.LQ=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.e0=7703]="EME_GENERATEREQUEST_FAILED";f[f.ZBa=7704]="EME_UPDATE_FAILED";f[f.XBa=7705]="EME_KEYSESSION_ERROR";f[f.WBa=7706]="EME_KEYMESSAGE_EMPTY";f[f.Efb=7707]="EME_REMOVE_FAILED";f[f.Dfb=7708]="EME_LOAD_FAILED";f[f.yfb=7709]="EME_CREATE_SESSION_FAILED";f[f.oca=7710]="EME_LDL_RENEWAL_ERROR";f[f.UBa=7711]="EME_INVALID_INITDATA_DATA";f[f.VBa=7712]="EME_INVALID_LICENSE_DATA";f[f.Cfb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.W4b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.RBa=7716]="EME_CLOSE_FAILED";f[f.Ffb=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.Vib=7800]="PLAYDATA_STORE_FAILURE";f[f.q7b=7801]="PLAYDATA_SEND_FAILURE";f[f.rQ=7900]="BRANCH_PLAY_FAILURE";f[f.CJ=7901]="BRANCH_QUEUE_FAILURE";f[f.tza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.P6b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.Q6b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.Jib=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.M || (b.M={}));(function(f){f[f.Wl=1001]="UNKNOWN";f[f.Jj=1003]="EXCEPTION";f[f.$gb=1004]="INVALID_DI";f[f.Fcb=1011]="ASYNCLOAD_EXCEPTION";f[f.Gcb=1013]="ASYNCLOAD_TIMEOUT";f[f.A3b=1015]="ASYNCLOAD_BADCONFIG";f[f.Dcb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.Ecb=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.lR=1101]="HTTP_UNKNOWN";f[f.Hca=1102]="HTTP_XHR";f[f.iR=1103]="HTTP_PROTOCOL";f[f.hR=1104]="HTTP_OFFLINE";f[f.kR=1105]="HTTP_TIMEOUT";f[f.LE=1106]="HTTP_READTIMEOUT";f[f.tB=1107]="HTTP_ABORT";f[f.sDa=1108]="HTTP_PARSE";f[f.oDa=1110]="HTTP_BAD_URL";f[f.jR=1111]="HTTP_PROXY";f[f.nda=1203]="MSE_AUDIO";f[f.oda=1204]="MSE_VIDEO";f[f.Jhb=1250]="MSE_MEDIA_ERR_BASE";f[f.o6b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.r6b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.p6b=1253]="MSE_MEDIA_ERR_DECODE";f[f.s6b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.q6b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Vs=1260]="EME_MEDIA_KEYERR_BASE";f[f.b5b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.X4b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.a5b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.$4b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.Z4b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.Y4b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.c5b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.Afb=1280]="EME_ERROR_NODRMSESSSION";f[f.zfb=1281]="EME_ERROR_NODRMREQUESTS";f[f.T4b=1282]="EME_ERROR_INDIV_FAILED";f[f.U4b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.Gfb=1284]="EME_TIMEOUT_MESSAGE";f[f.d5b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.YBa=1286]="EME_UNDEFINED_DATA";f[f.NJ=1287]="EME_INVALID_STATE";f[f.V4b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.TBa=1289]="EME_EMPTY_DATA";f[f.MQ=1290]="EME_TIMEOUT";f[f.E6b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.H6b=1305]="NCCP_PARSEXML";f[f.qjb=1309]="PROCESS_EXCEPTION";f[f.G6b=1311]="NCCP_NETFLIXID_MISSING";f[f.I6b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.B6b=1313]="NCCP_HMAC_MISSING";f[f.A6b=1315]="NCCP_HMAC_MISMATCH";f[f.z6b=1317]="NCCP_HMAC_FAILED";f[f.y6b=1321]="NCCP_CLIENTTIME_MISSING";f[f.x6b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.RCa=1331]="GENERIC";f[f.cib=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.dib=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.J6b=1341]="NCCP_TRANSACTION";f[f.C6b=1343]="NCCP_INVALID_DRMTYPE";f[f.D6b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.F6b=1345]="NCCP_MISSING_PAYLOAD";f[f.G7b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.F7b=1347]="PROTOCOL_MISSING_FIELD";f[f.E7b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.IB=1402]="STORAGE_NODATA";f[f.Z7b=1403]="STORAGE_EXCEPTION";f[f.g8b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.h8b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.kKa=1411]="STORAGE_LOAD_ERROR";f[f.gkb=1412]="STORAGE_LOAD_TIMEOUT";f[f.lKa=1414]="STORAGE_SAVE_ERROR";f[f.jkb=1415]="STORAGE_SAVE_TIMEOUT";f[f.Iea=1417]="STORAGE_DELETE_ERROR";f[f.jKa=1418]="STORAGE_DELETE_TIMEOUT";f[f.f8b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.c8b=1423]="STORAGE_FS_GETDIRECTORY";f[f.e8b=1425]="STORAGE_FS_READENTRIES";f[f.$7b=1427]="STORAGE_FS_FILEREAD";f[f.b8b=1429]="STORAGE_FS_FILEWRITE";f[f.a8b=1431]="STORAGE_FS_FILEREMOVE";f[f.d8b=1432]="STORAGE_FS_PARSEJSON";f[f.ikb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.hkb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.W6b=1501]="NTBA_UNKNOWN";f[f.V6b=1502]="NTBA_EXCEPTION";f[f.R6b=1504]="NTBA_CRYPTO_KEY";f[f.T6b=1506]="NTBA_CRYPTO_OPERATION";f[f.S6b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.U6b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.XAa=1553]="DEVICE_NO_ESN";f[f.WAa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.Pfb=1701]="FORMAT_UNKNOWN";f[f.ECa=1713]="FORMAT_XML";f[f.Qfb=1715]="FORMAT_XML_CONTENT";f[f.Ofb=1721]="FORMAT_BASE64";f[f.j0=1723]="FORMAT_DFXP";f[f.ogb=1801]="INDEXDB_OPEN_EXCEPTION";f[f.NDa=1802]="INDEXDB_NOT_SUPPORTED";f[f.ngb=1803]="INDEXDB_OPEN_ERROR";f[f.ODa=1804]="INDEXDB_OPEN_NULL";f[f.mgb=1805]="INDEXDB_OPEN_BLOCKED";f[f.pgb=1807]="INDEXDB_OPEN_TIMEOUT";f[f.lgb=1808]="INDEXDB_INVALID_STORE_STATE";f[f.B0=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.Thb=1901]="MSL_UNKNOWN";f[f.Mhb=1911]="MSL_INIT_NO_MSL";f[f.FFa=1913]="MSL_INIT_ERROR";f[f.Nhb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.Khb=1931]="MSL_ERROR";f[f.Shb=1933]="MSL_REQUEST_TIMEOUT";f[f.Rhb=1934]="MSL_READ_TIMEOUT";f[f.Lhb=1935]="MSL_ERROR_HEADER";f[f.t6b=1936]="MSL_ERROR_ENVELOPE";f[f.u6b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.EFa=1957]="MSL_ERROR_REAUTH";f[f.ifa=2103]="WEBCRYPTO_MISSING";f[f.Lkb=2105]="WEBCRYPTOKEYS_MISSING";f[f.Mkb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.i4b=2200]="CACHEDDATA_PARSEJSON";f[f.Qza=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.j4b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.qB=2203]="CACHEDDATA_INVALID_FORMAT";f[f.x3b=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.y3b=3001]="ACCOUNT_INVALID";f[f.L4b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.K4b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.I4b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.J4b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.H4b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.i8b=3300]="STORAGE_VA_LOAD_ERROR";f[f.j8b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.m8b=3302]="STORAGE_VA_SAVE_ERROR";f[f.n8b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.k8b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.l8b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.Ida=3077]="PBO_DEVICE_EOL_WARNING";f[f.dHa=3078]="PBO_DEVICE_EOL_FINAL";f[f.gHa=3100]="PBO_DEVICE_RESET";f[f.fHa=3101]="PBO_DEVICE_RELOAD";f[f.eHa=3102]="PBO_DEVICE_EXIT";f[f.Sib=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.Eib=5005]="PBO_ACCOUNT_ON_HOLD";f[f.Iib=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.hHa=5007]="PBO_INCORRECT_PIN";f[f.Pib=5008]="PBO_MOBILE_ONLY";f[f.Tib=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.Lib=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.Gib=5059]="PBO_BLACKLISTED_IP";f[f.Fib=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.Hib=5080]="PBO_CHOICE_MAP_ERROR";f[f.Qib=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.Nib=5091]="PBO_MALFORMED_REQUEST";f[f.Mib=5092]="PBO_INVALID_SERVICE_VERSION";f[f.Oib=5093]="PBO_MDX_INVALID_CTICKET";f[f.Kib=5094]="PBO_FREE_PREVIEW_ENDED";f[f.Rib=5095]="PBO_STREAMING_LOCATION_DISALLOWED";f[f.seb=5100]="DECODER_TIMEOUT_BUFFERING";f[f.ueb=5101]="DECODER_TIMEOUT_PRESENTING";f[f.teb=5102]="DECODER_TIMEOUT_PLAYING";f[f.jfb=5200]="DOWNLOADER_IO_ERROR";f[f.sza=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.ddb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.N3b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.Kba=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.adb=5304]="BRANCHING_ASE_FAILURE";f[f.K3b=5305]="BRANCHING_MOMENT_FAILURE";f[f.bdb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.M3b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.edb=5308]="BRANCHING_SEEK_THREW";f[f.L3b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.cdb=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.fdb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.gdb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.kkb=5500]="STUDIO_MUXED_MANIFEST";f[f.ida=5600]="MANIFEST_HYDRATION_FAILURE";})(c=b.L || (b.L={}));(function(f){f[f.Y3b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.O3b=5005]="BR_ACCOUNT_ON_HOLD";f[f.S3b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.V3b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.R3b=5059]="BR_BLACKLISTED_IP";f[f.P3b=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.W3b=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.T3b=2205]="BR_DRM_LICENSE_AQUISITION";f[f.X3b=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.U3b=2207]="BR_ENDPOINT_ERROR";f[f.Q3b=2208]="BR_AUTHORIZATION_ERROR";})(b.tCa || (b.tCa={}));b.z0={odb:"400",I8b:"401",wHa:"413"};b.J0={B5b:1,B8b:2,g5b:3,H8b:4,e6b:5,f5b:6,cfa:7,i5b:8,O7b:9,W7b:10};(function(f){f[f.o7b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.p7b=98]="PAIRING_UNKNOWN_ERROR";})(b.VFa || (b.VFa={}));b.Kfb=function(f){return 7100 <= f && 7200 > f;};b.qca=function(f){return f == a.W0 || f == a.A0;};b.uCa=function(f){return 1100 <= f && 1199 >= f;};b.Mfb=function(f){return 1300 <= f && 1399 >= f;};b.Lfb=function(f){return 1900 <= f && 1999 >= f;};b.rca=function(f,l){return 1 <= f && 9 >= f?l + f:l;};b.vCa=function(f){return (0,b.rca)(f,c.Jhb);};b.wCa=function(f){return (0,b.rca)(f,c.Vs);};b.Ws=function(f){var l,m,d;l={};m=f.errorExternalCode || f.rf;d=f.errorDetails || f.ub;l.ErrorSubCode=f.errorSubCode || f.na || c.Wl;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(r,b,a){var l;function c(){return l.eS.apply(this,arguments) || this;}function f(m){return new l.Xs(m,b.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.Eb=b.EDa=b.xda=b.io=b.ja=b.YE=b.timestamp=b.pJb=b.N8=b.wh=b.Oc=b.e6a=b.ROb=b.zkb=void 0;l=a(315);na(c,l.eS);b.zkb=c;b.ROb=function(m){return new l.Xs(m,b.YE);};b.e6a=function(m){return new l.Xs(m * b.io.xg,b.YE);};b.Oc=f;b.wh=function(m){return new l.Xs(m,b.io);};b.N8=function(m){return new l.Xs(m,b.xda);};b.pJb=function(m){return new l.Xs(m,b.EDa);};b.timestamp=function(m){return f(m);};b.YE=new c(1,"\u03bcs");b.ja=new c(1E3,"ms",b.YE);b.io=new c(1E3 * b.ja.xg,"s",b.YE);b.xda=new c(60 * b.io.xg,"min",b.YE);b.EDa=new c(60 * b.xda.xg,"hr",b.YE);b.Eb=f(0);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(142);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(g){throw (f.Tm.H.error("Assertion failed",{value:m,message:d,stack:g.stack}),g);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={gW:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KQ=b.qb=b.cda=b.Lj=void 0;r=b.Lj || (b.Lj={});r[r.Nfb=0]="FATAL";r[r.Of=1]="ERROR";r[r.hfa=2]="WARN";r[r.Lca=3]="INFO";r[r.hLa=4]="TRACE";r[r.ga=5]="DEBUG";b.cda="LogFieldBuilderFactorySymbol";b.qb="LoggerFactorySymbol";b.KQ={};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.ka=b.SIa=b.tV=b.Jh=b.Oi=b.log=b.Zf=b.$M=b.iRa=b.Cr=b.sC=b.Wc=b.Tsb=b.Pia=b.Rsb=b.Ssb=b.jj=b.WP=b.UZ=b.Uh=b.Pc=b.xa=void 0;c=a(195);r=a(7);f=a(26);l=a(78);m=a(77);d=a(36);g=a(30);h=a(141);k=a(38);a=a(48);b.xa=c.cc.get(k.Vh);b.Pc=c.cc.get(a.Pj);b.Uh=c.cc.get(l.Fv);b.UZ=b.Uh.encode.bind(b.Uh);b.WP=b.Uh.decode.bind(b.Uh);b.jj=c.cc.get(m.zx);b.Ssb=b.jj.encode.bind(b.jj);b.Rsb=b.jj.decode.bind(b.jj);b.Pia=b.jj.VG.bind(b.jj);b.Tsb=b.jj.oab.bind(b.jj);b.Wc=c.cc.get(d.Bi);b.sC=function(n){n=(0,g.Se)(n)?(0,b.WP)(n):n;return b.Wc.encode(n);};b.Cr=b.Wc.decode.bind(b.Wc);b.iRa=function(n){return (0,b.UZ)((0,b.Cr)(n));};b.$M=function(){return c.cc.get(f.Ex);};b.Zf=c.cc.get(r.qb);b.log=b.Zf.hb("General");b.Oi=function(n,p){return b.Zf.hb(n,void 0,p);};b.Jh=function(n,p,q){return b.Zf.hb(p,n,q);};b.tV=function(n,p,q,u){return b.Zf.hb(n,void 0,u,p,q);};b.SIa=function(n,p,q){return c.cc.get(h.QR)(n,p,q).DZ();};b.ka=c.cc;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OR=b.SCa=b.tMa=void 0;r=a(2);r.__exportStar(a(353),b);r.__exportStar(a(115),b);r.__exportStar(a(22),b);r.__exportStar(a(749),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);r.__exportStar(a(752),b);r.__exportStar(a(753),b);r.__exportStar(a(754),b);r.__exportStar(a(755),b);c=r.__importDefault(a(756));b.tMa=c.default;c=r.__importDefault(a(757));b.SCa=c.default;a=r.__importDefault(a(361));b.OR=a.default;},function(r){var b;b={Ca:function(a){return "number" === typeof a;},Lh:function(a){return "object" === typeof a;},Se:function(a){return "string" === typeof a;},ia:function(a){return "undefined" === typeof a;},uac:function(a){return "boolean" === typeof a;},jd:function(a){return "function" === typeof a;},Gb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},$Rb:function(a){var c,f;f=[];if(!b.Lh(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.pf=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(f,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(f,a[l],l,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=b.localStorage=b.fKb=b.indexedDB=b.L0=b.Vp=b.AB=b.cF=b.URL=b.O0=b.M0=b.UFa=b.H0=b.VE=b.WE=b.op=b.fo=b.Mj=b.rda=b.xB=b.aLa=b.IJ=b.gF=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Jy=b.fib=b.Be=b.Av=b.HGa=b.Bv=b.N0=b.BB=void 0;r=nb;b.mf=r.navigator;b.BB=null === b.mf || void 0 === b.mf?void 0:b.mf.userAgent;b.N0=r.location;b.Bv=r.screen;b.HGa=r.devicePixelRatio;b.Av=r.performance;b.Be=r.document;b.fib=b.Be.documentElement;b.Jy=Array.prototype;b.sort=b.Jy.sort;b.map=b.Jy.map;b.slice=b.Jy.slice;b.every=b.Jy.every;b.reduce=b.Jy.reduce;b.filter=b.Jy.filter;b.forEach=b.Jy.forEach;b.pop=b.Jy.pop;b.gF=Object.create;b.IJ=Date.now;b.aLa=String.fromCharCode;b.xB=Math.floor;b.rda=Math.ceil;b.Mj=Math.round;b.fo=Math.max;b.op=Math.min;b.WE=Math.random;b.VE=Math.abs;b.H0=Math.pow;b.UFa=Math.sqrt;b.M0=r.escape;b.O0=r.unescape;b.URL=r.URL || r.webkitURL;b.cF=r.MediaSource || r.WebKitMediaSource;b.AB=r.webkitCrypto || r.msCrypto || r.crypto;b.Vp=b.AB && (b.AB.webkitSubtle || b.AB.subtle);b.L0=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.fKb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Fqa=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bK=b.F0=b.zdb=b.udb=b.wdb=b.xdb=b.Gza=b.tdb=b.vdb=b.Fza=b.ydb=b.Fdb=b.Ddb=b.Edb=b.Cdb=b.ufb=b.tfb=b.sfb=b.Ahb=b.Bhb=b.Px=b.AFa=b.BFa=b.aK=b.KBa=b.wfb=b.mca=b.d0=b.tib=b.akb=b.wFa=b.ndb=b.UAa=b.V0=b.fF=b.U0=b.vFa=b.wB=b.mdb=b.rza=b.ohb=b.Ikb=b.zhb=b.yhb=b.Vjb=b.Ujb=b.Ul=b.Ze=b.IJa=b.rl=void 0;b.Bea=void 0;b.rl=function(){};b.IJa=function(){return !0;};b.Ze={$:!0};b.Ul=1E3;b.Ujb=86400;b.Vjb=604800;b.yhb=1E4;b.zhb=1E7;b.Ikb=1.5;b.ohb=.128;b.rza=7.8125;b.mdb=128;b.wB=145152E5;b.vFa=1E5;b.U0="$netflix$player$order";b.fF=-1;b.V0=1;b.UAa=["en-US"];b.ndb=8;b.wFa=65535;b.akb=65536;b.tib=Number.MAX_VALUE;b.d0="playready";b.mca="widevine";b.wfb="fps";b.KBa="clearkey";b.aK='audio/mp4; codecs="mp4a.40.5"';b.BFa='audio/mp4; codecs="mp4a.40.42"';b.AFa='audio/mp4; codecs="mp4a.a6"';b.Px='video/mp4; codecs="avc1.640028"';b.Bhb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Ahb='video/mp4; codecs="dvhe.01000000"';b.sfb="9A04F079-9840-4286-AB92-E65BE0885F95";b.tfb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.ufb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Cdb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Edb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Ddb="4E657466-6C69-7846-7261-6D6552617465";b.Fdb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.ydb="mp4a";b.Fza="enca";b.vdb="ec-3";b.tdb="avc1";b.Gza="encv";b.xdb="hvcC";b.wdb="hev1";b.udb="dvhe";b.zdb="vp09";b.F0=0;b.bK=1;b.Bea="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vm={J9b:"casttv",Lja:"chrome",N9b:"chromecast",Kr:"edge",cVa:"edgeoss",zWa:"firefox",nac:"ie",opera:"opera",l8a:"safari",N$a:"tesla"};b.rp={n3:"android",e0a:"ios",lSa:"chromeos",CMb:"linux",b2a:"mac",wya:"windows"};b.y0={Mvb:"computer",phone:"phone",G_b:"tablet"};b.ad="ConfigSymbol";},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B;function c(E){return (E=b.config.Jxa[f(E)])?E:{};}function f(E){if(E)return 0 <= E.indexOf("billboard")?"billboard":0 <= E.toLowerCase().indexOf("preplay")?"preplay":0 <= E.indexOf("embedded")?"embedded":0 <= E.indexOf("content-sampling")?"content-sampling":0 <= E.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= E.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= E.indexOf("standard")?"standard":0 <= E.indexOf("branching")?"branching":E;}Object.defineProperty(b,"__esModule",{value:!0});b.Qvb=b.Rvb=b.SSa=b.fka=b.Pvb=b.TSa=b.Ovb=b.USa=b.eka=b.config=void 0;l=a(12);m=a(50);d=a(8);g=a(40);h=a(21);a(30);k=a(26);n=a(45);p=a(24);a(7);q=a(11);u=a(19);t=a(185);w=a(49);v=a(89);x=a(108);y=a(52);z=a(4);A=a(34);B=a(18);b.USa=function(E,D){var ka,ya,qa,Y,ua,O,T,ja,ma;function F(ta,Ka){(0,p.te)(ta,function(Ua,Ya){(0,u.jd)(Ya)?Ka[Ua]=Ya.call(void 0,Ka[Ua]):(0,u.Lh)(Ya) && (Ka[Ua]=Ka[Ua] || ({}),F(Ya,Ka[Ua]));});}function C(ta,Ka,Ua,Ya){for(var ab=[],ib=3;ib < arguments.length;++ib){ab[ib - 3]=arguments[ib];}return function($a){(0,u.Zc)($a) && (Ua=$a);(0,h.gb)((0,u.jd)(ta));return ta.apply(void 0,[Ka,Ua].concat(ea(ab)));};}function G(ta){ta=ta.toLowerCase();Y.hasOwnProperty(ta) && (qa[ta]=Y[ta],ua[ta]=Y[ta]);return ta;}function K(ta,Ka,Ua){var Ya;ta=ta.toLowerCase();if(qa.hasOwnProperty(ta)){Ya=qa[ta];try{Ya=Ua?Ua(Ya):Ya;}catch(ab){Ya=void 0;}if(void 0 !== Ya)return Ya;(0,h.gb)(!1);d.log.error("Invalid configuration value. Name: " + ta);}return Ka;}function J(ta,Ka,Ua,Ya){return K(ta,Ka,function(ab){(0,u.Se)(ab) && (ab=(0,p.He)(ab));if((0,u.r0a)(ab,Ua,Ya))return ab;});}function I(ta,Ka,Ua,Ya){return K(ta,Ka,function(ab){(0,u.Se)(ab) && (ab=(0,p.He)(ab));if((0,u.Wz)(ab,Ua,Ya))return ab;});}function M(ta,Ka,Ua,Ya){return K(ta,Ka,function(ab){(0,u.Se)(ab) && (ab=parseFloat(ab));if((0,u.Ca)(ab,Ua,Ya))return ab;});}function R(ta,Ka,Ua){return K(ta,Ka,function(Ya){if(Ua?Ua.test(Ya):(0,u.Se)(Ya))return Ya;});}function H(ta,Ka){return K(ta,Ka,function(Ua){if("true" == Ua || !0 === Ua)return !0;if("false" == Ua || !1 === Ua)return !1;});}function P(ta,Ka){return K(ta,Ka,function(Ua){if((0,u.Se)(Ua))return JSON.parse((0,q.O0)(Ua));if((0,u.Lh)(Ua))return Ua;});}function N(ta,Ka,Ua,Ya,ab,ib){var $a;ta=ta.toLowerCase();qa.hasOwnProperty(ta) && ($a=qa[ta]);if(!(0,u.Zc)($a))return Ka;if((0,u.Se)($a))if($a[0] !== Ua)$a=Ya($a);else try{$a=JSON.parse((0,q.O0)($a));}catch(Sa){$a=void 0;}if(void 0 === $a)return Ka;for(ta=0;ta < ab.length;ta++){if(!ab[ta]($a))return Ka;}return ib?ib($a):$a;}function L(ta,Ka,Ua,Ya,ab){return N(ta,Ka,"[",function(ib){ib=ib.split("|");for(var $a=ib.length;$a--;){ib[$a]=(0,p.He)(ib[$a]);}return ib;},[function(ib){return (0,u.isArray)(ib) && 0 < ib.length;},function(ib){for(var $a=ib.length;$a--;){if(!(0,u.Wz)(ib[$a],Ua,Ya))return !1;}return !0;},function(ib){return void 0 === ab || ib.length >= ab;}]);}function Q(ta,Ka){return N(ta,Ka,"[",function(Ua){Ua=(0,u.isArray)(Ua)?Ua:Ua.split("|");for(var Ya=Ua.length;Ya--;){try{Ua[Ya]=JSON.parse((0,q.O0)(Ua[Ya]));}catch(ab){Ua=void 0;break;}}return Ua;},[function(Ua){return (0,u.isArray)(Ua) && 0 < Ua.length;},function(Ua){for(var Ya=Ua.length;Ya--;){if(!(0,u.Zc)(Ua[Ya]) || !(0,u.Lh)(Ua[Ya]))return !1;}return !0;}]);}function S(ta,Ka,Ua,Ya){return N(ta,Ka,"[",function(ab){return (0,u.isArray)(ab)?ab:ab.split("|");},[function(ab){return (0,u.isArray)(ab) && 0 < ab.length;},function(ab){for(var ib=ab.length;ib--;){if(Ua?!Ua.test(ab[ib]):!(0,u.Xz)(ab[ib]))return !1;}return !0;},function(ab){return void 0 === Ya || ab.length >= Ya;}]);}function U(ta,Ka,Ua){return N(ta,Ka,"{",function(Ya){var ab,$a,Sa;ab={};Ya=Ya.split(";");for(var ib=Ya.length;ib--;){$a=Ya[ib];Sa=$a.indexOf(":");if(0 >= Sa)return;ab[$a.substring(0,Sa)]=$a.substring(Sa + 1);}return ab;},[function(Ya){return (0,u.Lh)(Ya) && 0 < Object.keys(Ya).length;},function(Ya){if(Ua)for(var ab in Ya){if(!Ua.test(Ya[ab]))return !1;}return !0;}],function(Ya){var ab;ab={};(0,p.Zb)(ab,Ka);(0,p.Zb)(ab,Ya);return ab;});}function ca(ta){var Ka;Ka=[];(0,p.te)(ta,function(Ua,Ya){var ab;try{ab="videoapp" === Ua.toLowerCase()?"[object object]":JSON.stringify(Ya);}catch(ib){ab="cantparse";}Ka.push(Ua + "=" + ab);});return Ka.join("\n");}ka=/^[0-9]+[%]?$/;ya=/^[0-9]*$/;ua={};O=d.ka.get(g.Wm);T=d.ka.get(x.iF);(function(ta){function Ka(Ua){Ua.split(",").forEach(function(Ya){var ab;ab=Ya.indexOf("=");0 < ab && (qa[Ya.substring(0,ab).toLowerCase()]=Ya.substring(ab + 1));});}qa={};(0,p.Zb)(qa,ta);E && E.length && q.forEach.call(E,function(Ua){(0,u.Se)(Ua)?Ka(Ua):(0,u.Lh)(Ua) && (0,p.Zb)(qa,Ua,{RN:!0});});Y=(0,p.Zb)({},(0,m.p6)(),{RN:!0});if(ta=(0,m.M6a)().cadmiumconfig)(d.log.info("Config cookie loaded",ta),Ka(ta));if(d.ka.get(A.Ik).l3 || qa.istestaccount)((0,p.Zb)(qa,Y),ua=Y);})(D);b.config={};ja={fCb:C(H,G("enableXHEAAC"),!1),mVa:C(H,G("enableDDPlus20"),!0),lVa:C(H,G("enableDDPlus"),!0),UU:C(H,G("enableDDPlusAtmos"),!1),NBb:C(H,G("enableLSSDH"),!0),HBb:C(H,G("enableHEVC"),!1),X4a:C(H,G("overrideEnableHEVC"),!1),Gla:C(H,G("enableHDR"),!1),W4a:C(H,G("overrideEnableHDR"),!1),V4a:C(H,G("overrideEnableDV"),!1),zM:C(H,G("enableAVCHigh"),T.zM),aI:C(H,G("overrideEnableAVCHigh"),T.aI),dCb:C(H,G("enableVP9"),!1),Y4a:C(H,G("overrideEnableVP9"),!1),BBb:C(H,G("enableAV1"),!1),U4a:C(H,G("overrideEnableAV1"),!1),WRb:C(H,G("overrideEnableXHEAAC"),!1),UBb:C(H,G("enablePRK"),!1),FBb:C(H,G("enableDV"),!1),IBb:C(H,G("enableHWDRM"),!1),LBb:C(H,G("enableImageSubs"),!0),g2b:C(H,G("useLegacySubs"),!1),rC:C(S,G("audioProfiles"),T.rC),d$b:C(H,G("disableHD"),!1),bCb:C(H,G("enableUHD"),!0),Uaa:C(I,"videoCapabilityDetectorType",k.fj.tv),zia:C(I,"audioCapabilityDetectorType",k.qv.tv),mv:C(S,G("videoProfiles"),T.mv),Rpb:C(S,G("timedTextProfiles"),T.hv),hv:function(){return ja.Rpb().filter(function(ta){return ta === n.cn.$ba?ja.NBb():ta === n.cn.eK?ja.LBb():!0;});},endpoint:C(H,G("endpoint"),!1),version:C(R,"version","unknown"),a9a:C(H,G("setMediaKeysEarly"),!1),Ibc:C(H,G("nrdpPersistCookiesToIndexDB"),!1),ybb:C(H,G("useHdcpLevelOnCast"),!1),JBb:C(H,G("enableHdcp"),!1),Yw:C(H,G("prepareCadmium"),!1),pqb:C(H,G("acceptManifestOnPrepareItemParams"),!0),vTb:C(P,"ppmconfig",{maxNumberTitlesScheduled:1}),cTb:C(H,G("playerPredictionModelV2"),!0),WU:C(H,G("enableLdlPrefetch"),!1),sVa:C(H,G("enableMediaPrefetch"),!1),PBb:C(H,G("enableManifestCache"),!0),Wzb:C(H,G("deleteCachedManifestOnPlayback"),!1),Vzb:C(H,G("deleteCachedManifestOnCreate"),!1),$zb:C(H,G("deleteOtherManifestCacheOnCreate"),!1),Zzb:C(H,G("deleteOtherLdlCacheOnCreate"),!1),$bc:C(I,G("periodicPrepareLogsIntervalMilliseconds"),36E5),RTb:C(I,G("prepareManifestCacheMaxCount"),50),PTb:C(I,G("prepareLdlCacheMaxCount"),30),i6a:C(I,G("prepareManifestExpiryMilliseconds"),12E5),QTb:C(I,G("prepareLdlExpiryMilliseconds"),78E4),JTb:C(I,G("prefetcherMaxWishlistSize"),1),ITb:C(I,G("prefetcherBudgetInBytes"),Infinity),KTb:C(H,G("prefetcherOverrideItemPriority"),!0),OTb:C(R,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),udc:C(P,"videoApp"),lE:C(P,"storageRules"),I5:C(H,"ftlEnabled",T.I5),cpa:C(I,G("imageSubsResolution"),0),PJb:C(I,G("imageSubsMaxBuffer"),T.fOb.da(y.rv),0),dU:C(H,G("captureBatteryStatus"),!1),SEb:C(I,G("getBatteryApiTimeoutMilliseconds"),5E3),zm:C(R,G("keySystemId"),T.zm),f1a:C(S,G("keySystemList"),void 0,void 0),VOb:C(I,G("hdcpGlobalTimeout1"),1E4),WOb:C(I,G("hdcpGlobalTimeout2"),1E4),mbc:C(I,G("hdcpQueryTimeout1"),1E3),nbc:C(I,G("hdcpQueryTimeout2"),1E3),h3a:C(I,G("hdcpQueryTimeout2"),100),XOb:C(H,G("microsoftHwdrmRequiresHevc"),!1),Kra:C(H,G("microsoftClearLeadRequiresSwdrm"),!1),SOb:C(H,G("microsoftEnableDeviceInfo"),!1),TOb:C(H,G("microsoftEnableHardwareInfo"),!1),UOb:C(H,G("microsoftEnableHardwareReset"),!1),d2b:C(H,G("useHevcCodecForDolbyVision"),!1),RBb:C(H,G("enableMediaCapabilities"),!1),uTb:C(H,G("powerEfficientForVideo"),!1),lNb:C(H,"logMediaPipelineStatus",!1),sY:C(H,G("renderDomDiagnostics"),!0),P1a:function(){return -1;},PN:C(J,G("logDisplayMaxEntryCount"),T.PN,-1),rNb:C(J,G("logToConsoleLevel"),-1),A9b:C(J,G("bladerunnerCmdHistorySize"),10),tw:function(){return O.tw;},U1b:C(H,"upgradeNetflixId",!0),Kqa:C(H,"logErrorIfEsnNotProvided",!0),Nla:C(H,"enforceSinglePlayback",T.Nla),b5:C(H,"enforceSingleSession",T.b5),Uja:C(H,"closeOtherPlaybacks",!0),csb:C(I,"asyncLoadTimeout",15E3,1),zNb:C(I,"mainThreadMonitorPollRate",0),Hbc:C(H,"nrdpAlwaysShowUIOverlay",!1),Jbc:C(H,"nrdpValidateSSOTokens",!0),Gcc:C(H,"showNrdpDebugBadging",!1),Yaa:function(){return O.Yaa;},Iz:function(){return O.Iz;},UL:function(){return O.UL;},nJ:function(){return O.nJ;},Mbb:C(I,G("verbosePlaybackInfoDenominator"),0),l$:C(H,"renderTimedText",!0),wTb:C(H,"preBufferTimedText",!0),XCb:C(H,"fatalOnTimedTextLoadError",!0),qxa:C(U,"timedTextStyleDefaults",{}),qaa:C(U,"timedTextStyleOverrides",{}),pxa:C(U,"timedTextFontFamilyMapping",T.pxa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),NP:C(I,"timedTextSimpleFallbackThreshold",T.NP.da(y.rv)),Lka:C(R,G("customDfxpUrl")),aCb:C(H,G("enableSubtitleTrackerLogging"),!1),EXb:C(H,G("sendSubtitleQoeLogblobOnMidplay"),!1),xja:C(L,"cdnIdWhiteList",[]),wja:C(L,"cdnIdBlackList",[]),Ema:C(R,G("forceAudioTrack")),FPb:C(H,"muteVolumeOnPlaybackClose",!0),Kbc:C(R,"nrdpVolumeControlType","VOLUME_STREAM"),Ima:C(R,G("forceTimedTextTrack")),mOb:C(I,G("maxRetriesTimedTextDownload"),0),d0b:C(I,G("timedTextRetryInterval"),8E3),LZb:C(R,"storageType","idb",/^(none|fs|idb|ls)$/),L1a:C(I,"lockExpiration",1E4),jNb:C(I,"lockRefresh",3E3),mub:C(H,"captureUnhandledExceptions",!0),OJb:C(H,"ignoreUnhandledExceptionDuringPlayback",!0),e1b:C(H,"unhandledExceptionsArePlaybackErrors",!1),Oab:C(R,"unhandledExceptionSource",""),$Tb:C(H,"preserveLastFrame",!1),dPb:C(I,"minBufferingTimeInMilliseconds",4E3),vUb:C(I,"progressBackwardsGraceTimeMilliseconds",4E3),wUb:C(I,"progressBackwardsMinPercent",10),dtb:C(R,G("bookmarkIgnoreBeginning"),"0",ka),etb:C(R,G("bookmarkIgnoreEnd"),"5%",ka),ftb:C(R,G("bookmarkIgnoreEndForBranching"),"60000",ka),UN:C(I,"maxParallelConnections",3),ava:C(H,"reportThroughputInLogblobs",!0),Qw:C(I,"minAudioMediaRequestDuration",16E3),bPb:C(I,"minAudioMediaRequestDurationBranching",0),pA:C(I,"minVideoMediaRequestDuration",4E3),jPb:C(I,"minVideoMediaRequestDurationVariableGOP",0),hPb:C(I,"minVideoMediaRequestDurationBranching",0),D8:C(I,"minAudioMediaRequestSizeBytes",0),L8:C(I,"minVideoMediaRequestSizeBytes",0),iBb:C(H,"droppedFrameRateFilterEnabled",!1),jBb:C(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),lBb:C(function(ta,Ka,Ua,Ya,ab,ib){return N(ta,Ka,"[",function($a){$a=$a.split(";");for(var Sa=$a.length;Sa--;){$a[Sa]=$a[Sa].split("|");for(var Da=$a[Sa].length;Da--;){$a[Sa][Da]=(0,p.He)($a[Sa][Da]);}}return $a;},[function($a){return (0,u.isArray)($a) && 0 < $a.length;},function($a){for(var Sa=$a.length;Sa-- && void 0 !== $a;){if(!(0,u.isArray)($a[Sa]))return !1;for(var Da=$a[Sa].length;Da--;){if(!(0,u.Wz)($a[Sa][Da],Ua,Ya))return !1;}}return !0;},function($a){if(void 0 !== ab)for(var Sa=$a.length;Sa--;){if(ab !== $a[Sa].length)return !1;}return !0;},function($a){return void 0 === ib || $a.length >= ib;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),o$b:C(H,"droppedFrameRateFilterWithoutRebufferEnabled",!0),kBb:C(I,"droppedFrameRateFilterMinHeight",384),mBb:C(L,"droppedFramesPercentilesList",[]),YOb:C(H,"microsoftScreenSizeFilterEnabled",!1),XLb:C(H,"keyStatusFilterEnabled",!1),XZa:C(I,"hdcpEngagementWaitTime",0),b1b:C(H,"uiLabelFilterEnabled",!0),a1b:C(P,"uiLabelFilter",{}),Rzb:C(I,G("defaultVolume"),100,0,100),rra:C(I,G("maxPlaybackRate"),2,0,16),AUa:C(H,"disableVideoRightClickMenu",!1),G8:C(I,"minDecoderBufferMilliseconds",1E3,0,l.wB),$H:C(I,"optimalDecoderBufferMilliseconds",5E3,0,l.wB),J4a:C(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.wB),ED:C(I,"minimumTimeBeforeBranchDecision",3E3,0,l.wB),hA:C(I,"maxDecoderBufferMilliseconds",T.hA.da(z.ja),0,l.wB),cUa:C(I,"decoderTimeoutMilliseconds",1E4,1),V3a:C(I,"noRenderTimeoutMilliseconds",0),DAb:C(H,"disgardMediaOnAppend",!1),Frb:C(H,"appendMediaBeforeInit",!1),rSb:C(I,"pauseTimeoutLimitMilliseconds",18E5),epa:C(I,"inactivityMonitorInterval",3E4,0),oqb:C(L,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),CM:C(H,"enableTrickPlay",!1),frb:C(L,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),N0b:C(I,"trickPlayHighResolutionBitrateThreshold",1E3),O0b:C(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),R0b:C(M,"trickplayBufferFactor",.5),M0b:C(I,"trickPlayDownloadRetryCount",1),kra:C(R,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),esa:C(R,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),CDa:C(P,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),F2a:C(J,"maxIQRSamples",Infinity),q3a:C(J,"minIQRSamples",5),Fbb:C(H,"useResourceTimingAPI",!1),KJb:C(H,"ignoreFirstByte",!0),Dra:C(H,"mediaRequestAsyncLoadStart",T.Dra),o2b:C(H,"useXHROnLoadStart",!1),cma:C(L,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),i4:C(I,"connectTimeoutMilliseconds",8E3,500),jsa:C(I,"noProgressTimeoutMilliseconds",8E3,500),h2b:C(H,"useOnLineApi",!1),fab:C(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),zbc:C(I,"netflixRequestExpiryTimeout",0),f3b:C(H,"webkitDecodedFrameCountIncorrectlyReported",!1),kXb:C(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),pSb:C(H,"pausePlaybackOnAudioSwitch",!0),haa:C(S,G("supportedAudioTrackTypes"),[],void 0,1),f7:C(I,"initialLogFlushTimeout",5E3),S5a:C(R,"playdataPersistKey",O.tw?"unsentplaydatatest":"unsentplaydata"),Qva:C(H,"sendPersistedPlaydata",!0),ZSb:C(I,"playdataPersistIntervalMilliseconds",4E3),acc:C(I,"playdataSendDelayMilliseconds",1E4),J$:C(H,"sendPlaydataBackupOnInit",!0),oNb:C(S,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),i3a:C(H,"midplayEnabled",!0),B8:C(I,"midplayIntervalMilliseconds",3E5),j3a:C(L,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),S4:C(I,"downloadReportDenominator",0),XAb:C(I,"downloadReportInterval",3E5),O1a:C(I,"logConfigApplyDenominator",0),rRa:C(U,G("bookmarkByMovieId"),{}),nV:C(H,G("forceLimitedDurationLicense"),!1),uD:C(I,G("licenseRenewalRequestDelay"),0),pta:C(I,G("persistedReleaseDelay"),1E4),Fac:C(H,G("limitedDurationFlagOverride"),void 0),m8a:C(I,"safariPlayPauseWorkaroundDelay",100),q3b:C(I,"workaroundValueForSeekIssue",1200),sja:C(H,G("callEndOfStream"),T.sja),CSb:C(H,"performRewindCheck",!0),ZCb:C(H,"fatalOnUnexpectedSeeking",!0),YCb:C(H,"fatalOnUnexpectedSeeked",!0),zYb:C(H,G("setVideoElementSize")),mvb:C(H,G("clearVideoSrc"),!0),nUa:C(I,G("delayPlayPause"),0),ip:C(H,G("useTypescriptEme"),!1),wbb:C(H,G("useEncryptedEvent"),!0),OU:C(R,G("drmPersistKey"),"unsentDrmData"),v6a:C(H,G("promiseBasedEme"),!1),lub:C(H,"captureKeyStatusData",!1),X6:C(H,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),rQb:C(H,G("nudgeSourceBuffer"),!1),Gva:C(J,G("seekDelta"),1),SX:C(H,G("preciseSeeking"),!1),zTb:C(H,G("preciseSeekingOnTwoCoreDevice"),!1),mUa:C(U,G("delayErrorHandling")),uab:C(H,"trackingLogEnabled",!1),vab:C(function(ta,Ka){var Ua;Ua=U(ta,Ka,void 0);Ua && Object.entries(Ua).forEach(function(Ya){var ab;ab=aa(Ya);Ya=ab.next().value;ab=ab.next().value;"true" === ab?Ua[Ya]=!0:"false" === ab && (Ua[Ya]=!1);});return Ua;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),vxa:C(R,"trackingLogPath","/customerevents/track/debug"),D0b:C(L,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Wk:C(R,"esn",""),fWa:C(R,"fesn",""),WBb:C(H,G("enablePerformanceLogging"),!1),oVa:C(H,G("enableEmeVerboseLogging"),!1),OBb:C(H,"enableLastChunkLogging",!1),appId:C(R,"appId","",ya),sessionId:C(R,"sessionId","",ya),yja:C(R,"cdnProxyUrl"),l2b:C(H,"usePlayReadyHeaderObject",!1),JWa:C(I,"forceXhrErrorResponseCode",void 0),Kr:{wbc:C(R,"mslApiPath","/msl/"),fcc:C(R,"proxyPath",""),aB:C(R,"uiVersion"),Gaa:C(R,"uiPlatform"),K9b:function(){return "0";},Pta:C(S,"preferredLanguages",l.UAa,/^[a-zA-Z-]{2,5}$/,1),TDb:C(R,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),r_b:C(H,"supportPreviewContentPin",!0),s_b:C(H,"supportWatermarking",!0),aZb:C(H,"showAllSubDubTracks",!1),C$b:C(H,G("failOnGuidMismatch"),!1)},c$:{enabled:C(H,"qcEnabled",!1),Xo:C(R,"qcPackageId","")},Ls:C(H,"useRangeHeader",!1),XU:C(H,"enableMilestoneEventList",!0),LL:C(R,"authenticationType",O.tw?T.bRa:T.LL),aRa:C(U,"authenticationKeyNames",(0,p.Zb)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),D_b:C(R,"systemKeyWrapFormat"),WJb:C(H,"includeNetflixIdUserAuthData",!0),UYb:C(H,"shouldSendUserAuthData",!0),Tva:C(H,"sendUserAuthIfRequired",T.Tva),QYb:C(H,"shouldClearUserData",!1),sJ:C(H,"usesMsl",!0),APb:C(H,"mslDeleteStore",!1),CPb:C(H,"mslPersistStore",!0),owb:C(H,"correctNetworkForShortTitles",!0),tTb:C(H,"postplayHighInitBitrate",!1),ODb:C(H,"flushHeaderCacheOnAudioTrackChange",!0),x_b:C(H,"supportsUnequalizedDownloadables",!0),YTa:C(I,G("debugAseDenominator"),100),ET:C(I,"aseAudioBufferSizeBytes",T.ET.da(y.rv)),FT:C(I,"aseVideoBufferSizeBytes",T.FT.da(y.rv)),Rw:C(I,"minInitVideoBitrate",560),Pra:C(I,"minHCInitVideoBitrate",560),jA:C(I,"maxInitVideoBitrate",Infinity),bX:C(I,"minInitAudioBitrate",0),aX:C(I,"minHCInitAudioBitrate",0),NW:C(I,"maxInitAudioBitrate",65535),C8:C(I,"minAcceptableVideoBitrate",235),cX:C(I,"minRequiredBuffer",3E4),sj:C(I,"minPrebufSize",7800),F8:C(I,"minCheckBufferingCompleteInterval",999999),Cua:C(M,"rebufferingFactor",1),ds:C(I,"maxBufferingTime",2600),eya:C(H,"useMaxPrebufSize",!0),zD:C(I,"maxPrebufSize",45E3),tra:C(I,"maxRebufSize",Infinity),c7:C(Q,"initialBitrateSelectionCurve",null),N_a:C(I,"initSelectionLowerBound",560),O_a:C(I,"initSelectionUpperBound",1050),naa:C(I,"throughputPercentForAudio",15),Mia:C(I,"bandwidthMargin",10),Nia:C(H,"bandwidthMarginContinuous",!1),Oia:C(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),hka:C(I,"conservBandwidthMargin",20),fxa:C(H,"switchConfigBasedOnInSessionTput",!1),mU:C(I,"conservBandwidthMarginTputThreshold",0),ika:C(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),G$a:C(H,"switchAlgoBasedOnHistIQR",!1),nE:C(R,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),sra:C(J,"maxPlayerStateToSwitchConfig",-1),Uqa:C(R,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Oca:C(M,"IQRThreshold",.5),Uoa:C(R,"histIQRCalcToUse","simple"),vu:C(I,"maxTotalBufferLevelPerSession",0),Dla:C(H,"enableCombinedPlaygraphs",!1),X4:C(H,"enableDiscontiguousBuffering",!1),Gma:C(L,"forceImmediateTransitionTypeForTitles",[]),Fma:C(I,"forceImmediateTransitionExitZone",0),bya:C(H,"useBufferSizeLimiter",!1),e_a:C(I,"highWatermarkLevel",3E4),nab:C(I,"toStableThreshold",3E4),taa:C(I,"toUnstableThreshold",T.taa.da(z.ja)),ywa:C(H,"skipBitrateInUpswitch",!0),vya:C(I,"watermarkLevelForSkipStart",8E3),Ooa:C(I,"highStreamRetentionWindow",9E4),Vqa:C(I,"lowStreamTransitionWindow",51E4),Qoa:C(I,"highStreamRetentionWindowUp",3E5),Xqa:C(I,"lowStreamTransitionWindowUp",3E5),Poa:C(I,"highStreamRetentionWindowDown",6E5),Wqa:C(I,"lowStreamTransitionWindowDown",0),Noa:C(M,"highStreamInfeasibleBitrateFactor",.5),cA:C(I,"lowestBufForUpswitch",15E3),Z7:C(I,"lockPeriodAfterDownswitch",15E3),Zqa:C(I,"lowWatermarkLevel",25E3),dA:C(I,"lowestWaterMarkLevel",2E4),$qa:C(H,"lowestWaterMarkLevelBufferRelaxed",!1),Cra:C(M,"mediaRate",1),n8:C(I,"maxTrailingBufferLen",1E4),IT:C(I,"audioBufferTargetAvailableSize",262144),XZ:C(I,"videoBufferTargetAvailableSize",1048576),S2a:C(I,"maxVideoTrailingBufferSize",8388608),z2a:C(I,"maxAudioTrailingBufferSize",393216),r5:C(M,"fastUpswitchFactor",3),dma:C(M,"fastDownswitchFactor",1),kA:C(I,"maxMediaBufferAllowed",24E4),wwa:C(H,"simulatePartialBlocks",!0),E9a:C(H,"simulateBufferFull",!0),jka:C(H,"considerConnectTime",!1),gka:C(M,"connectTimeMultiplier",1),W1a:C(I,"lowGradeModeEnterThreshold",12E4),X1a:C(I,"lowGradeModeExitThreshold",9E4),C2a:C(I,"maxDomainFailureWaitDuration",3E4),y2a:C(I,"maxAttemptsOnFailure",18),UVa:C(H,"exhaustAllLocationsForFailure",!0),I2a:C(I,"maxNetworkErrorsDuringBuffering",20),g8:C(I,"maxBufferingTimeAllowedWithNetworkError",12E4),bWa:C(I,"fastDomainSelectionBwThreshold",2E3),T$a:C(I,"throughputProbingEnterThreshold",4E4),U$a:C(I,"throughputProbingExitThreshold",34E3),J1a:C(I,"locationProbingTimeout",1E4),jWa:C(I,"finalLocationSelectionBwThreshold",1E4),R$a:C(M,"throughputHighConfidenceLevel",.75),S$a:C(M,"throughputLowConfidenceLevel",.4),uVa:C(H,"enablePerfBasedLocationSwitch",!1),Pu:C(H,"probeServerWhenError",!0),Yta:C(I,"probeRequestTimeoutMilliseconds",8E3),Gy:C(H,"allowSwitchback",!0),mI:C(I,"probeDetailDenominator",100),h8:C(I,"maxDelayToReportFailure",300),Hqa:C(I,"locationStatisticsUpdateInterval",6E4),lTa:C(H,"countGapInBuffer",!1),gQa:C(H,"allowCallToStreamSelector",!0),zRa:C(I,"bufferThresholdForAbort",1E4),ura:C(I,"maxResponsesInitialTput",6),Y4:C(H,"enableInitialTputLogging",!1),sta:C(I,"pipelineScheduleTimeoutMs",2),lA:C(I,"maxPartialBuffersAtBufferingStart",2),vra:C(I,"maxStreamingSkew",4E3),qra:C(I,"maxPendingBufferPercentage",10),K6:C(I,"headerRequestSize",4096),Ula:C(H,"estimateHeaderSize",!0),ZW:C(I,"minBufferLenForHeaderDownloading",1E4),bP:C(I,"reserveForSkipbackBufferMs",1E4),usa:C(I,"numExtraFragmentsAllowed",2),zq:C(H,"pipelineEnabled",!1),N9a:C(I,"socketReceiveBufferSize",0),x3:C(I,"audioSocketReceiveBufferSize",32768),ZP:C(I,"videoSocketReceiveBufferSize",65536),Loa:C(I,"headersSocketReceiveBufferSize",32768),Laa:C(I,"updatePtsIntervalMs",1E3),Zia:C(I,"bufferTraceDenominator",100),OL:C(I,"bufferLevelNotifyIntervalMs",2E3),IL:C(I,"aseReportDenominator",0),s3:C(I,"aseReportIntervalMs",3E5),CBb:C(H,"enableAbortTesting",!1),mqb:C(I,"abortRequestFrequency",8),Xwa:C(I,"streamingStatusIntervalMs",2E3),yA:C(I,"prebufferTimeLimit",24E4),E8:C(I,"minBufferLevelForTrackSwitch",2E3),kta:C(I,"penaltyFactorForLongConnectTime",2),Sqa:C(I,"longConnectTimeThreshold",200),Yha:C(I,"additionalBufferingLongConnectTime",2E3),Zha:C(I,"additionalBufferingPerFailure",8E3),jY:C(I,"rebufferCheckDuration",6E4),rVa:C(H,"enableLookaheadHints",!1),T1a:C(I,"lookaheadFragments",2),pz:C(H,"enableOCSideChannel",!0),S0:C(P,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Zab:C(H,"updateDrmRequestOnNetworkFailure",!1),lUa:C(H,"deferAseScheduling",!1),B2a:C(I,"maxDiffAudioVideoEndPtsMs",16E3),E4:C(I,"defaultHeaderCacheSize",4),D4:C(I,"defaultHeaderCacheDataPrefetchMs",8E3),RH:C(H,"neverWipeHeaderCache",!0),dsa:C(I,"networkFailureResetWaitMs",2E3),csa:C(I,"networkFailureAbandonMs",6E4),m8:C(I,"maxThrottledNetworkFailures",3),maa:C(I,"throttledNetworkFailureThresholdMs",200),Yqa:C(J,"lowThroughputThreshold",400),Yla:C(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),B3a:C(H,"mp4ParsingInNative",!1),P9a:C(H,"sourceBufferInOrderAppend",!0),ZD:C(H,"requireAudioStreamToEncompassVideo",!0),fQa:C(H,"allowAudioToStreamPastVideo",!0),ii:C(H,"enableManagerDebugTraces",!1),j2a:C(I,"managerDebugMessageInterval",1E3),i2a:C(I,"managerDebugMessageCount",20),f4a:C(H,"notifyManifestCacheEom",!1),Yia:C(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Xia:C(I,"bufferThresholdToSwitchToParallelConnMs",12E4),H9:C(I,"periodicHistoryPersistMs",3E5),z$:C(I,"saveVideoBitrateMs",18E4),wQa:C(H,"appendMediaRequestOnComplete",!0),$aa:C(H,"waitForDrmToAppendMedia",!1),A5:C(H,G("forceAppendHeadersAfterDrm"),!1),VUb:C(H,G("reappendRequestsOnSkip"),!1),HPb:C(I,"netIntrStoreWindow",36E3),ePb:C(I,"minNetIntrDuration",8E3),UCb:C(I,"fastHistoricBandwidthExpirationTime",10368E3),Ksb:C(I,"bandwidthExpirationTime",5184E3),RCb:C(I,"failureExpirationTime",86400),jJb:C(I,"historyTimeOfDayGranularity",4),ECb:C(H,"expandDownloadTime",!1),qPb:C(I,"minimumMeasurementTime",500),pPb:C(I,"minimumMeasurementBytes",131072),V_b:C(I,"throughputMeasurementTimeout",2E3),kKb:C(I,"initThroughputMeasureDataSize",262144),W_b:C(R,"throughputPredictor","ewma"),U_b:C(I,"throughputMeasureWindow",5E3),Z_b:C(I,"throughputWarmupTime",5E3),T_b:C(I,"throughputIQRMeasureWindow",5E3),lhb:C(I,"IQRBucketizerWindow",15E3),Tvb:C(I,"connectTimeHalflife",10),DWb:C(I,"responseTimeHalflife",10),iJb:C(I,"historicBandwidthUpdateInterval",2E3),oPb:C(I,"minimumBufferToStopProbing",1E4),Fva:C(R,"secondThroughputEstimator","none"),t8a:C(J,"secondThroughputMeasureWindowInMs",Infinity),GBb:C(S,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),kDb:C(P,"filterDefinitionOverrides",{}),Izb:C(R,"defaultFilter","throughput-ewma"),iXb:C(R,"secondaryFilter","none"),Jzb:C(P,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),hX:C(H,"needMinimumNetworkConfidence",!0),Ria:C(H,"biasTowardHistoricalThroughput",!0),Rha:C(H,"addHeaderDataToNetworkMonitor",!1),Hwa:C(H,"startMonitorOnLoadStart",!1),$ua:C(H,"reportFailedRequestsToNetworkMonitor",!1),i8:C(J,"maxFastPlayBufferInMs",Infinity),ora:C(J,"maxFastPlayBitThreshold",Infinity),hia:C(H,"appendFirstHeaderOnComplete",!0),Qrb:C(R,"ase_stream_selector","optimized"),opa:C(R,"initBitrateSelectorAlgorithm","default"),dja:C(R,"bufferingSelectorAlgorithm","default"),ZTa:C(R,"ase_ls_failure_simulation",""),Oka:C(H,"ase_dump_fragments",!1),Qka:C(I,"ase_location_history",0),Rka:C(I,"ase_throughput",0),aUa:C(H,"ase_simulate_verbose",!1),pTb:C(I,"pollingPeriod",150),cNb:C(I,"loadTimeMs",18E4),PNb:C(I,"marginTimeMs",1E4),kna:C(H,"getDeviceIdFromBindDevice",!1),Qha:C(H,"addFailedLogBlobsToQueue",!0),Jxa:{"content-sampling":{ds:C(I,"contentSamplingMaxBufferingTime",3E3),hP:C(R,"contentSamplingSelectStartingVMAFMethod","fallback"),yT:C(H,"contentSamplingActivateSelectStartingVMAF",!0),yu:C(I,"contentSamplingMinStartingVideoVMAF",80),YW:C(I,"contentSamplingMinAcceptableVMAF",70),KH:C(I,"contentSamplingMinAllowedVmaf",60)},billboard:{Rw:C(I,"billboardMinInitVideoBitrate",1050),jA:C(I,"billboardMaxInitVideoBitrate",null),sj:C(I,"billboardMinPrebufSize",null),zD:C(I,"billboardMaxPrebufSize",null),ds:C(I,"billboardMaxBufferingTime",null),lA:C(I,"billboardMaxPartialBuffersAtBufferingStart",null),dA:C(I,"billboardLowestWaterMarkLevel",6E3),cA:C(I,"billboardLowestBufForUpswitch",25E3),nE:C(R,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Rw:C(I,"preplayMinInitVideoBitrate",1050),jA:C(I,"preplayMaxInitVideoBitrate",null),sj:C(I,"preplayMinPrebufSize",null),zD:C(I,"preplayMaxPrebufSize",null),ds:C(I,"preplayMaxBufferingTime",null),lA:C(I,"preplayMaxPartialBuffersAtBufferingStart",null),dA:C(I,"preplayLowestWaterMarkLevel",6E3),cA:C(I,"preplayLowestBufForUpswitch",25E3)},embedded:{Rw:C(I,"embeddedMinInitVideoBitrate",1050),jA:C(I,"embeddedMaxInitVideoBitrate",null),sj:C(I,"embeddedMinPrebufSize",null),zD:C(I,"embeddedMaxPrebufSize",null),ds:C(I,"embeddedMaxBufferingTime",null),lA:C(I,"embeddedMaxPartialBuffersAtBufferingStart",null),dA:C(I,"embeddedLowestWaterMarkLevel",6E3),cA:C(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Rw:C(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),jA:C(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),sj:C(I,"videoMerchBobHorizontalMinPrebufSize",null),zD:C(I,"videoMerchBobHorizontalMaxPrebufSize",null),ds:C(I,"videoMerchBobHorizontalMaxBufferingTime",null),lA:C(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),dA:C(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),cA:C(I,"videoMerchBobHorizontalLowestBufForUpswitch",null),mv:C(S,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Rw:C(I,"miniModalHorizontalMinInitVideoBitrate",null),jA:C(I,"miniModalHorizontalMaxInitVideoBitrate",null),sj:C(I,"miniModalHorizontalMinPrebufSize",null),zD:C(I,"miniModalHorizontalMaxPrebufSize",null),ds:C(I,"miniModalHorizontalMaxBufferingTime",500),lA:C(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),dA:C(I,"miniModalHorizontalLowestWaterMarkLevel",null),cA:C(I,"miniModalHorizontalLowestBufForUpswitch",null),mv:C(S,"miniModalHorizontalVideoProfiles",void 0)}},eCb:C(H,"enableVerbosePlaydelayLogging",!1),ZBb:C(H,"enableSeamless",!1),Toa:C(I,"hindsightDenominator",0),Soa:C(I,"hindsightDebugDenominator",0),O6:C(P,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),YU:C(H,"enableSessionHistoryReport",!1),Bla:C(I,"earlyStageEstimatePeriod",1E4),s1a:C(I,"lateStageEstimatePeriod",3E4),k8:C(I,"maxNumSessionHistoryStored",30),K8:C(I,"minSessionHistoryDuration",3E4),Lw:C(I,"maxActiveRequestsPerSession",3),e8:C(I,"maxActiveRequestsSABCell100",2),Cqa:C(H,"limitAudioDiscountByMaxAudioBitrate",!0),he:C(P,"browserInfo",{}),ztb:C(I,G("busyGracePeriod"),199),FXb:C(H,G("sendTransitionLogblob"),!0),sBb:C(H,G("editVideoFragments"),!0),V4:C(H,G("earlyAppendSingleChildBranch"),!0),XJb:C(H,G("includeSegmentInfoOnLogblobs"),!0),JCb:C(H,"exposeTestData",!1),Ska:C(H,"declareBufferingCompleteAtSegmentEnd",!0),gG:C(H,"applyProfileTimestampOffset",!1),gm:C(H,"applyProfileStreamingOffset",!1),wrb:C(H,G("allowSmallSeekDelta"),!1),nZb:C(I,G("smallSeekDeltaThresholdMilliseconds"),t.j1),EBb:C(H,"enableCDMAttestedDescriptors",!1),p$:C(H,"requireDownloadDataAtBuffering",!1),q$:C(H,"requireSetupConnectionDuringBuffering",!1),Fua:C(H,"recordFirstFragmentOnSubBranchCreate",!1),ltb:C(H,"branchingAudioTrackFrameDropSmallSeekFix",!0),HWa:C(H,"forceL3WidevineCdm",!1),Abb:C(H,"useMobileVMAF",!1),tUa:C(R,"desiredVMAFTypeMobile","phone_plus_lts"),uUa:C(R,"desiredVMAFTypeNonMobile","plus_lts"),yT:C(H,"activateSelectStartingVMAF",!1),yu:C(I,"minStartingVideoVMAF",1),YW:C(I,"minAcceptableVMAF",1),KH:C(I,"minAllowedVmaf",1),Arb:C(H,"alwaysNotifyEOSForPlaygraph",!0),BM:C(H,"enableNewAse",!0),TZ:C(H,"useNewApi",!0),KBb:C(H,"enableHudsonFieldTest",!1),yJb:C(S,"hudsonTitles",["81127954","70125931","80158148"]),jOb:C(I,"maxPartialBuffersAtHudson",1),wQb:C(I,"numberOfChunksPerSegment",4),H_b:C(I,"targetContentLatency",1E4),I_b:C(I,"targetLongContentLatency",3E4),rPb:C(I,"minimumTimeDelay",1),Ila:C(H,"enableWsslEstimate",!1),f8:C(I,"maxAllowedOutstandingRequests",4),DL:C(H,"alwaysRunUnderflowTimer",!0),Qra:C(I,"minStreamableConcurrencyWindow",3E3),Twa:C(M,"streamableConcurrencyFactor",.3),ZT:C(I,"bufferingConcurrencyWindow",7800),iZb:C(H,"singleStreamablePerBranch",!0),a5:C(H,"enableResolutionVMAFStreamFilter",!1),u$:C(P,"resolutionVMAFCappingRuleList",{}),mta:C(J,"percentCapTitlesForResolutionVMAFStreamFilter",100),zAb:C(H,"disableSkipping",!1),Naa:C(H,"useHLSPlayer",T.Naa),cya:C(H,G("useExitZones"),!0),oWb:C(H,"requestSegmentVmaf",!1),xO:C(P,"perFragmentVMAFConfig",{enabled:!1})};ma=!0;b.eka=function(ta){var Ka,Ua,Ya;Ka=d.ka.get(B.kd).id;if(0 < b.config.O1a && 0 === Ka % b.config.O1a)try{Ua=d.ka.get(w.Xm);Ya=d.ka.get(v.Ox).Kt("config","info",{params:ta});Ua.Hc(Ya);}catch(ab){d.log.error("Failed to log config$apply",ab);}nb._cad_global.config=b.config;(0,h.gb)(ta);ta && (qa=(0,p.Zb)({},ta,{RN:!0}),(0,p.Zb)(qa,ua,{RN:!0}),F(ja,b.config),qa.istestaccount && d.log.trace("Config applied for",ca(ma?qa:ta)),ma=!1);};(0,b.eka)(qa);};b.Ovb=function(E,D){return (0,u.Se)(E) && "%" == E[E.length - 1]?(0,q.Mj)(parseFloat(E) * D / 100):E | 0;};b.TSa=function(E){var D;if(E){E=(0,p.Zb)({},b.config);D={$H:b.config.J4a};return (0,p.Zb)(E,D,{tA:!0});}return b.config;};b.Pvb=function(E){var D;D=(0,p.Zb)({},b.config);E=c(E);return (0,p.Zb)(D,E,{tA:!0});};b.fka=function(E){E=c(E);return (0,p.Zb)({},a(186)(E),{tA:!0});};b.SSa=function(E,D,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9") || 0 <= F.indexOf("av1"));E={Qw:E?b.config.bPb:b.config.Qw,pA:E?b.config.hPb:F?b.config.jPb:b.config.pA,V4:!D};return (0,p.Zb)({},a(186)(E),{tA:!0});};b.Rvb=c;b.Qvb=f;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ce=b.cb=b.Af=b.Rb=b.ca=b.Rca=b.lF=b.Da=void 0;(function(c){c.H1a="loadedtracks";c.G1a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Wp="currenttimechanged";c.Rab="unthrottledcurrenttimechanged";c.bja="bufferedtimechanged";c.$Ua="durationchanged";c.Sbb="videosizechanged";c.u5a="pausedchanged";c.Hta="playingchanged";c.EVa="endedchanged";c.QL="busychanged";c.z3="audiotracklistchanged";c.hm="audiotrackchanged";c.jv="timedtexttracklistchanged";c.Rl="timedtexttrackchanged";c.JZ="trickplayframeschanged";c.G3a="mutedchanged";c.Xbb="volumechanged";c.rwa="showsubtitle";c.Sua="removesubtitle";c.e3b="watermark";c.Wpa="isReadyToTransition";c.uN="inactivated";c.c0a="internalPlaybackError";c.qXb="segmentmaploaded";c.rXb="segmentpresenting";c.dRa="autoplaywasallowed";c.C3="autoplaywasblocked";})(b.Da || (b.Da={}));(b.lF || (b.lF={})).IY="playgraphsegmenttransition";b.Rca=a;a.I8a="serverTimeChanged";(function(c){c.HL="aseReport";c.Hia="autoplayWasAllowed";c.ei="autoplayWasBlocked";c.Py="bufferUnderrun";c.closed="closed";c.mg="closing";c.Wp="currentTimeChanged";c.HG="downloadComplete";c.uN="inactivated";c.u1a="licenseAdded";c.NN="licensed";c.GW="locationSelected";c.fra="manifestClosing";c.CH="manifestPresenting";c.t8="mediaBufferChanged";c.b9="nextBranchingSegmentChosen";c.Cq="playbackStart";c.Bq="playbackReady";c.xk="repositioned";c.tI="repositioning";c.n8a="safePlayRequested";c.EI="segmentPresenting";c.MY="serverSwitch";c.A9a="shouldUpdateVideoDiagInfo";c.HP="subtitleError";c.lxa="throttledMediaTimeChanged";c.Sab="unthrottledMediaTimeChanged";c.MP="timedTextRebuffer";c.jv="timedTextTrackListChanged";c.JZ="trickPlayFramesChanged";c.Vxa="updateNextBranchingSegmentWeights";c.s2b="userInitiatedPause";c.Jbb="userInitiatedResume";c.wab="tracksHydrated";})(b.ca || (b.ca={}));(function(c){c[c.fK=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.re=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Rb || (b.Rb={}));(function(c){c[c.re=1]="NORMAL";c[c.xd=2]="BUFFERING";c[c.hKa=3]="STALLED";})(b.Af || (b.Af={}));(function(c){c[c.Rf=1]="WAITING";c[c.Lc=2]="PLAYING";c[c.jh=3]="PAUSED";c[c.Yq=4]="ENDED";})(b.cb || (b.cb={}));(function(c){c[c.Lx=0]="INITIAL";c[c.GB=1]="SEEK";c[c.ZR=2]="TRACK_CHANGED";c[c.nK=3]="SEGMENT_CHANGED";c[c.i0=4]="FORCE_REBUFFER";})(b.Ce || (b.Ce={}));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(349),b);},function(r,b,a){b=a(114);b.Kzb=0;r.exports={EventEmitter:b,Xh:a(745)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kd="ApplicationSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.jd=b.zpa=b.Xz=b.Se=b.cqa=b.$Kb=b.OKb=b.Tpa=b.Wz=b.r0a=b.Ca=b.aqa=b.isArray=b.O0a=b.Lh=b.Zc=b.is=void 0;r=a(194);b.is=r.NE;b.Zc=function(c){return b.is.Hg(c);};b.Lh=function(c){return b.is.EL(c);};b.O0a=function(c){return b.is.Fha(c);};b.isArray=function(c){return b.is.Hy(c);};b.aqa=function(c){return b.is.mQa(c);};b.Ca=function(c,f,l){return b.is.Hi(c,f,l);};b.r0a=function(c,f,l){return b.is.fia(c,f,l);};b.Wz=function(c,f,l){return b.is.CT(c,f,l);};b.Tpa=function(c){return b.is.uT(c);};b.OKb=function(c){return b.is.kqb(c);};b.$Kb=function(c){return b.is.lqb(c);};b.cqa=function(c){return b.is.nQa(c);};b.Se=function(c){return b.is.Jp(c);};b.Xz=function(c){return b.is.pn(c);};b.zpa=function(c){return b.is.tT(c);};b.jd=function(c){return b.is.d3(c);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=!1;},function(r,b,a){function c(f,l){return b.zo.assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.szb=b.Nka=b.lzb=b.pzb=b.mM=b.yU=b.ozb=b.qzb=b.nM=b.XTa=b.nzb=b.mzb=b.gb=b.zo=b.rzb=b.Wcb=void 0;r=a(8);a=a(96);b.Wcb=function(){c(!1);};b.rzb=!0;b.zo=r.ka.get(a.sv);b.gb=c;b.mzb=function(f,l){return b.zo.Trb(f,l);};b.nzb=function(f,l){return b.zo.Urb(f,l);};b.XTa=function(f,l){return b.zo.u3(f,l);};b.nM=function(f,l){return b.zo.$rb(f,l);};b.qzb=function(f,l){return b.zo.Yrb(f,l);};b.ozb=function(f,l){return b.zo.sia(f,l);};b.yU=function(f,l){return b.zo.Wrb(f,l);};b.mM=function(f,l){return b.zo.Zrb(f,l);};b.pzb=function(f,l){return b.zo.Xrb(f,l);};b.lzb=function(f,l){return b.zo.Srb(f,l);};b.Nka=function(f,l){return b.zo.Vrb(f,l);};b.szb=function(){return b.zo.EKb();};},function(r,b){function a(c,f){var l,m,d,g,h;if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.T=void 0;r=(function(){function c(f,l){"object" === typeof f?(this.xc=f.vc,this.nb=f.S):(this.xc=f,this.nb=l);}c.compare=function(f,l){return f.Al(l);};c.abs=function(f){return new c(Math.abs(f.xc),f.nb);};c.Ab=function(f){return 0 === f?c.Eb:new c(f,1E3);};c.BZ=function(f,l){return Math.floor(1E3 * f / l);};c.Yra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{vc:{get:function(){return this.xc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return c.BZ(this.xc,this.nb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{hI:{get:function(){return 1E3 * this.xc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{zI:{get:function(){var f;f=this.hI;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wh:{get:function(){return this.xc / this.nb;},enumerable:!1,configurable:!0}});c.prototype.ag=function(f){f/=this.nb;return new c(Math.floor(this.xc * f),Math.floor(this.nb * f));};c.prototype.add=function(f){var l;if(this.nb === f.nb)return new c(this.xc + f.xc,this.nb);l=a(this.nb,f.nb);return new c(this.xc * l / this.nb + f.xc * l / f.nb,l);};c.prototype.Ma=function(f){var l;if(this.nb === f.nb)return new c(this.xc - f.xc,this.nb);l=a(this.nb,f.nb);return new c(this.xc * l / this.nb - f.xc * l / f.nb,l);};c.prototype.PH=function(f){return new c(this.xc * f,this.nb);};c.prototype.Cl=function(f){var l;if("number" === typeof f){l=a(this.xc,f);return l !== this.xc?this.ag(l / this.xc * this.nb).Cl(f):new c(this.xc / f,this.nb);}if(this.nb === f.nb)return this.xc / f.xc;l=a(this.nb,f.nb);return this.xc * l / this.nb / (f.xc * l / f.nb);};c.prototype.zUa=function(f){var l;if(this.nb === f.nb)return new c(Math.abs(this.xc - f.xc),this.nb);l=a(this.nb,f.nb);return new c(Math.abs(this.xc * l / this.nb - f.xc * l / f.nb),l);};c.prototype.Eua=function(){return new c(this.nb,this.xc);};c.prototype.compare=function(f,l){var m;if(this.nb === l.nb)return f(this.xc,l.xc);m=a(this.nb,l.nb);return f(this.xc * m / this.nb,l.xc * m / l.nb);};c.prototype.Al=function(f){var l;if(this.nb === f.nb)return this.xc - f.xc;l=a(this.nb,f.nb);return this.xc * l / this.nb - f.xc * l / f.nb;};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.g9=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.KN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Qr=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.isFinite=function(){return ! !this.nb && isFinite(this.xc);};c.prototype.t6=function(f){return a(this.S,f);};c.prototype.toJSON=function(){return {ticks:this.xc,timescale:this.nb};};c.prototype.toString=function(){return this.xc + "/" + this.nb;};c.prototype.Zd=function(){return this.xc + "/" + this.nb + " (" + this.W + "ms)";};c.Eb=new c(0,1E3);c.Uw=new c(1,1E3);c.iD=new c(Infinity,1);return c;})();b.T=r;},function(r,b,a){function c(){c=Object.assign || (function(G){for(var K,J=1,I=arguments.length;J < I;J++){K=arguments[J];for(var M in K){Object.prototype.hasOwnProperty.call(K,M) && (G[M]=K[M]);}}return G;});return c.apply(this,arguments);}function f(G,K){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,I){J.__proto__=I;}) || (function(J,I){for(var M in I){I.hasOwnProperty(M) && (J[M]=I[M]);}});return f(G,K);}function l(G,K){function J(){this.constructor=G;}f(G,K);G.prototype=null === K?Object.create(K):(J.prototype=K.prototype,new J());}function m(G,K){var J,I,M;J={};for(I in G){Object.prototype.hasOwnProperty.call(G,I) && 0 > K.indexOf(I) && (J[I]=G[I]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(I=Object.getOwnPropertySymbols(G);M < I.length;M++){0 > K.indexOf(I[M]) && Object.prototype.propertyIsEnumerable.call(G,I[M]) && (J[I[M]]=G[I[M]]);}}return J;}function d(G,K,J,I){var M,R,H;M=arguments.length;R=3 > M?K:null === I?I=Object.getOwnPropertyDescriptor(K,J):I;if("object" === typeof Reflect && "function" === typeof Reflect.Hr)R=Reflect.Hr(G,K,J,I);else for(var P=G.length - 1;0 <= P;P--){if(H=G[P])R=(3 > M?H(R):3 < M?H(K,J,R):H(K,J)) || R;}return (3 < M && R && Object.defineProperty(K,J,R),R);}function g(G,K){return function(J,I){K(J,I,G);};}function h(G,K){if("object" === typeof Reflect && "function" === typeof Reflect.Gc)return Reflect.Gc(G,K);}function k(G,K,J,I){function M(R){return R instanceof J?R:new J(function(H){H(R);});}return new (J || (J=Promise))(function(R,H){function P(Q){try{L(I.next(Q));}catch(S){H(S);}}function N(Q){try{L(I["throw"](Q));}catch(S){H(S);}}function L(Q){Q.done?R(Q.value):M(Q.value).then(P,N);}L((I=I.apply(G,K || [])).next());});}function n(G,K){var M,R,H,P,N;function J(L){return function(Q){return I([L,Q]);};}function I(L){if(R)throw new TypeError("Generator is already executing.");for(;M;){try{if((R=1,H && (P=L[0] & 2?H["return"]:L[0]?H["throw"] || ((P=H["return"]) && P.call(H),0):H.next) && !(P=P.call(H,L[1])).done))return P;if((H=0,P))L=[L[0] & 2,P.value];switch(L[0]){case 0:case 1:P=L;break;case 4:return (M.label++,{value:L[1],done:!1});case 5:M.label++;H=L[1];L=[0];continue;case 7:L=M.Pn.pop();M.Qm.pop();continue;default:if(!(P=M.Qm,P=0 < P.length && P[P.length - 1]) && (6 === L[0] || 2 === L[0])){M=0;continue;}if(3 === L[0] && (!P || L[1] > P[0] && L[1] < P[3]))M.label=L[1];else if(6 === L[0] && M.label < P[1])(M.label=P[1],P=L);else if(P && M.label < P[2])(M.label=P[2],M.Pn.push(L));else {P[2] && M.Pn.pop();M.Qm.pop();continue;}}L=K.call(G,M);}catch(Q){L=[6,Q];H=0;}finally{R=P=0;}}if(L[0] & 5)throw L[1];return {value:L[0]?L[1]:void 0,done:!0};}M={label:0,Ic:function(){if(P[0] & 1)throw P[1];return P[1];},Qm:[],Pn:[]};return (N={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function p(G,K,J,I){void 0 === I && (I=J);G[I]=K[J];}function q(G,K){for(var J in G){"default" === J || K.hasOwnProperty(J) || (K[J]=G[J]);}}function u(G){var K,J,I;K="function" === typeof Symbol && Symbol.iterator;J=K && G[K];I=0;if(J)return J.call(G);if(G && "number" === typeof G.length)return {next:function(){G && I >= G.length && (G=void 0);return {value:G && G[I++],done:!G};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,K){var J,I,M;J="function" === typeof Symbol && G[Symbol.iterator];if(!J)return G;G=J.call(G);M=[];try{for(;(void 0 === K || 0 < K--) && !(I=G.next()).done;){M.push(I.value);}}catch(H){var R;R={error:H};}finally{try{I && !I.done && (J=G["return"]) && J.call(G);}finally{if(R)throw R.error;}}return M;}function w(){for(var G=[],K=0;K < arguments.length;K++){G=G.concat(t(arguments[K]));}return G;}function v(){var I;for(var G=0,K=0,J=arguments.length;K < J;K++){G+=arguments[K].length;}G=Array(G);I=0;for(K=0;K < J;K++){for(var M=arguments[K],R=0,H=M.length;R < H;(R++,I++)){G[I]=M[R];}}return G;}function x(G){return this instanceof x?(this.tE=G,this):new x(G);}function y(G,K,J){var N,L,Q;function I(S){N[S] && (L[S]=function(U){return new Promise(function(ca,ka){1 < Q.push([S,U,ca,ka]) || M(S,U);});});}function M(S,U){var ca;try{ca=N[S](U);ca.value instanceof x?Promise.resolve(ca.value.tE).then(R,H):P(Q[0][2],ca);}catch(ka){P(Q[0][3],ka);}}function R(S){M("next",S);}function H(S){M("throw",S);}function P(S,U){(S(U),Q.shift(),Q.length) && M(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=J.apply(G,K || []);Q=[];return (L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function z(G){var J,I;function K(M,R){J[M]=G[M]?function(H){return (I=!I)?{value:x(G[M](H)),done:"return" === M}:R?R(H):H;}:R;}return (J={},K("next"),K("throw",function(M){throw M;}),K("return"),J[Symbol.iterator]=function(){return this;},J);}function A(G){var I,M;function K(R){M[R]=G[R] && (function(H){return new Promise(function(P,N){H=G[R](H);J(P,N,H.done,H.value);});});}function J(R,H,P,N){Promise.resolve(N).then(function(L){R({value:L,done:P});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=G[Symbol.asyncIterator];return I?I.call(G):(G="function" === typeof u?u(G):G[Symbol.iterator](),M={},K("next"),K("throw"),K("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function B(G,K){Object.defineProperty?Object.defineProperty(G,"raw",{value:K}):G.raw=K;return G;}function E(G){var K;if(G && G.__esModule)return G;K={};if(null != G)for(var J in G){Object.hasOwnProperty.call(G,J) && (K[J]=G[J]);}K.default=G;return K;}function D(G){return G && G.__esModule?G:{default:G};}function F(G,K){if(!K.has(G))throw new TypeError("attempted to get private field on non-instance");return K.get(G);}function C(G,K,J){if(!K.has(G))throw new TypeError("attempted to set private field on non-instance");K.set(G,J);return J;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.kTa=b.KWa=b.Ho=b.Vf=b.wd=b.Hw=b.trim=b.bW=b.t$a=b.pua=b.bSb=b.He=b.JQa=b.WRa=b.Zb=b.te=void 0;c=a(21);f=a(30);l=a(11);m=a(19);b.te=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.Zb=b.Zb || (function(d,g,h){var k,n,p;if(g)if(h){k=h.RN;n=h.prefix;p=h.tA;(0,b.te)(g,function(q,u){if(!p || (0,f.Zc)(u))d[(n || "") + (k?q.toLowerCase():q)]=u;});}else (0,b.te)(g,function(q,u){d[q]=u;});return d;});b.WRa=function(d,g,h,k){var n;if(d){n=d[g];(0,m.jd)(n) && (h=n.apply(d,l.slice.call(arguments,3)));}return h;};b.JQa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.He=b.He || (function(d){return parseInt(d,10);});b.bSb=function(d){return (/^true$/i).test(d);};b.pua=function(d,g){return (0,l.Mj)(d + (0,l.WE)() * (g - d));};b.t$a=function(d){return JSON.stringify(d,null,"  ");};b.bW=(function(){var g,h;function d(k){(0,c.gb)(void 0 !== g[k]);return g[k];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(k){return k.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.Hw=function(d){return Array.isArray(d)?d:[d];};b.wd=b.wd || (function(d){var g,h,k;if(d){g=d.stack;h=d.number;k=d.message;k || (k="" + d);g?(d="" + g,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;h && (d+="\nnumber:" + h);return d;}});b.Vf=function(d){return (0,m.Ca)(d)?d.toFixed(0):"";};b.Ho=function(d){return (0,m.Ca)(d)?(d / 1E3).toFixed(0):"";};b.KWa=function(d){return (0,m.Ca)(d)?d.toFixed():"";};b.kTa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(r,b,a){var f;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.f9=b.mIb=b.pwb=b.flatten=b.o3a=b.Bvb=b.r3=b.zt=b.HQa=b.EQa=b.FQa=b.Np=b.GQa=b.kg=void 0;f=a(2);b.kg=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.GQa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.Np=function(l,m){var d;d=-1;return l.some(function(g,h,k){d=h;return m(g,h,k);})?d:-1;};b.FQa=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.EQa=c;b.HQa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.zt=function(l,m,d){return d?l.filter(function(g){return !m.some(function(h){return d(g,h);});}):l.filter(function(g){return -1 === m.indexOf(g);});};b.r3=function(l,m){return c(l.concat(m));};b.Bvb=function(l){return function(m,d){return l(m) - l(d);};};b.o3a=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,f.__spread(l));};b.pwb=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,g){g=m(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.mIb=function(l,m){return l.reduce(function(d,g){var h;h=m(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.f9=function(l){return null !== l && void 0 !== l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ex=b.iMa=b.Jkb=b.Kj=b.se=b.fj=b.qv=b.Oj=void 0;(function(a){a[a.Audio=0]="Audio";a[a.bMa=1]="Video";})(b.Oj || (b.Oj={}));(function(a){a[a.tv=0]="Default";a[a.Qx=1]="Microsoft";})(b.qv || (b.qv={}));(function(a){a[a.tv=0]="Default";a[a.Uba=1]="Cast";a[a.GJ=2]="Chrome";a[a.Qx=3]="Microsoft";})(b.fj || (b.fj={}));(function(a){a[a.WR=0]="SD";a[a.m0=1]="HD";a[a.rK=2]="UHD";a[a.Ts=3]="DV";a[a.Kx=4]="HDR10";a[a.lB=5]="AVCHigh";a[a.by=6]="VP9";a[a.Fj=7]="AV1";})(b.se || (b.se={}));(function(a){a[a.QE=0]="Level_1_4";a[a.xv=1]="Level_2_2";})(b.Kj || (b.Kj={}));b.Jkb=function(){};(function(a){a[a.L7b=0]="Platform";a[a.z4b=1]="CurrentTitle";})(b.iMa || (b.iMa={}));b.Ex="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dg="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={Z3b:{Ev:0,Y7b:1,name:["STARTUP","STEADY"]},n0:{Ah:0,X7b:1,Fkb:2,name:["STARTING","STABLE","UNSTABLE"]},Ta:{Vb:0,Nb:1,name:["AUDIO","VIDEO"]},ql:{Vb:0,Nb:1,name:["AUDIO","VIDEO"]},zh:{URL:0,nF:1,LOCATION:2,Tx:3,name:["URL","SERVER","LOCATION","NETWORK"]},Pf:{HAVE_NOTHING:0,sB:1,Jx:2,SJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Yx:{G3b:0,C5b:1,C7b:2,L6b:3,k7b:4,z8b:5,E5b:6,k6b:7,Ev:8,Of:9,Oda:10,pjb:11,Jba:12,shb:13,rhb:14,Yjb:15,Xjb:16,whb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},e5b:{Tx:0,B4b:1,name:["NETWORK","DECODE"]},V7b:{D4b:"delayedSeamless",O5b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eg="UtilitiesSymbol";},function(r,b,a){var m,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.jLa;}function l(g,h,k){var n,p,q;if(h)if(k){n=k.RN;p=k.prefix;q=k.tA;(0,d.te)(h,function(u,t){if(!q || c(t))g[(p || "") + (n?u.toLowerCase():u)]=t;});}else (0,d.te)(h,function(u,t){g[u]=t;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.wd=b.bW=b.OM=b.zG=b.createElement=b.Ft=b.IQa=b.c4=b.tP=b.Zb=b.pp=b.He=b.Xz=b.Se=b.Lh=b.Zc=b.iLa=b.wkb=b.xkb=b.jLa=b.xE=b.eba=b.Ps=b.hQ=b.gQ=b.Gk=b.H0=b.VE=b.WE=b.op=b.fo=b.Mj=b.rda=b.xB=b.IJ=b.yib=b.gF=b.Ul=b.rl=void 0;m=a(11);d=a(24);b.rl=function(){};b.Ul=1E3;b.gF=Object.create;b.yib=Object.keys;b.IJ=Date.now;b.xB=Math.floor;b.rda=Math.ceil;b.Mj=Math.round;b.fo=Math.max;b.op=Math.min;b.WE=Math.random;b.VE=Math.abs;b.H0=Math.pow;b.Gk="$attributes";b.gQ="$children";b.hQ="$name";b.Ps="$text";b.eba="$parent";b.xE="$sibling";b.jLa="string";b.xkb="number";b.wkb="function";b.iLa="object";b.Zc=c;b.Lh=function(g){return typeof g == b.iLa;};b.Se=f;b.Xz=function(g){return f(g) && g;};b.He=function(g){return parseInt(g,10);};b.pp=function(g,h,k){return g >= h?g <= k?g:k:h;};b.Zb=l;b.tP=function(g){return l({},g);};b.c4=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var k=arguments.length;h < k;){n=arguments[h++];if(c(n))return n;}};b.IQa=function(g,h){for(var k,n=!0,p;n;){for((n=!1,k=g.length);--k;){p=g[k];p[h] < g[k - 1][h] && (g[k]=g[k - 1],g[k - 1]=p,n=!0);}}};b.Ft=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};b.createElement=function(g,h,k,n){var p;p=m.Be.createElement(g);h && (p.style.cssText=h);k && (p.innerHTML=k);n && (0,d.te)(n,function(q,u){p.setAttribute(q,u);});return p;};b.zG=function(g){var h;h="";(0,d.te)(g,function(k,n){h+=(h?";":"") + k + ":" + n;});return h;};b.OM=function(g,h,k){var n;if(g / h > k){n=(0,b.Mj)(h * k);g=h;}else (n=g,g=(0,b.Mj)(g / k));return {width:n,height:g};};b.bW=(function(){var h,k;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,g);};})();b.wd=function(g){var h,k;if(g){h=g.stack;k=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;k && (h+="\nnumber:" + k);return h;}};b.L={Wl:1001,Jj:1003,Pfb:1701,ECa:1713,Qfb:1715,Ofb:1721,j0:1723};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ih="AsyncComponentLoaderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);b.ga=!1;r=(function(){function f(l,m,d,g,h){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ua={};this.Rn=g;}f.zn=function(l,m){var g,k;function d(n){n && n.zn && (n=n.zn(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ua)for(var h in l.Ua){k=l.Ua[h];Array.isArray(k) && k.forEach(d);}return g;};f.xt=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.Dl=function(l,m){return f.zn(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.Ac=function(){var l;l=this.la.Aa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.xt=function(l){f.xt(this,l);};f.prototype.zn=function(l){return f.zn(this,l);};f.prototype.Dl=function(l){return f.Dl(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Ut=function(){return !0;};f.prototype.Th=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.Ie=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Rn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Rn).toString(16) + ")");this.la.Ie(l,m,this);};f.prototype.Vu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Rn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Rn).toString(16) + ")");this.la.Vu(l,m,d,this);};f.prototype.iY=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.fT(l,m));}return g;}return this.fT(l,m);};f.prototype.Wi=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.la.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.iY(k):d.iY(k.type,k.length,k.oia);}});return m;};f.prototype.fT=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.mb();break;case "int64":l=this.la.Ud();break;case "int32":l=this.la.Aa();break;case "int16":l=this.la.$c();break;case "string":l=this.la.tua(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Oa=!1;return f;})();b.Dc=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.ga=!1;r=(function(){function f(l,m,d,g,h){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ua={};this.Rn=g;}f.zn=function(l,m){var g,k;function d(n){n && n.zn && (n=n.zn(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ua)for(var h in l.Ua){k=l.Ua[h];Array.isArray(k) && k.forEach(d);}return g;};f.xt=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.Dl=function(l,m){return f.zn(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.Ac=function(){var l;l=this.la.Aa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.xt=function(l){f.xt(this,l);};f.prototype.zn=function(l){return f.zn(this,l);};f.prototype.Dl=function(l){return f.Dl(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Ut=function(){return !0;};f.prototype.Th=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.Ie=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Rn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Rn).toString(16) + ")");this.la.Ie(l,m,this);};f.prototype.Vu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Rn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Rn).toString(16) + ")");this.la.Vu(l,m,d,this);};f.prototype.iY=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.fT(l,m));}return g;}return this.fT(l,m);};f.prototype.Wi=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.la.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.iY(k):d.iY(k.type,k.length,k.oia);}});return m;};f.prototype.fT=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.mb();break;case "int64":l=this.la.Ud();break;case "int32":l=this.la.Aa();break;case "int16":l=this.la.$c();break;case "string":l=this.la.tua(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Oa=!1;return f;})();b.Dc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ik="PlatformSymbol";b.CB="PlatformMutableSymbol";},function(r,b,a){var m,d;function c(g,h){return g && g.ru && (h || !1 !== g.Wt);}function f(g,h,k){return !m.Ca(g) || g < h?h:g > k?k:g;}function l(g){if(!(this instanceof l))return new l(g);this.Je=m.Ca(g)?g:void 0;}m=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},tH:c,sma:function(g,h,k){var p,q,u,t;function n(w){var v;v=g[w];if(!v.ru || k && !k(v,w))return !1;t=w;return !0;}p=g.length;q=0;u=p;m.isArray(h) && (q=f(h[0],0,p),u=f(h[1],0,p),h=h[2]);h=f(h,q - 1,u);for(p=h - 1;p >= q;--p){if(n(p))return t;}for(p=h + 1;p < u;++p){if(n(p))return t;}return -1;},yPb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},Btb:function(g,h){return Math.ceil(g / 1E3 * h * 125);},vac:function(g,h){return !g.slice(h + 1).some(c);},vp:l,kg:function(g,h){var k;return g.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},Np:function(g,h){var k;return g.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},X3:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bi="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wba="ConfigurableInputsSymbol";b.Xl="ValidatingConfigurableInputsSymbol";b.L_="ConfigNameSymbol";b.nR="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vh="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pMa="WindowTimersSymbol";b.OE="JSONSymbol";b.ULa="UserAgentSymbol";b.gK="NavigatorSymbol";b.Xhb="MediaSourceSymbol";b.$Ea="LocationSymbol";b.dBa="DateSymbol";b.Yda="PerformanceSymbol";b.PR="PlatformExtraInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wm=b.zv=b.Ix=void 0;(function(a){a[a.mLa=0]="Test";a[a.vEa=1]="Int";a[a.mkb=2]="Staging";a[a.Fjb=3]="Prod";})(b.Ix || (b.Ix={}));(function(a){a[a.RR=0]="PreferMsl";a[a.rJa=1]="PreferNoMsl";a[a.sib=2]="NoMsl";})(b.zv || (b.zv={}));b.Wm="GeneralConfigSymbol";},function(r,b,a){var f;function c(l,m,d,g,h,k,n,p,q,u,t,w){this.code=void 0 === l?f.M.Wl:l;this.Cc=m;this.Kd=d;this.xn=g;this.qA=h;this.message=k;this.details=n;this.data=p;this.hk=q;this.XSb=u;this.alert=t;this.bia=w;this.$=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.qd=void 0;f=a(3);c.wd=function(l){var m,d,g;if(l){m=l.stack;d=l.number;g=l.message;g || (g="" + l);m?(l="" + m,0 !== l.indexOf(g) && (l=g + "\n" + l)):l=g;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.FU=function(l){this.details=c.wd(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Cc,extCode:this.Kd,edgeCode:this.xn,mslCode:this.qA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.hk,playbackServiceError:this.XSb};};c.Nma=function(l,m){return new c(l,f.L.Jj,void 0,void 0,void 0,void 0,m.message,m.stack);};c.gcb=function(l,m){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.n3b=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.qd=c;},function(r,b,a){var m,d,g;function c(h){var k,n,p,t;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function f(h,k,n,p,q){var u;Object.getOwnPropertyNames(h).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(h,t);void 0 !== u && Object.defineProperty(k,t,u);});}function l(h,k,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));u=Object.getPrototypeOf(h);null !== u && u !== Object.prototype && l(u,k,n,p);f(h,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.zf=b.nwb=void 0;m=a(2);d=a(5);b.nwb=l;g=Object.getOwnPropertyNames(Function);b.zf=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(l(h.prototype,k.prototype,n,p),f(h,k,n,p,function(q){return -1 === g.indexOf(q);})):f(h,k.prototype,n,p,function(q){return -1 === g.indexOf(q);});return k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zB="named";b.K0="name";b.dS="unmanaged";b.XGa="optional";b.mR="inject";b.TE="multi_inject";b.eLa="inversify:tagged";b.fLa="inversify:tagged_props";b.Hda="inversify:paramtypes";b.Jeb="design:paramtypes";b.MR="post_construct";},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xPb=b.platform=b.mj=b.Tb=b.rGb=b.JV=b.cH=b.e2a=b.qF=b.de=b.Hj=b.cK=b.et=b.sF=void 0;c=a(2);c.__exportStar(a(168),b);c.__exportStar(a(349),b);c.__exportStar(a(717),b);c.__exportStar(a(718),b);c.__exportStar(a(719),b);f=a(99);Object.defineProperties(b,{sF:{enumerable:!0,get:function(){return f.sF;}}});Object.defineProperties(b,{et:{enumerable:!0,get:function(){return f.et;}}});Object.defineProperties(b,{cK:{enumerable:!0,get:function(){return f.cK;}}});c.__exportStar(a(730),b);c.__exportStar(a(353),b);c.__exportStar(a(215),b);c.__exportStar(a(22),b);l=a(354);Object.defineProperties(b,{Hj:{enumerable:!0,get:function(){return l.Hj;}}});m=a(54);Object.defineProperties(b,{de:{enumerable:!0,get:function(){return m.de;}}});d=a(217);Object.defineProperties(b,{qF:{enumerable:!0,get:function(){return d.qF;}}});c.__exportStar(a(357),b);b.e2a=function(h){b.platform.gW(h);return a(744).HFa;};b.cH=function(h){b.platform.gW(h);return Promise.resolve().then(function(){return c.__importStar(a(251));}).then(function(k){return k.cH();});};b.JV=function(h,k){b.platform.gW(h);return Promise.resolve().then(function(){return c.__importStar(a(416));}).then(function(n){return n.JV(k);});};b.rGb=function(){return a(220);};r=c.__importDefault(a(28));b.Tb=r.default;r=a(963);b.mj=r.mj;r=c.__importDefault(a(6));b.platform=r.default;g=a(964);b.xPb=function(){return {fr:g.fr};};},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.cn=b.ze=b.N=void 0;b.N=f;f.RJ="playready-h264mpl30-dash";f.IE="playready-h264mpl31-dash";f.zca="playready-h264mpl40-dash";f.YCa="playready-h264hpl22-dash";f.QQ="playready-h264hpl30-dash";f.RQ="playready-h264hpl31-dash";f.yca="playready-h264hpl40-dash";f.x1="vp9-profile0-L21-dash-cenc";f.sK="vp9-profile0-L30-dash-cenc";f.tK="vp9-profile0-L31-dash-cenc";f.gS="vp9-profile0-L40-dash-cenc";f.bgb="hevc-main10-L30-dash-cenc";f.cgb="hevc-main10-L31-dash-cenc";f.dgb="hevc-main10-L40-dash-cenc";f.egb="hevc-main10-L41-dash-cenc";f.dR="hevc-main10-L50-dash-cenc";f.fR="hevc-main10-L51-dash-cenc";f.o0="hevc-main10-L30-dash-cenc-prk";f.q0="hevc-main10-L31-dash-cenc-prk";f.s0="hevc-main10-L40-dash-cenc-prk";f.u0="hevc-main10-L41-dash-cenc-prk";f.p0="hevc-main10-L30-dash-cenc-prk-do";f.r0="hevc-main10-L31-dash-cenc-prk-do";f.t0="hevc-main10-L40-dash-cenc-prk-do";f.v0="hevc-main10-L41-dash-cenc-prk-do";f.eR="hevc-main10-L50-dash-cenc-prk-do";f.gR="hevc-main10-L51-dash-cenc-prk-do";f.P_="hevc-dv5-main10-L30-dash-cenc-prk";f.R_="hevc-dv5-main10-L31-dash-cenc-prk";f.FQ="hevc-dv5-main10-L40-dash-cenc-prk";f.U_="hevc-dv5-main10-L41-dash-cenc-prk";f.W_="hevc-dv5-main10-L50-dash-cenc-prk";f.Y_="hevc-dv5-main10-L51-dash-cenc-prk";f.Q_="hevc-dv5-main10-L30-dash-cenc-prk-do";f.S_="hevc-dv5-main10-L31-dash-cenc-prk-do";f.T_="hevc-dv5-main10-L40-dash-cenc-prk-do";f.V_="hevc-dv5-main10-L41-dash-cenc-prk-do";f.X_="hevc-dv5-main10-L50-dash-cenc-prk-do";f.Z_="hevc-dv5-main10-L51-dash-cenc-prk-do";f.$Ca="hevc-hdr-main10-L30-dash-cenc";f.aDa="hevc-hdr-main10-L31-dash-cenc";f.bDa="hevc-hdr-main10-L40-dash-cenc";f.cDa="hevc-hdr-main10-L41-dash-cenc";f.dDa="hevc-hdr-main10-L50-dash-cenc";f.eDa="hevc-hdr-main10-L51-dash-cenc";f.TQ="hevc-hdr-main10-L30-dash-cenc-prk";f.VQ="hevc-hdr-main10-L31-dash-cenc-prk";f.TJ="hevc-hdr-main10-L40-dash-cenc-prk";f.YQ="hevc-hdr-main10-L41-dash-cenc-prk";f.$Q="hevc-hdr-main10-L50-dash-cenc-prk";f.bR="hevc-hdr-main10-L51-dash-cenc-prk";f.UQ="hevc-hdr-main10-L30-dash-cenc-prk-do";f.WQ="hevc-hdr-main10-L31-dash-cenc-prk-do";f.XQ="hevc-hdr-main10-L40-dash-cenc-prk-do";f.ZQ="hevc-hdr-main10-L41-dash-cenc-prk-do";f.aR="hevc-hdr-main10-L50-dash-cenc-prk-do";f.cR="hevc-hdr-main10-L51-dash-cenc-prk-do";f.Fya="av1-main-L20-dash-cbcs-prk";f.Gya="av1-main-L21-dash-cbcs-prk";f.r_="av1-main-L30-dash-cbcs-prk";f.s_="av1-main-L31-dash-cbcs-prk";f.t_="av1-main-L40-dash-cbcs-prk";f.u_="av1-main-L41-dash-cbcs-prk";f.v_="av1-main-L50-dash-cbcs-prk";f.w_="av1-main-L51-dash-cbcs-prk";f.Tjb=[f.RJ];f.Zfb=[f.IE,f.zca];f.$ea=[f.o0,f.q0,f.s0,f.u0,f.dR,f.fR];f.afa=[f.p0,f.r0,f.t0,f.v0,f.eR,f.gR];f.Bca=[f.TQ,f.VQ,f.TJ,f.YQ,f.$Q,f.bR];f.Aca=[f.UQ,f.WQ,f.XQ,f.ZQ,f.aR,f.cR];f.cBa=[f.P_,f.FQ,f.W_,f.R_,f.U_,f.Y_];f.bBa=[f.Q_,f.T_,f.X_,f.S_,f.V_,f.Z_];f.vba=[f.QQ,f.RQ,f.yca];f.ZLa=[f.sK,f.tK,f.gS];f.by=[f.x1,f.sK,f.tK,f.gS];f.Fj=[f.r_,f.s_,f.t_,f.u_,f.v_,f.w_];f.xca=f.Tjb.concat(f.Zfb);b.ze=c;c.JE="heaac-2-dash";c.fDa="heaac-5.1-dash";c.KE="heaac-2hq-dash";c.uF="xheaac-dash";c.CQ="ddplus-2.0-dash";c.Xba="ddplus-5.1-dash";c.DQ="ddplus-atmos-dash";b.cn=a;a.$jb="simplesdh";a.$ba="dfxp-ls-sdh";a.z1="webvtt-lssdh-ios8";a.eK="nflx-cmisc";},function(r,b,a){var m,d,g;function c(h){return function(k,n){return k.zua(n,h);};}function f(h,k){return h.d$.HUb[k] || l(h,k);}function l(h,k){h=h.Oz.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.Iy=b.Iua=b.object=b.uCb=b.url=b.fa=b.al=b.Kxa=b.DKb=b.iZ=b.string=b.bB=b.ed=b.kD=b.config=void 0;m=a(52);d=a(4);g=a(139);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,u){var t,w;t=void 0 !== k?k:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.rLb(q))return this.qHb(q);a:{v=(this.urb || n?f:l)(this,t.toString());if(void 0 !== v)if((v=h(this.pX,v),v instanceof g.qp))this.NWa(t,v);else break a;v=w.bind(this)();}this.Z7a(q,v);return v;});return u;};};b.kD=function(h,k){return h.P6a(k);};b.ed=function(h,k){return h.sua(k);};b.bB=function(h,k){return h.Gq(k);};b.string=function(h,k){return h.zua(k);};b.iZ=function(h,k){return h.Oh(k,b.string);};b.DKb=function(h,k){return h.Oh(k,b.kD);};b.Kxa=function(h,k){return h.Oh(k,b.bB);};b.al=function(h,k){h=h.Gq(k);return h instanceof g.qp?h:(0,d.Oc)(h);};b.fa=function(h,k){h=h.Gq(k);return h instanceof g.qp?h:(0,m.fa)(h);};b.url=c(/^\S+$/);b.uCb=function(h){return function(k,n){return k.O6a(n,h);};};b.object=function(){return function(h,k){return h.Q6a(k);};};b.Iua=c;b.Iy=function(h,k){return function(n,p){return n.Oh(p,h,k);};};},function(r,b,a){var l,m,d,g;function c(h,k){var n;n=g.call(this,h,k) || this;n.VSa=k;n.debug=h.debug;n.ta=h.Zf.hb(n.VSa);return n;}function f(h,k){this.VSa=k;this.fua={};this.Oz=h.Oz;this.pX=h.pX;this.d$=h.d$;}Object.defineProperty(b,"__esModule",{value:!0});b.$e=b.sQ=b.gLa=void 0;r=a(1);l=a(607);m=a(0);d=a(139);b.gLa="isTestAccount";f.prototype.NWa=function(){};f.prototype.Z7a=function(h,k){this.fua[h]=[k,this.Oz.w$];};f.prototype.rLb=function(h){return l.Gda.of(this.fua[h]).map(function(k){return k[1];}).or(-1) < this.Oz.w$;};f.prototype.qHb=function(h){return l.Gda.of(this.fua[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Wa.Object.defineProperties(f.prototype,{urb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.Oz && this.Oz.data){h=this.Oz.data[b.gLa];"undefined" !== typeof h && (k=h.toString());h=this.pX.sua(k);h=h instanceof d.qp?!1:h;}else h=!1;return h;}}});g=f;g=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.pl)()),(0,r.__param)(1,(0,m.pl)())],g);b.sQ=g;na(c,g);c.prototype.NWa=function(h,k){this.ta.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([(0,r.__param)(0,(0,m.pl)()),(0,r.__param)(1,(0,m.pl)())],a);b.$e=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ada="LogBatcherConfigSymbol";b.Xm="LogBatcherSymbol";b.cFa="LogBatcherProviderSymbol";},function(r,b,a){var h,k,n,p,q,u,t,w;function c(){var v,x;if(v=b.p6.IOa)return v;v=u.N0.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=f(v);return b.p6.IOa=v;}function f(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},A,B=0;B < y.length;B++){v=(0,p.trim)(y[B]);A=v.indexOf("=");0 <= A?z[decodeURIComponent(v.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(A + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function l(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function m(v){return l(v.constructor);}function d(v){return u.sort.call(v,function(x,y){return x - y;});}function g(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.rTb=b.eH=b.VXa=b.D7=b.oTb=b.B0a=b.Adb=b.Bdb=b.NDb=b.Et=b.Lvb=b.OM=b.hDb=b.ZH=b.Pcb=b.nQ=b.Qcb=b.x_=b.Ocb=b.zKb=b.zG=b.UTb=b.zsa=b.fna=b.getFunctionName=b.oO=b.FX=b.p6=b.iHb=b.M6a=b.VPa=b.aTa=b.OUb=b.Ft=b.ISa=void 0;h=a(12);k=a(21);n=a(8);p=a(24);q=a(30);u=a(11);t=a(19);w=a(57);b.ISa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.Ft=b.Ft || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.OUb=function(v){var x;if(v){x=v.length;if(x)return (x=(0,p.pua)(0,x - 1),v[x]);}};b.aTa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.VPa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.M6a=function(){var v,x,y,z,A,B;v=u.Be.cookie.split("; ");x=v.length;A={};for(y=0;y < x;y++){if(z=(0,p.trim)(v[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.iHb=c;b.p6=Object.assign(c,{IOa:void 0});b.FX=f;b.oO=function(v){var x;x="";(0,p.te)(v,function(y,z){x && (x+="&");(0,k.gb)((0,q.Se)(z) || (0,t.Ca)(z) || (0,t.zpa)(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=l;b.fna=m;b.zsa=function(v){var x;x="";(0,t.isArray)(v) || (0,t.aqa)(v)?x=u.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?(0,u.aLa)(z):".");},""):(0,q.Se)(v)?x=v:(0,p.te)(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + ((0,t.jd)(z)?l(z) || "function":z) + "}";});return "[" + m(v) + " " + x + "]";};b.UTb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.zG=b.zG || (function(v){var x;x="";(0,p.te)(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.zKb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=v[z++];){if(x <= A[0]){v=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.Ocb=function(v,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((A=v[z],!y[A]))return !1;}return !0;};b.x_=d;b.Qcb=g;b.nQ=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && B > A && (A=B);}}return A;};b.Pcb=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && A > B && (A=B);}}return A;};b.ZH=function(v){return (0,t.jd)(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.hDb=function(v,x){var z,A,B,E,D,F;function y(C){0 > z.indexOf(C) && (0,t.Ca)(C) && z.push(C);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];A=x.length;try{for(;A--;){E="" + x[A];D=(0,q.He)(E);switch(E[E.length - 1]){case "-":for(B=v.length;B--;){F=v[B];if(F < D){y(F);break;}}break;case "+":for(B=0;B < v.length;B++){if((F=v[B],F > D)){y(F);break;}}break;default:0 <= v.indexOf(D) && y(D);}}}catch(C){}z.length || z.push(v[0]);d(z);return z;};b.OM=b.OM || (function(v,x,y){var z;if(v / x > y){z=(0,u.Mj)(x * y);v=x;}else (z=v,v=(0,u.Mj)(v / y));return {width:z,height:v};});b.Lvb=function(v,x,y){for(var z=[],A=0;A < x;A++){z.push((0,u.H0)(v[A] - y,2));}return (0,u.UFa)(g(z) / z.length);};b.Et=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=(0,u.xB)(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.NDb=function(v,x){if(!(0,t.isArray)(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=(0,t.isArray)(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(v[z].type == x[A])return v[z];}}throw Error("Box not found " + x);};b.Bdb=function(v){return v.tFb("trak/mdia/minf/stbl/stsd/" + h.Fza + "|" + h.Gza).children.filter(function(x){return "sinf" == x.type && x.D$b.schm.vcc == w.Cx;})[0].tFb("schi/tenc").nj;};b.Adb=function(v){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.B0a=function(){return (0,t.jd)(u.mf.requestMediaKeySystemAccess);};b.oTb=function(v){return function(x){return x && x[v];};};(0,t.jd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.D7=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.VXa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.eH=function(){var v,x,y;try{v=/playercore.*js/;x=u.Av.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=(0,u.Mj)(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.rTb=function(v,x,y){if(v && v.length){if(y && y.Vub)try{v.forEach(function(z,A){var B;B=(A=y.Vub[A]) && A.media;B && (0,q.Se)(B)?(!1,B=(0,n.Cr)(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,tc:A.cdn}):n.log.warn("chunk not in cache",z.Ri);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b,a){var f,l,m,d,g;function c(){return f.cc.get(m.kd).$z.da(g.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.rvb=b.a4=b.xSa=b.pvb=b.qvb=b.Z3=b.dk=void 0;f=a(195);l=a(38);m=a(18);d=a(81);g=a(4);b.dk=function(){return f.cc.get(m.kd).Xb().da(g.ja);};b.Z3=function(){return f.cc.get(l.Vh).gf.da(g.io);};b.qvb=function(){return f.cc.get(m.kd).$z.da(g.io);};b.pvb=function(){return f.cc.get(d.Mx).bz();};b.xSa=c;b.a4=function(){return f.cc.get(l.Vh).gf.da(g.ja);};b.rvb=function(){return c();};},function(r,b,a){var l;function c(){return l.eS.apply(this,arguments) || this;}function f(m){return new l.Xs(m,b.BE);}Object.defineProperty(b,"__esModule",{value:!0});b.Eb=b.rGa=b.Wca=b.rv=b.BE=b.IOb=b.cMb=b.fa=b.Ny=b.Ndb=void 0;l=a(315);na(c,l.eS);b.Ndb=c;b.Ny=f;b.fa=function(m){return new l.Xs(m,b.rv);};b.cMb=function(m){return new l.Xs(m,b.Wca);};b.IOb=function(m){return new l.Xs(m,b.rGa);};b.BE=new c(1,"b");b.rv=new c(8 * b.BE.xg,"B",b.BE);b.Wca=new c(1024 * b.rv.xg,"KB",b.BE);b.rGa=new c(1024 * b.Wca.xg,"MB",b.BE);b.Eb=f(0);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zm="PboCommandContextSymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Dea=b.de=void 0;c=a(2);f=a(737);(function(l){l[l.cp=0]="startPlayback";l[l.$p=1]="endPlayback";l[l.Zn=2]="underflow";})(b.de || (b.de={}));r=(function(){function l(m){this.config=m;this.UO=[];}l.prototype.Ji=function(m){var d,g;g=c.__read(this.config.K4.filter(function(h){return h.lj === m.lj;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:m.enabled)?this.UO.push(m):m.Lb && m.Lb();};l.prototype.Io=function(m){var d,g,h,p,q;g={};h=[];try{for(var k=c.__values(this.UO),n=k.next();!n.done;n=k.next()){p=n.value;try{q=p.Io({Qi:m});q && (p.HD?g[p.HD]=q:g=c.__assign(c.__assign({},g),q));}catch(t){h.push(t);}}}catch(t){var u;u={error:t};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(u)throw u.error;}}h.length && (g["rpt-error"]=new f.Kya("Reporting error",h));return g;};return l;})();b.Dea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kfb="Cannot apply @injectable decorator multiple times.";b.lfb="Metadata key was used more than once in a parameter:";b.GR="NULL argument";b.BEa="Key Not Found";b.vcb="Ambiguous match found for serviceIdentifier:";b.Odb="Could not unbind serviceIdentifier:";b.iib="No matching bindings found for serviceIdentifier:";b.Ghb="Missing required @injectable annotation in:";b.Hhb="Missing required @inject or @multiInject annotation in:";b.Ekb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Qdb="Circular dependency found:";b.N6b="Sorry, this feature is not fully implemented yet.";b.Ygb="Invalid binding type:";b.kib="No snapshot available to restore.";b.bhb="Invalid return type in middleware. Middleware must return!";b.ahb="Value provided to function binding must be a function!";b.dhb="The toSelf function can only be applied when a constructor is used as service identifier";b.Zgb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.xcb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.eeb="Invalid Container constructor argument. Container options must be an object.";b.ceb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.beb="Invalid Container option. Auto bind injectable must be a boolean";b.deb="Invalid Container option. Skip base check must be a boolean";b.Uhb="Cannot apply @postConstruct decorator multiple times in the same class";b.ojb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Rdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.dkb="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.So=b.XZb=b.q4a=void 0;b.q4a=function(a,c){return a - c;};b.XZb=function(a,c){return a.localeCompare(c);};b.So=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b){function a(c){var f;f=c.getConfiguration();return [b.UJ,b.Jea,b.m1].find(function(l){var m;return null === (m=f.videoCapabilities) || void 0 === m?void 0:m.some(function(d){return d.robustness === l;});});}Object.defineProperty(b,"__esModule",{value:!0});b.yna=b.Cna=b.UJ=b.Jea=b.m1=b.lMa=b.mMa=b.Lda=b.h0=b.Cx=void 0;b.Cx="cenc";b.h0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.Lda="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.mMa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.lMa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.m1="SW_SECURE_CRYPTO";b.Jea="SW_SECURE_DECODE";b.UJ="HW_SECURE_DECODE";b.Cna=a;b.yna=function(c){var f;if(c){f=null === c || void 0 === c?void 0:c.keySystem;(c=a(c)) && (f+="." + c);return f;}return "n/a";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bqa=b.Yh=void 0;(function(a){a[a.up=0]="STANDARD";a[a.eo=1]="LIMITED";})(b.Yh || (b.Yh={}));b.Bqa=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var f,l;function c(m,d){var g;g=b.ho[0];g == d && (g=b.ho[1]);g?g.close(function(){c(m,d);}):m && m(f.Ze);}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=b.BIa=b.dea=b.eea=b.DB=b.gea=b.fea=b.jea=b.iea=b.ho=b.kea=b.hea=void 0;f=a(12);l=a(21);b.hea=c;b.kea=function(m,d){switch(m){case b.fea:b.iea.push(d);return;case b.gea:b.jea.push(d);return;}(0,l.gb)(!1);};b.ho=[];b.iea=[];b.jea=[];b.fea=1;b.gea=3;b.DB={index:0,A3a:void 0,xma:void 0};b.eea="network";b.dea="media";b.BIa="timedtext";b.CIa="playback";},function(r,b,a){var c,f;c=a(130);f=a(178);r.exports=function(l){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(k){return l(d,k);});default:return f(d) && f(g)?h:f(d)?c(function(k){return l(k,g);}):f(g)?c(function(k){return l(d,k);}):l(d,g);}};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.A6=b.Pr=b.B6=b.aD=b.Gl=b.ve=void 0;r=a(73);c=a(62);f=a(11);b.ve=new r.Hk();b.Gl=1;b.aD=2;b.B6=3;b.Pr=4;b.A6=5;(0,c.Uf)(function(){var m,d,g;function l(h,k){if(d)d.on(h,k);else nb.addEventListener(h,k);}m=nb.jQuery;d=m && m(nb);m=(m=nb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;g=f.Be.hidden;m?m(function(h){b.ve.Fc(b.Gl,h);}):l("beforeunload",function(h){b.ve.Fc(b.Gl,h);});l("keydown",function(h){b.ve.Fc(b.aD,h);});l("resize",function(){b.ve.Fc(b.B6);});f.Be.addEventListener("visibilitychange",function(){g !== f.Be.hidden && (g=f.Be.hidden,b.ve.Fc(b.Pr));});});(function(){nb.addEventListener("error",function(l){b.ve.Fc(b.A6,l);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uf=void 0;b.Uf=function(a){return setTimeout(a,0);};},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.co=b.Ia=b.Qj=void 0;(function(l){l[l.up=0]="STANDARD";l[l.eo=1]="LIMITED";l[l.B7b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(l){l.Jcb="asl_start";l.Hcb="asl_comp";l.B3b="asl_exc";l.Icb="asl_fail";l.fkb="stf_creat";l.tgb="idb_open";l.qgb="idb_block";l.Agb="idb_upgr";l.zgb="idb_succ";l.rgb="idb_error";l.sgb="idb_invalid_state";l.vgb="idb_open_timeout";l.xgb="idb_open_wrkarnd";l.ygb="idb_storelen_exc";l.ugb="idb_open_exc";l.wgb="idb_timeout_invalid_storelen";l.Ohb="msl_load_data";l.Qhb="msl_load_no_data";l.Phb="msl_load_failed";})(r=b.Qj || (b.Qj={}));(function(l){l.Kda="PlaybackRequestStart";l.Jda="PlaybackRequestEnd";l.f1="RequestPrefetchManifestStart";l.e1="RequestPrefetchManifestEnd";l.d1="RequestManifestStart";l.c1="RequestManifestEnd";l.b1="RequestLicenseStart";l.a1="RequestLicenseEnd";l.xQ="RequestTimedTextUrlStart";l.wQ="RequestTimedTextUrlEnd";l.vQ="RequestAudioUrlStart";l.uQ="RequestAudioUrlEnd";l.zQ="RequestVideoUrlStart";l.yQ="RequestVideoUrlEnd";l.kba="AppendBufferStart";l.jba="AppendBufferEnd";l.Fea="SetMediaKeysStart";l.Eea="SetMediaKeysEnd";l.l0="GenerateChallengeStart";l.k0="GenerateChallengeEnd";l.p_="ApplyLicenseStart";l.o_="ApplyLicenseEnd";})(b.Ia || (b.Ia={}));b.co=a;a.Xca=c;a.iTa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.Qj=r;a.w0=f;},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Wx=b.kr=void 0;na(a,Error);b.kr=a;b.Wx="PromiseTimerSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(l,m){this.key=l;this.value=m;}f.prototype.toString=function(){return this.key === c.zB?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$s="PboConfigSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(738),b);r.__exportStar(a(169),b);r.__exportStar(a(739),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(359),b);r.__exportStar(a(743),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(148),b);r.__exportStar(a(817),b);r.__exportStar(a(174),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej={Q1a:"logblob",oa:"manifest",Ig:"license",events:"events",bind:"bind",b5a:"pair",ping:"ping",config:"config"};b.FB={Pjb:"reqAttempt",Qjb:"reqName",Gdb:"browsername",Ldb:"browserversion",wib:"osname",xib:"osversion",keb:"clienttype",Dkb:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vv="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ys="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pF="TimingApiSymbol";b.CR="MilestoneTimingApiSymbol";},function(r,b,a){var f,l;function c(){var m,d;m=this;this.kt={};this.on=function(g,h,k){m.addListener(g,h,k);};this.addListener=function(g,h,k){m.kt && (m.kt[g]=m.kt[g] || new l.uea(!0)).add(h,k);};this.removeListener=function(g,h){m.kt && m.kt[g] && m.kt[g].removeAll(h);};this.qna=function(g){return m.kt && m.kt[g]?m.kt[g].flatten():[];};d=this;this.Fc=function(g,h,k){var n;if(d.kt){n=d.qna(g);for(g={xJ:0};g.xJ < n.length;(g={xJ:g.xJ},g.xJ++)){k?(function(p){return function(){var q;q=n[p.xJ];(0,f.Uf)(function(){q(h);});};})(g)():n[g.xJ].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Hk=void 0;f=a(62);l=a(334);c.prototype.Gh=function(){this.kt=void 0;};b.Hk=c;},function(r,b,a){var k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F;function c(C){var G,K,J,I;G=C.url.split("?");K=G[0];J="sc=" + C.gXb;I=C.KRa?"random=" + (1E17 * (0,z.WE)()).toFixed(0):"";K=G[1]?K + ("?" + G[1] + "&" + J):K + ("?" + J);K+=I?"&" + I:"";C.tc && !(0,q.D7)(K) && (C=n.config && n.config.yja) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));return K;}function f(C){var G,K,J,I;G=C.url.split("?");K=G[0];J="bb_reason=" + C.reason;I=C.KRa?"random=" + (1E17 * (0,z.WE)()).toFixed(0):"";K=G[1]?K + ("?" + G[1] + "&" + J):K + ("?" + J);K+=I?"&" + I:"";C.tc && !(0,q.D7)(K) && (C=n.config && n.config.yja) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));return K;}function l(C,G){var K,J,I;K=C.url.split("?");J=K[0];I=m(C);I && (G.ps=I,(void 0 === C.Ls?n.config.Ls:C.Ls)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + I):(G.ps=I,J="/" == J[J.length - 1]?J + "range/":J + "/range/",J+=I));I=C.KRa?"random=" + (1E17 * (0,z.WE)()).toFixed(0):"";n.config.pz && C.W$ && (I="sc=" + C.W$ + (I?"&" + I:""));J=K[1]?J + ("?" + K[1] + (I?"&" + I:"")):J + (I?"?" + I:"");C.tc && !(0,q.D7)(J) && (C=n.config && n.config.yja) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));G.url=J;}function m(C){var G;G=C.offset;if(void 0 !== G)return ((0,x.yU)(G),void 0 !== C.length?(C=C.offset + C.length - 1,(0,x.yU)(C),G + "-" + C):G + "-");}function d(){return !1 !== z.mf.onLine;}function g(C,G,K,J){var I,M;I=J.Kta;M=J.headers;C.open(I?"POST":"GET",G,!K);switch(J.responseType){case b.cW:C.responseType="arraybuffer";break;case b.Xoa:(0,y.WRa)(C,"overrideMimeType",void 0,"text/xml");}I && (G={"Content-Type":(0,t.Se)(I)?"text/plain":"application/x-octet-stream"},M=M?(0,t.Zb)(G,M):G);M && (0,y.te)(M,function(R,H){C.setRequestHeader(R,H);});J.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");I?C.send(I):C.send();}function h(C,G){switch(G.type){case b.cW:return C.response || new ArrayBuffer(0);case b.Xoa:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.cW=b.Xoa=b.Woa=b.Yoa=b.R6=b.k_a=b.j_a=b.P6=b.Pkb=b.Qkb=b.uJb=b.Q6=b.rJb=b.sJb=b.qJb=b.tJb=b.jf=void 0;k=a(73);n=a(14);p=a(12);q=a(50);u=a(51);t=a(30);w=a(3);v=a(8);x=a(21);y=a(24);z=a(11);A=a(62);B=a(19);E=a(31);D={$m:1,O8b:2,Ycb:3};b.jf=(function(){var J,I,M,R;function C(H){var P;try{P=H.url;(0,B.cqa)(P)?0 === P.indexOf("https")?R.ssl++:0 === P.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(N){}}function G(){I.Fc(b.k_a);I.Fc(b.Yoa);}function K(){I.Fc(b.R6);I.Fc(b.Yoa);}J=(0,v.Oi)("Http");I=new k.Hk();M=0;R={ssl:0,"non-ssl":0,invalid:0};v.ka.get(E.ih).register(w.M.eEa,function(H){n.config.h2b && (nb.addEventListener("online",G),nb.addEventListener("offline",K),b.Q6=d);H(p.Ze);});return {addEventListener:I.addListener,removeEventListener:I.removeListener,download:function(H,P){var qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya;function N(){var ab;N=t.rl;Ya && (clearTimeout(Ya),Ya=null);I.removeListener(b.R6,U);Ka && (Ka.onloadstart=null,Ka.onreadystatechange=null,Ka.onprogress=null,Ka.onerror=null,Ka.onload=null,Ka=Ka.onabort=null);ta.$?!1:ta.na != w.L.tB?qa.warn("Download failed",Y,(0,w.Ws)(ta)):qa.trace("Download aborted",Y);ab=ua;ua=void 0;for(var ib=ab.length;ib--;){(function(){var $a;$a=ab[ib];(0,A.Uf)(function(){$a(ta);});})();}I.Fc(b.j_a,ta,!0);}function L(){Ya && (clearTimeout(Ya),Ya=null);Ya=setTimeout(ca,Ua?ma:ja);}function Q(ab,ib,$a,Sa){var Da,Ha;ta.$=!1;ta.na=ab;Da=(0,u.dk)();Ha=ta.Bm;Ha.si=Ha.si || Da;Ha.$o=Ha.$o || Da;0 < ib && (ta.ik=ta.rf=ib);$a && (ta.ub=$a);Sa && (ta.$D=Sa);ab !== w.L.hR && ab !== w.L.LE && ab !== w.L.kR || !Ka || (Ka.onabort=null,ka());N();}function S(ab){var ib,$a;try{$a=ab.getResponseHeader("X-Netflix.Retry.Server.Policy");$a && (ib=JSON.parse($a));}catch(Sa){!1;}return ib;}function U(){(0,b.Q6)() || Q(w.L.hR);}function ca(){Q(Ua?w.L.LE:w.L.kR);}function ka(){try{Ka && Ka.abort();}catch(ab){}}function ya(){Q(w.L.tB);}(0,x.gb)(P);qa=H.j && H.j.log && (0,v.Jh)(H.j,"Http") || J;Y={Num:M++};ua=[P];O={};ja=H.i4 || n.config.i4;ma=H.jsa || n.config.jsa;C(H);!1;ta=(function(){var ab,ib,$a;ab=t.rl;ib=t.rl;$a=t.rl;return {request:H,type:H.responseType,Bm:O,abort:ka,timeout:ca,Mha:function(Sa){N !== t.rl && ((0,x.gb)(ua,"Callback should be added before download starts."),ua && ua.unshift(Sa));},q9:function(Sa){$a(Sa);},s9:function(Sa){ab(Sa);},Nn:function(Sa){ib(Sa);},fYb:function(Sa){$a=Sa;},lYb:function(Sa){ab=Sa;},XXb:function(Sa){ib=Sa;}};})();(0,A.Uf)(function(){var ab,ib;if((0,B.cqa)(H.url))try{if((l(H,ta),T=ta.url,(0,x.nM)(T),Y.Url=T,(0,b.Q6)())){!1;Ka=new XMLHttpRequest();ab=n.config.o2b && "undefined" != typeof Ka.onloadstart;ab && (Ka.onloadstart=function(){var $a;$a=(0,u.dk)();O.Iq=$a;ta.q9({mediaRequest:H,timestamp:$a});});Ka.onreadystatechange=function(){if(2 == Ka.readyState){Ua=!0;O.si=(0,u.dk)();Ka.onreadystatechange=null;L();!1;for(var $a=ta,Sa=Ka.getAllResponseHeaders().split("\n"),Da=Sa.length,Ha,Qa,Xa={};Da--;){if(Ha=Sa[Da])(Qa=Ha.indexOf(": "),1 <= Qa && Qa < Ha.length - 1 && (Xa[Ha.substr(0,Qa)]=Ha.substr(Qa + 2)));}$a.headers=Xa;ta.s9({timestamp:O.si,connect:!0,mediaRequest:H,start:O.Iq,rt:[O.si - O.Iq]});}};Ka.onprogress=function($a){Ua=!0;O.mka=$a.loaded;L();$a={mediaRequest:H,bytes:$a.loaded,timestamp:(0,u.dk)(),bytesLoaded:$a.loaded};ta.s9($a);};Ka.onload=function(){var $a;if(N !== t.rl){(0,x.gb)(void 0 === O.$o);O.$o=(0,u.dk)();O.si=O.si || O.$o;if(200 <= Ka.status && 299 >= Ka.status){$a=h(Ka,ta);ta.parsed=!1;ta.content=$a;ta.$=!0;}else Ka.status == F?Q(w.L.jR,Ka.status):Q(w.L.iR,Ka.status,Ka.response,S(Ka));N();}};Ka.onabort=ya;Ka.onerror=function(){var $a,Sa;$a=Ka.status;"undefined" !== typeof n.config.JWa && ($a=n.config.JWa);if(0 < $a){if($a == F)Q(w.L.jR,$a);else {try{Sa=Ka.responseText;}catch(Da){}Q(w.L.iR,$a,Sa,S(Ka));}}else Q(w.L.lR);};ib=(0,u.dk)();g(Ka,T,!1,H);I.Fc(b.P6,ta,!0);ab || (O.Iq=ib,ta.q9({mediaRequest:H,timestamp:ib}));L();I.addListener(b.R6,U);}else (0,A.Uf)(Q.bind(void 0,w.L.hR));}catch($a){qa.error("Exception starting download",$a,Y);Q(w.L.Hca,void 0,(0,t.wd)($a));}else Q(w.L.oDa);});return ta;},ec:R,Gbc:function(H){var P;P=new XMLHttpRequest();H=f(H);P.open("HEAD",H);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},cZb:function(H){var P;P=new XMLHttpRequest();H=c(H);P.open("HEAD",H);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},iUb:function(H){var P,N,L;P=new XMLHttpRequest();N=H.url;L=H.fUb;P.open("HEAD",N);P.timeout=Math.max(2 * L.gNb,n.config.Yta);P.onreadystatechange=function(){2 == P.readyState && (!1,L && L.kO({url:N}));};P.ontimeout=P.onerror=function(){!1;L && L.rsa({url:N});};P.send();},Mjb:D};})();b.tJb=c;b.qJb=f;b.sJb=l;b.rJb=m;b.Q6=p.IJa;b.uJb=d;b.Qkb=g;b.Pkb=h;b.P6=1;b.j_a=2;b.k_a=3;b.R6=4;b.Yoa=5;b.Woa=1;b.Xoa=2;b.cW=3;F=420;nb._cad_global.http=b.jf;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q){this.context=h;this.errorCode=k;this.JWb=n;this.C2=q;this.name=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Ci=void 0;r=a(1);f=a(0);l=a(518);m=a(4);d=a(41);g=a(40);c.prototype.send=function(h,k,n,p,q,u){var t;t=this;u=void 0 === u?g.zv.RR:u;return this.yFb(h,k,n,u,p,q).then(function(w){return t.context.GAb.send(w.context,w.request);});};c.prototype.yFb=function(h,k,n,p,q,u){var t,w;try{t=this.context.jWb.create(this.context.Mz.bz(),k,n,q,p);w=this.utb(h,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.utb=function(h,k,n){return {jf:this.context.jf,log:h,Co:this.name,url:this.context.$1b((0,l.JRa)(this.context.Dh,this.context.$g,this.name,k)),pva:this.JWb,timeout:(0,m.wh)(59),headers:(0,l.IRa)(this.context.$g,this.context.GG),bva:this.bva,Zsb:n};};c.prototype.Dn=function(h){return h instanceof d.qd?h:(0,l.Dn)(this.errorCode,h);};Wa.Object.defineProperties(c.prototype,{bva:{configurable:!0,enumerable:!0,get:function(){return this.C2;}}});a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.pl)()),(0,r.__param)(1,(0,f.pl)()),(0,r.__param)(2,(0,f.pl)()),(0,r.__param)(3,(0,f.pl)()),(0,r.__param)(4,(0,f.pl)())],a);b.Ci=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ss={Request:"Request",Nea:"Singleton",v1:"Transient"};b.Ij={FAa:"ConstantValue",GAa:"Constructor",QBa:"DynamicValue",vca:"Factory",Function:"Function",Instance:"Instance",nhb:"Invalid",FJa:"Provider"};b.$x={yAa:"ClassProperty",HAa:"ConstructorArgument",dfa:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zx="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fv="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="StorageValidatorSymbol";b.mB="AppStorageFactorySymbol";},function(r,b,a){var f,l,m;function c(d,g){this.Nv=g?[g]:[];this.nga="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dc=void 0;f=a(12);l=a(21);m=0;c.prototype.addListener=function(d,g){var h;h=this;(0,l.Nka)(d);(0,l.gb)(0 > this.Nv.indexOf(d));d[f.U0 + this.nga]=g;this.Nv=this.Nv.slice();this.Nv.push(d);this.Nv.sort(function(k,n){return h.pZb(k,n);});};c.prototype.removeListener=function(d){var g;(0,l.Nka)(d);this.Nv=this.Nv.slice();0 <= (g=this.Nv.indexOf(d)) && this.Nv.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,qm:g};this.G=d;d=this.Nv;for(var h=d.length,k=0;k < h;k++){d[k](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (g.removeListener(k),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(k);});};c.prototype.pZb=function(d,g){return (d[f.U0 + this.nga] || 0) - (g[f.U0 + this.nga] || 0);};Wa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.dc=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mx="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.np={start:"start",stop:"stop",uW:"keepAlive",DM:"engage",splice:"splice"};b.sca="EventPboCommandFactorySymbol";b.QKa="StartEventPboCommandSymbol";b.UKa="StopEventPboCommandSymbol";b.DEa="KeepAliveEventPboCommandSymbol";b.LKa="SpliceEventPboCommandSymbol";b.oCa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ov=void 0;r=(function(){function a(c){this.bf=c;}a.prototype.fwa=function(c){this.bf=c;};a.prototype.rSa=function(){this.bf=void 0;};a.prototype.oV=function(c){return this.bf && this.bf.v9 && this.bf.v9(c);};a.prototype.QM=function(c){this.bf && this.bf.uA && this.bf.uA(c);};a.prototype.PC=function(c){this.bf && this.bf.XH && this.bf.XH(c);};a.prototype.UG=function(c){this.bf && this.bf.YH && this.bf.YH(c);};a.prototype.LWa=function(c){this.bf && this.bf.Vsa && this.bf.Vsa(c);};a.prototype.Yt=function(c){this.bf && this.bf.uk && this.bf.uk(c);};a.prototype.E5=function(c){this.bf && this.bf.AX && this.bf.AX(c);};a.prototype.PM=function(c,f,l){this.bf && this.bf.zX && this.bf.zX(c,f,l);};return a;})();b.ov=r;r.prototype.v9=r.prototype.oV;r.prototype.uA=r.prototype.QM;r.prototype.XH=r.prototype.PC;r.prototype.YH=r.prototype.UG;r.prototype.uk=r.prototype.Yt;r.prototype.AX=r.prototype.E5;r.prototype.zX=r.prototype.PM;r.prototype.Vsa=r.prototype.LWa;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);b.ko=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.uS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.Klb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.ic=this.Wi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{nJb:"int32"},{H2b:"int32"},{offset:32,type:"offset"},{cEb:"int16"},{Jvb:{type:"int8",oia:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Oa=!0;return l;})(a(225).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc1";return l;})(r);b.rba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc2";return l;})(r);b.sba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc3";return l;})(r);b.tba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc4";return l;})(r);b.uba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="hvc1";return l;})(r);b.Ica=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="hev1";return l;})(r);b.Cca=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="av01";return l;})(r);b.Ncb=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nx=b.ResponseType=void 0;b.ResponseType={Text:1,P8b:2,pdb:3};b.Nx="LegacyHttpSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.ko=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.uS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.Klb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ox="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di={audio:"audio",video:"video",raa:"timedtext",Bxa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fx="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bj=b.uib=b.pp=void 0;c=a(19);b.pp=b.pp || (function(f,l,m){return f >= l?f <= m?f:m:l;});b.uib=function(f,l,m,d,g){return (f - l) * (g - d) / (m - l) + d;};b.bj=function(f){if((0,c.Ca)(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var l,m;function c(d,g,h,k,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(l.Zgb);Reflect.Hoa(d,g) && (p=Reflect.getMetadata(d,g));h=p[n];if(Array.isArray(h)){q=0;for(var u=h;q < u.length;q++){t=u[q];if(t.key === k.key)throw Error(l.lfb + " " + t.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.H4(d,p,g);}function f(d,g){return function(h,k){g(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(43);b.$I=function(d,g,h,k){c(m.eLa,d,g,k,h);};b.sZ=function(d,g,h){c(m.fLa,d.constructor,g,h);};b.Hr=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.Hr(d,g)):"string" === typeof h?Reflect.Hr([d],g,h):Reflect.Hr([d],g);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tEa="Injector";b.wB=145152E5;b.TR="ProfileSymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){m=void 0 === m?f.M.Wl:m;return l.qd.call(this,m,d,g,void 0,void 0,h,l.qd.wd(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Pg=void 0;f=a(3);l=a(41);na(c,l.qd);b.Pg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hBa="DebugConfigSymbol";b.sv="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tca="EventSourceSymbol";b.wca="GlobalEventSourceSymbol";b.$_="DebugEventSourceSymbol";b.tBa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oQ=b.Scb=b.zba=b.Aba=void 0;(function(a){a[a.VUa=0]="downloading";a[a.cBb=1]="downloaded";a[a.ff=2]="appended";a[a.buffered=3]="buffered";a[a.SO=4]="removed";a[a.mdc=5]="unused";})(b.Aba || (b.Aba={}));(function(a){a[a.waiting=1]="waiting";a[a.Obc=2]="ondeck";a[a.VUa=4]="downloading";a[a.cBb=8]="downloaded";a[a.kW=6]="inprogress";})(b.zba || (b.zba={}));b.Scb="AseBufferViewSymbol";b.oQ="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(720),b);r.__exportStar(a(721),b);r.__exportStar(a(722),b);r.__exportStar(a(723),b);r.__exportStar(a(724),b);r.__exportStar(a(725),b);r.__exportStar(a(726),b);r.__exportStar(a(727),b);r.__exportStar(a(351),b);r.__exportStar(a(352),b);r.__exportStar(a(728),b);r.__exportStar(a(729),b);r.__exportStar(a(214),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aF="6674654e-696c-5078-6966-665374726d21";b.bF="6674654e-696c-4878-6165-6465722e7632";b.ER="6674654e-696c-5078-6966-66496e646578";b.Sx="6674654e-696c-4d78-6f6f-6653697a6573";b.Rx="6674654e-696c-5378-6565-6b506f696e74";b.JR="cedb7489-e77b-514c-84f9-7148f9882554";b.IR="524f39a2-9b5a-144f-a244-6c427c648df4";b.$E="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Um=void 0;c=a(2);f=a(5);l=c.__importDefault(a(28));m=c.__importDefault(a(124));d=a(378);g=a(22);r=a(42);h=a(173);k=a(232);a=a(102);n=(function(p){function q(u,t){var w;w=p.call(this,u,t) || this;q.xb(w,u,t);return w;}c.__extends(q,p);q.xb=function(u,t,w,v){var x;h.pv.xb(u,t,w);u.Me=w.index;u.LK=w.Wa;u.Iv=w.ob;u.gqb=w.sb?w.sb:t.sb;u.GI=w.GI;u.Lna=v;u.PNa=! !w.uq;u.MOa=null !== (x=w.region) && void 0 !== x?x:0;u.mNa=! !w.yma;u.ONa=! !w.Fw;u.Ld=void 0 === w.F5 || void 0 === w.Jma || w.F5 === w.Wa && w.Jma === w.ob?u:new k.oB(u,{Wa:w.F5,ob:w.Jma});u.Enb=w.Xra;u.alb=w.di;u.Rmb=t.RIb;u.Bp=w.va?u.Z3a(w.va):void 0;u.hPa=w.ev;u.ff=!1;};q.FTa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),x=new Uint8Array(u.length),y=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.Rc;t[B]=z.Iv - z.LK;w[B]=A;v[B]=z.stream.Nf;void 0 !== z.sb && null !== z.sb && (x[B]=z.sb);y+=A;}return new d.Mea(t,w,v,x,u.length?u[0].S:1E3,y);};Object.defineProperties(q.prototype,{nD:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.gqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oRa:{get:function(){return 8 * this.fa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wa:{get:function(){return this.LK;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ob:{get:function(){return this.Iv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xj:{get:function(){var u,t;return null !== (t=null === (u=this.Lna) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uq:{get:function(){return this.PNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.MOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yma:{get:function(){return this.mNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fw:{get:function(){return this.ONa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xra:{get:function(){return this.Enb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{di:{get:function(){return this.alb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{va:{get:function(){return this.Bp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ev:{get:function(){return this.hPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{F5:{get:function(){return this.Ld.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jma:{get:function(){return this.Ld.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bEb:{get:function(){return this.Ld.Pt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SM:{get:function(){return this.Ld.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{H5:{get:function(){return this.Ld.me;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{G5:{get:function(){return this.Ld.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kma:{get:function(){return this.Ld.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aEb:{get:function(){return this.Ld.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QC:{get:function(){var u;u=this.bEb;f.assert(u);return u / this.stream.sa.vc;},enumerable:!1,configurable:!0}});q.prototype.t2a=function(){this.PNa=!0;};q.prototype.pYb=function(u){this.GI={ae:u.FXa(),B7:u.fv};};q.prototype.rP=function(u){this.hPa=u;};q.prototype.mYb=function(u,t,w){this.MOa=u;this.mNa=t;this.ONa=w;};q.prototype.Ck=function(u){var t,w;void 0 === u && (u={});t=this.stream.sa.vc;w=this.Bp || ({start:0,end:this.QC});u=this.Z3a(u);this.Ld && this.Ld !== this || (this.Ld=new k.oB(this,this));u.start > w.start && (this.LK=this.Ld.Wa + u.start * t);u.end < w.end && (this.Iv=this.Ld.Wa + u.end * t);this.Bp=u;};q.prototype.xla=function(u){void 0 === u && (u=1);this.Bp?this.Ck({start:this.Bp.start + u,end:this.Bp.end}):this.Ck({start:u});};q.prototype.yla=function(u){this.Bp?this.Ck({start:this.Bp.start,end:(this.Bp.end || 0) - u}):this.Ck({start:0,end:-u});};q.prototype.wla=function(){this.Ck({start:0,end:0});};q.prototype.qYb=function(u){this.Bp || this.Ck();this.Bp.twa=u;};q.prototype.tWa=function(u){var w;if(!(u < this.Z || u >= this.Ga) && this.di && this.di.length){u=new g.T(u + 1 - this.Z,1E3).Cl(this.stream.sa);for(var t=this.di.length - 1;0 <= t;--t){w=this.di[t];if(w.jl <= u)return w;}return {jl:0,Ed:this.Kma};}};q.prototype.BDb=function(u){var w;if(!(u < this.Z || u >= this.Ga) && this.di && this.di.length){u=new g.T(u + 1 - this.Z,1E3).Cl(this.stream.sa);for(var t=this.di.length - 1;0 <= t;--t){w=this.di[t];if(w.jl <= u)return w;}return {jl:0,Ed:this.Kma};}};q.prototype.mWa=function(u,t){var w,v,x;if(!(u < this.Z || u >= this.Ga)){if(!t && this.Rmb)return {jl:0,Ed:this.Z};w=this.sa.vc;v=this.sa.S;x=Math.floor(this.Pt / w);u=Math.min((t?Math.ceil:Math.floor)((g.T.Yra(u,v) - this.Wa + (t?-1:1) * (v / 1E3 - 1)) / w),x);w=g.T.BZ(this.Wa + u * w,v);return u === x?void 0:{jl:u,Ed:w};}};q.prototype.pma=function(u){return this.mediaType === l.default.Ta.Nb?this.tWa(u):this.mWa(u,!1);};q.prototype.oma=function(u){return this.mediaType === l.default.Ta.Nb?this.BDb(u):this.mWa(u,!0);};q.prototype.k3=function(u){this.Rc+=u.fa;this.Iv=u.ob;this.Bp && (this.Ld=new k.oB(this,{Wa:this.F5,ob:this.Iv}),this.Bp.end=this.QC);};q.prototype.toString=function(){return "[" + this.Pa + ", " + this.bitrate + "kbit/s, c:" + (this.gd + "-" + this.Mc + ",p:") + (this.zd + "-" + this.me + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var u;u=h.pv.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.Z,endPts:this.Ga,"contentStartTicks:":this.Wa,contentEndTicks:this.ob,contentStartPts:this.gd,contentEndPts:this.Mc,fragmentStartPts:this.SM !== this.Z?this.SM:void 0,fragmentEndPts:this.H5 !== this.Ga?this.H5:void 0,edit:this.va},u);return u;};q.prototype.sWa=function(u){var w;if(this.di)for(var t=0;t < this.di.length;++t){if(this.di[t].jl === u)w=this.di[t].offset;}return w;};q.prototype.Z3a=function(u){var t;t=u.start || 0;return {start:t,end:void 0 === u.end?this.QC:Math.min(this.QC,Math.max(t,0 > u.end?this.QC + u.end:u.end)),twa:u.twa,eZb:u.eZb};};return q;})(h.pv);b.Um=n;r.zf(a.xx,n);r.zf(a.nB,n);},function(r,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.T.Eb:new d.T(g,h);}function f(g,h){return g && Math.floor(d.T.BZ(g,h));}function l(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function m(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.nB=b.xx=void 0;d=a(22);r=(function(){function g(){}Object.defineProperties(g.prototype,{Pt:{get:function(){return m(this.ob,this.Wa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eTb:{get:function(){return l(this.Wa,this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bTb:{get:function(){return l(this.ob,this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QU:{get:function(){return c(this.Pt,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return c(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qd:{get:function(){return c(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kg:{get:function(){return c(this.eTb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xe:{get:function(){return c(this.bTb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hua:{get:function(){return c(this.xj,this.S);},enumerable:!1,configurable:!0}});return g;})();b.xx=r;r=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return m(this.Ga,this.Z) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return f(l(this.Wa,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ga:{get:function(){return f(l(this.ob,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Su:{get:function(){return f(this.xj,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ek:{get:function(){return f(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gd:{get:function(){return f(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mc:{get:function(){return f(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zd:{get:function(){return f(l(this.Wa,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{me:{get:function(){return f(l(this.ob,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jr:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DA:{get:function(){return this.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ax:{get:function(){return this.Ga;},enumerable:!1,configurable:!0}});return g;})();b.nB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vda=b.Ym=void 0;r=b.Ym || (b.Ym={});r.hF="PRE_FETCH";r.Gjb="QC";r.up="STANDARD";r.l1="SUPPLEMENTAL";r.G4b="DOWNLOAD";b.Vda="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aF="6674654e-696c-5078-6966-665374726d21";b.bF="6674654e-696c-4878-6165-6465722e7632";b.ER="6674654e-696c-5078-6966-66496e646578";b.Sx="6674654e-696c-4d78-6f6f-6653697a6573";b.Rx="6674654e-696c-5378-6565-6b506f696e74";b.JR="cedb7489-e77b-514c-84f9-7148f9882554";b.IR="524f39a2-9b5a-144f-a244-6c427c648df4";b.$E="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.ic=this.Wi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{nJb:"int32"},{H2b:"int32"},{offset:32,type:"offset"},{cEb:"int16"},{Jvb:{type:"int8",oia:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Oa=!0;return l;})(a(265).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc1";return l;})(r);b.rba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc2";return l;})(r);b.sba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc3";return l;})(r);b.tba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="avc4";return l;})(r);b.uba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="hvc1";return l;})(r);b.Ica=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="hev1";return l;})(r);b.Cca=r;},function(r,b){var c;function a(f,l){var m;m=this;this.bga=[];c.forEach(function(d){(d=d(f,l)) && m.bga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.XE=b.qGa=void 0;c=[];a.prototype.bv=function(f){var d;for(var l=[],m=this.bga.length;m--;){d=this.bga[m];d.bv(f) && l.push(d.LM);}if(l.length)return l;};b.qGa=a;b.XE=function(f){c.push(f);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iF="PlatformConfigDefaultsSymbol";},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LJ=b.Ib=void 0;f=a(137);l=a(41);m=a(3);c.ona=function(d){if(d){if(d.includes(b.LJ.UD))return f.bo.UD;if(d.includes("fps"))return f.bo.QG;if(d.includes(b.LJ.cba))return f.bo.cba;}throw new l.qd(m.M.Bfb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.LXa=function(d){switch(d){case f.bo.UD:return b.LJ.UD;case f.bo.QG:return b.LJ.QG;default:return b.LJ.cba;}};b.Ib=c;c.Vx="com.microsoft.playready";c.Vd="com.microsoft.playready.hardware";c.jF="com.microsoft.playready.software";c.Tfb="com.apple.fps.2_0";c.oMa="com.widevine.alpha";c.zjb="com.microsoft.playready.recommendation.3000";c.yIa="com.microsoft.playready.recommendation.2000";b.LJ={QG:"fairplay",cba:"widevine",UD:"playready"};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;f=a(26);c.LTa=function(l){var m;m={};m[f.se.WR]=c.PQ;m[f.se.m0]=c.PQ;m[f.se.rK]=c.SQ;m[f.se.Kx]=c.Kx;m[f.se.Ts]=l || c.Ts;m[f.se.lB]=c.PQ;m[f.se.by]=c.fS;m[f.se.Fj]=c.Fj;return m;};b.Gd=c;c.Nra='video/mp4; codecs="avc1.4d0028"';c.PQ="avc1.4d0028";c.SQ="hev1.1.6.L93.B0";c.O_="dvhe.05.01";c.bca="dvhe.05.04";c.cca="dvhe.05.05";c.dca="dvhe.05.06";c.eca="dvhe.05.07";c.fca="dvhe.05.09";c.Ts=c.O_;c.Kx=c.SQ;c.m_="mp4a.40.2";c.uF="mp4a.40.42";c.oeb="ec-3";c.fS="vp09.00.11.08.02";c.Fj="av01.0.04M.08";c.heb=[c.fca,c.eca,c.dca,c.cca,c.bca,c.O_];},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JB=void 0;r=a(1);a=a(0);c.prototype.format=function(l,m){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof g[k]?g[k]:h;});};c.prototype.q$a=function(l){for(var m=l.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=l.charCodeAt(g);}return d.buffer;};c.prototype.t$a=function(l){return JSON.stringify(l,null,"  ");};f=c;f=r.__decorate([(0,a.R)()],f);b.JB=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pK="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$J="LoggerSinksSymbol";},function(r){var h,k,n,p;function b(){b.xb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,x;a(t);v=q.$h;if(void 0 === v)(v=q.$h=Object.create(null),q.BF=0);else {void 0 !== v.Dbc && (q.emit("newListener",u,t.listener?t.listener:t),v=q.$h);x=v[u];}void 0 === x?(v[u]=t,++q.BF):("function" === typeof x?x=v[u]=w?[t,x]:[x,t]:w?x.unshift(t):x.push(t),t=void 0 === q.US?b.Kzb:q.US,0 < t && x.length > t && !x.b3b && (x.b3b=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.Qt=q,t.type=u,t.count=x.length,console && console.warn && console.warn(t)));return q;}function f(){if(!this.xWa)return (this.target.removeListener(this.type,this.icb),this.xWa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(q,u,t){q={xWa:!1,icb:void 0,target:q,type:u,listener:t};u=f.bind(q);u.listener=t;return q.icb=u;}function m(q){var u;u=this.$h;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function y(x){w.once && q.removeEventListener(u,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(y){q.removeListener(u,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,x,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.$h=void 0;b.prototype.BF=0;b.prototype.US=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.xb=function(){if(void 0 === this.$h || this.$h === Object.getPrototypeOf(this).$h)(this.$h=Object.create(null),this.BF=0);this.US=this.US || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.US=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.$h;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,u);else {v=t.length;w=Array(v);for(var x=0;x < v;++x){w[x]=t[x];}for(t=0;t < v;++t){k(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.TX=function(q,u){return c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,l(this,q,u));return this;};b.prototype.k6a=function(q,u){a(u);this.TX(q,l(this,q,u));return this;};b.prototype.removeListener=function(q,u){var t,w,v,x,y;a(u);w=this.$h;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.BF?this.$h=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){x=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){y=v[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || u);}return this;};b.prototype.LD=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.$h;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.$h=Object.create(null),this.BF=0):void 0 !== u[q] && (0 === --this.BF?this.$h=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.$h=Object.create(null);this.BF=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.$h;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):m.call(q,u);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var u=p.length,t=0,w=d(p),v=d(q),x=0;x < u;x++){t+=p[x] * q[x];}return (t - w * v / u) / u;}return !1;}function f(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=l(p);return Math.sqrt(p);}function l(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(u){return (u - q) * (u - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,u){return q + u;},0):!1;}function g(p,q,u){return Math.max(Math.min(p,u),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(10);r.exports={Va:function(p,q,u){try{p.emit(q,u);}catch(t){p.Lk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",u);}},DC:function(){var p,q,u;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(t,w){return t + w.byteLength;},0);u=new Uint8Array(q);p.reduce(function(t,w){u.set(new Uint8Array(w),t);return t + w.byteLength;},0);return u.buffer;},X3:g,avb:function(p,q,u,t){return {min:g(h(p.min,q),u,t),max:g(h(p.max,q),u,t),Vy:g(p.Vy || 6E4,0,6E5),$Ra:g(p.$Ra || 0,-3E5,3E5),scale:g(p.scale || 6E4,0,3E5),q8a:g(p.q8a || 0,-3E5,3E5),gamma:g(p.gamma || 1,.1,10)};},te:function(p,q){void 0 !== p && n.$Rb(p).forEach(function(u){q(u[0],u[1]);});},QVa:function(p,q,u){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.Vy + (p.$Ra || 0) * (1 - u))) / (p.scale + (p.q8a || 0) * (1 - u))),p.gamma));},xCb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.Vy) / p.scale),p.gamma);},Y$b:d,NEb:m,aIb:l,W$b:f,Q$b:c,P$b:function(p,q){var u;if(p.length == q.length){u=c(p,q);p=f(p);q=f(q);if(0 < p && 0 < q)return u / (p * q);}return !1;},wq:function(p,q,u){return q.HTa?q.HTa(u):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + u:u);},oXb:function(p){return p.length?"{" + p + "} ":"";},bXb:function(p,q,u){return {min:p.min * u + (1 - u) * q.min,max:p.max * u + (1 - u) * q.max,Vy:p.Vy * u + (1 - u) * q.Vy,scale:p.scale * u + (1 - u) * q.scale,gamma:p.gamma * u + (1 - u) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),swa:k,vq:function(p){var q;q=p.Qa.eb.O.id;return {Z:p.Z,duration:p.duration,offset:p.offset,fa:p.fa,bitrate:p.bitrate,profile:p.profile,cd:p.cd,ya:q,Pa:p.Pa,Nd:p.Nd,location:p.location,li:p.li,ek:p.ek,Xw:{eb:{O:{id:q}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(223);c=a(146);b.mfb=c;c=a(371);b.cS=c;c=a(375);b.usb=c;b.o1=r.xq.Ua.sidx;r=a(796);b.fr=r.fr;r=a(231);b.dr=r.dr;r=a(800);b.er=r.er;b.gA=r.gA;r=a(801);b.XJ=r.XJ;r=a(84);b.ko=r.ko;a=a(802);b.Oj=a.Oj;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.B_=b.Gj=void 0;c=a(2);r=c.__importDefault(a(17));f=c.__importStar(a(10));l=r.default.Xh;m=c.__importDefault(a(6));d=m.default.cr;g=a(170);h=c.__importDefault(a(144));k=a(9);r=a(42);n=a(234);p=a(173);(function(u){u[u.gib=0]="NOTHING_APPENDED";u[u.Cib=1]="PARTIAL";u[u.Dx=2]="COMPLETE";u[u.Of=3]="ERROR";})(q=b.Gj || (b.Gj={}));a=(function(u){function t(w,v,x,y,z,A,B){v=u.call(this,v,x) || this;n.BJ.xb(v,w,y,z,A,B);p.pv.xb(v,w,y);v.Ukb=w.url || y.url;v.lfa=y.responseType;v.Tkb=y.W$;void 0 === v.lfa && (v.lfa=d.qc && !d.qc.CY.XR?0:1);v.Fi=new l();v.Fi.on(v,d.Le.UGa,v.Rga);v.Fi.on(v,d.Le.TGa,v.oob);v.Fi.on(v,d.Le.VGa,v.rob);v.Fi.on(v,d.Le.HR,v.Qga);v.Fi.on(v,d.Le.eF,v.VS);v.wK=!1;v.af=!1;v.cm=!1;v.qo=!1;v.ES=!1;v.mpb=y.wI;v.ms=0;return v;}c.__extends(t,u);Object.defineProperties(t.prototype,{active:{get:function(){return this.af;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Dua:{get:function(){return this.cm;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{complete:{get:function(){return !this.wK && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{aborted:{get:function(){return this.wK;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ppa:{get:function(){return this.qo && !this.ES;},enumerable:!1,configurable:!0}});t.prototype.xb=function(w){n.BJ.prototype.xb.call(this,w);this.hg || !this.Oe.Rha && this.cd || (this.hg=h.default.instance(),this.active && (this.hg.YO(m.default.time.ea(),this.xY),this.cm && (m.default.time.ea(),this.connect && 0 < this.ss.length && this.hg.Fy(this.ss[0]))));};t.prototype.ou=function(){return this.ff || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};t.prototype.fG=function(w,v,x,y){this.ff=w.appendBuffer(this.response,y || k.vq(this));return {status:this.ff?q.Dx:q.Of};};t.prototype.sO=function(){(this.qo=d.prototype.open.call(this,this.Ukb,{start:this.offset,end:this.offset + this.fa - 1},this.lfa,{},void 0,void 0,this.Tkb)) && this.oV(this);return this.qo;};t.prototype.abort=function(){var w;if(this.aborted)return !0;w=this.af;this.hg && w && this.hg.wY(m.default.time.ea(),this.cm,{requestId:this.f2(),ji:this.Nd,type:this.mediaType});this.wK=!0;this.cm=this.af=!1;d.prototype.abort.call(this);this.PM(this,w,this.Ppa);return !0;};t.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Fi && this.Fi.clear();u.prototype.fd.call(this);};t.prototype.Rga=function(){var w;w=this.uf || this.loadTime;g.Ax.instance().push(m.default.time.ea() - w);this.af || (this.af=!0,this.qu=this.track.qu(),this.stream.I.v2a || this.hg && this.hg.YO(w,{requestId:this.f2(),ji:this.Nd,type:this.mediaType}),this.QM(this),this.Lu=this.uf);};t.prototype.oob=function(){var w,v,x;w=this.uf || this.tma;v=this.connect;x=this.ss;g.Ax.instance().push(m.default.time.ea() - w);this.af || (this.af=!0);this.cm || (this.cm=!0,this.stream.I.v2a && this.hg && this.hg.YO(w,{requestId:this.f2(),ji:this.Nd,type:this.mediaType}),v && 0 < x.length && this.hg && this.hg.Fy(x[0]),this.PC(this),this.Lu=w);};t.prototype.rob=function(){var w,v,x;w=this;v=this.uf;x=this.bytesReceived - this.ms;g.Ax.instance().push(m.default.time.ea() - v);this.cm || (this.cm=!0);this.hg && (void 0 === this.Lu || this.hg.aw(x,this.Lu,v,this.xY),this.ss && this.ss.length && this.ss.forEach(function(y){w.hg.Dy(y);}));this.UG(this);this.Lu=v;this.ms=this.bytesReceived;};t.prototype.Qga=function(){var w,v,x;w=this;v=this.uf;x=this.bytesReceived - this.ms;g.Ax.instance().push(m.default.time.ea() - v);this.hg && (0 < x && this.hg.aw(x,this.Lu,v,this.xY),this.ss && this.ss.length && this.ss.forEach(function(y){w.hg.Dy(y);}),this.hg.wY(v,this.cm,this.xY));this.cm=this.af=!1;this.ES=!0;this.Yt(this);this.Lu=v;this.ms=this.bytesReceived;this.fd();};t.prototype.f2=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.O3;v && (w+=",range " + v.start + "-" + v.end);return w;};Object.defineProperties(t.prototype,{xY:{get:function(){return {requestId:this.f2(),ji:this.Nd,type:this.mediaType,wI:this.mpb};},enumerable:!1,configurable:!0}});t.prototype.VS=function(){var w,v,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());w=this.uf;v=this.status;x=this.qh;y=this.tj;g.Ax.instance().push(m.default.time.ea() - w);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.Ca(x)?(this.hg && this.Oe && this.Oe.$ua && this.loadTime && void 0 === v && this.hg.aw(this.ms?this.bytesReceived - this.ms:this.bytesReceived,this.Lu?this.Lu:this.loadTime,w,this.xY),this.E5(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return t;})(d);b.B_=a;r.zf(n.BJ,a,!1);r.zf(p.pv,a,!1);},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,p,t;h=f.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{s4a:h,zr:k}));if((null === g || void 0 === g?0:g.zr) && k)if(!0 === g.zr)h.args=k;else {p={};h.args=p;try{for(var q=f.__values(g.zr),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=k[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.MB=b.qoa=b.bc=void 0;f=a(2);l=a(20);m=f.__importDefault(a(6));d=a(9);b.bc=function(g){return function(h,k,n){var p;p=n.value;n.value=function(){var q,u,t,w,v,x;u=b.qoa(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(k),v=u.BT(w,t,null === g || void 0 === g?void 0:g.rm,null === g || void 0 === g?void 0:g.jac));q=null === u || void 0 === u?void 0:u.Jka;u && (u.Jka=v);try{return x=null === p || void 0 === p?void 0:p.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((u && (u.Jka=q),v))if((v.data || (v.data={}),y))v.data.error="" + y;else if(d.A0a(x))x.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);},function(z){v && (v.data.reject="" + z);});else if(null === g || void 0 === g?0:g.return)v.data.lRet=x;}};};};b.qoa=function(g){if(null === g || void 0 === g?0:g.mfa)return g.mfa;};r=(function(){function g(h){this.tq=[];this.m2=!1;this.mga={};this.I=f.__assign({AD:10},h);Object.defineProperties(h.Au,{mfa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.m2;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QLb:{get:function(){return f.__spread(this.tq);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kJb:{get:function(){return this.mga;},enumerable:!1,configurable:!0}});g.prototype.Cy=function(h){var k,n;if(!this.m2){n=null === (k=b.qoa(this.I.Au)) || void 0 === k?void 0:k.Jka;n && (n.data=f.__assign(f.__assign({},n.data),h));}};g.prototype.BT=function(h,k,n,p){var q,u,t,w;if(!this.m2){t=!1;w=null === (u=(q=this.I).$ha) || void 0 === u?void 0:u.call(q,this.I.Au);q=c({},this.I.Au);k=f.__assign(f.__assign(f.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:h,data:w?k:void 0,time:m.default.time.ea()};p && this.mga[h]++;n && this.tq.length && (n=this.tq[this.tq.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.Uvb(k);t || this.tq.push(k);this.tq.length > this.I.AD && this.tq.shift();return k;}};g.prototype.Uvb=function(h){var k;l.ga && (null === (k=this.I.console) || void 0 === k?void 0:k.trace(this.I.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,h);};g.prototype.Lb=function(){Object.defineProperties(this.I.Au,{mfa:{enumerable:!1,value:null,configurable:!0}});this.m2=!0;this.clear();};g.prototype.clear=function(){this.tq=[];this.mga={};};return g;})();b.MB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UE="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tF="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jK=b.mF=void 0;r=b.mF || (b.mF={});r.Q5b="ident";r.hda="main";r.dAa="credits";b.jK="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JBa="DrmServicesSymbol";b.c0="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJ="ApiInfoSymbol";},function(r,b){function a(c,f){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(f,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mp=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));m=a(807);r=(function(){function d(g){this.vK=g;this.wg=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.YK){g=a(6).default;d.YK=new d(g.KJ);}return d.YK;},enumerable:!1,configurable:!0}});d.reset=function(){d.YK=void 0;};d.prototype.Lt=function(g,h,k,n,p,q){var u,t,w,v;u=!1;t=q.IYb?this.wDb(k,h,g,q.JYb):-1;if(-1 === t){w={track:this.gyb(k,n,g,p,q),wj:k,J:h,G6a:g,MO:[],Do:!1,rM:!1};this.wg.push(w);v=function(){w.Do=!0;w.track.removeListener("created",v);};w.track.on("created",v);u=!1;}else (u=!0,w=this.wg[t]);g=new m.aKa(this.console,w.track,w.Do,u);w.MO.push(g);return g;};d.prototype.qM=function(g){var h,k;g.Yp();h=this.v5(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.wg[h],1 === h.MO.length))(h.track.Yp(),h.rM=!0);else {k=h.MO.indexOf(g);0 <= k && h.MO.splice(k,1);}}else g.track.Yp();};d.prototype.pg=function(){this.vK.pg();};d.prototype.gyb=function(g,h,k,n,p){var q,u,t;q=this;u=!1;g?1 === k?(g=!1,h=1,p.zq?(g=!0,h=p.UN):p.Lw && 2 < p.Lw && (g=!0,h=p.Lw),g={type:this.vK.Nb,openRange:!g,pipeline:g,connections:h,socketBufferSize:p.ZP,minRequestSize:p.aO}):0 === k?(u=p.zq && (p.j2b || h && p.k2b),g={type:this.vK.Vb,openRange:!u,pipeline:u,connections:1,socketBufferSize:p.x3,minRequestSize:p.aO}):g={type:p.xAb?this.vK.Nb:this.vK.$fb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Loa,minRequestSize:p.aO}:g={type:0 === k?f.default.Ta.Vb:f.default.Ta.Nb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?p.x3:p.ZP,minRequestSize:p.aO};t=new this.vK(g,n);t.on("transportreport",function(w){var v;v=q.v5(function(x){return x.track === t;});-1 !== v && (v=q.wg[v],v.MO.length && v.MO[0].emit("transportreport",w));});t.on("destroyed",function(){var w;w=q.v5(function(v){return v.track === t;});-1 !== w && q.wg.splice(w,1);t.removeAllListeners();});if(u && p.i2b || p.Ebb)t.on("pipelinedisabled",function(){p.Ebb && 1 === t.config.type?t.i$(c.__assign(c.__assign({},t.config),{socketBufferSize:p.kPb,pipeline:!1,openRange:!0,connections:1})):t.i$(c.__assign(c.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};d.prototype.wDb=function(g,h,k,n){return this.v5(function(p){return !p.rM && (!n && p.track.config.Rbc || !g?!p.wj && p.G6a === k:p.wj && p.J === h && p.G6a === k);});};d.prototype.v5=function(g){for(var h=0;h < this.wg.length;++h){if(g(this.wg[h]))return h;}return -1;};return d;})();b.mp=r;},function(r,b,a){(function(c,f){function l(m,d,g,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.N8a=this.yZb=m=this.now();this.e5=m + g;this.DSb=g;this.WTa=m + h;this.debug=!1;this.counter=this.iA=0;this.lw=1E4;this.aab=g / 100;this.cab=m;this.bab=1 * this.aab / 4;this.oaa=0;this.zU="";this.Eg(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.Eg=function(m,d){var g,h;g=((m - this.N8a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.NOb();this.console.info(g + (" " + ((this.WTa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.lw)) + (" M:(" + Math.floor(h.hac / 1024 / 1024) + " MB/" + Math.floor(h.b_a / 1024 / 1024) + " MB) ") + this.zU + d);};l.prototype.Apb=function(m){var d;d=this.now();this.zU=m?m + ": ":m;this.iA=0;this.N8a=d;this.Eg(d,"starting");};l.prototype.Ypb=function(m){var d,g;this.counter++;if(!(this.counter < this.lw)){this.counter=0;d=this.now();g=d - (this.cab + this.aab);this.cab=d;this.oaa=.9 * this.oaa + .1 * g;this.oaa > this.bab?(this.lw*=.875,this.lw=Math.max(1,this.lw)):this.oaa < -this.bab && (this.lw*=1.5,this.lw=Math.min(this.lw,1E5));if(d >= this.WTa)throw (this.Eg("Execution deadline exceeded after " + (d - this.yZb) + " ms" + this.zU),Error("Execution deadline exceeded" + this.zU));g=c.NOb();this.iA=Math.max(this.iA,g.b_a);if(7516192768 < g.b_a)throw Error("Heap total limit exceeded" + this.zU);if(!(d <= this.e5)){for(;d > this.e5;){this.e5+=this.DSb;}this.Eg(d,m);}}};l.xb=function(m,d,g,h){f.XD=new l(m,d,g || 5E3,h || 33E5);};l.Zva=function(m){f.XD && f.XD.Apb(m);};l.update=function(m){f.XD && f.XD.Ypb(m);};l.xYa=function(){if(f.XD)return f.XD.iA;};l.now=function(){return f.XD?f.XD.now():Date.now();};r.exports=l;}).call(this,a(248),a(193));},function(r){var b;b={gW:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.Se(h);}function l(h){return d.Ca(h);}function m(h){return !c(h) && !f(h) && !l(h) && !Array.isArray(h) && d.Lh(h);}d=a(10);g={EE:0,k1:1,lib:2,R0:3,Wl:4};r.exports={roa:function(h){return c(h)?g.EE:f(h)?g.k1:l(h)?g.lib:m(h)?g.R0:g.Wl;},n7:c,Se:f,Ca:l,Lh:m,ar:g};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Cu=b.A8=b.d3a=void 0;r=a(965);a=a(968);b.d3a=r;b.A8=function(c,f){return (0,b.d3a)(function(l,m){return void 0 !== m?m:l;},c,f);};b.Cu=a;},function(r,b,a){var c;c=a(178);r.exports=function(f){return function d(m){return 0 === arguments.length || c(m)?d:f.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u1=void 0;b.wp={iK:"PRIMARY",lba:"ASSISTIVE",Xza:"COMMENTARY",NONE:"NONE"};b.u1={assistive:b.wp.lba,closedcaptions:b.wp.lba,directorscommentary:b.wp.Xza,commentary:b.wp.Xza,subtitles:b.wp.iK,primary:b.wp.iK,none:b.wp.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;r=b.Jk || (b.Jk={});r.Do="created";r.kx="started";r.IP="succeeded";r.Tt="failed";r.Fh="cancelled";r.kub="cancelled_on_start";r.vja="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wv=void 0;r=b.wv || (b.wv={});r[r.a4b=8]="Backspace";r[r.C8b=9]="Tab";r[r.l5b=13]="Enter";r[r.u8b=16]="Shift";r[r.y4b=17]="Ctrl";r[r.E3b=18]="Alt";r[r.J7b=19]="PauseBreak";r[r.r4b=20]="CapsLock";r[r.n5b=27]="Escape";r[r.w8b=32]="Space";r[r.I7b=33]="PageUp";r[r.H7b=34]="PageDown";r[r.k5b=35]="End";r[r.P5b=36]="Home";r[r.f6b=37]="LeftArrow";r[r.J8b=38]="UpArrow";r[r.Q7b=39]="RightArrow";r[r.S4b=40]="DownArrow";r[r.c6b=45]="Insert";r[r.P4b=46]="Delete";r[r.S8b=48]="Zero";r[r.l7b=49]="One";r[r.F8b=50]="Two";r[r.D8b=51]="Three";r[r.H5b=52]="Four";r[r.F5b=53]="Five";r[r.v8b=54]="Six";r[r.t8b=55]="Seven";r[r.j5b=56]="Eight";r[r.X6b=57]="Nine";r[r.v3b=65]="A";r[r.F3b=66]="B";r[r.h4b=67]="C";r[r.neb=68]="D";r[r.E=69]="E";r[r.o5b=70]="F";r[r.I5b=71]="G";r[r.L5b=72]="H";r[r.kgb=73]="I";r[r.d6b=74]="J";r[r.Uca=75]="K";r[r.phb=76]="L";r[r.j6b=77]="M";r[r.bib=78]="N";r[r.j7b=79]="O";r[r.n7b=80]="P";r[r.Q=81]="Q";r[r.N7b=82]="R";r[r.Rjb=83]="S";r[r.vkb=84]="T";r[r.G8b=85]="U";r[r.K8b=86]="V";r[r.M8b=87]="W";r[r.kfa=88]="X";r[r.Q8b=89]="Y";r[r.R8b=90]="Z";r[r.g6b=91]="LeftWindowKey";r[r.R7b=92]="RightWindowKey";r[r.r8b=93]="SelectKey";r[r.$6b=96]="Numpad0";r[r.a7b=97]="Numpad1";r[r.b7b=98]="Numpad2";r[r.c7b=99]="Numpad3";r[r.d7b=100]="Numpad4";r[r.e7b=101]="Numpad5";r[r.f7b=102]="Numpad6";r[r.g7b=103]="Numpad7";r[r.h7b=104]="Numpad8";r[r.i7b=105]="Numpad9";r[r.w6b=106]="Multiply";r[r.D3b=107]="Add";r[r.x8b=109]="Subtract";r[r.O4b=110]="DecimalPoint";r[r.R4b=111]="Divide";r[r.p5b=112]="F1";r[r.t5b=113]="F2";r[r.u5b=114]="F3";r[r.v5b=115]="F4";r[r.w5b=116]="F5";r[r.x5b=117]="F6";r[r.y5b=118]="F7";r[r.z5b=119]="F8";r[r.A5b=120]="F9";r[r.q5b=121]="F10";r[r.r5b=122]="F11";r[r.s5b=123]="F12";r[r.Z6b=144]="NumLock";r[r.p8b=145]="ScrollLock";r[r.s8b=186]="SemiColon";r[r.m5b=187]="Equals";r[r.u4b=188]="Comma";r[r.N4b=189]="Dash";r[r.K7b=190]="Period";r[r.G5b=191]="ForwardSlash";r[r.E8b=192]="Tilde";r[r.m7b=219]="OpenBracket";r[r.$3b=220]="BackSlash";r[r.t4b=221]="CloseBracket";r[r.M7b=222]="Quote";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qn=b.Tcb=void 0;b.Tcb=a;b.qn=new a();},function(r,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,k){return null === h.vA?!1:h.vA.Ng === k?!0:f(h.vA,k);}function l(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Ng);p.push(q);return null !== n.vA?k(n.vA,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.Jja.forEach(function(k){if(f(k,k.Ng))throw (k=l(k),Error(g.Qdb + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);b.jN=c;b.A1a=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var u;u="Object";null !== q.xm && (u=d(q.xm));p=p + "\n " + u;q.vG.f3a && (p=p + " - " + q.vG.f3a);}));return p;};b.Xub=m;b.DMb=function(h,k){var n,p;if(k.Zpa() || k.Mpa()){n="";p=k.FGb();k=k.qFb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b,a){var f,l,m;function c(d,g){var h,k,n,p,q,u;h=d.fA;k=d.bO;d=d.uO;n=g.fA;p=g.bO;g=g.uO;q=void 0 === h || void 0 === n;u=q || void 0 === k || void 0 === p;return q || h > n || h === n && (u || k > p) || h === n && k === p && (u || void 0 === d || void 0 === g || d >= g);}Object.defineProperty(b,"__esModule",{value:!0});b.XM=b.WM=b.YM=b.HLb=b.i0a=b.pW=void 0;f=a(4);l=a(109);m=a(45);b.pW=function(d,g,h,k){return c({fA:d.PRb,bO:d.QRb,uO:d.RRb},{fA:g,bO:h,uO:k});};b.i0a=function(d,g){return c({fA:d.Ct},{fA:g});};b.HLb=c;b.YM=function(){return {version:"6.0033.572.911",S8:!0,TM:!0,jla:"browser",iUa:["en-US"],Pqa:"",GU:"cadmium",kya:!0,l3:!0,oY:!1};};b.WM=function(){return {rC:[m.ze.JE,m.ze.KE],mv:[m.N.RJ,m.N.IE,m.N.QQ,m.N.RQ,m.N.sK,m.N.tK],zm:l.Ib.oMa,hA:(0,f.Oc)(31E3)};};b.XM=function(d){return {g0:d.Go};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LBa=b.bo=void 0;r=b.bo || (b.bo={});r[r.UD=0]="playready";r[r.cba=1]="widevine";r[r.QG=2]="fairplay";r[r.R9b=3]="clearkey";b.LBa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zR="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.r1=b.qp=void 0;b.qp=function(){};b.r1="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="SystemRandomSymbol";b.g1="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QR="PlayerErrorFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Tm=void 0;c=a(2).__importDefault(a(6));f=a(115);r=(function(){function l(m){this.H=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.Iga=[];}l.prototype.kq=function(m){this.Iga[m] || (this.Iga[m]=f.wq(c.default,this.H,"[" + m + "]"));return this.Iga[m];};return l;})();b.Tm=new r(0);},function(r,b,a){function c(f,l){this.yL=f;this.ak=Math.floor((f + l - 1) / l);this.Hd=l;this.reset();}a(5);c.prototype.shift=function(){this.Pd.shift();this.Yv.shift();};c.prototype.Vw=function(f){return this.ORa(this.Pd[f],f);};c.prototype.update=function(f,l){this.Pd[f]=(this.Pd[f] || 0) + l;};c.prototype.push=function(){this.Pd.push(0);this.Yv.push(0);this.tb+=this.Hd;};c.prototype.add=function(f,l,m){var d,g,h;if(null === this.tb){d=Math.max(Math.floor((m - l + this.Hd - 1) / this.Hd),1);for(this.tb=l;this.Pd.length < d;){this.push();}}for(;this.tb <= m;){this.push();this.Pd.length > this.ak && this.shift();}if(null === this.jo || l < this.jo)this.jo=l;if(l > this.tb - this.Hd)this.update(this.Pd.length - 1,f);else if(l == m)(d=this.Pd.length - Math.max(Math.ceil((this.tb - m) / this.Hd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Pd.length;++d){g=this.tb - d * this.Hd;h=g + this.Hd;if(!(g > m)){if(h < l)break;this.update(this.Pd.length - d,Math.round(f * (Math.min(h,m) - Math.max(g,l)) / (m - l)));}}for(;this.Pd.length > this.ak;){this.shift();}};c.prototype.start=function(f){null === this.jo && (this.jo=f);null === this.tb && (this.tb=f);};c.prototype.stop=function(f){var l,m;if(null !== this.tb)if(f - this.tb > 10 * this.yL)this.reset();else {for(;this.tb <= f;){this.push();this.Pd.length > this.ak && this.shift();}l=this.Pd.length - Math.ceil((this.tb - this.jo) / this.Hd);m=this.Pd.length - Math.ceil((this.tb - f) / this.Hd);if(0 <= m)if((0 > l && (this.jo=this.tb - this.Hd * this.Pd.length,l=0),l === m))this.Yv[l]+=f - this.jo;else if(m > l)for((this.Yv[l]+=(this.tb - this.jo) % this.Hd,this.Yv[m]+=this.Hd - (this.tb - f) % this.Hd,f=l + 1);f < m;++f){this.Yv[f]=this.Hd;}this.jo=null;}};c.prototype.ORa=function(f,l){l=this.Tma(l);return 0 === l?null:8 * f / l;};c.prototype.Tma=function(f){var l;l=this.Yv[f];null !== this.jo && (f=this.tb - (this.Pd.length - f - 1) * this.Hd,f > this.jo && (l=f - this.jo <= this.Hd?l + (f - this.jo):this.Hd));return l;};c.prototype.get=function(f,l){var m,d;m=this.Pd.map(this.ORa,this);if("last" === f)for(f=0;f < m.length;++f){null === m[f] && (m[f]=0 < f?m[f - 1]:0);}else if("average" === f){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.Hd));for(f=0;f < m.length;++f){null === m[f]?m[f]=Math.floor(d || 0):d=void 0 !== d?l * m[f] + (1 - l) * d:m[f];}}return m;};c.prototype.reset=function(){this.oga || (this.Pd=[],this.Yv=[],this.jo=this.tb=null);};c.prototype.setInterval=function(f){this.ak=Math.floor((f + this.Hd - 1) / this.Hd);};r.exports=c;},function(r,b,a){var l,m,d,g,h,k,n,p,q,u;function c(t){var w;if(!t.zha){w=t.uZa();t.no.dG(w.default.Fa,t.Rj);t.no.rJ(w.lu?w.lu.G9:void 0,w.lu?w.lu.sampleSize:void 0);l.Gb(t.Vc) || (t.zha=!0);}}function f(t,w,v){var x;this.I=v;this.Ip={};this.QK=v.QK;this.gNa=new g(this.QK);this.CS=new k(!0);this.hS=new k(!1);this.zob=v.z9;this.Tmb=v.LJb;this.Umb=v.MJb;v.tVa && (this.kL=new n(this.I));v.Y4 && (this.UB=new p(v.ura));this.reset();this.iOa=t;this.no=w;this.KNa=m.Wo.name();this.no.Q$(this.KNa);this.vF=0;this.iS=[];m.events.on("networkchange",(function(y){this.KNa=y;this.no.Q$(y);}).bind(this));x=v.Rka;x && (x={confidence:d.Pf.SJ,Ra:{Fa:parseInt(x,10),aj:0},yj:{Hsb:0,aj:0},ku:{Hsb:0,aj:0}},this.get=function(){return x;});u=this;}l=a(10);m=a(6).default;d=a(28).default;a(9);b=a(17).EventEmitter;g=a(362).JCa;h=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");k=a(765).mCa;n=a(767).tHa;p=a(768).sEa;q=a(143);u=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return u;};f.reset=function(){u && u.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.Cf;}},confidence:{get:function(){return this.Rj;}},Kp:{get:function(){return this.vF;}},zPa:{get:function(){return this.iS;}}});f.prototype.Slb=function(){var t,w,v,x;t=this.I;w=t.hmb.concat(t.qmb);v=t.aga;x=this.gNa;return w.reduce(function(y,z){y[z]=x.create(z,v);return y;},{});};f.prototype.reset=function(){var t,w,v,x;t=this.I.aga;w=this.gNa;v=this.I;this.location=null;this.Ip=this.Slb();if(this.I.wVa){x=this.I.V$a;this.Ip.Y_b=new q(x.numB * x.bSizeMs,x.bSizeMs);}this.CS.reset();this.hS.reset();this.wy=w.create("respconn-ewma",t);this.ny=w.create("respconn-ewma",t);this.kL && this.kL.reset();this.UB && this.UB.reset();this.Rj=d.Pf.HAVE_NOTHING;this.Zpb=(function(){c(this);}).bind(this);this.b3=void 0;this.VB=this.Rc=this.Vc=this.Cf=null;this.OB=this.V2=0;this.Mob=!1;v.P7a && (this.vF=0,this.iS=[]);};f.prototype.pP=function(t){var w;w=this.Ip;if(t !== this.location){l.ia(this.b3) || (clearInterval(this.b3),this.b3=void 0);l.Gb(this.location) && (this.V2=0,this.Cf=null);if(!l.Gb(t)){this.Rj=d.Pf.HAVE_NOTHING;for(var v in w){w[v] && w[v].reset && w[v].reset();}this.wy.reset();this.ny.reset();}l.Gb(this.Cf) || (this.V2+=(l.Gb(this.Vc)?m.time.ea():this.Vc) - this.Cf);this.Vc=this.Cf=null;this.Rc=0;this.location=t;this.no.pP(t);}};f.prototype.Q$=function(t){this.no.Q$(t);};f.prototype.Fqb=function(t){this.Ip.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Ip.QoEEvaluator=t;};f.prototype.NVb=function(){delete this.Ip.QoEEvaluator;};f.prototype.aw=function(t,w,v,x){var y,z;this.g1a=Math.max(this.g1a || 0,v);y=this.I;z=this.Ip;if(!0 === x.fQ)(x=z["throughput-wssl"]) && x.add(t,w,v,!0);else if(l.ia(w))h.warn("addDataReceived called with undefined start time");else {this.kL && this.kL.aw(t,w,v,x);if(x.wI)if(this.Tmb){if(x.wI.w2a(t,w,v,this.zob))return;}else if(this.Umb && x.wI.z7())return;y.pmb && 10 > v - w?w=v - 10:0 === v - w && (w=v - 1);this.UB && this.UB.aw(t,w,v);this.CS.aw(t,w,v,x);this.hS.aw(t,w,v,x);for(var A in z){z[A] && z[A].add && z[A].add(t,w,v);}this.Rj=Math.max(this.Rj,d.Pf.sB);l.Gb(this.Cf) && (this.Cf=w,this.Vc=null,this.zha=!1,this.Rc=0);l.Gb(this.Vc) || (w > this.Vc && (this.Cf+=w - this.Vc),this.Vc=null,this.zha=!1);this.Rc+=t;this.Rj < d.Pf.Jx && (v - this.Cf > y.Cnb || this.Rc > y.Bnb) && (this.Rj=d.Pf.Jx);this.Rj < d.Pf.SJ && (v - this.Cf > y.Pob || this.Rc > y.Oob) && (!this.Mob || this.OB > y.Anb) && (this.Rj=d.Pf.SJ,c(this),this.b3=setInterval(this.Zpb,y.lnb));l.Gb(this.VB) || (w - this.VB > y.jOa?this.iOa.d0a(this.VB,w):v - w > y.jOa && this.iOa.d0a(w,v));this.VB=Math.max(v,this.VB);}};f.prototype.Fy=function(t){this.wy.add(t);this.no.Fy(t);};f.prototype.Dy=function(t){this.ny.add(t);this.no.Dy(t);};f.prototype.start=function(t){var w;l.Gb(this.VB) && !l.Gb(this.Vc) && (this.VB=t);w=this.Ip;if(this.I.Hwa)for(var v in w){w[v] && w[v].start && w[v].start(t);}};f.prototype.stop=function(t){var w,v;w=this.Ip;for(v in w){w[v] && w[v].stop && w[v].stop(t);}this.Vc=l.Gb(this.Vc)?t:Math.min(this.Vc,t);this.VB=null;};f.prototype.flush=function(){var t,w;t=this.Ip;for(w in t){t[w] && t[w].flush && t[w].flush();}};f.prototype.fail=function(){this.Cf=null;};f.prototype.WXa=function(){var t,w;t=this.Ip.entropy;if(t){w=t.Gtb();t.reset();}return w;};f.prototype.uZa=function(){var t,w,v,x,y,z,A;t=m.time.ea();w={};v=this.Ip;x=this.I;y=x.Xlb;z=x.vpb;for(A in v){v[A] && v[A].get && (w[A]=v[A].get(t),"iqr" === v[A].type && (w.lu=w[A]),"tdigest" === v[A].type && (w.Ek=w[A]),"wssl" === v[A].type && (w.fQ=w[A]));}w.cdnavtp=this.CS.cu();w.activecdnavtp=this.hS.cu();w.default=y && w[y]?w[y]:w["throughput-ewma"];"none" !== x.Fva && "none" !== z && (w.u8a=z && w[z]?w[z]:w["throughput-sw"]);return w;};f.prototype.m6=function(){return this.kL?this.kL.m6():void 0;};f.prototype.e6=function(){return this.UB?this.UB.e6():void 0;};f.prototype.get=function(){var t,w,v,x,y,z;t=this.uZa();w=t.default;v=this.wy.get();x=this.ny.get();y=this.I;if(t.u8a){z=t.u8a;w=l.Ca(w.Fa) && l.Ca(z.Fa) && w.Fa > z.Fa && 0 < z.Fa?z:w;}t.confidence=this.Rj;t.Ra=w;!y.Ila || !w || l.Gb(w.Fa) || isNaN(w.Fa) || !t.fQ || l.Gb(t.fQ.Fa) || isNaN(t.fQ.Fa) || ("max" === y.lcb?t.Ra.Fa=Math.max(t.fQ.Fa,w.Fa):"sum" === y.lcb && (t.Ra.Fa+=t.fQ.Fa));t.yj=v;t.ku=x;this.I.wVa && (w=this.I.V$a,t.hdc=this.Ip.Y_b.get(w.fillS,w.fillHl));w=this.V2 + !l.Gb(this.Cf)?(l.Gb(this.Vc)?m.time.ea():this.Vc) - this.Cf:0;t.time=w;return t;};f.prototype.SHb=function(){var t,w,v;t={};w=this.get(!0);if(w.confidence && w.Ra){t.aseavtp=Number(w.Ra.Fa).toFixed(2);t.asevartp=Number(w.Ra.aj).toFixed(2);if(w.lu){v=w.lu.G9;!v || isNaN(v.Ll) || isNaN(v.Kl) || isNaN(v.vk) || (t.aseniqr=0 < v.vk?Number((v.Ll - v.Kl) / v.vk).toFixed(2):-1,t.aseiqr=Number(v.Ll - v.Kl).toFixed(2),t.asemedtp=Number(v.vk).toFixed(2));t.iqrsamples=w.lu.sampleSize;}w.Ek && w.Ek.Cz && (t.tdigest=w.Ek.Cz());}return t;};f.prototype.YO=function(t,w){var v;v=w.requestId;1 === ++this.vF && (this.emit("active",t),this.start(t));v && this.iS.push(v);this.CS.YO(t,w);this.hS.YO(t,w);};f.prototype.wY=function(t,w,v){w=v.requestId;--this.vF;this.I.P7a && (this.vF=Math.max(this.vF,0));0 === this.vF && (this.stop(t),this.emit("inactive",t));w && (w=this.iS.indexOf(w),0 <= w && this.iS.splice(w,1));this.CS.wY(t,v);this.hS.wY(t,v);this.UB && this.UB.aKb(v.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.du && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.nq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.nq(1,2,2);}catch(d){DataView.prototype.nq=a(DataView.prototype.nq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Fz=a(DataView.prototype.Fz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.du=a(DataView.prototype.du,DataView.prototype.getUint32,Uint32Array);DataView.prototype.aH=a(DataView.prototype.aH,DataView.prototype.getInt8,Int8Array);DataView.prototype.ZG=a(DataView.prototype.ZG,DataView.prototype.getInt16,Int16Array);DataView.prototype.$G=a(DataView.prototype.$G,DataView.prototype.getInt32,Int32Array);}c.uoa=function(d,g,h,k,n){return h?d.nq(g,h,k || 1,n):new Uint8Array(0);};c.soa=function(d,g,h,k,n){return h?d.Fz(g,h,k || 2,n):new Uint16Array(0);};c.toa=function(d,g,h,k,n){return h?d.du(g,h,k || 4,n):new Uint32Array(0);};c.fGb=function(d,g,h,k,n){return h?d.aH(g,h,k || 1,n):new Int8Array(0);};c.dGb=function(d,g,h,k,n){return h?d.ZG(g,h,k || 2,n):new Int16Array(0);};c.eGb=function(d,g,h,k,n){return h?d.$G(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){p=new d(h);p.set(l.call(this,g,h - 1,k,n));p[h - 1]=m.call(this,g + (h - 1 * k),n);return p;}return l.call(this,g,h,k,n);};}c={nq:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},Fz:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},du:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},aH:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},ZG:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},$G:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},ICb:b};f=!1;c.lna=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(226);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.gY=function(m,d){var g,h;g=m.mb();h=m.wua();m=new (f.Xp[g] || l)(g,m.ina(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.In=0;return !0;};l.prototype.eV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Xp)for(var g=0;g < this.Xp.length;g++){d=c.__spreadArrays(d,this.Xp[g].eV(m));}return d;};l.prototype.Dl=function(m){for(m=this.eV(m);0 < m.length;){return m[0];}};l.prototype.eT=function(){for(this.Xp=[];this.u.offset < this.startOffset + this.length;){this.Xp.push(l.gY(this.u,this));}};return l;})();b.FE=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Kk=b.Kea=void 0;c=a(22);(function(d){d[d.absolute=0]="absolute";d[d.h7a=1]="relative";})(f=b.Kea || (b.Kea={}));m=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{Eb:{get:function(){l || (l=new d(f.h7a,c.T.Eb));return l;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.bQ=function(g){return new m(f.absolute,g);};Object.defineProperties(d,{$2b:{get:function(){return m.Eb;},enumerable:!1,configurable:!0}});d.uJ=function(g){return new m(f.h7a,g);};d.sya=new m(f.absolute,c.T.iD);return d;})();b.Kk=r;},function(r,b,a){var l,m,d,g,h,k,n;function c(p){return p && "function" === typeof p.Gh?!0:!1;}function f(p){return c(p) && (p=typeof p.UKb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.meb=b.KCb=b.TKb=b.Rcb=b.AsyncIterator=void 0;l=a(2);m=a(20);g=(function(){function p(q){var u;u=this;this.Qmb=q;this.MS=!1;this.Sob=function(t){return u.mUb(t);};this.pTa();}p.NLb=function(q,u){function t(){var w;w=q.next();w.then(function(v){f(q) && q.UKb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{Vz:{get:function(){return this.MS;},enumerable:!1,configurable:!0}});p.UXa=function(){return new h([]);};p.joa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{zN:{get:function(){return this.Yl || !1;},enumerable:!1,configurable:!0}});p.prototype.Gh=function(){this.cancel();};p.prototype.cancel=function(){this.wOa();this.Yl=!0;return this.Afa;};p.prototype.next=function(){return this.Yl?this.Afa:Promise.race([this.Afa,this.Qmb()]).then(this.Sob);};p.prototype.mUb=function(q){q.done && (this.MS=!0,this.Gh());this.zN || (this.wOa(),this.pTa());return q;};p.prototype.pTa=function(){var q;q=this;this.Afa=new Promise(function(u){q.wOa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;h=(function(p){function q(u){var t;t=p.call(this,function(){return t.HGb();}) || this;t.Iy=u;t.index=0;return t;}l.__extends(q,p);q.prototype.Gh=function(){c(this.Iy) && this.Iy.Gh();p.prototype.Gh.call(this);};q.prototype.HGb=function(){return this.Iy.length > this.index?Promise.resolve({value:this.Iy[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.Rcb=h;b.TKb=c;b.KCb=f;k=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.fsa();}) || this;v.console=t;v.ul=w;v.cua=!1;Array.isArray(u)?v.WS=new h(u):v.WS=u;return v;}l.__extends(q,p);q.prototype.oUb=function(u){var t;this.cua=!1;t=this.console;m.ga && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.$K)return (c(u) && u.Gh(),g.joa());Array.isArray(u)?this.ul=new h(u):this.ul=u;return this.fsa();};q.prototype.nUb=function(u){var t;t=this.console;m.ga && t && t.trace("CompoundIterator: processNextInnerResult",this.$K,u.done);if(!u.done || this.$K)return u;this.ul=void 0;return this.fsa();};q.prototype.Gh=function(){var u;u=this.console;m.ga && u && u.trace("CompoundIterator: dispose");this.$K=!0;p.prototype.Gh.call(this);c(this.WS) && this.WS.Gh();c(this.ul) && this.ul.Gh();};q.prototype.toString=function(){return "CompoundIterator " + this.$K + " " + this.WS + " " + this.ul;};q.prototype.fsa=function(){var u,t;u=this;t=this.console;m.ga && t && t.trace("CompoundIterator: nextImpl");if(this.ul)return (m.ga && t && t.trace("CompoundIterator: getNextInner"),this.ul.next().then(function(w){return u.nUb(w);}));this.cua=!0;m.ga && t && t.trace("CompoundIterator: getNextOuter");return this.WS.next().then(function(w){return u.oUb(w);});};return q;})(g);b.meb=k;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Dmb();}) || this;v.source=u;v.jra=t;v.Nvb=w;return v;}l.__extends(q,p);q.prototype.Gh=function(){c(this.source) && this.source.Gh();p.prototype.Gh.call(this);};q.prototype.Dmb=function(){var u,t,w;u=this.Nvb;t=this.jra;w=this.source;m.ga && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new k(p,q,u);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.du && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.nq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.nq(1,2,2);}catch(d){DataView.prototype.nq=a(DataView.prototype.nq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Fz=a(DataView.prototype.Fz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.du=a(DataView.prototype.du,DataView.prototype.getUint32,Uint32Array);DataView.prototype.aH=a(DataView.prototype.aH,DataView.prototype.getInt8,Int8Array);DataView.prototype.ZG=a(DataView.prototype.ZG,DataView.prototype.getInt16,Int16Array);DataView.prototype.$G=a(DataView.prototype.$G,DataView.prototype.getInt32,Int32Array);}c.uoa=function(d,g,h,k,n){return h?d.nq(g,h,k || 1,n):new Uint8Array(0);};c.soa=function(d,g,h,k,n){return h?d.Fz(g,h,k || 2,n):new Uint16Array(0);};c.toa=function(d,g,h,k,n){return h?d.du(g,h,k || 4,n):new Uint32Array(0);};c.fGb=function(d,g,h,k,n){return h?d.aH(g,h,k || 1,n):new Int8Array(0);};c.dGb=function(d,g,h,k,n){return h?d.ZG(g,h,k || 2,n):new Int16Array(0);};c.eGb=function(d,g,h,k,n){return h?d.$G(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){p=new d(h);p.set(l.call(this,g,h - 1,k,n));p[h - 1]=m.call(this,g + (h - 1 * k),n);return p;}return l.call(this,g,h,k,n);};}c={nq:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},Fz:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},du:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},aH:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},ZG:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},$G:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},ICb:b};f=!1;c.lna=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(266);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.gY=function(m,d){var g,h;g=m.mb();h=m.wua();m=new (f.Xp[g] || l)(g,m.ina(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.In=0;return !0;};l.prototype.eV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Xp)for(var g=0;g < this.Xp.length;g++){d=c.__spreadArrays(d,this.Xp[g].eV(m));}return d;};l.prototype.Dl=function(m){for(m=this.eV(m);0 < m.length;){return m[0];}};l.prototype.eT=function(){for(this.Xp=[];this.u.offset < this.startOffset + this.length;){this.Xp.push(l.gY(this.u,this));}};return l;})();b.FE=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gIa="PboPlaydataServicesSymbol";b.NR="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.JJ=b.nfb=void 0;c=a(26);b.nfb=function(){this.rC=[];this.mv=[];this.zia=c.qv.tv;this.Uaa=c.fj.tv;};b.JJ="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YR="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DR="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yR="ManifestFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.GNb=b.q5a=b.gSb=b.GXa=b.oSb=b.xE=b.eba=b.Ps=b.hQ=b.gQ=b.Gk=void 0;c=a(24);f=a(21);b.Gk="$attributes";b.gQ="$children";b.hQ="$name";b.Ps="$text";b.eba="$parent";b.xE="$sibling";b.oSb=/^\s*<\?xml.*\?>/i;b.GXa=function(l,m,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(m=arguments[g++]) && (l=l[m]);){;}return l;};b.gSb=function(l,m){var d;l?d=(0,c.He)(l[b.Ps]):void 0 !== m && (d=m);(0,f.yU)(d);return d;};b.q5a=function(l,m){var d;l?d=l[b.Ps]:void 0 !== m && (d=m);(0,f.XTa)(d);return d;};b.GNb=function(l,m){var d;d={};d[b.Gk]=l;d[b.Ps]=m;return d;};},function(r){function b(m,d){return m.some(function(g){return g.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(f).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function f(m){return m.duration;}function l(m,d){return m + d;}r.exports={Cvb:function(m,d,g){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},Aka:function(m,d,g){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.GRb;h.originY=m.HRb;h.sizeX=m.jZb;h.sizeY=m.kZb;h.imageData=d;h.id=m.lH;h.rootContainerExtentX=g.LWb;h.rootContainerExtentY=g.MWb;return h;},nna:function(m,d){return "o_" + m + "s_" + d;},A2b:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},Zc:function(m){return "undefined" !== typeof m;},zcc:b,p$b:a,BV:function(m,d){var g,h;g=Object.create({});for(h in m){g[h]=m[h];}m instanceof Error && (g.message=m.message,g.stack=m.stack);g.errorString=d;return g;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},s_a:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},i_b:function(m,d){for(var g=d.entries.length,h,k=0;k < g;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},j_b:function(m,d,g){for(var h=g.entries.length,k,n,p=0;p < h;p++){k=g.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},XSa:function(m){return m.map(function(d,g){d.duration+=a(m.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},coa:function(m){return m.reduce(function(d,g){return d + g.entries.reduce(function(h,k){return k.bpa + h;},0);},0);},OAb:function(m,d){return m && m.cx <= d && m.Eq >= d;},OFb:function(m){if(m)return m.endTime;},oGb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b,a){var f,l;function c(m){switch(m){case f.L.iR:return "http";case f.L.kR:return "connectiontimeout";case f.L.LE:return "readtimeout";case f.L.sDa:return "corruptcontent";case f.L.tB:return "abort";case f.L.lR:case f.L.Hca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Xna=b.Mna=b.Jna=void 0;f=a(3);l=a(11);b.Jna=c;b.Mna=function(m,d){m={errorcode:m + (d.errorCode || f.M.Wl)};d.na && (m.errorsubcode=d.na);d.rf && (m.errorextcode=d.rf);d.Qla && (m.erroredgecode=d.Qla);d.ub && (m.errordetails=d.ub);d.ik && (m.httperr=d.ik);d.V8 && (m.aseneterr=d.V8);d.GM && (m.errordata=d.GM);d.UW && (m.mediaerrormessage=d.UW);(d=c(Number(d.na))) && (m.nwerr=d);return m;};b.Xna=function(){return {screensize:l.Bv.width + "x" + l.Bv.height,screenavailsize:l.Bv.availWidth + "x" + l.Bv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:l.HGa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kF="PlaygraphConfigSymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k){g=m.Ci.call(this,d,g,k,l.ej.events,l.ej.events + "/" + h) || this;g.context=d;g.yCb=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Xq=void 0;r=a(1);f=a(0);l=a(69);m=a(75);a(187);na(c,m.Ci);c.prototype.pg=function(d,g){var h,k;h=this;k=this.L3(g);!1;!1;return this.send(d,g.href,k).then(function(){return g;}).catch(function(n){throw h.Dn(n);});};c.prototype.gq=function(d,g,h){var k,n;k=this;n=this.L3(h);!1;!1;return this.send(d,g.EV("events").href,n).then(function(p){g.KPa(p.result.links);return h;}).catch(function(p){throw k.Dn(p);});};c.prototype.L3=function(d){return {event:this.yCb,xid:d.ba,position:d.position || 0,clientTime:d.fU,sessionStartTime:d.NY,videoTrackId:d.$P,audioTrackId:d.sn,timedTextTrackId:d.OP,mediaId:d.WN,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.wtb(d.MX),sessionParams:d.Lm,mdxControllerEsn:d.xra};};c.prototype.gja=function(d){return {downloadableId:d.Bc,duration:d.duration};};c.prototype.wtb=function(d){var g;g={total:d.total,audio:d.audio.map(this.gja),video:d.video.map(this.gja),text:d.text.map(this.gja)};d.total !== d.hJ && (g.totalContentTime=d.hJ);return g;};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.pl)()),(0,r.__param)(1,(0,f.pl)()),(0,r.__param)(2,(0,f.pl)()),(0,r.__param)(3,(0,f.pl)())],a);b.Xq=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z;function c(A){var B,E;B=this;this.L9=new z.mea();this.createPlaygraphPlayer=function(D,F,C){var G;D=w.Bjb.encode(D);G=d.ka.get(v.yR);C=C?G.create(C):void 0;G=d.ka.get(q.pea).create(D);return G.Iyb(D.Md,B.L9.ira(B.$Qa(F,G.W5())),C);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,m.hea)(D);};this.init=function(D){D=void 0 === D?function(){}:D;B.pC.ON(function(F){F.$?(l.config.J$?B.BXb().then(function(){(0,f.vIa)();}).catch(function(C){d.log.error("Unable to initialize the playdata services",C);}):Promise.resolve()).then(function(){Object.assign(B,c.GT);D(Object.assign({success:!0},c.GT));}):D({success:!1,error:(0,d.SIa)(F.errorCode || h.M.Mca,F)});});};this.applyConfig=function(D){B.bbb(D);(0,l.eka)(D);};this.prepare=function(D,F){var C;D=B.g6a.gAb(D) || [];C=new Set();D=D.filter(function(G){var K;K=C.has(G.J);C.add(G.J);return !K;});if(l.config.Yw && B.Fd)try{B.Fd.iI(D,F);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){nb._cad_global.playerPredictionModel?(D=B.g6a.iAb(D)) && nb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.$M)().lZ().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.$M)().mZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.$M)().jZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.$M)().iaa().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.close=function(){};this.deviceThroughput=function(){var D;D=d.ka.get(n.Q0).uka();return D?Promise.resolve(D.cu()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var D;D=d.ka.get(n.Q0).uka();return D?Promise.resolve(D.LGb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.ZBb;};this.bbb(A);d.ka.get(y.Oya);this.g6a=d.ka.get(g.xIa);this.pC=d.ka.get(t.ih);E=d.ka.get(x.sIa).apply();(0,l.USa)([A],E);this.Fd=d.ka.get(u.tF);(0,d.$M)().mZ();}Object.defineProperty(b,"__esModule",{value:!0});b.uK=void 0;f=a(298);l=a(14);m=a(59);d=a(8);g=a(509);h=a(3);k=a(37);n=a(284);p=a(153);q=a(304);u=a(120);t=a(31);w=a(67);v=a(157);x=a(316);y=a(487);z=a(552);c.prototype.$Qa=function(A,B){var E,D,F,C;A=void 0 === A?{}:A;C=null !== (D=null === (E=A.playbackState) || void 0 === E?void 0:E.currentTime) && void 0 !== D?D:B.Db;return Object.assign(Object.assign({startPts:C,uiPlayStartTime:Date.now()},A),{endPts:null !== (F=B.Ob) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.bbb=function(A){d.ka.get(k.nR).OOb(A);};c.prototype.BXb=function(){return d.ka.get(p.NR)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};b.uK=c;c.GT={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pB="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Una=function(){return this.buffer.length - this.position;};a.prototype.GA=function(){return this.buffer[this.position++];};a.prototype.Oh=function(c){var f;f=this.position;this.position+=c;return this.ELb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.ELb=function(c){return void 0 !== c.subarray;};a.prototype.Fq=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.uua=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.vh=function(){return this.Fq(2);};a.prototype.Gq=function(){return this.Fq(4);};a.prototype.OO=function(){return this.Fq(8);};a.prototype.dx=function(c){for(var f,l="";c--;){f=this.GA();l+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return l;};a.prototype.xua=function(c){for(var f=0,l=0;l < c;l++){f+=this.GA() << (l << 3);}return f;};a.prototype.NO=function(){return this.xua(4);};a.prototype.j_=function(c){this.eQ(c,2);};a.prototype.kB=function(c){this.eQ(c,4);};a.prototype.dba=function(c){this.buffer[this.position++]=c;};a.prototype.eQ=function(c,f){this.position+=f;for(var l=1;l <= f;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.jB=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.i_=function(c){for(var f=c.length,l=0;l < f;l++){this.buffer[this.position++]=c[l];}};a.prototype.dQ=function(c,f){this.i_(c.Oh(f));};a.prototype.kcb=function(c){c=new a(c);for(var f,l;;){if((f=c.Una(),l=f >>> 14))(l=Math.min(4,l),this.dba(192 | l),this.dQ(c,16384 * l));else {128 > f?this.dba(f):this.eQ(f | 32768,2);this.dQ(c,f);break;}}};a.prototype.L6a=function(){var l;for(var c=[],f=new a(c);;){l=this.GA();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.GA(),f.dQ(this,l));else if((l&=63,0 < l && 4 >= l)){f.dQ(this,16384 * l);continue;}else throw Error("bad asn1");}else f.dQ(this,l);break;}return new Uint8Array(c);};return a;})();b.GQ=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I_="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="ReportSyncSymbol";b.RJa="ReportApiErrorSyncSymbol";b.NCa="FtlProbeConfigSymbol";b.PCa="FtlProbeSymbol";},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,Mma:c.max_framerate_value,Lma:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,KSb:c.pixelAspectX,LSb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.Sbc=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.AYa=b.zYa=void 0;b.zYa=function(c,f,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,k){return k === f[g]?(m[g]=a(h),!0):!1;});});return m;};b.AYa=a;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,l){f[l]=a(c[l]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f){f && (this.KI(f.Md),this.nwa(f.ae),this.hwa(f.pa));}c.prototype.KI=function(f){this.Md=f;return this;};c.prototype.nwa=function(f){this.ae=f;return this;};c.prototype.b9a=function(f){this.Bd=f;return this;};c.prototype.Ok=function(f,l){this.pa || (this.pa={});this.pa[f]=a(l);return this;};c.prototype.hwa=function(f,l){void 0 === l && (l=function(){return !0;});this.pa={};this.UPa(f,l);};c.prototype.UPa=function(f,l){var m;m=this;void 0 === l && (l=function(){return !0;});Object.keys(f).filter(function(d){return l(f[d]);}).forEach(function(d){return m.Ok(d,f[d]);});};c.prototype.UIb=function(f){var l;return !(null === (l=this.pa) || void 0 === l || !l[f]);};c.prototype.gi=function(){var f;if(!this.pa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Md)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.pa[this.Md])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Md:this.Md,pa:this.pa};this.ae && (f.ae=this.ae);this.Bd && (f.Bd=this.Bd);return f;};return c;})();b.EB=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ax=void 0;c=a(219);f=a(5);r=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){f.assert(void 0 !== l.YK);return l.YK;};l.Svb=function(m){l.YK=new l(m);};l.prototype.push=function(m){this.Ek && this.Ek.push(m);};l.prototype.wb=function(){if(this.Ek)return (this.Ek.Zy(),this.Ek.vj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.vVa && this.config.Tca && (this.Ek=new c.y8b(this.config.Tca.c,this.config.Tca.maxc));};return l;})();b.Ax=r;},function(r){(function(){function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.bC=this.Rc=0;this.tb=this.Cf=void 0;a00=5;break;}}}var R8;R8=2;for(;R8 !== 8;){switch(R8){case 3:var f5U="1";f5U+="SIYbZrN";f5U+="JC";f5U+="p9";r.exports=b;f5U;R8=8;break;case 2:b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.Cf?a < this.Cf?(this.bC+=this.Cf - a,this.Cf=a):a > this.tb && (this.tb=this.Cf=a):this.tb=this.Cf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.tb && a > this.tb && (this.bC+=a - this.tb,this.tb=a);c00=1;break;}}};b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Rc+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Fa:this.bC?Math.floor(8 * this.Rc / this.bC):null,JC:this.bC?this.bC:0};break;}}};R8=3;break;}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.Aja=this.u.$c();this.wva=this.u.$c();this.u.offset+=4;this.samplerate=this.u.$c();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Aja + ", samplesize: " + this.wva + ", samplerate: " + this.samplerate);return d;};m.Oa=!1;return m;})(a(225).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.pv=void 0;a(5);r=(function(){function c(f,l){c.xb(this,f,l);}c.xb=function(f,l,m){f.md=l;f.Rc=m.fa;f.Ne=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.md;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{fa:{get:function(){return this.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.md.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{J:{get:function(){return this.md.J;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.md.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pa:{get:function(){return this.md.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.md.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.md.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.md.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dO:{get:function(){return this.md.dO;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{sa:{get:function(){return this.md.sa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.J,streamId:this.Pa,offset:this.offset,bytes:this.fa};};return c;})();b.pv=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xea=b.bn=void 0;c=a(148);(function(l){l[l.pending=0]="pending";l[l.y$=1]="running";l[l.complete=2]="complete";l[l.rM=3]="destroyed";})(f=b.bn || (b.bn={}));r=(function(){function l(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.bd=f.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{JKb:{get:function(){return this.bd === f.pending || this.bd === f.y$;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{We:{get:function(){return this.Xv;},enumerable:!1,configurable:!0}});l.prototype.bsb=function(m){var d;null === (d=this.Xv) || void 0 === d?void 0:d.Tua(this);this.Xv=m;};l.prototype.gx=function(){this.bd=f.y$;this.pg();this.c9() === c.Kk.sya && (this.bd=f.complete);};l.prototype.Lb=function(){var m;this.bd=f.rM;null === (m=this.Xv) || void 0 === m?void 0:m.Tua(this);};return l;})();b.Xea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(844);c=a(392);a=a(846);b.default={STARTING:a.x8a,BUFFERING:r.G$,REBUFFERING:r.G$,PLAYING:c.hx,PAUSED:c.hx};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hN=b.DJ=void 0;c=a(856);f=a(857);l=a(245);Object.defineProperties(b,{DJ:{enumerable:!0,get:function(){return l.DJ;}}});b.hN=function(m,d){switch(m.kra){case "manifold":return new c.TFa(m,d);default:return new f.GKa(m,d);}};},function(r,b,a){var c,f,l;c=a(130);f=a(60);l=a(178);r.exports=function(m){return function n(g,h,k){switch(arguments.length){case 0:return n;case 1:return l(g)?n:f(function(p,q){return m(g,p,q);});case 2:return l(g) && l(h)?n:l(g)?f(function(p,q){return m(p,h,q);}):l(h)?f(function(p,q){return m(g,p,q);}):c(function(p){return m(g,h,p);});default:return l(g) && l(h) && l(k)?n:l(g) && l(h)?f(function(p,q){return m(p,q,k);}):l(g) && l(k)?f(function(p,q){return m(p,h,q);}):l(h) && l(k)?f(function(p,q){return m(g,p,q);}):l(g)?c(function(p){return m(p,h,k);}):l(h)?c(function(p){return m(g,p,k);}):l(k)?c(function(p){return m(g,h,p);}):m(g,h,k);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.Aja=this.u.$c();this.wva=this.u.$c();this.u.offset+=4;this.samplerate=this.u.$c();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Aja + ", samplesize: " + this.wva + ", samplerate: " + this.samplerate);return d;};m.Oa=!1;return m;})(a(265).default);b.default=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sR="LogblobBuilderFactorySymbol";b.dda="LogblobBuilderCommonSymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p){var q;q=m.BQ.call(this,h,k,f.Oj.bMa,p) || this;q.config=h;q.rj=k;q.is=n;q.r8=p;q.type=f.fj.tv;q.c_=d.Gd.LTa();return q;}Object.defineProperty(b,"__esModule",{value:!0});b.ao=void 0;f=a(26);l=a(45);m=a(449);r=a(111);d=a(110);g=a(441);new r.JB();na(c,m.BQ);c.prototype.lx=function(){return Promise.resolve(!1);};c.prototype.$t=function(){return Promise.resolve("");};c.prototype.Z5=function(){return Promise.resolve("");};c.prototype.lZ=function(){return this.config().Gla?this.r8.Gpa()?this.r8.uz(l.N.TJ).then(function(h){return {result:h,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.iaa=function(){return this.config().Gla?this.r8.Gpa()?this.r8.uz(l.N.FQ).then(function(h){return {result:h,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.mZ=function(){return Promise.resolve(!1);};c.prototype.jZ=function(){return Promise.resolve(!1);};c.prototype.VM=function(h){return this.c_[h];};c.prototype.Pha=function(){};c.prototype.n2a=function(h){switch(h){case f.Kj.QE:return "1.4";case f.Kj.xv:return "2.2";}};c.prototype.Up=function(){return g.kca.Up();};c.prototype.YYa=function(h){return h || this.config().mv;};c.prototype.fN=function(){return Promise.resolve(void 0);};c.prototype.n6=function(){return Promise.resolve(void 0);};c.prototype.qU=function(h){var k;k=[];this.is.Hg(h) && k.push(this.n2a(h));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:k,isHdcpEngaged:! !k.length}];};b.ao=c;c.TP="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ye=void 0;b.Ye=a;a.gDa=/^hevc-main/;a.ZCa=/^hevc-hdr-|hevc-dv/;a.Kx=/^hevc-hdr-/;a.Ts=/^hevc-dv/;a.PQ=/-h264mpl/;a.RJ=/-h264mpl30/;a.IE=/-h264mpl31/;a.lB=/-h264hpl/;a.by=/^vp9-/;a.Fj=/^av1-/;a.rK=/-L5[0-1]-/;a.m_=/^heaac-2-/;a.lDa=/^heaac-2hq-dash/;a.uF=/^xheaac-dash/;a.peb=/ddplus-2/;a.qeb=/ddplus-5/;a.reb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mib="NativeLocalStorageSymbol";b.IGa="NativeLocalStorageFactorySymbol";b.MDa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="IDBDatabaseFactorySymbol";b.oEa="IndexedDBFactorySymbol";b.Qca="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.JJa=b.j1=b.b6=void 0;c=a(44);f=a(3);b.b6=function(l){return l === c.Tb.ql.Vb?f.L.nda:f.L.oda;};b.j1=50;b.JJa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Rw,minHCInitVideoBitrate:a.Pra,maxInitVideoBitrate:a.jA,minInitAudioBitrate:a.bX,maxInitAudioBitrate:a.NW,minHCInitAudioBitrate:a.aX,minAcceptableVideoBitrate:a.C8,minRequiredBuffer:a.cX,minPrebufSize:a.sj,minCheckBufferingCompleteInterval:a.F8,rebufferingFactor:a.Cua,useMaxPrebufSize:a.eya,maxPrebufSize:a.zD,maxRebufSize:a.tra,maxBufferingTime:a.ds,minAudioMediaRequestSizeBytes:a.D8,minVideoMediaRequestSizeBytes:a.L8,initialBitrateSelectionCurve:a.c7,initSelectionLowerBound:a.N_a,initSelectionUpperBound:a.O_a,throughputPercentForAudio:a.naa,bandwidthMargin:a.Mia,bandwidthMarginContinuous:a.Nia,bandwidthMarginCurve:a.Oia,conservBandwidthMargin:a.hka,switchConfigBasedOnInSessionTput:a.fxa,conservBandwidthMarginTputThreshold:a.mU,conservBandwidthMarginCurve:a.ika,switchAlgoBasedOnHistIQR:a.G$a,switchConfigBasedOnThroughputHistory:a.nE,maxPlayerStateToSwitchConfig:a.sra,lowEndMarkingCriteria:a.Uqa,IQRThreshold:a.Oca,histIQRCalcToUse:a.Uoa,maxTotalBufferLevelPerSession:a.vu,highWatermarkLevel:a.e_a,toStableThreshold:a.nab,toUnstableThreshold:a.taa,skipBitrateInUpswitch:a.ywa,watermarkLevelForSkipStart:a.vya,highStreamRetentionWindow:a.Ooa,lowStreamTransitionWindow:a.Vqa,highStreamRetentionWindowUp:a.Qoa,lowStreamTransitionWindowUp:a.Xqa,highStreamRetentionWindowDown:a.Poa,lowStreamTransitionWindowDown:a.Wqa,highStreamInfeasibleBitrateFactor:a.Noa,lowestBufForUpswitch:a.cA,lockPeriodAfterDownswitch:a.Z7,lowWatermarkLevel:a.Zqa,lowestWaterMarkLevel:a.dA,lowestWaterMarkLevelBufferRelaxed:a.$qa,mediaRate:a.Cra,maxTrailingBufferLen:a.n8,audioBufferTargetAvailableSize:a.IT,videoBufferTargetAvailableSize:a.XZ,maxVideoTrailingBufferSize:a.S2a,maxAudioTrailingBufferSize:a.z2a,fastUpswitchFactor:a.r5,fastDownswitchFactor:a.dma,maxMediaBufferAllowed:a.kA,simulatePartialBlocks:a.wwa,simulateBufferFull:a.E9a,considerConnectTime:a.jka,connectTimeMultiplier:a.gka,lowGradeModeEnterThreshold:a.W1a,lowGradeModeExitThreshold:a.X1a,maxDomainFailureWaitDuration:a.C2a,maxAttemptsOnFailure:a.y2a,exhaustAllLocationsForFailure:a.UVa,maxNetworkErrorsDuringBuffering:a.I2a,maxBufferingTimeAllowedWithNetworkError:a.g8,fastDomainSelectionBwThreshold:a.bWa,throughputProbingEnterThreshold:a.T$a,throughputProbingExitThreshold:a.U$a,locationProbingTimeout:a.J1a,finalLocationSelectionBwThreshold:a.jWa,throughputHighConfidenceLevel:a.R$a,throughputLowConfidenceLevel:a.S$a,locationStatisticsUpdateInterval:a.Hqa,enablePerfBasedLocationSwitch:a.uVa,probeServerWhenError:a.Pu,probeRequestTimeoutMilliseconds:a.Yta,allowSwitchback:a.Gy,probeDetailDenominator:a.mI,maxDelayToReportFailure:a.h8,countGapInBuffer:a.lTa,bufferThresholdForAbort:a.zRa,allowCallToStreamSelector:a.gQa,pipelineScheduleTimeoutMs:a.sta,maxPartialBuffersAtBufferingStart:a.lA,maxActiveRequestsSABCell100:a.e8,maxStreamingSkew:a.vra,maxPendingBufferPercentage:a.qra,headerRequestSize:a.K6,estimateHeaderSize:a.Ula,minBufferLenForHeaderDownloading:a.ZW,reserveForSkipbackBufferMs:a.bP,numExtraFragmentsAllowed:a.usa,pipelineEnabled:a.zq,maxParallelConnections:a.UN,socketReceiveBufferSize:a.N9a,audioSocketReceiveBufferSize:a.x3,videoSocketReceiveBufferSize:a.ZP,headersSocketReceiveBufferSize:a.Loa,updatePtsIntervalMs:a.Laa,bufferTraceDenominator:a.Zia,bufferLevelNotifyIntervalMs:a.OL,aseReportDenominator:a.IL,aseReportIntervalMs:a.s3,enableAbortTesting:a.CBb,abortRequestFrequency:a.mqb,streamingStatusIntervalMs:a.Xwa,prebufferTimeLimit:a.yA,minBufferLevelForTrackSwitch:a.E8,penaltyFactorForLongConnectTime:a.kta,longConnectTimeThreshold:a.Sqa,additionalBufferingLongConnectTime:a.Yha,additionalBufferingPerFailure:a.Zha,rebufferCheckDuration:a.jY,enableLookaheadHints:a.rVa,lookaheadFragments:a.T1a,enableOCSideChannel:a.pz,OCSCBufferQuantizationConfig:a.S0,updateDrmRequestOnNetworkFailure:a.Zab,deferAseScheduling:a.lUa,maxDiffAudioVideoEndPtsMs:a.B2a,defaultHeaderCacheSize:a.E4,defaultHeaderCacheDataPrefetchMs:a.D4,neverWipeHeaderCache:a.RH,networkFailureResetWaitMs:a.dsa,networkFailureAbandonMs:a.csa,maxThrottledNetworkFailures:a.m8,throttledNetworkFailureThresholdMs:a.maa,lowThroughputThreshold:a.Yqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Yla,mp4ParsingInNative:a.B3a,sourceBufferInOrderAppend:a.P9a,requireAudioStreamToEncompassVideo:a.ZD,allowAudioToStreamPastVideo:a.fQa,enableManagerDebugTraces:a.ii,managerDebugMessageInterval:a.j2a,managerDebugMessageCount:a.i2a,bufferThresholdToSwitchToSingleConnMs:a.Yia,bufferThresholdToSwitchToParallelConnMs:a.Xia,netIntrStoreWindow:a.HPb,minNetIntrDuration:a.ePb,fastHistoricBandwidthExpirationTime:a.UCb,bandwidthExpirationTime:a.Ksb,failureExpirationTime:a.RCb,historyTimeOfDayGranularity:a.jJb,expandDownloadTime:a.ECb,minimumMeasurementTime:a.qPb,minimumMeasurementBytes:a.pPb,throughputMeasurementTimeout:a.V_b,initThroughputMeasureDataSize:a.kKb,throughputMeasureWindow:a.U_b,throughputIQRMeasureWindow:a.T_b,IQRBucketizerWindow:a.lhb,connectTimeHalflife:a.Tvb,responseTimeHalflife:a.DWb,historicBandwidthUpdateInterval:a.iJb,throughputWarmupTime:a.Z_b,minimumBufferToStopProbing:a.oPb,throughputPredictor:a.W_b,ase_stream_selector:a.Qrb,enableFilters:a.GBb,filterDefinitionOverrides:a.kDb,defaultFilter:a.Izb,secondaryFilter:a.iXb,defaultFilterDefinitions:a.Jzb,initBitrateSelectorAlgorithm:a.opa,bufferingSelectorAlgorithm:a.dja,ase_ls_failure_simulation:a.ZTa,ase_dump_fragments:a.Oka,ase_location_history:a.Qka,ase_throughput:a.Rka,ase_simulate_verbose:a.aUa,secondThroughputEstimator:a.Fva,secondThroughputMeasureWindowInMs:a.t8a,marginPredictor:a.kra,networkMeasurementGranularity:a.esa,HistoricalTDigestConfig:a.CDa,maxIQRSamples:a.F2a,minIQRSamples:a.q3a,periodicHistoryPersistMs:a.H9,saveVideoBitrateMs:a.z$,needMinimumNetworkConfidence:a.hX,biasTowardHistoricalThroughput:a.Ria,maxFastPlayBufferInMs:a.i8,maxFastPlayBitThreshold:a.ora,minAudioMediaRequestDuration:a.Qw,minVideoMediaRequestDuration:a.pA,minAudioMediaRequestDurationCache:a.Qw,minVideoMediaRequestDurationCache:a.pA,addHeaderDataToNetworkMonitor:a.Rha,hindsightDenominator:a.Toa,hindsightDebugDenominator:a.Soa,hindsightParam:a.O6,minimumTimeBeforeBranchDecision:a.ED,enableSessionHistoryReport:a.YU,earlyStageEstimatePeriod:a.Bla,lateStageEstimatePeriod:a.s1a,maxNumSessionHistoryStored:a.k8,minSessionHistoryDuration:a.K8,appendMediaRequestOnComplete:a.wQa,waitForDrmToAppendMedia:a.$aa,forceAppendHeadersAfterDrm:a.A5,startMonitorOnLoadStart:a.Hwa,reportFailedRequestsToNetworkMonitor:a.$ua,reappendRequestsOnSkip:a.VUb,maxActiveRequestsPerSession:a.Lw,limitAudioDiscountByMaxAudioBitrate:a.Cqa,appendFirstHeaderOnComplete:a.hia,maxAudioFragmentOverlapMs:0,editVideoFragments:a.sBb,declareBufferingCompleteAtSegmentEnd:a.Ska,applyProfileTimestampOffset:a.gG,applyProfileStreamingOffset:a.gm,requireDownloadDataAtBuffering:a.p$,requireSetupConnectionDuringBuffering:a.q$,recordFirstFragmentOnSubBranchCreate:a.Fua,earlyAppendSingleChildBranch:a.V4,selectStartingVMAFMethod:a.hP,activateSelectStartingVMAF:a.yT,minStartingVideoVMAF:a.yu,minAcceptableVMAF:a.YW,minAllowedVmaf:a.KH,alwaysNotifyEOSForPlaygraph:a.Arb,enableNewAse:a.BM,useNewApi:a.TZ,enableCombinedPlaygraphs:a.Dla,enableDiscontiguousBuffering:a.X4,forceImmediateTransitionTypeForTitles:a.Gma,forceImmediateTransitionExitZone:a.Fma,useBufferSizeLimiter:a.bya,enableHudsonFieldTest:a.KBb,hudsonTitles:a.yJb,maxPartialBuffersAtHudson:a.jOb,numberOfChunksPerSegment:a.wQb,targetContentLatency:a.H_b,targetLongContentLatency:a.I_b,minimumTimeDelay:a.rPb,enableWsslEstimate:a.Ila,maxAllowedOutstandingRequests:a.f8,alwaysRunUnderflowTimer:a.DL,minStreamableConcurrencyWindow:a.Qra,streamableConcurrencyFactor:a.Twa,bufferingConcurrencyWindow:a.ZT,singleStreamablePerBranch:a.iZb,enableResolutionVMAFStreamFilter:a.a5,resolutionVMAFCappingRuleList:a.u$,percentCapTitlesForResolutionVMAFStreamFilter:a.mta,useExitZones:a.cya,perFragmentVMAFConfig:a.xO,enableInitialTputLogging:a.Y4,maxResponsesInitialTput:a.ura};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca=void 0;(b.gca || (b.gca={})).sjb="PboDebugEvent";b.iBa={Vhb:"Manifest",Event:"Event",h6b:"Logblob"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qR="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QJ=void 0;b.QJ=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lca=b.BBa=void 0;b.BBa=function(){this.Vb=0;this.Nb=1;this.$fb=2;this.pg=function(){};};b.lca="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wc=void 0;b.wc=a;a.Le={UGa:"mr1",TGa:"mr2",VGa:"mr3",HR:"mr4",vib:"mr5",eF:"mr6"};a.Uc={UNSENT:0,OPENED:1,Zx:2,Xx:3,DONE:5,PJ:6,mQ:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.f0={NO_ERROR:-1,Ueb:0,ZAa:1,ffb:2,Yeb:3,Xdb:4,bAa:5,$za:6,Ydb:7,Zdb:8,$db:9,Udb:10,Wdb:11,aAa:12,Vdb:13,Tdb:14,hgb:15,qDa:16,pDa:17,Eca:18,Gca:19,Fca:20,tDa:21,jgb:22,x0:23,rDa:24,igb:25,afb:26,Veb:27,ckb:28,Leb:29,Meb:30,Neb:31,Oeb:32,Peb:33,Qeb:34,Reb:35,Seb:36,Teb:37,Web:38,Xeb:39,Zeb:40,$eb:41,bfb:42,cfb:43,dfb:44,efb:45,gfb:46,hfb:47,bkb:48,TIMEOUT:49,mDa:50,nDa:51,ggb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.qc={CY:{ycb:!0,XR:!1,hib:!0}};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;c=a(12);f=a(14);r=a(3);l=a(21);m=a(8);d=a(480);g=a(11);h=a(31);k=a(34);n=m.ka.get(h.ih);n.register(r.M.Nca,function(p){var q,u,t,w;q=m.ka.get(k.Ik);(0,l.gb)(f.config);(0,l.gb)(g.AB && g.AB.getDeviceId || g.L0 || q.TM);u=m.ka.get(d.sBa);t=(0,m.Oi)("Device");n.Dd("devs");w=m.ka.get(k.CB);u.create({deviceId:f.config.deviceId,TM:q.TM,vUa:"deviceid",Wk:f.config.Wk,Go:w.g0,GU:q.GU,userAgent:g.BB,Kqa:f.config.Kqa,kna:f.config.kna,pAb:w.Zba || !1,Asb:f.config.aRa.e,ybc:f.config.tw?"mslstoretest":"mslstore",sJ:f.config.sJ}).then(function(v){b.gk=v;nb._cad_global.device=b.gk;t.info("Esn source: " + b.gk.h5);n.Dd("devdone");p(c.Ze);}).catch(function(v){v.$=void 0;p(v);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.NE=void 0;c=/^\S+$/;a.prototype.FG=function(f){return void 0 !== f;};a.prototype.Hg=function(f){return null !== f && void 0 !== f;};a.prototype.EL=function(f){return a.lQa(f);};a.prototype.Fha=function(f){return !(!f || !a.lQa(f));};a.prototype.Hy=function(f){return Array.isArray(f);};a.prototype.mQa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.Hi=function(f,l,m){return a.vPa(f,l,m);};a.prototype.Eha=function(f){return a.Eha(f);};a.prototype.fia=function(f,l,m){return a.m3(f,l,m) && 0 === f % 1;};a.prototype.CT=function(f,l,m){return a.m3(f,l || 0,m);};a.prototype.uT=function(f){return a.m3(f,1);};a.prototype.kqb=function(f){return a.m3(f,0,255);};a.prototype.lqb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.nQa=function(f){return !(!f || !c.test(f));};a.prototype.Jp=function(f){return a.wPa(f);};a.prototype.pn=function(f){return !(!a.wPa(f) || !f);};a.prototype.tT=function(f){return !0 === f || !1 === f;};a.prototype.d3=function(f){return "function" == typeof f;};a.wPa=function(f){return "string" == typeof f;};a.vPa=function(f,l,m){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === l || f >= l) && (void 0 === m || f <= m);};a.Eha=function(f){return "number" == typeof f && isNaN(f);};a.m3=function(f,l,m){return a.vPa(f,l,m) && 0 === f % 1;};a.lQa=function(f){return "object" == typeof f;};b.NE=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;r=a(0);c=a(94);f=a(588);l=a(201);m=a(604);d=a(611);g=a(622);a=a(1257);b.cc=new r.M_({QI:!0});(0,g.C1a)(b.cc);b.cc.load(f.platform);b.cc.load(m.config);l.xM.load(d.fVa);b.cc.load(a.sQa);b.cc.load(a.profile);b.cc.bind(c.tEa).$i(b.cc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);r=(function(){function f(l){this.Ec=l;}f.prototype.Sw=function(l){this.Ec.Sw=l;return new c.Nba(this.Ec);};return f;})();b.E_=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);a(314);r=(function(){function f(l){this.Ec=l;}f.prototype.when=function(l){this.Ec.vG=l;return new c.E_(this.Ec);};f.prototype.f_=function(){this.Ec.vG=function(l){return null !== l.target && !l.target.Mpa() && !l.target.Zpa();};return new c.E_(this.Ec);};return f;})();b.Nba=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yx=void 0;b.yx=a;a.rjb="PSK";a.Ehb="MGK";a.AEa="JWEJS_RSA";a.D0="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cea="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tea="StringUtilsSymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.xM=b.eme=void 0;r=a(0);c=a(122);f=a(317);l=a(202);m=a(203);d=a(599);g=a(600);h=a(71);k=a(138);n=a(601);p=a(166);q=a(602);b.eme=new r.rd(function(u){u(f.FBa).to(l.EBa).aa();u(m.Tba).to(d.jAa).aa();u(c.c0).CZ(g.y6a);u(h.Ys).qE(function(t){b.xM.parent=t.$a;return b.xM.get(h.Ys);});u(k.zR).yf(function(){return function(){return new n.iGa();};});u(p.I_).to(q.lAa).aa;});b.xM=new r.M_({QI:!0});},function(r,b,a){var l;function c(){}function f(m){m?(this.active=!1,this.Pma(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.EBa=b.b0=void 0;r=a(1);a=a(0);f.prototype.Pma=function(m){this.we=m.keySessionData?m.keySessionData.map(function(d){return {id:d.id,BH:d.licenseContextId,FW:d.licenseId};}):[];this.ba=m.xid;this.J=m.movieId;};f.prototype.nx=function(){return JSON.parse(JSON.stringify({keySessionData:this.we?this.we.map(function(m){return {id:m.id,licenseContextId:m.BH,licenseId:m.FW};}):[],xid:this.ba,movieId:this.J}));};b.b0=f;c.prototype.create=function(){return new f();};c.prototype.load=function(m){return new f(m);};l=c;l=r.__decorate([(0,a.R)()],l);b.EBa=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tba="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Px='video/mp4; codecs="avc1.640028"';b.aK='audio/mp4; codecs="mp4a.40.5"';b.vfb="DrmTraitsSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x,y,z){this.gX=t;this.is=w;this.Wc=v;this.ce=x;this.Zp=y;this.Uh=z;(0,m.So)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Dv=void 0;r=a(1);l=a(0);m=a(56);d=a(3);g=a(39);h=a(27);k=a(95);n=a(29);p=a(36);q=a(70);a=a(78);c.prototype.Bz=function(){if(this.rb)return this.rb.sessionId;};c.prototype.iWb=function(t,w){return this.gX.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.rb=t.createSession(w);};c.prototype.p4=function(){return Promise.reject(new k.Pg(d.M.e0));};c.prototype.uLb=function(){return ! !this.rb;};c.prototype.setServerCertificate=function(t,w){return this.is.d3(t.setServerCertificate)?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.rb?this.rb.generateRequest(t,w[0]):Promise.reject(new k.Pg(d.M.e0,d.L.NJ,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.rb?this.rb.update(t[0]):Promise.reject(new k.Pg(d.M.ZBa,d.L.NJ,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.rb?this.rb.load(t):Promise.reject(new k.Pg(d.M.Dfb,d.L.NJ,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Vja=void 0;if(!this.rb)return Promise.reject(new k.Pg(d.M.RBa,d.L.NJ,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Bz() && (t=this.rb.close());this.rb=void 0;return t;};c.prototype.remove=function(){return this.rb?this.rb.remove():Promise.reject(new k.Pg(d.M.Efb,d.L.NJ,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.rI=function(){return Promise.reject(new k.Pg(d.M.oca,void 0,"Unable to renew a key session, not supported"));};c.prototype.MPa=function(t){if(!this.rb)throw ReferenceError("Unable to add message handler, key session is not valid");this.rb.addEventListener(f.cCa,t);};c.prototype.HPa=function(t){if(!this.rb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.rb.addEventListener(f.bCa,t);};c.prototype.FPa=function(t){if(!this.rb)throw ReferenceError("Unable to add error handler, key session is not valid");this.rb.addEventListener(f.aCa,t);};c.prototype.Aqb=function(t){var w;w=this;if(!this.rb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Vja=t;this.rb.closed.then(function(v){var x;return null === (x=w.Vja) || void 0 === x?void 0:x.call(w,v);});};c.prototype.o7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.rb.removeEventListener(f.cCa,t);};c.prototype.m7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.rb.removeEventListener(f.bCa,t);};c.prototype.k7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.rb.removeEventListener(f.aCa,t);};u=f=c;u.cCa="message";u.bCa="keystatuseschange";u.aCa="error";u=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(g.gK)),(0,r.__param)(1,(0,l.l)(h.dg)),(0,r.__param)(2,(0,l.l)(p.Bi)),(0,r.__param)(3,(0,l.l)(n.eg)),(0,r.__param)(4,(0,l.l)(q.vv)),(0,r.__param)(5,(0,l.l)(a.Fv))],u);b.Dv=u;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cpa=b.uv=void 0;(function(a){a.sbb="usable";a.St="expired";a.released="released";a.Q4a="output-restricted";a.TRb="output-downscaled";a.GZb="status-pending";a.yKb="internal-error";})(b.uv || (b.uv={}));b.Cpa=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.t1="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dn="_ANY_";b.rCa="EnricherSymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k){this.Ba=d;this.M3=g;this.Vn=h;this.Ao=void 0 === k?"General":k;this.Yja={};}Object.defineProperty(b,"__esModule",{value:!0});b.ZJ=void 0;f=a(7);l=a(341);m=a(651);c.prototype.CPa=function(d,g){this.Yja[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.lC(f.Lj.Nfb,d,this.XP(d,h));};c.prototype.error=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.lC(f.Lj.Of,d,this.XP(d,h));};c.prototype.warn=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.lC(f.Lj.hfa,d,this.XP(d,h));};c.prototype.info=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.lC(f.Lj.Lca,d,this.XP(d,h));};c.prototype.trace=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.lC(f.Lj.hLa,d,this.XP(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ea(h)));};c.prototype.write=function(d,g,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.lC(d,g,this.XP(g,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Ao};};c.prototype.wka=function(d){return new c(this.Ba,this.M3,this.Vn,d);};c.prototype.lC=function(d,g,h){d=new l.bda(d,this.Ao,this.Ba.Xb(),g,h);g=aa(this.Vn.Vn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.jFb=function(d){return 0 < Object.keys(this.Yja).length?[this.Yja].concat(ea(d)):d;};c.prototype.XP=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,m.GRa)(this.M3,this.jFb(g));};b.ZJ=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lea="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wda="PboPlaydataFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.TZb=b.S6a=b.Aua=void 0;b.Aua=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.S6a=a;b.TZb=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.bh) + " sp:" + c.OA + " pssp:") + (c.WX + " state:") + (c.Ef + " path-complete:" + c.wA + " streaming:") + (c.Fs + " current:" + c.Gr);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.c3a=b.y8=b.Bf=void 0;b.Bf=[0,1];b.y8=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.c3a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cK=void 0;c=a(44);r=(function(){function f(l,m){this.console=l;this.config=m;this.vbb=!1;}f.prototype.vm=function(l,m,d,g){void 0 === d && (d=c.T.Eb);void 0 === g && (g=!1);return this.vbb || d.W >= this.config.dOb || !1 === g?l.filter(this.gBb):l.filter(this.kvb);};f.prototype.H$a=function(){this.vbb=!0;};f.prototype.gBb=function(l){return l.$k;};f.prototype.kvb=function(l){return !l.$k;};return f;})();b.cK=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fda=void 0;r=(function(){function a(c,f,l,m){var d;d=this;this.properties=c;this.transform=f;this.bU=l;this.state=m;this.Osa=function(){var g,h;g=d.state;h=d.properties.map(function(k){return k.value;});d.state=d.transform(h);(d.l0a(d.state) && d.l0a(g)?d.state.equal(g):g === d.state) || d.bU(d.state);};c.forEach(function(g){return g.addListener(d.Osa);});this.Osa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.Osa);});};a.prototype.l0a=function(c){return void 0 !== c.equal;};return a;})();b.Fda=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hj=void 0;r=b.Hj || (b.Hj={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.dj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qF=void 0;r=(function(){function a(c){this.TOa=c;}Object.defineProperties(a.prototype,{zN:{get:function(){return this.Ymb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.TOa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ova:{get:function(){var c;c=this;return this.TOa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Ymb=!0;};a.prototype.Jsa=function(c,f){var l;l=this;this.result.then(function(m){l.zN?f && f(m):c(m);});return this;};return a;})();b.qF=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HJ=void 0;r=a(2);c=a(170);f=r.__importDefault(a(220));l=r.__importDefault(a(764));m=r.__importDefault(a(144));d=a(5);b.HJ=(function(){function h(k,n){var p;p=this;this.Mh=new f.default(k,n);this.Jn=new l.default(k);this.Qb=new m.default(this.Jn,this.Mh,k);c.Ax.Svb(k);k.H9 && setInterval(function(){p.Mh.save();p.Jn.save();},k.H9);}h.NYa=function(k,n){void 0 === g?(h.config=k,h.pE=n,g=new h(k,n)):(d.assert(h.config === k),d.assert(h.pE === n));return g;};h.reset=function(){h.config=void 0;g=h.pE=void 0;};return h;})();},function(r,b,a){var d;function c(g,h,k){this.sM=!1 === g;this.oM=g || .01;this.Uca=void 0 === h?25:h;this.hAa=void 0 === k?1.1:k;this.Mi=new d(f);this.reset();}function f(g,h){return g.rg > h.rg?1:g.rg < h.rg?-1:0;}function l(g,h){return g.Nw - h.Nw;}function m(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.oM:!1);this.rAb=this.config.ratio || .9;this.sAb=this.config.adc || 1E3;this.T8=0;}d=a(746).Jjb;c.prototype.reset=function(){this.Mi.clear();this.zqa=this.n=0;};c.prototype.size=function(){return this.Mi.size;};c.prototype.gp=function(g){var h;h=[];g?(this.T1(!0),this.Mi.pf(function(k){h.push(k);})):this.Mi.pf(function(k){h.push({rg:k.rg,n:k.n});});return h;};c.prototype.summary=function(){return [(this.sM?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.vj(0),"Q1  = " + this.vj(.25),"Q2  = " + this.vj(.5),"Q3  = " + this.vj(.75),"max = " + this.vj(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var k=0;k < g.length;k++){this.ZMa(g[k],h);}};c.prototype.mua=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.ZMa(g[h].rg,g[h].n);}};c.prototype.T1=function(g){var h;if(!(this.n === this.zqa || !g && this.hAa && this.hAa > this.n / this.zqa)){h=0;this.Mi.pf(function(k){k.Nw=h + k.n / 2;h=k.gM=h + k.n;});this.n=this.zqa=h;}};c.prototype.CDb=function(g){var h,k;if(0 === this.size())return null;h=this.Mi.lowerBound({rg:g});k=null === h.data()?h.lI():h.data();return k.rg === g || this.sM?k:(h=h.lI()) && Math.abs(h.rg - g) < Math.abs(k.rg - g)?h:k;};c.prototype.iL=function(g,h,k){this.Mi.qq({rg:g,n:h,gM:k});this.n+=h;};c.prototype.D1=function(g,h,k){h !== g.rg && (g.rg+=k * (h - g.rg) / (g.n + k));g.gM+=k;g.Nw+=k / 2;g.n+=k;this.n+=k;};c.prototype.ZMa=function(g,h){var k,n,p;k=this.Mi.min();n=this.Mi.max();p=this.CDb(g);p && p.rg === g?this.D1(p,g,h):p === k?this.iL(g,h,0):p === n?this.iL(g,h,this.n):this.sM?this.iL(g,h,p.gM):(k=p.Nw / this.n,Math.floor(4 * this.n * this.oM * k * (1 - k)) - p.n >= h?this.D1(p,g,h):this.iL(g,h,p.gM));this.T1(!1);!this.sM && this.Uca && this.size() > this.Uca / this.oM && this.Zy();};c.prototype.htb=function(g){var h,k;this.Mi.gn=l;h=this.Mi.upperBound({Nw:g});this.Mi.gn=f;k=h.lI();g=k && k.Nw === g?k:h.next();return [k,g];};c.prototype.vj=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.Gob,this);return Array.isArray(g)?h:h[0];};c.prototype.Gob=function(g){var h,k;if(0 !== this.size()){this.T1(!0);this.Mi.min();this.Mi.max();g*=this.n;h=this.htb(g);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).rg:this.sM?g <= k.gM?k.rg:h.rg:k.rg + (g - k.Nw) * (h.rg - k.rg) / (h.Nw - k.Nw);}};c.prototype.Zy=function(){var g;if(!this.QSa){g=this.gp();this.reset();for(this.QSa=!0;0 < g.length;){this.mua(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.T1(!0);this.QSa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(g){c.prototype.push.call(this,g);this.Rub();};m.prototype.iL=function(g,h,k){this.T8+=1;c.prototype.iL.call(this,g,h,k);};m.prototype.D1=function(g,h,k){1 === g.n && --this.T8;c.prototype.D1.call(this,g,h,k);};m.prototype.Rub=function(){!("auto" !== this.mode || this.size() < this.sAb) && this.T8 / this.size() > this.rAb && (this.mode="cont",this.sM=!1,this.oM=this.config.oM || .01,this.Zy());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,g,h,k,n,p;function c(q){var u;u=q.aga;this.I=q;this.Rj=g.Pf.HAVE_NOTHING;this.QK=q.QK;q=new n(this.QK);this.oT=q.create("throughput-location-history",u);this.wy=q.create("respconn-location-history",u);this.ny=q.create("respconn-location-history",u);this.T2=q.create("throughput-tdigest-history",u);this.k2=q.create("throughput-iqr-history",u);this.tb=null;}function f(q,u,t,w,v){this.SB=new c(v);this.ut=[];this.ynb=h.time.ea() - Date.now() % 864E5;this.ky=null;this.I=v;for(q=0;q < w;++q){this.ut.push(new c(v));}}function l(q,u,t){return d.has(q,u)?q[u]:q[u]=t;}function m(q,u){var t;this.I=q;this.iPa=u;this.vCb();this.GS=new c(this.I);this.QS();t=q.Qka;t && (t={confidence:g.Pf.SJ,Ra:{Fa:parseInt(t,10),aj:0},yj:{Fa:0,aj:0},ku:{Fa:0,aj:0}},this.get=function(){return t;});}d=a(10);g=a(28).default;b=a(9);h=a(6).default;k=b.SCa;n=a(362).JCa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.Pf.HAVE_NOTHING};c.prototype.dG=function(q,u){this.Rj=u;this.oT.add(q);this.T2.add(q);this.tb=h.time.ea();};c.prototype.rJ=function(q,u){this.k2.set(q,u);};c.prototype.Fy=function(q){this.wy.add(q);};c.prototype.Dy=function(q){this.ny.add(q);};c.prototype.getState=function(){var q,u,t,w,v,x;q=this.oT.getState();u=this.wy.getState();t=this.ny.getState();w=this.k2.getState();v=this.T2.getState();if(d.Gb(q) && d.Gb(u) && d.Gb(t))return null;x={c:this.Rj,t:h.time.Wra(this.tb)};d.Gb(q) || (x.tp=q);d.Gb(u) || (x.rt=u);d.Gb(t) || (x.hrt=t);d.Gb(w) || (x.iqr=w);d.Gb(v) || (x.td=v);return x;};c.prototype.Ve=function(q){var u;u=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.Pf.SJ || q.t > u || !this.oT.Ve(q.tp))return (this.Rj=g.Pf.HAVE_NOTHING,this.ky=this.tb=null,this.oT.Ve(null),this.wy.Ve(null),this.ny.Ve(null),!1);this.Rj=q.c;this.tb=h.time.tsa(q.t);this.wy.Ve(d.has(q,"rt")?q.rt:null);this.ny.Ve(d.has(q,"hrt")?q.hrt:null);d.has(q,"iqr") && this.k2.Ve(q.iqr);d.has(q,"td") && this.T2.Ve(q.td);return !0;};c.prototype.get=function(){var q,u,t,w,v,x;q=this.I;if(d.Gb(this.tb))return p;u=(h.time.ea() - this.tb) / 1E3;u > q.Smb?this.Rj=g.Pf.HAVE_NOTHING:u > q.tmb && (this.Rj=Math.min(this.Rj,g.Pf.sB));q=this.oT.get();t=this.wy.get();w=this.ny.get();v=this.k2.get();x=this.T2.get();u={fm:u,confidence:this.Rj,Ra:q,yj:t,ku:w,lu:v,Ek:x};q && (u.cdc=k.prototype.Lta.bind(q));t && (u.pcc=k.prototype.Lta.bind(t));w && (u.lac=k.prototype.Lta.bind(w));return u;};c.prototype.time=function(){return this.tb;};f.prototype.Me=function(){return ((h.time.ea() - this.ynb) / 1E3 / 3600 / (24 / this.ut.length) | 0) % this.ut.length;};f.prototype.getState=function(){var q;q={g:this.SB.getState(),h:this.ut.map(function(u){return u.getState();})};d.Gb(this.ky) || (q.f=h.time.Wra(this.ky));return q;};f.prototype.Ve=function(q){var u,t;if(!this.SB.Ve(q.g))return !1;u=this.ut.length;t=!1;this.ut.forEach(function(w,v){t=!w.Ve(q.h[v * q.h.length / u | 0]) || t;});this.ky=d.has(q,"f")?h.time.tsa(q.f):null;return t;};f.prototype.dG=function(q,u){this.SB.dG(q,u);this.ut[this.Me()].dG(q,u);this.ky=null;};f.prototype.rJ=function(q,u){this.SB.rJ(q,u);this.ut[this.Me()].rJ(q,u);};f.prototype.Fy=function(q){this.SB.Fy(q);this.ut[this.Me()].Fy(q);};f.prototype.Dy=function(q){this.SB.Dy(q);this.ut[this.Me()].Dy(q);};f.prototype.fail=function(q){this.ky=q;};f.prototype.get=function(){var q,u;if(!d.Gb(this.ky)){if((h.time.ea() - this.ky) / 1E3 < this.I.smb)return {confidence:g.Pf.HAVE_NOTHING,Tt:!0};this.ky=null;}q=this.ut[this.Me()].get();u=this.SB.get();q=q.confidence >= u.confidence?q:u;q.Tt=!1;return q;};f.prototype.time=function(){return this.SB.time();};m.prototype.sNa=function(q,u){var t;t=this.I;q=l(this.KS,q,{});return l(q,u,new f(t.GNa || 14400,t.FNa || 100,t.ENa || 100,t.xOa || 4,t));};m.prototype.QS=function(){var q,u;q=h.storage.get("lh");u=h.storage.get("gh");q && this.nha(q);u && this.Bpb(u);};m.prototype.jga=function(){var q;q={};d.pf(this.KS,function(u,t){d.pf(u,function(w,v){l(q,t,{})[v]=w.getState();},this);},this);return q;};m.prototype.Bpb=function(q){this.GS.Ve(q);};m.prototype.nha=function(q){var u,t;u=null;t=this.I;d.pf(q,function(w,v){d.pf(w,function(x,y){var z;z=new f(t.GNa || 14400,t.FNa || 100,t.ENa || 100,t.xOa || 4,t);z.Ve(x)?(l(this.KS,v,{})[y]=z,u=!0):d.Gb(u) && (u=!1);},this);},this);return d.Gb(u)?!0:u;};m.prototype.save=function(){var q;q=this.jga();h.storage.set("lh",q);h.storage.set("gh",this.GS.getState());this.iPa && this.iPa.bwa(this.GS.getState());};m.prototype.vCb=function(){this.KS={};this.NK=this.VMa="";this.no=null;};m.prototype.pP=function(q){this.VMa=q;this.no=null;};m.prototype.Q$=function(q){this.NK=q;this.no=null;};m.prototype.g2=function(){d.Gb(this.no) && (this.no=this.sNa(this.VMa,this.NK));return this.no;};m.prototype.dG=function(q,u){this.g2().dG(q,u);this.GS.dG(q,u);};m.prototype.rJ=function(q,u){q && q.Kl && q.vk && q.Ll && (this.g2().rJ(q,u),this.GS.rJ(q,u));};m.prototype.Fy=function(q){this.g2().Fy(q);};m.prototype.Dy=function(q){this.g2().Dy(q);};m.prototype.fail=function(q,u){this.sNa(q,this.NK).fail(u);};m.prototype.get=function(q,u){var t,w,v,x;q=(q=this.KS[q])?q[this.NK]:null;t=null;if(q && (t=q.get(),t.confidence > g.Pf.HAVE_NOTHING))return t;if(!1 === u)return p;w=t=null;v=!1;x=null;d.pf(this.KS,function(y){d.pf(y,function(z,A){var B;if(!v || A == this.NK){B=z.get();B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w=B.confidence,v=A == this.NK,x=z.time(),t=B);}},this);},this);return t?t:p;};r.exports=m;},function(r,b,a){var m;function c(d){this.xL=d;this.reset();}function f(d){this.ak=new c(d);this.Ne=0;this.Vc=null;}function l(d,g){this.xL=d;this.bOa=g;this.reset();}m=a(10);c.prototype.GOa=function(d,g){this.tb+=d;this.Sj+=d;this.Rc+=g;this.so.push({d:d,b:g});};c.prototype.cT=function(){var d;for(;this.Sj > this.xL;){d=this.so.shift();this.Rc-=d.b;this.Sj-=d.d;}};c.prototype.reset=function(){this.so=[];this.tb=null;this.Sj=this.Rc=0;};c.prototype.setInterval=function(d){this.xL=d;this.cT();};c.prototype.start=function(d){m.Gb(this.tb) && (this.tb=d);};c.prototype.add=function(d,g,h){m.Gb(this.tb) && (this.tb=g);g > this.tb && this.GOa(g - this.tb,0);this.GOa(h > this.tb?h - this.tb:0,d);this.cT();};c.prototype.get=function(){return {Fa:Math.floor(8 * this.Rc / this.Sj),aj:0};};f.prototype.reset=function(){this.ak.reset();this.Ne=0;this.Vc=null;};f.prototype.add=function(d,g,h){!m.Gb(this.Vc) && h > this.Vc && (g > this.Vc && (this.Ne+=g - this.Vc),this.Vc=null);this.ak.add(d,g - this.Ne,h - this.Ne);};f.prototype.start=function(d){!m.Gb(this.Vc) && d > this.Vc && (this.Ne+=d - this.Vc,this.Vc=null);this.ak.start(d - this.Ne);};f.prototype.stop=function(d){this.Vc=m.Gb(this.Vc)?d:Math.min(d,this.Vc);};f.prototype.get=function(){return this.ak.get();};f.prototype.setInterval=function(d){this.ak.setInterval(d);};l.prototype.reset=function(){this.so=[];this.Rc=this.Sj=0;};l.prototype.add=function(d,g,h,k){void 0 !== k && !0 === k && (g=h - g,this.Sj+=g,this.Rc+=d,this.so.push({d:g,b:d}),this.cT());};l.prototype.cT=function(){var d;for(;this.Sj > this.xL || this.so.length > this.bOa;){d=this.so.shift();this.Rc-=d.b;this.Sj-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Fa:Math.floor(8 * this.Rc / this.Sj),aj:0};};l.prototype.setInterval=function(d,g){this.xL=d;this.bOa=g;this.cT();};r.exports={w4b:c,pfb:f,Nkb:l};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;c=a(2);f=a(17);l=a(776);r=a(83);m=a(777);d=a(803);g=a(806);h=a(235);k=a(16);n=c.__importDefault(a(6));p=a(5);a(9);q=a(25);a(168);u=(function(){return function(t){var w;w=t.E0a;t=t.Fpa;this.RW=this.replace=w;this.ue=t;};})();a=(function(t){function w(v,x){var y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U;y=x.Pb;z=x.oa;A=x.Yo;B=x.Bd;E=x.V2a;D=x.hi;F=x.config;C=x.$Za;G=x.aP;K=x.L5;J=x.Qb;I=x.Mh;M=x.oX;R=x.NVa;x=x.RI;H=t.call(this) || this;H.X=v;H.L6=!1;H.INa=[];H.$Na=[];H.Zh=[];H.GC=[];H.jn=!1;H.Pb=y;H.TS=z;H.Yo=A;H.mc=function(ca){return 0 <= B.indexOf(ca);};H.config=F;H.console=new n.default.Console("ASEJS","media|asejs","<" + String(H.X) + ">");C && (v=C.VC,H.Wf=new g.xDa(H,H.console,H.config,C.Mn,C.NV,v,C.p7,C.If,C.Pl,C.rh,C.dD),H.VC=v);H.iu=new f.EventEmitter();H.L5=K;H.Qb=J;H.oX=M;H.Am=new h.$ca(H.oa,J,I,H.config,null === R || void 0 === R?void 0:R.Mn);R && (C=R.Rr,K=R.Hn,H.Fp=R.Ph,H.Hn=K,H.Rr=C,H.Vfa=new d.sCa(H.Am,H.config,H.rIb.bind(H),H.qIb.bind(H)));H.aP=G;H.RI=x;H.kf=new u(E);H.hi=D;P=[[],[]];N=[{},{}];L=[0,0];Q=!1;S=H.mc(0);U=H.mc(1);["audio_tracks","video_tracks"].forEach(function(ca,ka){var ya;ya=0 === ka;ya && !S || 1 === ka && !U || H.oa[ca].forEach(function(qa,Y){if(0 !== qa.type || !1 !== qa.mi)(qa=new m.Eba({P:H,Jw:qa,mediaType:ka,ue:E.Fpa,rE:Y,mC:Y + (ya?H.oa.video_tracks.length:0)},H.config,H.console),P[ka].push(qa),N[ka]=c.__assign(c.__assign({},N[ka]),qa.XC()),qa.maxBitrate > L[qa.mediaType] && (L[qa.mediaType]=qa.maxBitrate),Q=Q || qa.Cw);});});H.AK=P;H.Rwa=N;H.Gga=L;H.Cw=Q;return H;}c.__extends(w,t);Object.defineProperties(w.prototype,{oa:{get:function(){return this.TS;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{QW:{get:function(){var v;return !(null === (v=this.AK[1][0]) || void 0 === v || !v.QW);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Mw:{get:function(){return this.Gga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{th:{get:function(){return this.INa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{eOb:{get:function(){return this.$Na;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{J:{get:function(){return this.oa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Bo:{get:function(){return this.oa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.oa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jk:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aq:{get:function(){p.assert(this.Vfa,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Vfa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{HM:{get:function(){return this.aq.events;},enumerable:!1,configurable:!0}});w.prototype.Lb=function(){this.close();this.fd();};w.prototype.close=function(){var v;this.GC=[];null === (v=this.Vfa) || void 0 === v?void 0:v.Lb();this.Am.Lb();this.jn=!0;};w.prototype.fd=function(){this.Wf && this.Wf.fd();};w.prototype.sx=function(v){var x,y,z,A,B,E,D;x=this;y=v.oa;z=v.ue;A=void 0 === z?!1:z;z=v.Bd;B=void 0 === z?k.Bf:z;p.assert(v.hi === this.hi,"Updating Viewable clearplay not supported");k.Bf.forEach(function(F){p.assert(x.mc(F) === 0 <= B.indexOf(F),"Updating Viewable media types not supported");});p.assert(y.movieId === this.oa.movieId,"Changing Viewable manifest movieId unsupported");E=this.mc(0);D=this.mc(1);["audio_tracks","video_tracks"].forEach(function(F,C){var G,K,J;G=0 === C;if(!(G && !E || 1 === C && !D)){K=y[F];J=x.AK[C];p.assert(J.every(function(I){var M;M=K[I.rE];return M && M.RP === I.trackId && (1 === M.type || !1 !== M.mi);}),"Existing tracks must still exist and be hydrated in updated manifest");K.forEach(function(I,M){var R,H;if(0 !== I.type || !1 !== I.mi){R=x.getTrackById(I.RP);if(R){I=I.streams;H=Object.keys(R.XC());p.assert(I.length === H.length,"Expected updated manifest track to have same number of streams");I.forEach(function(P){p.assert(-1 !== H.indexOf(P.downloadable_id),"Changing Viewable track streams unsupported");});}else (R=new m.Eba({P:x,Jw:I,mediaType:C,ue:A,rE:M,mC:M + (G?x.oa.video_tracks.length:0)},x.config,x.console),J.push(R),x.Rwa[C]=c.__assign(c.__assign({},x.Rwa[C]),R.XC()),R.maxBitrate > x.Gga[R.mediaType] && (x.Gga[R.mediaType]=R.maxBitrate),p.assert(x.Cw || !R.Cw,"Can not update clear viewable with drm track."));}});}});this.TS=y;this.Am.CL(this.oa);};w.prototype.dE=function(v){var x,y,z;x=v.gs;y=v.ba;z=v.KC;v=v.Ln;x && y?(this.V$=new l.DKa(x,{ba:String(y),KC:! !z,tOb:this.config.S0.mx,ntb:this.config.S0.lv},v),this.aq.dE(this.V$)):v("SideChannel: pbcid/xid is missing.");};w.prototype.Uz=function(){return void 0 !== this.Bo;};w.prototype.getTracks=function(v){return this.AK[v];};w.prototype.getTrackById=function(v){var x;this.AK.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.AK.length);return x;};w.prototype.UHb=function(v,x){var y;y=this.AK[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.Bw=function(v,x){return (v=this.XC(v)) && v[x];};w.prototype.XC=function(v){return this.Rwa[v];};w.prototype.t1b=function(v,x){this.INa[v]=x;x.stream.U && this.dbb(v,x.stream.U);};w.prototype.FLb=function(v){var x,y;if(void 0 === v.Y9 || void 0 === v.Wta){x=this.Am.rA.filter(function(z){return void 0 !== z.streams[v.Pa];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === v.Pa;});})[0];v.Y9=x.id;v.Wta=y.id;}return {dqa:v.location === v.Y9,GLb:v.Qc === v.Wta};};w.prototype.gwa=function(v,x,y){void 0 !== x && void 0 !== y && (this.y7a(v.mediaType,x),v.gwa(x,y));};w.prototype.y7a=function(v,x){var y,z;z=this.config.esa;("location" === z || "video_location" === z && 1 === v) && this.Qb.pP(x);null === (y=this.L5) || void 0 === y?void 0:y.call(this).aRb(v,x);};w.prototype.Ph=function(v,x,y,z,A,B){p.assert(this.Fp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Fp(v,x,y,z,A,B);};w.prototype.Rm=function(){var v,x,y;v=this;x=[];if(this.jk)return (this.console.error("updateRequestUrls, closed Viewable:",this.X),!1);k.Bf.forEach(function(z){v.mc(z) && v.L1b(z) && (z=v.A1b(z),0 < z.length && x.push.apply(x,z));});y=this.u1b();0 < y.length && x.push.apply(x,y);return this.wWb(x);};w.prototype.An=function(v,x){var y;y=this.getTracks(1)[0];p.assert(y);if(y.xN)return y.An(v,x);};w.prototype.L1b=function(v){var x;x=this;return this.jk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.mc(v)?this.Zh.reduce(function(y,z){return q.r3(y,z.wg.filter(function(A){return A.mediaType === v;}));},[]).map(function(y){return x.Am.QZ(x.X,y.$d);}).every(function(y){return y;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);};w.prototype.u1b=function(){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.Rm();};w.prototype.A1b=function(v){var x,y,B;y=[];if(this.jk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.mc(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.Zh),A=z.next();!A.done;A=z.next()){B=A.value.Rm(v);B.length && y.push.apply(y,B);}}catch(D){var E;E={error:D};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.wWb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(A){var B;if(A.cd){B=A.P;B.Pb > x.Pb && (z.push({P:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.P.$O([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === v.length;};w.prototype.tk=function(){var v;v=this;this.Am.tk();this.aq.tk();this.V$ && (p.assert(this.VC),k.Bf.forEach(function(x){x=v.VC(x);v.V$.Nva("rebuffer",x.yqa);}));};w.prototype.Isa=function(){this.aq.Isa();};w.prototype.Yxa=function(v,x){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");this.Wf.Yxa(v,x);};w.prototype.E6=function(){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables..");return this.Wf.E6();};w.prototype.Qja=function(){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");this.Wf.Qja();};w.prototype.oP=function(v){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");this.Wf.oP(v);};w.prototype.Exa=function(){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.Exa();};w.prototype.Yk=function(v,x){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.Yk(v,x);};w.prototype.tTa=function(v,x,y){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");this.Wf.Eaa(v,x,y,!0);};w.prototype.e3=function(v,x,y){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.e3(v,x,! !y);};w.prototype.VXb=function(v,x){this.GC.push({stream:v,KHb:x});};w.prototype.GVb=function(){this.GC=[];};w.prototype.MVb=function(v){this.GC=this.GC.filter(function(x){return x.stream !== v;});};w.prototype.LVb=function(v){this.GC=this.GC.filter(function(x){return x !== v;});};w.prototype.kN=function(){var v;v=this;p.assert(this.Hn,"Streamables not available on old architecture prefetch viewables.");return this.Hn()?[]:this.GC.map(function(x){var y,z;y=x.stream;z=x.KHb;z=z();return {identifier:y.X + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,bh:z.bh,Ef:z.Ef,wA:z.wA,Fs:z.Fs,Gr:z.Gr,Tta:0,Sta:Infinity,WX:1,OA:1,AWa:0,groupId:"" + v.X,pD:!0,Wr:!1,P0a:function(){return {result:!0};},T0a:function(){if(y.sE())return (v.MVb(y),{ym:!0,reason:"success"});v.LVb(x);return {ym:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.sE=function(v,x){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.sE(v,x);};w.prototype.AL=function(v,x){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.AL(v,x);};w.prototype.nva=function(v){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.nva(v);};w.prototype.$O=function(v,x,y){p.assert(this.Wf,"Headers not available on old architecture prefetch viewables.");return this.Wf.$O(v,x,y);};w.prototype.tIb=function(v){var x,y,z;x=v.Pa;y=v.mediaType;this.dbb(y,v.stream.U);x=this.Bw(y,x);z=this.Uz()?this.config.E2a:0;x.Xab(n.default.Jo()[y],z);this.iu.emit("onHeaderFragments",v);};w.prototype.Jua=function(v){this.Zh.push(v);};w.prototype.Oxa=function(v){v=this.Zh.indexOf(v);p.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Zh.splice(v,1);};w.prototype.v9=function(v){var x;null === (x=this.aP) || void 0 === x?void 0:x.Ey(v);};w.prototype.uA=function(v){this.jk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.y7a(v.mediaType,v.location);};w.prototype.YH=function(v){this.jk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.aq.Haa({timestamp:v.uf,url:v.url});};w.prototype.uk=function(v){var x;null === (x=this.aP) || void 0 === x?void 0:x.qI(v);p.assert(this.Hn && this.oX,"Requests cannot be handled on old architecture prefetch viewables.");this.jk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Hn() || (this.aq.Haa({timestamp:v.uf,mediaRequest:v}),this.oX(v));};w.prototype.zX=function(v,x,y){var z;y && (null === (z=this.aP) || void 0 === z?void 0:z.qI(v));};w.prototype.AX=function(v){this.jk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.aq.qs({url:v.url},v.status,v.qh,v.tj),this.Rm() || this.Ph(v.KM || "unknown","NFErr_MC_StreamingFailure",v.qh,v.status,v.tj));};w.prototype.dbb=function(v,x){this.$Na[v]=x.pra;};w.prototype.rIb=function(v){var x,y,z;if(!this.jn){x=v.nLb;y=v.KRb;z=v.LRb;v=v.MRb;this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),x=this.Ph("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):(this.console.warn(" > We are buffering, calling it!"),x=this.Ph("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v,!0));x || (this.console.warn(" > Resetting failures"),this.aq.r$());}};w.prototype.qIb=function(){p.assert(this.Rr,"Error handling not available on old architecture prefetch viewables.");this.jn || (this.Rm(),this.Rr());};return w;})(r.ov);b.Fba=a;},function(r,b,a){var C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa;function c(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function f(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function l(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function m(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);this.NI=Da.config.NI;this.vd=this.sizes=void 0;}function d(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function g(){for(var Da=new DataView(this),Ha="",Qa,Xa=0;Xa < this.byteLength;Xa++){Qa=Da.getUint8(Xa);Ha+=("00" + Qa.toString(16)).slice(-2);}return Ha;}function h(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function k(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function n(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function p(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function q(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function u(Da){function Ha(Qa,Xa,gb,wb,Fb){J.call(this,Qa,Xa,gb,wb,Fb);this.jX=Da;}Ha.Oa=!1;Ha.prototype=new J();Ha.prototype.constructor=Ha;Object.defineProperties(Ha.prototype,{EQ:{get:function(){return this.jX;}}});Ha.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.jX + "'");this.u.offset=this.startOffset + 4;this.la.h_(this.EQ);this.type=this.EQ;return !0;};return Ha;}function t(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function w(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function v(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function x(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function y(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function z(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function A(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function B(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function E(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function D(Da,Ha,Qa,Xa,gb){J.call(this,Da,Ha,Qa,Xa,gb);}function F(Da,Ha){Da.forEach(function(Qa){Ha[Qa.Wb]=Qa;});}C=a(145).assert;b=a(100);G=a(224).T;K=a(371);a(146);a(84);a(84);a(84);J=a(32).Dc;I=a(779).default;M=a(780).default;R=a(781).default;H=a(782).default;P=a(783).default;N=a(784).default;L=a(785).default;Q=a(786).default;S=a(787).default;a(225);a(172);U=a(372).iba;ca=a(372).nca;ka=a(788).default;ya=a(789).default;qa=a(85).default;Y=a(85).rba;ua=a(85).sba;O=a(85).tba;T=a(85).uba;ja=a(790).default;ma=a(791).default;ta=a(85).Ica;Ka=a(85).Cca;Ua=a(85).Ncb;Ya=a(792).default;ab=a(793).default;ib=a(794).default;$a=a(373).default;Sa=a(374).default;a(147);a(228);a(229);a(227);a=a(795).default;c.Oa=!0;c.prototype=new J();c.prototype.constructor=c;f.Oa=!0;f.prototype=new J();f.prototype.constructor=f;l.Oa=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.parse=function(){var Da;this.Ac();1 === this.version?(this.u.Ud(),this.u.Ud(),this.S=this.u.Aa(),this.duration=this.u.Ud()):(this.u.Aa(),this.u.Aa(),this.S=this.u.Aa(),this.duration=this.u.Aa());Da=this.u.$c() & 32767;this.language=String.fromCharCode(96 + (Da >>> 10),96 + (Da >>> 5 & 31),96 + (Da & 31));return !0;};m.Oa=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.Vga=function(){this.Ac();this.u.Aa();this.S=this.u.Aa();0 === this.version?(this.RU=this.u.Aa(),this.jV=this.u.Aa()):(this.RU=this.u.Ud(),this.jV=this.u.Ud());this.O7a=this.u.$c();this.lY=this.u.$c();};m.prototype.Jfa=function(Da,Ha){var Qa,Xa,gb;Qa=this.S;Da=Da && Da.S || Qa;Xa=Da / Qa;Qa=this.u.EA(Ha,12,!1);gb=1 === Xa?this.u.EA(Ha,12,!1):K.from(Uint32Array,{length:Ha},function(){var wb;wb=Math.round(this.u.Aa() * Xa);this.u.offset+=8;return wb;},this);this.yha(Ha,gb,Qa,Da);};m.prototype.yha=function(Da,Ha,Qa,Xa){if(this.NI){Xa=this.NI * Xa / 1E3;for(var gb=0,wb=1;wb < Da;wb++){Math.abs(Ha[gb] - Xa) > Math.abs(Ha[gb] + Ha[wb] - Xa)?(Ha[gb]+=Ha[wb],Qa[gb]+=Qa[wb]):(++gb,gb !== wb && (Ha[gb]=Ha[wb],Qa[gb]=Qa[wb]));}++gb;Ha=new Uint32Array(Ha.buffer.slice(0,4 * gb));Qa=new Uint32Array(Qa.buffer.slice(0,4 * gb));}this.sizes=Qa;this.vd=Ha;};m.prototype.parse=function(Da){var Ha,Qa,Xa,gb;this.Vga();this.sa=Da.sa;Ha=this.S;Qa=this.sa && this.sa.S || Ha;Xa=this.lY;gb=this.startOffset + this.length + this.jV;Ha=new G(this.RU,Ha).ag(Qa).vc;this.U={S:Qa,ll:Ha,offset:gb};this.Jfa(this.sa,Xa);this.U.vd=this.vd;this.U.sizes=this.sizes;Da.Cs=this;return !0;};d.Oa=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Da;this.zi=[];this.rta=[];Da=(this.length - 11) / 2;this.u.mb();this.u.mb();this.u.mb();for(var Ha=0;Ha < Da;Ha++){this.zi.push(this.u.mb());this.rta.push(this.u.mb());}return !0;};h.Oa=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Ac();this.u.offset+=4;this.vH=this.u.offset;this.nj=this.u.vua(16);this.nj.toString=g;return !0;};k.Oa=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){this.Ac();this.og=this.u.$c();this.wra=this.u.EA(this.og,void 0,!0);return !0;};n.Oa=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Da){var Ha,Qa,Xa,gb,wb,Fb;Ha=Da.Cs;C(Ha);Da=Da.sa;Qa=Ha.S;Ha=Ha.lY;C(Da);C(Qa);C(Ha);this.Ac();C(2 > this.version);this.og=this.u.$c();this.Hu=new Uint16Array(Ha + 1);Xa=Da.t6(Qa);gb=Xa / Qa;wb=Da.ag(Xa).vc;if(0 === this.version)for((this.Xu=new Uint16Array(),this.Td=new Uint32Array(),Da=Qa=0);Da <= Ha;++Da){if((this.Hu[Da]=Qa,Da < this.og)){Fb=this.u.mb();if(0 !== Fb)for(Xa=0;Xa < Fb;(++Xa,++Qa)){this.Xu[Qa]=Math.floor((this.u.Aa() + 1) * gb) / wb;this.Td[Qa]=this.u.Aa();}}}else if(1 === this.version)for((Xa=this.u.rua(this.og,10,!1),this.u.offset+=4,this.Td=this.u.EA(this.og,10,!1),this.u.offset-=8,this.Xu=K.from(Uint16Array,{length:this.og},function(){var Eb;Eb=Math.floor((this.u.Aa() + 1) * gb) / wb;this.u.offset+=6;return Eb;},this),Qa=Da=0);Da <= Ha;++Da){for(;Qa < Xa.length && Xa[Qa] < Da;){++Qa;}this.Hu[Da]=Qa;}this.di={Hu:this.Hu,Xu:this.Xu,Td:this.Td};return !0;};p.Oa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oa=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Ut=function(){var Da;Da=this.Th("tfhd");Da && (this.bk=Da.ST?Da.bk:this.parent.startOffset);return !0;};t.Oa=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Da,Cb;Da=this.u.offset;this.Ac();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ha=this.u.offset,Qa=this.u.mb(),Xa=this.u.mb(),gb=this.u.mb(),wb=this.u.mb(),Fb=this.u.$c(),Eb=[],Nb=0;Nb < Fb;++Nb){Eb=this.u.mb();}Nb=(Qa & 240) >>> 4;Cb=(Qa & 14) >>> 1;Qa&=1;gb=16 === gb?1:0;Xa != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Xa + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Xa){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Xa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.iB(this.version,Da);this.la.iB(Nb << 4 | wb,Ha++);this.la.iB(Cb << 4 | gb << 1 | Qa,Ha++);Fb+=2;Eb.push(0,0);this.la.xya(Fb,!1);Ha+=2;Eb.forEach(function(Kb){this.la.iB(Kb,Ha++);});}return !0;};w.Oa=!1;w.prototype=new J();w.prototype.constructor=w;w.Wb="tfhd";Object.defineProperties(w.prototype,{ST:{get:function(){return this.flags & 1;}},uva:{get:function(){return this.flags & 2;}},Yka:{get:function(){return this.flags & 8;}},ala:{get:function(){return this.flags & 16;}},Zka:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.Ac();this.lJ=this.u.Aa();this.bk=this.ST?this.u.Ud():void 0;this.uva && this.u.Aa();this.fz=this.Yka?this.u.Aa():void 0;this.hz=this.ala?this.u.Aa():void 0;this.gz=this.Zka?this.u.Aa():void 0;return !0;};v.Oa=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(){this.Ac();this.My=1 === this.version?this.u.Ud():this.u.Aa();return !0;};v.prototype.va=function(Da){var Ha;Ha=this.startOffset + 12;this.My+=Da;1 === this.version?this.la.yya(this.My,Ha):this.la.fh(this.My,Ha);};x.Oa=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{wU:{get:function(){return this.flags & 1;}},TG:{get:function(){return this.flags & 4;}},MA:{get:function(){return this.flags & 256;}},NA:{get:function(){return this.flags & 512;}},EY:{get:function(){return this.flags & 1024;}},CI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Ac();this.WT=this.u.offset;this.Mb=this.u.Aa();this.fk=this.wU?this.u.pI():0;this.TG && this.u.Aa();this.Wu=(this.MA?4:0) + (this.NA?4:0) + (this.EY?4:0) + (this.CI?4:0);this.xz=this.u.offset;C(this.wU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Mb * this.Wu,"Expected remaining data in box to be sample information");return !0;};x.prototype.tt=function(Da,Ha,Qa){var Xa,gb,wb;Xa=this.MA?this.u.Aa():Da.fz;gb=this.NA?this.u.Aa():Da.hz;Da=this.EY?this.u.Aa():Da.gz;wb=0 === this.version?this.CI?this.u.Aa():0:this.CI?this.u.pI():0;return {tva:wb,XWb:Da,YTb:Qa + wb - (void 0 !== Ha?Ha:wb),zk:gb,Yu:Xa};};x.prototype.va=function(Da,Ha,Qa,Xa,gb,wb,Fb){var Eb,Nb,Cb,Kb;Eb=0;Nb=0;this.la.offset=this.xz;for(Xa=0;Xa < gb;++Xa){Cb=this.tt(Ha,Kb,Nb);if(0 == Xa)Kb=Cb.tva;Eb+=Cb.zk;Nb+=Cb.Yu;}Xa=gb;gb=this.u.offset;Cb=this.tt(Ha,Kb,Nb);this.Oq=Xa;this.Bwa=Nb;if(Fb){if((this.Hq=this.fk + Eb,this.Yi=0,Xa === this.Mb))return !0;}else if((this.Hq=this.fk,this.Yi=Eb,0 === Xa))return !0;if(0 === Xa || Xa === this.Mb)return !1;this.nz=!0;if(Fb){this.Yi+=Cb.zk;for(Fb=Xa + 1;Fb < this.Mb;++Fb){Cb=this.tt(Ha,Kb,Nb);this.Yi+=Cb.zk;}this.la.offset=this.WT;this.Mb=Xa;this.la.fh(this.Mb);this.la.wJ(wb);this.TG && (this.u.offset+=4);this.Ie(this.length - (gb - this.startOffset),gb);}else (Ha=gb - this.xz,this.la.offset=this.WT,this.Mb-=Xa,this.la.fh(this.Mb),this.fk+=Eb,this.la.wJ(wb,this.fk),this.TG && (this.u.offset+=4),this.Ie(Ha,this.la.offset));Qa.Ie(this.Yi,Da.bk + this.Hq);return !0;};x.prototype.Xua=function(Da,Ha,Qa,Xa,gb,wb){var Eb;if(Xa){Xa=this.Hq;for(var Fb=this.Mb - 1;0 <= Fb && this.Mb - Fb <= gb;--Fb){this.la.offset=this.xz + Fb * this.Wu;Eb=this.tt(Ha);if(Eb.Yu != wb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Yu + " with silence of duration " + wb.duration);break;}if(this.NA)(this.la.offset-=this.Wu - (this.MA?4:0),this.la.fh(wb.Dk.byteLength));else if(wb.Dk.byteLength !== Eb.zk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Xa-=Eb.zk;Qa.Vu(Eb.zk,wb.Dk,Da.bk + Xa);}}else for((Xa=this.Hq + this.Yi,Fb=0);Fb < this.Mb && Fb < gb;++Fb){this.la.offset=this.xz + (Fb + this.Oq) * this.Wu;Eb=this.tt(Ha);if(Eb.Yu != wb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Yu + " with silence of duration " + wb.duration);break;}if(this.NA)(this.la.offset-=this.Wu - (this.MA?4:0),this.la.fh(wb.Dk.byteLength));else if(wb.Dk.byteLength !== Eb.zk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Qa.Vu(Eb.zk,wb.Dk,Da.bk + Xa);Xa+=Eb.zk;}};y.Oa=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{tn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Ac();this.tn && this.u.Nl();this.tn && this.u.Aa();this.$ka=this.u.mb();this.Mb=this.u.Aa();this.u.FA(this.Mb);return !0;};y.prototype.va=function(Da,Ha){if(Da && 0 === this.$ka){Da=Ha?this.Mb - Da:Da;this.la.offset=this.startOffset + 13 + (this.tn?8:0);this.Mb-=Da;this.la.fh(this.Mb);this.AI=0;if(Ha)this.la.offset+=this.Mb;else {for(Ha=0;Ha < Da;++Ha){this.AI+=this.la.mb();}this.la.offset-=Da;}this.Ie(Da,this.u.offset);}return !0;};z.Oa=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{tn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Ac();this.tn && this.u.Nl();this.tn && this.u.Aa();this.og=this.u.Aa();C(1 === this.og,"Expected a single entry in Sample Auxiliary Information Offsets box");this.fk=0 === this.version?this.u.pI():this.u.yua();return !0;};z.prototype.va=function(Da,Ha){this.fk+=Da;this.la.offset=this.startOffset + 16 + (this.tn?8:0) + (0 === this.version?0:4);this.la.wJ(Ha,this.fk);return !0;};A.Oa=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{DX:{get:function(){return this.flags & 1;}},jya:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Ac();this.DX && (this.u.Aa(),this.u.FA(16));this.Mb=this.u.Aa();return !0;};A.prototype.va=function(Da,Ha){var Qa,Xa;Qa=Ha?this.Mb - Da:Da;this.la.offset=this.startOffset + 28 + (this.DX?20:0);this.Mb-=Qa;this.la.fh(this.Mb);Da=this.la.offset;if(this.jya)for(Qa=Ha?this.Mb:Qa;0 < Qa;--Qa){this.la.offset+=8;Xa=this.la.$c();this.la.offset+=6 * Xa;}else this.la.offset+=8 * (Ha?this.Mb:Qa);Ha?this.Ie(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ie(this.u.offset - Da,Da);};B.Oa=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Ac();return !0;};B.prototype.va=function(Da,Ha,Qa){Qa?this.Ie(Ha - Da,this.startOffset + 12 + Da):this.Ie(Da,this.startOffset + 12);return !0;};E.Oa=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Ac();this.u.Nl();1 === this.version && this.u.Aa();this.og=this.u.Aa();this.Zu=[];for(var Da=0;Da < this.og;++Da){for(var Ha=this.u.Aa(),Qa=this.u.Aa(),Xa=0;Xa < Ha;++Xa){this.Zu.push(Qa);}}return !0;};E.prototype.va=function(Da,Ha){this.Zu=Ha?this.Zu.slice(0,Da):this.Zu.slice(Da);Da=this.Zu.reduce(function(Qa,Xa){0 !== Qa.length && Qa[Qa.length - 1].group === Xa || Qa.push({group:Xa,count:0});++Qa[Qa.length - 1].count;return Qa;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.fh(Da.length);Da.forEach((function(Qa){this.la.fh(Qa.count);this.la.fh(Qa.group);}).bind(this));this.og > Da.length && this.Ie(8 * (this.og - Da.length));this.og=Da.length;return !0;};D.Oa=!1;D.prototype=Object.create(J.prototype);D.prototype.constructor=D;qa={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:qa,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},yxa:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},IZ:{schm:ja},BI:{}};F([ma,N,L,Q,ta,Ka,Ua,I,H,$a,Sa,P,S,M,R,a],qa.Ua);F([U,ka,Y,ua,O,T,ca,ya,ab,Ya],qa.BI);F([ma,ja],qa.IZ);qa.Ua[b.JR]=h;qa.Ua[b.Sx]=k;qa.Ua[b.Rx]=n;qa.Ua[b.IR]=A;qa.BI[b.$E]=ib;qa.Dc=J;r.exports={xq:qa};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.xc=f.vc,this.nb=f.S):(this.xc=f,this.nb=l);}c.Ab=function(f){return new c(f,1E3);};c.BZ=function(f,l){return Math.floor(1E3 * f / l);};c.Yra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{vc:{get:function(){return this.xc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return 1E3 * this.xc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wh:{get:function(){return this.xc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.ag=function(f){f/=this.S;return new c(Math.floor(this.vc * f),Math.floor(this.S * f));};c.prototype.add=function(f){var l;if(this.S === f.S)return new c(this.vc + f.vc,this.S);l=a(this.S,f.S);return this.ag(l).add(f.ag(l));};c.prototype.Ma=function(f){return this.add(new c(-f.vc,f.S));};c.prototype.PH=function(f){return new c(this.vc * f,this.S);};c.prototype.Cl=function(f){var l;if(this.S === f.S)return this.vc / f.vc;l=a(this.S,f.S);return this.ag(l).Cl(f.ag(l));};c.prototype.t6=function(f){return a(this.S,f);};c.prototype.Eua=function(){return new c(this.S,this.vc);};c.prototype.compare=function(f,l){var m;if(this.S === l.S)return f(this.vc,l.vc);m=a(this.S,l.S);return f(this.ag(m).vc,l.ag(m).vc);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.g9=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.KN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Qr=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.vc,timescale:this.S};};c.prototype.toString=function(){return this.vc + "/" + this.S;};c.Eb=new c(0,1);c.Uw=new c(1,1E3);return c;})();b.T=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.$c();return !0;};return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(147),b);r.__exportStar(a(227),b);r.__exportStar(a(228),b);r.__exportStar(a(229),b);r=a(228);c=a(229);a=a(227);b.Xp={3:a.NQ,4:r.HQ,5:c.hca};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.$c();m=this.u.mb();this.Qwa=! !(m & 128);this.bfa=! !(m & 64);this.Dda=! !(m & 32);this.Qwa && this.u.$c();this.bfa && this.u.FA(this.u.mb());this.Dda && this.u.$c();this.eT();return !0;};l.tag=3;return l;})(a(147).FE);b.NQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Asa=this.u.mb();this.u.mb();this.u.$c();this.u.mb();this.maxBitrate=this.u.Aa();this.Jia=this.u.Aa();this.eT();return !0;};l.tag=4;return l;})(a(147).FE);b.HQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(147);f=a(226);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.hY=function(){15 !== this.u.zc(4) || this.u.zc(24);};m.prototype.parse=function(d){if(this.Apa(d) && 64 === d.Asa)switch((this.rn=this.fY(),this.hY(),this.u.zc(4),this.Zla=5 === this.rn || 29 === this.rn?5:-1,0 < this.Zla && (this.hY(),this.rn=this.fY(),22 === this.rn && this.u.zc(4)),this.rn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.qV=this.u.zc(1),(this.fla=this.u.zc(1)) && this.u.zc(14),this.u.zc(1),this.yz=3 === this.rn?256:23 === this.rn?this.qV?480:512:this.qV?960:1024);}this.skip();return !0;};m.prototype.fY=function(){var d;d=this.u.zc(5);31 === d && (d=32 + this.u.zc(6));return d;};m.prototype.Apa=function(d){return d.tag === f.HQ.tag;};m.tag=5;return m;})(r.FE);b.hca=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(376);f=a(223);l=a(377);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.IQ(this.view.byteLength);this.uc=new c.CE(f.xq.Ua,g,this.view,this.console,{bI:!0});d=this.uc.parse(d);this.Ua=this.uc.Ua;return d;};return m;})();b.dr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oB=void 0;r=a(42);a=a(102);c=(function(){function f(l,m){this.w2=l;this.LK=m.Wa;this.Iv=m.ob;}Object.defineProperties(f.prototype,{Wa:{get:function(){return void 0 !== this.LK?this.LK:this.w2.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ob:{get:function(){return void 0 !== this.Iv?this.Iv:this.w2.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{S:{get:function(){return this.w2.S;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xj:{get:function(){return this.w2.xj;},enumerable:!1,configurable:!0}});f.prototype.QY=function(l){this.Iv=l;};f.prototype.Pja=function(){this.Iv=void 0;};return f;})();b.oB=c;r.zf(a.xx,c);r.zf(a.nB,c);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pQ=void 0;c=a(2);r=c.__importDefault(a(124));f=a(117);l=a(173);a=(function(m){function d(g,h,k,n,p,q,u){h=m.call(this,g,h,k,n,p,q,u) || this;l.pv.xb(h,g,n);return h;}c.__extends(d,m);return d;})(f.B_);b.pQ=a;r.default(l.pv.prototype,a.prototype);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BJ=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));r=(function(m){function d(g,h,k,n,p){var q;q=m.call(this,k) || this;q.j3=!1;d.xb(q,g,h,k,n,p);return q;}c.__extends(d,m);d.xb=function(g,h,k,n,p,q){g.bf=n;g.yY=h;g.Oe=p;g.UNa=h.location || k.location;g.kT=h.Qc || k.Nd;g.Vva=h.Vva || k.Vva;g.paa=l.default.time.ea();g.H=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.UNa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nd:{get:function(){return this.kT;},enumerable:!1,configurable:!0}});d.prototype.xb=function(g){this.Qa=g;};d.prototype.gwa=function(g,h){this.UNa=g;this.kT=h;};d.prototype.dha=function(g){var h,k,n;h={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === f.default.Ta.Vb?"audioedit":"videoedit";n=[this.SM === this.Z?this.Mc:this.gd,this.SM === this.Z?-this.duration:this.duration];g && g.fE && n.push(g.fE);h.fields[k]={type:"array",value:n};return h;};d.prototype.Zxa=function(){var g,h;if(this.complete)return 0;g=this.yY;h=g.P;return g.url?this.url === g.url || (h.gwa(this,g.location,g.Qc),this.jaa(g.url))?0:(this.H.warn("swapUrl failed: ",this.KM),2):(this.H.warn("updateurl, missing url for streamId:",g.Pa,"mediaRequest:",this,"stream:",g),1);};return d;})(a(83).ov);b.BJ=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(808),b);},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q){return q.Ma(d.T.Ab(q.zI));}Object.defineProperties(b,{__esModule:{value:!0}});b.Pba=b.zu=void 0;f=a(2);r=a(17);l=f.__importDefault(a(28));m=f.__importDefault(a(6));d=a(22);g=a(5);h=a(809);k=a(117);n=a(68);p=a(25);b.zu=c;a=(function(q){function u(t,w,v,x,y,z,A,B,E){var D,F;F=q.call(this) || this;F.H=t;F.Ug=w;F.gg=v;F.sd=x;F.I=y;F.bob=z;F.V=A;F.Xv=B;F.rh=E;F.Lk=F.H.error.bind(F.H);F.Sb=F.H.warn.bind(F.H);F.nn=F.H.trace.bind(F.H);null === (D=x.events) || void 0 === D?void 0:D.addListener("ready",function(){F.Gv();});F.b3a=new h.pGa(F.I,F.Ug,F.gg.qc,F.H);F.reset();return F;}f.__extends(u,q);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.AS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{K3:{get:function(){return this.sd?this.sd.K3:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{a3b:{get:function(){return this.em.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eMb:{get:function(){return this.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{A$a:{get:function(){return ! !this.sd.lCb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WA:{get:function(){return ! !this.sd.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w,v,x;null === (w=this.nOa) || void 0 === w?void 0:w.Lb();this.Wj=!1;t || (this.em=[]);this.Tj=this.ega=this.cL=void 0;this.Pfa=!1;this.dL=void 0;this.AS=!1;this.$Oa(d.T.Eb);null === (x=(v=this.sd).reset) || void 0 === x?void 0:x.call(v);this.b3a.reset();};u.prototype.GWa=function(){this.ega=!0;};u.prototype.pause=function(){this.Wj=!0;};u.prototype.resume=function(){this.Wj=!1;this.Gv();};u.prototype.mz=function(){this.Wj || this.Gv();};u.prototype.zna=function(){var t;return null === (t=this.Tj) || void 0 === t?void 0:t.me;};u.prototype.gsb=function(t){var w;if(this.I.nVa){g.assert(t.Qa);w=t.Qa.eb;g.assert(void 0 !== t.gd);g.assert(void 0 !== w.Mc);if(t.gd >= w.Mc)return;}this.em.push(t);this.Gv();};u.prototype.Ks=function(){this.Gv();};u.prototype.n$=function(t){t=this.em.indexOf(t);-1 !== t && this.em.splice(t,1);};u.prototype.c4a=function(t,w){this.I.hia && w && void 0 === this.Tj && this.EMa(t,0);this.Gv();};u.prototype.j9=function(t){var w,v,x;w=this;if(!this.AS && (this.AS=!0,this.Gv(),!this.A$a))if(t && this.Xv && this.I.Tzb){x=d.T.Ab(this.I.Z$a);t=t.Ma(x);x=n.bba(this.Xv,t,!0);t=x.Rq;x=x.promise;null === (v=this.nOa) || void 0 === v?void 0:v.Lb();this.nOa=t;x.then(function(){w.AS && w.sd.endOfStream();});}else this.sd.endOfStream();};u.prototype.M$=function(){return JSON.stringify(this.em);};u.prototype.$Oa=function(t){var w;null !== (w=this.kPa) && void 0 !== w && w.equal(t) || (this.kPa=t,this.sd.xYb(t.vc,t.S));};u.prototype.Gv=function(){var t,w,v,x,y,z,A,B,E;w=this.I;if(this.em.length || this.Tj && !this.Tj.ff)if(!this.sd || !1 === this.sd.ready)this.mL("@" + m.default.time.ea() + ", append: not appending, sourceBuffer not ready");else if(!this.Tj || this.Tj.ff || this.Tj.ou())if(this.Tj && !this.Tj.ff || this.em.length)if(this.Wj){v=this.Tj && !this.Tj.ff?this.Tj:this.em[0];this.mL("@" + m.default.time.ea() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v));}else if((!this.Tj || this.Tj.ff || (this.$Ma(this.Tj),this.Tj.ff)) && this.em.length)if((v=this.em[0],v.aborted))(this.Sb("aborted MediaRequest should not appear in the toAppend list:",v.toString(),"complete:",v.complete),this.mL("@" + m.default.time.ea() + ", append: removing aborted request from toAppend: " + v.toString()),this.em.shift());else {x=v.stream;y=x.P;if(x.Yg)if(this.MYb(x,v.index))(this.ega=!1,this.EMa(x,v.index));else {z=this.V.Po(y);x=this.RJb(x);if(z || x || !this.Pfa && !w.$aa)if((z=this.$Ya(v),this.Ug !== l.default.Ta.Vb || !v.uq && !v.Fw || !v.va || w.ZD || this.AS || 1 !== this.em.length || !(z > w.dX) || null !== (t=v.GI) && void 0 !== t && t.B7)){if(w.nVa || w.MBb){t=v.Qa.eb;A=this.mAb();if(A){B=t.Tk;E=v.Mc >= A;z=z > w.dX;if(A < t.Mc && E && z && !B)return;}}if(w.qSb && this.rh && (w=this.rh(y.Pb)) && !w.DT)this.pause();else {this.Pfa || (this.Pfa=x);this.em.shift();try{this.flb(v);}catch(D){throw (this.H.error(D),D);}}}else this.eXb();}}};u.prototype.eXb=function(){var t;t=this;this.Xv && (this.eqa?this.eqa.JKb || this.eqa.Jm():this.eqa=this.Xv.BG(function(){return t.ULb();},"JIT Appender"));};u.prototype.ULb=function(){var t,w,v,x;return f.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.em.length)return [3,3];t=this.em[0];if(!t.uq && !t.Fw || (null === (x=t.GI) || void 0 === x?0:x.B7))return [2];w=this.$Ya(t);v=this.I.dX;return w > v?[4,n.Kk.uJ(d.T.Ab(w - v))]:[3,2];case 1:(y.Ic(),y.label=2);case 2:return (this.Gv(),[3,0]);case 3:return [2];}});};u.prototype.$Ya=function(t){return t.zd - this.V.Re();};u.prototype.MYb=function(t,w){if(this.ega || void 0 === this.cL || t.Pa !== this.cL.Pa)return !0;t=t.Yg;g.assert(t);return 1 < t.length?p.FQa(t,function(v){return v.Rd <= w;}) !== this.cL.q0a:!1;};u.prototype.RJb=function(t){if(0 === t.mediaType || !t.$k)return !0;if(void 0 === this.cL)return !1;if(!t.track.QW)return !t.$k;t=t.Yg;g.assert(t);return !1 === t[this.cL.q0a].Uk;};u.prototype.mAb=function(){throw Error("not supported");};u.prototype.EMa=function(t,w){var v;v=t.Yg.reduce(function(x,y,z){return y.Rd <= w?z:x;},0);if(this.sd.appendBuffer(t.Yg[v].data,{cd:!0,profile:t.profile,bitrate:t.bitrate,Pa:t.id}))(this.mL("@" + m.default.time.ea() + ", header appended, streamId: " + t.Pa),this.cL={Pa:t.Pa,q0a:v},this.ipb(t.P.Pb || 0,t.Pa,v),this.Gv());else throw (this.Sb("appendHeader error: " + this.sd.error),this.mL("@" + m.default.time.ea() + ", appendHeader error: " + this.sd.error),Error("appendHeaderError"));};u.prototype.flb=function(t){var w,v,x,y;x=t.hua || d.T.Eb;y=t.Qa.eb.O;y.Ga && Infinity !== y.Ga && (x=new d.T(y.Ga,1E3).add(x).wh,Infinity === this.gg.duration || this.gg.duration < x) && (this.gg.duration=x);x=void 0 !== t.ev?d.T.Ab(t.ev).add(t.hua):void 0;y=null === (w=this.em[0]) || void 0 === w?void 0:w.Kg;w={endOfStream:this.endOfStream || !(null === (v=t.GI) || void 0 === v || !v.B7),x8:x,kX:y};v=this.b3a.append(t,w);this.$Oa(v);this.$Ma(t);};u.prototype.$Ma=function(t){var w,v,x,y,z;y=t.fG(this.sd,this.gg.qc,this.Tj);z=y.status;(y=y.nk) && this.emit(y.type,y);z !== k.Gj.Of?(this.Tj=t,z === k.Gj.Dx && (void 0 === this.dL || this.Ug !== l.default.Ta.Vb || t.Kg.equal(this.dL) || (this.dpb(t,this.dL),this.dL=void 0),this.mL("@" + m.default.time.ea() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Pa + ", pts: " + t.zd + "-" + t.me),t.uq || t.Fw?(this.dL=t.xe,this.zlb(t,this.kPa || d.T.Eb),null === (v=(w=this.sd).lCb) || void 0 === v?void 0:v.call(w,t.GI),(null === (x=t.GI) || void 0 === x?0:x.B7) && this.bob && this.j9(t.xe)):this.dL=void 0,this.jpb(t),this.Gv())):this.elb(t);};u.prototype.elb=function(t){if(void 0 !== this.sd.error){if("done" === this.sd.error)return;this.Lk("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.sd.error));throw this.sd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.sd.error);this.Lk(t.message);throw t;};u.prototype.zlb=function(t,w){var v,x;v=t.stream.sa;x=t.Qd;this.I.gm && t.stream.xf && (x=x.Ma(t.stream.xf));c(x.Ma(v)).add(c(v)).add(c(w));};u.prototype.ipb=function(t,w,v){t={type:"headerAppended",mediaType:this.Ug,manifestIndex:t,streamId:w,isIndex:v};this.emit(t.type,t);};u.prototype.jpb=function(t){t={type:"requestAppended",mediaType:this.Ug,request:t};this.emit(t.type,t);};u.prototype.mL=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};u.prototype.dpb=function(t,w){var v;v=t.gd;t=t.Kg.Ma(w).W;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,t]}}};this.emit(v.type,v);};return u;})(r.EventEmitter);b.Pba=a;},function(r,b,a){var f;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.I0=void 0;f=a(2);r=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Rfa(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.xha(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Rfa(0));return m;}};l.prototype.Vw=function(){return this.data[0];};l.prototype.cUb=function(m){m=this.data.indexOf(m);-1 !== m && this.xha(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return f.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,g,h;d=this.data;m=d.indexOf(m);if(-1 !== m){g=d.pop();if(m < d.length){d[m]=g;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.xha(m):this.Rfa(m);}}};l.prototype.ysb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.xha=function(m){for(var d=this.data,g=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= g(h,n))break;d[m]=n;m=k;}d[m]=h;};l.prototype.Rfa=function(m){for(var d=this.data,g=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,k))break;d[m]=q;m=n;}d[m]=k;};return l;})();b.I0=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q9=void 0;c=a(16);b.Q9=function(f){switch(f){case c.ma.xd:f=c.Kc.xd;break;case c.ma.Qf:f=c.Kc.Qf;break;case c.ma.Ah:case c.ma.cj:case c.ma.jr:f=c.Kc.cj;break;default:f=c.Kc.dj;}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dK=void 0;c=a(5);f=a(25);r=(function(){function l(m){var d;d=this;void 0 === m && (m=[]);this.items=m;m.forEach(function(g){return d.Uxa(g);});}Object.defineProperties(l.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{YX:{get:function(){var m;return null !== (m=this.video) && void 0 !== m?m:this.audio;},enumerable:!1,configurable:!0}});l.prototype.get=function(m){return 1 === m?this.video:this.audio;};l.prototype.every=function(m){return this.items.every(m);};l.prototype.some=function(m){return this.items.some(m);};l.prototype.forEach=function(m){this.items.forEach(m);};l.prototype.find=function(m){return f.kg(this.items,m);};l.prototype.reduce=function(m,d){return this.items.reduce(m,d);};l.prototype.filter=function(m){return new l(this.items.filter(m));};l.prototype.replace=function(m,d){var g;g=this.items.indexOf(m);c.assert(-1 < g);c.assert(m.mediaType === d.mediaType);this.items[g]=d;this.Uxa(d);};l.prototype.QXb=function(m,d){(m=this.get(m))?this.replace(m,d):this.add(d);};l.prototype.add=function(m){this.items.push(m);this.Uxa(m);};l.prototype.remove=function(m){var d;d=this.items.indexOf(m);if(-1 === d)return !1;this.items.splice(d,1);this.gvb(m.mediaType);return !0;};l.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};l.prototype.Uxa=function(m){1 === m.mediaType?this.video=m:this.audio=m;};l.prototype.gvb=function(m){1 === m?this.video=void 0:this.audio=void 0;};return l;})();b.dK=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z_=void 0;c=a(2);a(5);r=a(42);f=c.__importDefault(a(28));l=c.__importDefault(a(124));m=c.__importDefault(a(6));d=a(241);g=a(101);h=a(117);k=m.default.cr;n=a(832);a=c.__importDefault(a(833));m=(function(p){var f00;f00=2;for(;f00 !== 9;){switch(f00){case 3:return q;break;case 2:c.__extends(q,p);q.create=function(u,t,w,v,x,y,z,A){var i00,E,B;i00=2;for(;i00 !== 11;){switch(i00){case 5:i00=v.VN && v.fa > v.VN?4:12;break;case 1:return new n.Sya(u,w,v,x,y,t,z,A);break;case 2:i00=!t.dh && v.va && u.mediaType === f.default.Ta.Nb && k.qc && k.qc.CY.XR?1:5;break;case 9:E=v.fa;x=new d.zE(u,v,x,t,z,A);i00=7;break;case 4:B=Math.ceil(v.fa / v.VN);y=v.offset;i00=9;break;case 7:A=Math.ceil(v.fa / B);i00=6;break;case 14:var k5U="su";k5U+="b";k5U+="r";k5U+="equest";(B={offset:y,fa:Math.min(E,A),responseType:v.responseType},y+=B.fa,E-=B.fa,x.push(new h.B_(u,w,k5U,B,x,t,z)));i00=6;break;case 12:return new q(u,w,v,x,y,t,z,A);break;case 6:i00=0 < E?14:13;break;case 13:return x;break;}}};q.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var B5U="I";B5U+="D";B5U+=": ";return B5U + this.li() + ":" + g.Um.prototype.toString.call(this);break;}}};q.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.li(),request:g.Um.prototype.toJSON.call(this)};break;}}};f00=3;break;}}function q(u,t,w,v,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 7:return B;break;case 2:var X5U="e";X5U+="d";X5U+="i";X5U+="t";var L5U="ca";L5U+="c";L5U+="h";L5U+="e";var j5U="1SIYbZrN";j5U+="JCp";j5U+="9";B=this;j5U;B=[L5U,X5U].filter(function(E,D){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:return [x,w.va][D];break;}}});g00=4;break;case 4:B=B.length?"(" + B.join(",") + ")":"";void 0 === w.responseType && (w.responseType=w.va || k.qc && !k.qc.CY.XR?0:1);B=p.call(this,u,t,B,w,v,y,z) || this;g.Um.xb(B,u,w,A);g00=7;break;}}}})(h.B_);b.z_=m;l.default(a.default,m.prototype);r.zf(g.Um,m,!1);},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zE=void 0;c=a(2);f=a(5);r=a(42);l=a(9);m=a(25);d=a(381);g=a(101);h=a(117);a=(function(k){function n(p,q,u,t,w,v){u=k.call(this,p,q,u,t,w) || this;g.Um.xb(u,p,q,v);u.Rc=0;u.va || u.Ck();u.ff=!1;return u;}c.__extends(n,k);Object.defineProperties(n.prototype,{cd:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Rc+=p.fa;k.prototype.push.call(this,p);};n.prototype.ou=function(){var p;return !this.ff && ! !this.Ea.length && !(null === (p=m.kg(this.Ea,function(q){return !q.ff;})) || void 0 === p || !p.ou());};n.prototype.fG=function(p,q){var u,t;f.assert(!this.ff);u=h.Gj.gib;t=l.vq(this);this.ff=this.Ea.every(function(w){if(w.ff)return !0;if(!w.ou())return !1;u=w.fG(p,q,void 0,t).status;return u === h.Gj.Dx;});u !== h.Gj.Dx || this.ff || (u=h.Gj.Cib);return {status:u};};n.prototype.EVb=function(){this.Ea.forEach(function(p){p.nY();});};n.prototype.li=function(){return this.Ea?this.Ea[0].li() + "-" + this.Ea[this.Ea.length - 1].li():"empty";};n.prototype.toString=function(){return "ID: " + this.li() + ":" + g.Um.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.li(),request:k.prototype.toJSON.call(this)};};return n;})(d.yba);b.zE=a;r.zf(g.Um,a);},function(r,b,a){var l,m,d,g,h,k,n,p;function c(q,u){return q.done?q:{value:{value:q.value,yPa:u}};}function f(q){q.yPa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Bsb=b.Ijb=b.D_=void 0;l=a(2);r=a(17);m=a(149);d=a(20);g=l.__importDefault(a(6));h=a(9);k=a(5);a=a(42);n=(function(){function q(u,t){this.console=u;this.bg=t;this.Inb=this.xS=0;this.Ag=[];this.console=h.wq(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{aAb:{get:function(){return this.xS;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{MSa:{get:function(){var u,t,w;for(t=0;t < this.Ag.length;t++){w=this.Ag[t];if(!w.oW || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vz:{get:function(){return 0 === this.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eva:{get:function(){var u;for(u=0;u < this.Ag.length && this.Ag[u].Xpa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=l.__read(this.Ag,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gsa:{get:function(){var u;for(u=0;u < this.Ag.length && this.Ag[u].oW;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.d5=function(){var u;if(void 0 === this.bg){u=this.console;d.ga && u && u.trace("QueueIterator: enqueueEnd");this.Sxa(this.gsa - (this.bg || 0));}};q.prototype.gp=function(){return this.Ag.map(function(u){return u.item;});};q.prototype.uaa=function(){this.Df || (this.Df=this.Ag.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.Df;};q.prototype.Sxa=function(u){var t;d.ga && this.console.trace("updateCount",{Nbc:this.bg,oM:u});if(void 0 !== this.bg){t=this.Ag[this.bg];t && this.upa(t);}this.bg=void 0 === this.bg?u:void 0 === u?u:this.bg + u;void 0 !== this.bg && (this.bg=Math.max(0,this.bg),(t=this.Ag[this.bg]) && t.uH.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.ga && this.console.trace("Enqueue called");t=this.gsa;this.Y3();return this.yUb(t,{value:u,done:!1}).qUa.promise;};q.prototype.S7a=function(){d.ga && this.console.trace("resetEnd");this.Sxa(void 0);};q.prototype.clear=function(u){var t,w,v;d.ga && this.console.trace("clear");this.A6a();t=this.eva;w=this.Ag.length - t;if(0 < w){v={index:t,wsa:w};d.ga && this.console.trace("Removing items",v);this.Ag.splice(t,w);this.Y3();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.upa(this.Ag[w]);}this.bg=void 0;this.Sxa(u?u + t:u);this.xS && (this.xS=0);};q.prototype.getIterator=function(){var u,t;u=this;t=h.wq(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.GYa(w);},t);};q.prototype.pM=function(){var u;if(0 < this.eva){u=l.__read(this.Ag,1)[0];if(u.oW)return (d.ga && this.console.trace("dequeue",u.id),this.A6a(1),this.emit("onDequeue",u.uH.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.Ag.length;t++){w=this.Ag[t];v=w.item;if(v && !v.done && v.value === u){this.Ag.splice(t,1);this.bg && this.bg > t && this.bg--;this.Y3();d.ga && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,wsa:1});break;}}};q.prototype.A6a=function(u){var t;u=u || Math.min(this.eva,this.gsa);if(0 < u){t=this.Ag.splice(0,u);this.Y3();this.bg && (this.bg-=u);d.ga && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.qUa.resolve();});});this.emit("onRemoved",{index:0,wsa:u});this.xS+=u;}};q.prototype.GYa=function(u){var t;d.ga && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.M_a(u);t=this.Ag[u];t.qWb.resolve();u=t.uH.promise;d.ga && this.console.trace("getNextItem:return",{id:t.id});}else (d.ga && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.yUb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.ga && this.console.trace("Providing result",{Mrb:u,item:w});this.M_a(u);u=this.Ag[u];w=u.uH.resolve;w(t);return u;};q.prototype.M_a=function(u){var t;if(void 0 === this.Ag[u]){t={};this.upa(t);this.Ag[u]=t;u === this.bg && t.uH.resolve({done:!0});d.ga && this.console.trace("Item initialized",{Mrb:u});}};q.prototype.yka=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(x){w(x);u && u(x);};t.reject=v;});return t;};q.prototype.upa=function(u){var t;t=this;u.uH=this.yka(function(w){u.item=w;u.oW=!0;d.ga && t.console.trace("Item resolved",{id:u.id});});u.id && u.Xpa && !u.oW && (u.uH.resolve({done:!0}),d.ga && this.console.warn("Overwriting requested queue item",u.id));u.qUa=this.yka();u.qWb=this.yka(function(){u.Xpa=!0;d.ga && t.console.trace("Item requested",{id:u.id});});u.id=this.Inb++;u.Xpa=!1;u.oW=!1;u.item=void 0;};q.prototype.Y3=function(){this.Df=void 0;};q.prototype.MEb=function(){var u,t,w;u=this;t=h.wq(g.default,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var x,y;if(0 === u.count)return m.AsyncIterator.joa();x=u.GYa(v);y=u.Ag[0];return x.then(function(z){return c(z,function(){w.zN || (y === u.Ag[0]?u.pM():k.assert(!u.Ag.filter(function(A){return A.uH.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.D_=n;a.zf(r.EventEmitter,n);p=(function(q){function u(t,w,v){var x;x=q.call(this,function(){d.ga && x.console.trace("Next item requested",{index:x.index});return x.NWb(x.index++);}) || this;x.parent=t;x.NWb=w;x.console=v;x.$K=!1;x.index=0;x.pga=!1;x.B4a=function(y){var z;z=y.index;y=y.wsa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ga && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}l.__extends(u,q);u.prototype.Gh=function(){this.console.trace("disposed");this.$K=!0;this.fd();q.prototype.Gh.call(this);};u.prototype.next=function(){this.zN || this.yN();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.fd();return q.prototype.cancel.call(this);};u.prototype.fd=function(){this.parent.LD("onRemoved",this.B4a);this.pga=!1;};u.prototype.yN=function(){this.pga || (this.pga=!0,this.parent.on("onRemoved",this.B4a));};return u;})(m.AsyncIterator);b.Ijb=p;b.Bsb=function(q){return m.map(q,f);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rea=void 0;r=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{j1a:{get:function(){var c,f;return null !== (c=this.dJb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.j1a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xW:{get:function(){var c,f;return null !== (c=this.YPb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.xW;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{su:{get:function(){var c,f;return null !== (c=this.Mg) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.su;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{n1a:{get:function(){var c,f,l,m;return null !== (c=this.Je) && void 0 !== c?c:(null === (f=this.track) || void 0 === f?0:f.equals(null === (l=this.parent) || void 0 === l?void 0:l.track))?null === (m=this.parent) || void 0 === m?void 0:m.Je:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{q1a:{get:function(){var c,f;return null !== (c=this.MZb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.q1a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sqa:{get:function(){var c,f;return null !== (c=this.NZb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.sqa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.vXb;},enumerable:!1,configurable:!0}});a.prototype.Lb=function(){this.parent=void 0;};a.prototype.W8a=function(c){this.dJb=c;};a.prototype.hYb=function(c){this.YPb=c;};a.prototype.i9a=function(c){this.Mg=c;};a.prototype.TY=function(c){this.Je=c;};a.prototype.sYb=function(c){this.MZb=c;};a.prototype.k9a=function(c){this.NZb=c;};a.prototype.VY=function(c){this.vXb=c;};return a;})();b.Rea=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(839),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DJ=void 0;c=a(246);r=(function(){var l00;l00=2;for(;l00 !== 3;){switch(l00){case 2:f.prototype.BUa=function(l,m){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=null === this.Bia?l * (100 - this.config.naa) / 100:c.jia(l,this.Bia);m=null !== m && void 0 !== m?m:this.TN;n00=5;break;case 5:this.config.Cqa && m?(l=c.jia(l,m),l=Math.max(l,d)):l=d;return l;break;}}};f.prototype.nP=function(l){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:this.Bia=l;o00=1;break;case 4:this.Bia=l;o00=7;break;o00=1;break;}}};f.prototype.Qxa=function(l){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:this.config=l;p00=1;break;case 4:this.config=l;p00=0;break;p00=1;break;}}};return f;break;}}function f(l,m){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:var C8U="1SIY";C8U+="b";C8U+="ZrNJC";C8U+="p9";this.config=l;this.TN=m;this.Bia=null;C8U;m00=3;break;}}}})();b.DJ=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jia=b.VD=b.PVa=void 0;c=a(2).__importDefault(a(115)).default.QVa;b.PVa=function(f,l,m){var d,g,h;d=0;if(m){f.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=h && n !== g?h + (k - h) / (n - g) * (l - g):k,!0);g=n;d=h=k;return !1;});}else f.some(function(k){d=k.m;return l <= k.b;});return d;};b.VD=function(f,l,m){var d;l=(null === (d=l.Ra) || void 0 === d?void 0:d.Fa) || 0;return f.Nsb?(f=c(f.Msb,m.om - m.Nc,1),l * (1 - f)):l * f.naa / 100;};b.jia=function(f,l){return f < 2 * l?f / 2:f - l;};},function(r,b,a){var m,d;function c(){}function f(g,h){this.jm=g;void 0 !== h?(d(h <= g.Km,"require remain_sec <= chunk.sec but has " + h + " and " + g.Km),this.il=h):this.il=g.Km;}function l(g){var h;void 0 === g && (g=[]);this.ns=[];this.yh=this.Sl=0;try{for(var k=m.__values(g),n=k.next();!n.done;n=k.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(p)throw p.error;}}}m=a(2);d=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.It=function(){return new f(this.jm,this.il);};l.prototype.constructor=l;l.prototype.add=function(g,h){g=new f(g,h);this.ns.push(g);this.yh+=g.il;this.Sl+=g.jm.Hz() * g.il;};l.prototype.It=function(){var g,h,p;h=new l(void 0);try{for(var k=m.__values(this.ns),n=k.next();!n.done;n=k.next()){p=n.value;h.add(p.jm,p.il);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(q)throw q.error;}}return h;};l.prototype.fu=function(){try{return this.ns[0];}catch(g){}};l.prototype.N5a=function(g){var h;for(d(0 <= g,"unexpected play_for_x_sec: x=" + g);0 < g;){if(void 0 === this.fu())throw new c();if(g < this.fu().il){h=this.fu().jm.Hz() * g;this.fu().il-=g;this.yh-=g;this.Sl-=h;g=0;}else (h=this.ns.shift(),this.yh-=h.il,this.Sl-=h.jm.Hz() * h.il,g-=h.il);}};l.prototype.VSb=function(g){var k;d(0 <= g,"unexpected play_y_kb: y=" + g);for(var h=0;0 < g;){if(void 0 === this.fu())throw new c();if(g < this.fu().il * this.fu().jm.Hz()){k=g / this.fu().jm.Hz();this.fu().il-=k;this.yh-=k;this.Sl-=g;h+=k;g=0;}else (k=this.ns.shift(),this.yh-=k.il,this.Sl-=k.jm.Hz() * k.il,h+=k.il,g-=k.jm.Hz() * k.il);}return h;};r.exports={Oza:l,Mdb:c};},function(r){var h,k,n,p,q,u;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(h === setTimeout)return setTimeout(t,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(t,0));try{return h(t,0);}catch(w){try{return h.call(null,t,0);}catch(v){return h.call(this,t,0);}}}function f(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(w){try{return k.call(null,t);}catch(v){return k.call(this,t);}}}function l(){p && q && (p=!1,q.length?n=q.concat(n):u=-1,n.length && m());}function m(){var t;if(!p){t=c(l);p=!0;for(var w=n.length;w;){q=n;for(n=[];++u < w;){q && q[u].gx();}u=-1;w=n.length;}q=null;p=!1;f(t);}}function d(t,w){this.mEb=t;this.Iy=w;}function g(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;u=-1;r.Fbc=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(t,w));1 !== n.length || p || c(m);};d.prototype.gx=function(){this.mEb.apply(null,this.Iy);};r.title="browser";r.C9b=!0;r.KVa={};r.o9b=[];r.version="";r.tdc={};r.on=g;r.addListener=g;r.once=g;r.LD=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.TX=g;r.k6a=g;r.listeners=function(){return [];};r.y9b=function(){throw Error("process.binding is not supported");};r.X9b=function(){return "/";};r.M9b=function(){throw Error("process.chdir is not supported");};r.ldc=function(){return 0;};},function(r){r.exports={zFa:{code:-1,description:"MediaCache is not supported."},P7b:{code:100,description:"Resource was not found"},Dhb:{code:101,description:"Resource Metadata was not found"},lK:{code:102,description:"Read failed",Wq:function(b,a){return {code:this.code,description:b,cause:a};}},B1:{code:200,description:"Daily write limit exceeded"},EJ:{code:201,description:"Capacity has been exceeded"},A1:{code:202,description:"Write failed, cause unknown",Wq:function(b,a){return {code:this.code,description:b,cause:a};}},N8b:{code:203,description:"Write failed, cause unknown"},Ieb:{code:300,description:"Failed to delete resource",Wq:function(b,a){return {code:this.code,description:b,cause:a};}},vB:{code:900,description:"Invalid partition name"},chb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},YAa:{code:701,description:"Failed to initialize underlying disk cache."},Chb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={CZa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (f=l);});f?f.resources.push(c.Kq):a.push({error:c.error,resources:[c.Kq]});});return a;}},yXa:function(b){var a;a={freeSize:b.Cn,dailyBytesRemaining:b.lM,bytesWritten:b.Pk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.cl,itemBytes:c.H7,error:c.error};}));return a;},$w:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cH=void 0;c=a(2).__importDefault(a(6));f=a(893);b.cH=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new f.Iya(m);}return l;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p1=void 0;r=a(17);c=a(42);f=a(22);a=(function(){function l(m){void 0 === m && (m={lk:!1,currentTime:f.T.Eb,speed:1});this.bd={lk:function(){return "function" === typeof m.lk?m.lk():m.lk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{lk:{get:function(){return this.bd.lk();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.bd.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.bd.speed();},enumerable:!1,configurable:!0}});return l;})();b.p1=a;c.zf(r.EventEmitter,a);},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.LB=void 0;c=a(2);f=a(20);l=a(9);m=a(54);r=(function(){function d(g,h){this.wi=g;this.options=c.__assign({jvb:!0},h);}Object.defineProperties(d.prototype,{HD:{get:function(){return "trace-" + this.wi.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.Io=function(g){var h,k;if(g.Qi === m.de.$p || g.Qi === m.de.Zn){h=l.eUa(this.wi.QLb);k=this.wi.kJb;g.Qi === m.de.$p && this.options.jvb && this.wi.clear();g=h;Object.keys(k).length && (g=c.__spread(h,[k]));return g;}};d.prototype.Lb=function(){this.wi.Lb();};return d;})();b.LB=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.h8a=b.tYa=b.map=void 0;c=a(2);a(930);b.map=function(f){return function(l){return function(m,d,g){var h,k,n,p,q,u;p=Reflect.OYa(f,m,d) || ({Hb:{},Jra:{}});q="number" === typeof g;u=q?null !== (h=p.Hb[g]) && void 0 !== h?h:{}:p.Jra;h=c.__assign(c.__assign(c.__assign({},u),l),{rules:c.__spread(null !== (k=u.rules) && void 0 !== k?k:[],null !== (n=l.rules) && void 0 !== n?n:[])});q?p.Hb[g]=h:p.Jra=h;Reflect.H4(f,p,m,d);};};};b.tYa=function(f){return function(l,m){return Reflect.OYa(f,l.constructor.prototype,m);};};b.h8a=function(){return function(){return function(f){return f;};};};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.r6=b.oq=b.isEqual=b.sW=void 0;c=a(9);b.sW=function(f){return ! !f.X;};b.isEqual=function(f,l){var m,d;m=b.sW(f);d=b.sW(l);return m === d?m?f.X === l.X:f.za === l.za:!1;};b.oq=function(f){if(b.sW(f))return f.X;f=f.za;return f.pa[f.Md].X;};b.r6=function(f,l){return f.E3?f.E3 instanceof c.T?{offset:f.E3,ya:l.Md}:f.E3:{offset:c.T.Eb,ya:l.Md};};},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var l,m,d,g;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function f(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}l=a(971);m=a(973);d=a(974);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(l(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return f(h,k,n,"fantasy-land/reduce");if(null != n[g])return c(h,k,n[g]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return f(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,l){return a.apply(this,arguments);};case 4:return function(c,f,l,m){return a.apply(this,arguments);};case 5:return function(c,f,l,m,d){return a.apply(this,arguments);};case 6:return function(c,f,l,m,d,g){return a.apply(this,arguments);};case 7:return function(c,f,l,m,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,l,m,d,g,h,k){return a.apply(this,arguments);};case 9:return function(c,f,l,m,d,g,h,k,n){return a.apply(this,arguments);};case 10:return function(c,f,l,m,d,g,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nea="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qda="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dca="HLSConfigSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(263);c=a(151);b.mfb=c;c=a(432);b.cS=c;c=a(436);b.usb=c;b.o1=r.xq.Ua.sidx;r=a(1009);b.fr=r.fr;r=a(271);b.dr=r.dr;r=a(1013);b.er=r.er;b.gA=r.gA;r=a(1014);b.XJ=r.XJ;r=a(88);b.ko=r.ko;a=a(1015);b.Oj=a.Oj;},function(r,b,a){var C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a;function c(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function f(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function l(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function m(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);this.NI=Sa.config.NI;this.vd=this.sizes=void 0;}function d(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function g(){for(var Sa=new DataView(this),Da="",Ha,Qa=0;Qa < this.byteLength;Qa++){Ha=Sa.getUint8(Qa);Da+=("00" + Ha.toString(16)).slice(-2);}return Da;}function h(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function k(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function n(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function p(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function q(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function u(Sa){function Da(Ha,Qa,Xa,gb,wb){J.call(this,Ha,Qa,Xa,gb,wb);this.jX=Sa;}Da.Oa=!1;Da.prototype=new J();Da.prototype.constructor=Da;Object.defineProperties(Da.prototype,{EQ:{get:function(){return this.jX;}}});Da.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.jX + "'");this.u.offset=this.startOffset + 4;this.la.h_(this.EQ);this.type=this.EQ;return !0;};return Da;}function t(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function w(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function v(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function x(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function y(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function z(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function A(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function B(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function E(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function D(Sa,Da,Ha,Qa,Xa){J.call(this,Sa,Da,Ha,Qa,Xa);}function F(Sa,Da){Sa.forEach(function(Ha){Da[Ha.Wb]=Ha;});}C=a(150).assert;b=a(104);G=a(264).T;K=a(432);a(151);a(88);a(88);a(88);J=a(33).Dc;I=a(992).default;M=a(993).default;R=a(994).default;H=a(995).default;P=a(996).default;N=a(997).default;L=a(998).default;Q=a(999).default;S=a(1E3).default;a(265);a(179);U=a(433).iba;ca=a(433).nca;ka=a(1001).default;ya=a(1002).default;qa=a(105).default;Y=a(105).rba;ua=a(105).sba;O=a(105).tba;T=a(105).uba;ja=a(1003).default;ma=a(1004).default;ta=a(105).Ica;Ka=a(105).Cca;Ua=a(1005).default;Ya=a(1006).default;ab=a(1007).default;ib=a(434).default;$a=a(435).default;a(152);a(268);a(269);a(267);a=a(1008).default;c.Oa=!0;c.prototype=new J();c.prototype.constructor=c;f.Oa=!0;f.prototype=new J();f.prototype.constructor=f;l.Oa=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.parse=function(){var Sa;this.Ac();1 === this.version?(this.u.Ud(),this.u.Ud(),this.S=this.u.Aa(),this.duration=this.u.Ud()):(this.u.Aa(),this.u.Aa(),this.S=this.u.Aa(),this.duration=this.u.Aa());Sa=this.u.$c() & 32767;this.language=String.fromCharCode(96 + (Sa >>> 10),96 + (Sa >>> 5 & 31),96 + (Sa & 31));return !0;};m.Oa=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.Vga=function(){this.Ac();this.u.Aa();this.S=this.u.Aa();0 === this.version?(this.RU=this.u.Aa(),this.jV=this.u.Aa()):(this.RU=this.u.Ud(),this.jV=this.u.Ud());this.O7a=this.u.$c();this.lY=this.u.$c();};m.prototype.Jfa=function(Sa,Da){var Ha,Qa,Xa;Ha=this.S;Sa=Sa && Sa.S || Ha;Qa=Sa / Ha;Ha=this.u.EA(Da,12,!1);Xa=1 === Qa?this.u.EA(Da,12,!1):K.from(Uint32Array,{length:Da},function(){var gb;gb=Math.round(this.u.Aa() * Qa);this.u.offset+=8;return gb;},this);this.yha(Da,Xa,Ha,Sa);};m.prototype.yha=function(Sa,Da,Ha,Qa){if(this.NI){Qa=this.NI * Qa / 1E3;for(var Xa=0,gb=1;gb < Sa;gb++){Math.abs(Da[Xa] - Qa) > Math.abs(Da[Xa] + Da[gb] - Qa)?(Da[Xa]+=Da[gb],Ha[Xa]+=Ha[gb]):(++Xa,Xa !== gb && (Da[Xa]=Da[gb],Ha[Xa]=Ha[gb]));}++Xa;Da=new Uint32Array(Da.buffer.slice(0,4 * Xa));Ha=new Uint32Array(Ha.buffer.slice(0,4 * Xa));}this.sizes=Ha;this.vd=Da;};m.prototype.parse=function(Sa){var Da,Ha,Qa,Xa;this.Vga();this.sa=Sa.sa;Da=this.S;Ha=this.sa && this.sa.S || Da;Qa=this.lY;Xa=this.startOffset + this.length + this.jV;Da=new G(this.RU,Da).ag(Ha).vc;this.U={S:Ha,ll:Da,offset:Xa};this.Jfa(this.sa,Qa);this.U.vd=this.vd;this.U.sizes=this.sizes;Sa.Cs=this;return !0;};d.Oa=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Sa;this.zi=[];this.rta=[];Sa=(this.length - 11) / 2;this.u.mb();this.u.mb();this.u.mb();for(var Da=0;Da < Sa;Da++){this.zi.push(this.u.mb());this.rta.push(this.u.mb());}return !0;};h.Oa=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Ac();this.u.offset+=4;this.vH=this.u.offset;this.nj=this.u.vua(16);this.nj.toString=g;return !0;};k.Oa=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){this.Ac();this.og=this.u.$c();this.wra=this.u.EA(this.og,void 0,!0);return !0;};n.Oa=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Sa){var Da,Ha,Qa,Xa,gb,wb;Da=Sa.Cs;C(Da);Sa=Sa.sa;Ha=Da.S;Da=Da.lY;C(Sa);C(Ha);C(Da);this.Ac();C(2 > this.version);this.og=this.u.$c();this.Hu=new Uint16Array(Da + 1);Qa=Sa.t6(Ha);Xa=Qa / Ha;gb=Sa.ag(Qa).vc;if(0 === this.version)for((this.Xu=new Uint16Array(),this.Td=new Uint32Array(),Sa=Ha=0);Sa <= Da;++Sa){if((this.Hu[Sa]=Ha,Sa < this.og)){wb=this.u.mb();if(0 !== wb)for(Qa=0;Qa < wb;(++Qa,++Ha)){this.Xu[Ha]=Math.floor((this.u.Aa() + 1) * Xa) / gb;this.Td[Ha]=this.u.Aa();}}}else if(1 === this.version)for((Qa=this.u.rua(this.og,10,!1),this.u.offset+=4,this.Td=this.u.EA(this.og,10,!1),this.u.offset-=8,this.Xu=K.from(Uint16Array,{length:this.og},function(){var Fb;Fb=Math.floor((this.u.Aa() + 1) * Xa) / gb;this.u.offset+=6;return Fb;},this),Ha=Sa=0);Sa <= Da;++Sa){for(;Ha < Qa.length && Qa[Ha] < Sa;){++Ha;}this.Hu[Sa]=Ha;}this.di={Hu:this.Hu,Xu:this.Xu,Td:this.Td};return !0;};p.Oa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oa=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Ut=function(){var Sa;Sa=this.Th("tfhd");Sa && (this.bk=Sa.ST?Sa.bk:this.parent.startOffset);return !0;};t.Oa=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Sa,Nb;Sa=this.u.offset;this.Ac();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Da=this.u.offset,Ha=this.u.mb(),Qa=this.u.mb(),Xa=this.u.mb(),gb=this.u.mb(),wb=this.u.$c(),Fb=[],Eb=0;Eb < wb;++Eb){Fb=this.u.mb();}Eb=(Ha & 240) >>> 4;Nb=(Ha & 14) >>> 1;Ha&=1;Xa=16 === Xa?1:0;Qa != gb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Qa + " and matrixCoefficients " + gb + " should be the same value!");gb=2;switch(Qa){case 1:gb=2;break;case 6:gb=1;break;case 9:gb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Qa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.iB(this.version,Sa);this.la.iB(Eb << 4 | gb,Da++);this.la.iB(Nb << 4 | Xa << 1 | Ha,Da++);wb+=2;Fb.push(0,0);this.la.xya(wb,!1);Da+=2;Fb.forEach(function(Cb){this.la.iB(Cb,Da++);});}return !0;};w.Oa=!1;w.prototype=new J();w.prototype.constructor=w;w.Wb="tfhd";Object.defineProperties(w.prototype,{ST:{get:function(){return this.flags & 1;}},uva:{get:function(){return this.flags & 2;}},Yka:{get:function(){return this.flags & 8;}},ala:{get:function(){return this.flags & 16;}},Zka:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.Ac();this.lJ=this.u.Aa();this.bk=this.ST?this.u.Ud():void 0;this.uva && this.u.Aa();this.fz=this.Yka?this.u.Aa():void 0;this.hz=this.ala?this.u.Aa():void 0;this.gz=this.Zka?this.u.Aa():void 0;return !0;};v.Oa=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(){this.Ac();this.My=1 === this.version?this.u.Ud():this.u.Aa();return !0;};v.prototype.va=function(Sa){var Da;Da=this.startOffset + 12;this.My+=Sa;1 === this.version?this.la.yya(this.My,Da):this.la.fh(this.My,Da);};x.Oa=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{wU:{get:function(){return this.flags & 1;}},TG:{get:function(){return this.flags & 4;}},MA:{get:function(){return this.flags & 256;}},NA:{get:function(){return this.flags & 512;}},EY:{get:function(){return this.flags & 1024;}},CI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Ac();this.WT=this.u.offset;this.Mb=this.u.Aa();this.fk=this.wU?this.u.pI():0;this.TG && this.u.Aa();this.Wu=(this.MA?4:0) + (this.NA?4:0) + (this.EY?4:0) + (this.CI?4:0);this.xz=this.u.offset;C(this.wU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Mb * this.Wu,"Expected remaining data in box to be sample information");return !0;};x.prototype.tt=function(Sa,Da,Ha){var Qa,Xa,gb;Qa=this.MA?this.u.Aa():Sa.fz;Xa=this.NA?this.u.Aa():Sa.hz;Sa=this.EY?this.u.Aa():Sa.gz;gb=0 === this.version?this.CI?this.u.Aa():0:this.CI?this.u.pI():0;return {tva:gb,XWb:Sa,YTb:Ha + gb - (void 0 !== Da?Da:gb),zk:Xa,Yu:Qa};};x.prototype.va=function(Sa,Da,Ha,Qa,Xa,gb,wb){var Fb,Eb,Nb,Cb;Fb=0;Eb=0;this.la.offset=this.xz;for(Qa=0;Qa < Xa;++Qa){Nb=this.tt(Da,Cb,Eb);if(0 == Qa)Cb=Nb.tva;Fb+=Nb.zk;Eb+=Nb.Yu;}Qa=Xa;Xa=this.u.offset;Nb=this.tt(Da,Cb,Eb);this.Oq=Qa;this.Bwa=Eb;if(wb){if((this.Hq=this.fk + Fb,this.Yi=0,Qa === this.Mb))return !0;}else if((this.Hq=this.fk,this.Yi=Fb,0 === Qa))return !0;if(0 === Qa || Qa === this.Mb)return !1;this.nz=!0;if(wb){this.Yi+=Nb.zk;for(wb=Qa + 1;wb < this.Mb;++wb){Nb=this.tt(Da,Cb,Eb);this.Yi+=Nb.zk;}this.la.offset=this.WT;this.Mb=Qa;this.la.fh(this.Mb);this.la.wJ(gb);this.TG && (this.u.offset+=4);this.Ie(this.length - (Xa - this.startOffset),Xa);}else (Da=Xa - this.xz,this.la.offset=this.WT,this.Mb-=Qa,this.la.fh(this.Mb),this.fk+=Fb,this.la.wJ(gb,this.fk),this.TG && (this.u.offset+=4),this.Ie(Da,this.la.offset));Ha.Ie(this.Yi,Sa.bk + this.Hq);return !0;};x.prototype.Xua=function(Sa,Da,Ha,Qa,Xa,gb){var Fb;if(Qa){Qa=this.Hq;for(var wb=this.Mb - 1;0 <= wb && this.Mb - wb <= Xa;--wb){this.la.offset=this.xz + wb * this.Wu;Fb=this.tt(Da);if(Fb.Yu != gb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.Yu + " with silence of duration " + gb.duration);break;}if(this.NA)(this.la.offset-=this.Wu - (this.MA?4:0),this.la.fh(gb.Dk.byteLength));else if(gb.Dk.byteLength !== Fb.zk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Qa-=Fb.zk;Ha.Vu(Fb.zk,gb.Dk,Sa.bk + Qa);}}else for((Qa=this.Hq + this.Yi,wb=0);wb < this.Mb && wb < Xa;++wb){this.la.offset=this.xz + (wb + this.Oq) * this.Wu;Fb=this.tt(Da);if(Fb.Yu != gb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.Yu + " with silence of duration " + gb.duration);break;}if(this.NA)(this.la.offset-=this.Wu - (this.MA?4:0),this.la.fh(gb.Dk.byteLength));else if(gb.Dk.byteLength !== Fb.zk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ha.Vu(Fb.zk,gb.Dk,Sa.bk + Qa);Qa+=Fb.zk;}};y.Oa=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{tn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Ac();this.tn && this.u.Nl();this.tn && this.u.Aa();this.$ka=this.u.mb();this.Mb=this.u.Aa();this.u.FA(this.Mb);return !0;};y.prototype.va=function(Sa,Da){if(Sa && 0 === this.$ka){Sa=Da?this.Mb - Sa:Sa;this.la.offset=this.startOffset + 13 + (this.tn?8:0);this.Mb-=Sa;this.la.fh(this.Mb);this.AI=0;if(Da)this.la.offset+=this.Mb;else {for(Da=0;Da < Sa;++Da){this.AI+=this.la.mb();}this.la.offset-=Sa;}this.Ie(Sa,this.u.offset);}return !0;};z.Oa=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{tn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Ac();this.tn && this.u.Nl();this.tn && this.u.Aa();this.og=this.u.Aa();C(1 === this.og,"Expected a single entry in Sample Auxiliary Information Offsets box");this.fk=0 === this.version?this.u.pI():this.u.yua();return !0;};z.prototype.va=function(Sa,Da){this.fk+=Sa;this.la.offset=this.startOffset + 16 + (this.tn?8:0) + (0 === this.version?0:4);this.la.wJ(Da,this.fk);return !0;};A.Oa=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{DX:{get:function(){return this.flags & 1;}},jya:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Ac();this.DX && (this.u.Aa(),this.u.FA(16));this.Mb=this.u.Aa();return !0;};A.prototype.va=function(Sa,Da){var Ha,Qa;Ha=Da?this.Mb - Sa:Sa;this.la.offset=this.startOffset + 28 + (this.DX?20:0);this.Mb-=Ha;this.la.fh(this.Mb);Sa=this.la.offset;if(this.jya)for(Ha=Da?this.Mb:Ha;0 < Ha;--Ha){this.la.offset+=8;Qa=this.la.$c();this.la.offset+=6 * Qa;}else this.la.offset+=8 * (Da?this.Mb:Ha);Da?this.Ie(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ie(this.u.offset - Sa,Sa);};B.Oa=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Ac();return !0;};B.prototype.va=function(Sa,Da,Ha){Ha?this.Ie(Da - Sa,this.startOffset + 12 + Sa):this.Ie(Sa,this.startOffset + 12);return !0;};E.Oa=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Ac();this.u.Nl();1 === this.version && this.u.Aa();this.og=this.u.Aa();this.Zu=[];for(var Sa=0;Sa < this.og;++Sa){for(var Da=this.u.Aa(),Ha=this.u.Aa(),Qa=0;Qa < Da;++Qa){this.Zu.push(Ha);}}return !0;};E.prototype.va=function(Sa,Da){this.Zu=Da?this.Zu.slice(0,Sa):this.Zu.slice(Sa);Sa=this.Zu.reduce(function(Ha,Qa){0 !== Ha.length && Ha[Ha.length - 1].group === Qa || Ha.push({group:Qa,count:0});++Ha[Ha.length - 1].count;return Ha;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.fh(Sa.length);Sa.forEach((function(Ha){this.la.fh(Ha.count);this.la.fh(Ha.group);}).bind(this));this.og > Sa.length && this.Ie(8 * (this.og - Sa.length));this.og=Sa.length;return !0;};D.Oa=!1;D.prototype=Object.create(J.prototype);D.prototype.constructor=D;qa={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:qa,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},yxa:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},IZ:{schm:ja},BI:{}};F([ma,N,L,Q,ta,Ka,I,H,ib,$a,P,S,M,R,a],qa.Ua);F([U,ka,Y,ua,O,T,ca,ya,Ya,Ua],qa.BI);F([ma,ja],qa.IZ);qa.Ua[b.JR]=h;qa.Ua[b.Sx]=k;qa.Ua[b.Rx]=n;qa.Ua[b.IR]=A;qa.BI[b.$E]=ab;qa.Dc=J;r.exports={xq:qa};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.xc=f.vc,this.nb=f.S):(this.xc=f,this.nb=l);}c.Ab=function(f){return new c(f,1E3);};c.BZ=function(f,l){return Math.floor(1E3 * f / l);};c.Yra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{vc:{get:function(){return this.xc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return 1E3 * this.xc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wh:{get:function(){return this.xc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.ag=function(f){f/=this.S;return new c(Math.floor(this.vc * f),Math.floor(this.S * f));};c.prototype.add=function(f){var l;if(this.S === f.S)return new c(this.vc + f.vc,this.S);l=a(this.S,f.S);return this.ag(l).add(f.ag(l));};c.prototype.Ma=function(f){return this.add(new c(-f.vc,f.S));};c.prototype.PH=function(f){return new c(this.vc * f,this.S);};c.prototype.Cl=function(f){var l;if(this.S === f.S)return this.vc / f.vc;l=a(this.S,f.S);return this.ag(l).Cl(f.ag(l));};c.prototype.t6=function(f){return a(this.S,f);};c.prototype.Eua=function(){return new c(this.S,this.vc);};c.prototype.compare=function(f,l){var m;if(this.S === l.S)return f(this.vc,l.vc);m=a(this.S,l.S);return f(this.ag(m).vc,l.ag(m).vc);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.g9=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.KN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Qr=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.vc,timescale:this.S};};c.prototype.toString=function(){return this.vc + "/" + this.S;};c.Eb=new c(0,1);c.Uw=new c(1,1E3);return c;})();b.T=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.$c();return !0;};return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(152),b);r.__exportStar(a(267),b);r.__exportStar(a(268),b);r.__exportStar(a(269),b);r=a(268);c=a(269);a=a(267);b.Xp={3:a.NQ,4:r.HQ,5:c.hca};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.$c();m=this.u.mb();this.Qwa=! !(m & 128);this.bfa=! !(m & 64);this.Dda=! !(m & 32);this.Qwa && this.u.$c();this.bfa && this.u.FA(this.u.mb());this.Dda && this.u.$c();this.eT();return !0;};l.tag=3;return l;})(a(152).FE);b.NQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Asa=this.u.mb();this.u.mb();this.u.$c();this.u.mb();this.maxBitrate=this.u.Aa();this.Jia=this.u.Aa();this.eT();return !0;};l.tag=4;return l;})(a(152).FE);b.HQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(152);f=a(266);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.hY=function(){15 !== this.u.zc(4) || this.u.zc(24);};m.prototype.parse=function(d){if(this.Apa(d) && 64 === d.Asa)switch((this.rn=this.fY(),this.hY(),this.u.zc(4),this.Zla=5 === this.rn || 29 === this.rn?5:-1,0 < this.Zla && (this.hY(),this.rn=this.fY(),22 === this.rn && this.u.zc(4)),this.rn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.qV=this.u.zc(1),(this.fla=this.u.zc(1)) && this.u.zc(14),this.u.zc(1),this.yz=3 === this.rn?256:23 === this.rn?this.qV?480:512:this.qV?960:1024);}this.skip();return !0;};m.prototype.fY=function(){var d;d=this.u.zc(5);31 === d && (d=32 + this.u.zc(6));return d;};m.prototype.Apa=function(d){return d.tag === f.HQ.tag;};m.tag=5;return m;})(r.FE);b.hca=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(437);f=a(263);l=a(438);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.IQ(this.view.byteLength);this.uc=new c.CE(f.xq.Ua,g,this.view,this.console,{bI:!0});d=this.uc.parse(d);this.Ua=this.uc.Ua;return d;};return m;})();b.dr=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;r=b.dd || (b.dd={});r.btb="bitraterestriction";r.ZRa="cdnsel";r.YL="chgstrm";r.debug="debug";r.JAb="dlreport";r.NG="endplay";r.xpa="intrplay";r.CD="midplay";r.N9="playbackaborted";r.t7a="renderstrmswitch";r.WO="repos";r.eP="resumeplay";r.JXb="serversel";r.jE="startplay";r.c$a="statechanged";r.transition="transition";r.Rrb="asereport";r.XQa="audioswitch";r.qRa="blockedautoplay";r.config="config";r.pla="dlreq";r.M$b="ftlProbeError";r.k_b="subtitleerror";r.l_b="subtitleqoe";r.f0b="timedtextrebuffer";r.gab="timedtextswitch";r.S9a="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yEa="IsTypeSupportedProviderFactorySymbol";b.tIa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,u){var t;t=l.ao.call(this,k,n,p,u) || this;t.cast=q;t.type=m.fj.Uba;k=c.Ckb;t.c_[m.se.rK]=d.Gd.SQ + "; " + k;t.c_[m.se.Kx]=d.Gd.Kx + "; " + k;k=d.Gd.heb.find(function(w){return t.Ty(h(c.TP,w));});t.c_[m.se.Ts]=k;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=b.J_=b.Vba=void 0;f=a(45);l=a(181);m=a(26);r=a(111);d=a(110);g=a(182);h=new r.JB().format;na(c,l.ao);c.ska=function(k,n){return (n=c.X7a(n))?{isTypeSupported:n}:k;};c.X7a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.lx=function(k){var n,p;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().ybb){p={};if(n)return (p[m.Kj.QE]="1.4",p[m.Kj.xv]="2.2",n().then(function(q){return q === p[k];}));n=this.n2a(k);n=h(c.TP,d.Gd.SQ) + " hdcp=" + n;n=this.Ty.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.VM=function(k){return this.c_[k];};c.prototype.fN=function(){var k;k=this;return this.config().ybb?this.lx(m.Kj.xv).then(function(n){return n?Promise.resolve(m.Kj.xv):k.lx(m.Kj.QE).then(function(p){return p?Promise.resolve(m.Kj.QE):Promise.resolve(void 0);});}).then(function(n){return k.qU(n);}):Promise.resolve(void 0);};c.prototype.Up=function(){var k,n;k=l.ao.prototype.Up.call(this);n=c.XIb;k[f.N.zca]=["avc1.4D4028","width=1920; height=1080; "];k[f.N.dR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.fR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.eR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.gR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.$Ca]=["hev1.2.6.L90.B0",n];k[f.N.aDa]=["hev1.2.6.L93.B0",n];k[f.N.bDa]=["hev1.2.6.L120.B0",n];k[f.N.cDa]=["hev1.2.6.L123.B0",n];k[f.N.dDa]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.eDa]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.TQ]=["hev1.2.6.L90.B0",n];k[f.N.VQ]=["hev1.2.6.L93.B0",n];k[f.N.TJ]=["hev1.2.6.L120.B0",n];k[f.N.YQ]=["hev1.2.6.L123.B0",n];k[f.N.$Q]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.bR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.UQ]=["hev1.2.6.L90.B0",n];k[f.N.WQ]=["hev1.2.6.L93.B0",n];k[f.N.XQ]=["hev1.2.6.L120.B0",n];k[f.N.ZQ]=["hev1.2.6.L123.B0",n];k[f.N.aR]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.cR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return k;};c.prototype.EXa=function(){return [g.Ye.m_,g.Ye.lDa,g.Ye.RJ,g.Ye.IE];};c.prototype.tpa=function(){l.ao.prototype.tpa.call(this);!c.X7a(this.cast) && this.Sn.push(g.Ye.Kx);};b.Vba=c;c.XIb="eotf=smpte2084";c.Ckb="width=3840; height=2160; ";b.J_="CastSDKSymbol";b.oAa="CastEmeSymbol";},function(r,b,a){var f,l,m;function c(){this.type=f.qv.Qx;}Object.defineProperty(b,"__esModule",{value:!0});b.yB=void 0;f=a(26);r=a(111);l=a(109);m=new r.JB();c.ska=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?nb.MSMediaKeys.isTypeSupported(l.Ib.Vx,d):"probably" === c.dxa(g[0],g[1]);}catch(h){return !1;}}};};c.o4=function(d,g,h){g=m.format(c.TP,g);if(0 === h.length)return g;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,g,h);};c.dxa=function(d,g){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(k){h="exception";}return h;};b.yB=c;c.TP='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uca=b.rB=void 0;r=b.rB || (b.rB={});r.Hkb="unknown";r.Hya="absent";r.zJa="present";r.Error="error";b.uca="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w1="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FNb=b.SN=b.DNb=void 0;b.DNb=function(a){return a;};b.SN=function(a){return a;};b.FNb=function(a){return Object.assign({},a);};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v;function c(x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S){this.j=x;this.trackId=y;this.Tz=z;this.jc=A;this.mi=B;this.Gg=E;this.Bc=D;this.pw=F;this.qla=C;this.Xd=G;this.displayName=K;this.ol=J;this.YI=I;this.variant=M;this.oI=R;this.profile=H;this.xu=P;this.jO=N;this.YDb=L;this.x7=Q;this.hu=S;this.type=d.Di.raa;this.Ls=void 0;this.kk=!(!H || H != h.cn.eK);this.Ri={bcp47:G,trackId:y,downloadableId:D,isImageBased:this.kk};this.log=(0,g.Jh)(x,"TimedTextTrack");this.state=v.P0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.oF=void 0;f=a(1);l=a(74);m=a(14);d=a(90);g=a(8);h=a(45);k=a(21);n=a(19);p=a(1070);q=a(15);u=a(3);t=a(1071);w=a(1074);(function(x){x[x.P0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.PE=2]="LOADED";x[x.pR=3]="LOAD_FAILED";})(v || (v={}));c.prototype.b7=function(){var x;x=this;if(this.j.state.value === q.Rb.CLOSED || this.j.state.value === q.Rb.CLOSING)return Promise.reject({$:!1});if(this.kk)return this.qKb();this.RUa || (this.RUa=this.TUa());return this.RUa.then(function(y){return x.rKb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.rq=function(){return this.jO;};c.prototype.Qo=function(){return this.YDb;};c.prototype.Or=function(x,y){var z;try{return null === (z=this.Zwa) || void 0 === z?void 0:z.Or(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.kk});}};c.prototype.GHb=function(){var x,y,z;if(!(0,n.Zc)(this.Z))try{z=null === (y=null === (x=this.Zwa) || void 0 === x?void 0:x.XG(0)) || void 0 === y?void 0:y[0];this.Z=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.Z;};c.prototype.T$=function(x){return this.j.state.value === q.Rb.CLOSING || this.j.state.value === q.Rb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.kc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.ITa=function(x){var y,z,A;y=this;z=(0,g.Jh)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.JTa)(this.j,z,this.request,this);A=new (m.config.g2b && !this.kk?t.REa:w.default)(z,x);A.on("ready",function(){y.Zwa=A;});return A;};c.prototype.qKb=function(){var x,y,z,A,B,E,D;x=this;if(!this.U_a){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",eRa:!1,Mra:this.xu.offset,k3a:this.xu.length,Ed:this.j.mediaTime.value || 0,bufferSize:m.config.PJb,E$:{pa:this.j.vV()}};z=(this.qla || []).filter(function(F){return (F.id in x.pw);}).sort(function(F,C){return F.jc - C.jc;}).map(function(F){return F.id;});A=0;B={};E=!0;D=function(F,C){var G;if((0,n.Zc)(F)){if(E || x.T$(x.au(x.Nt,"","image"))){E=!1;x.xu.url=x.pw[x.Nt];y.url=x.xu.url;B[F]=(B[F] || 0) + 1;G=x.ITa(y);G.on("ready",function(){C({$:!0,track:x});});G.on("error",function(K){var J;K=Object.assign({$:!1},K);J=x.au(x.Nt,x.xu.url,"image");J.details={midxoffset:x.xu.offset,midxsize:x.xu.length};J.errorstring=K.errorString;B[F] <= m.config.fab?(x.w5(J,!0,"retry with current cdn"),x.Kia(B[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.au(x.Nt,"","image"));D(x.Nt,C);})):(x.Nt=z[A++],x.Nt?(x.w5(J,!0,"retry with next cdn"),x.Kia(B[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.au(x.Nt,"","image"));D(x.Nt,C);})):(x.w5(J,!1,"all cdns tried"),C({$:!1,zPb:"all cdns failed for image subs",track:x})));});G.start();}else C({$:!1,aborted:!0});}else (C({$:!1,zPb:"cdnId is not defined for image subs downloadUrl"}),x.w5(x.au(0,"","image"),!1,"cdnId is undefined"));};this.Nt=z[A++];this.U_a=new Promise(function(F,C){D(x.Nt,function(G){G.$?(x.log.info("Loaded image subtitle manager"),x.state=v.PE,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=v.pR,C(G));});});}return this.U_a;};c.prototype.rKb=function(x){var y,z;y=this;z=this.j.fB;(0,k.gb)(z);return new Promise(function(A,B){var E;E=y.ITa({profile:y.profile,xml:x,mj:m.config.qxa,preferences:m.config.qaa,Ed:y.j.mediaTime.value || 0,eRa:!1,videoSize:z});E.on("ready",function(){A(E);}).on("error",function(D){B({$:!1,error:D});}).start();}).then(function(){y.state=v.PE;return {$:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",(0,u.Ws)(A),y.Ri,{url:A.url});y.state=v.pR;A.reason="parseerror";A.track=y;throw A;});};c.prototype.w5=function(x,y,z){x=Object.assign({},x,{wdc:y,status:z});this.j.fireEvent(q.ca.HP,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,Ls:this.Ls,responseType:l.cW,headers:{},tc:this.cna(this.Nt)};this.j.S6.download(x,function(A){z.log.trace("imgsub: request status " + A.$);A.$?y(null,new Uint8Array(A.content)):y({na:A.na,rf:A.rf});});};c.prototype.au=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Bc,subtitletype:z,bcp47:this.Xd,trackId:this.trackId,cdnCount:Object.keys(this.pw).length,isImageBased:this.kk};};c.prototype.cna=function(x){return (this.qla || []).find(function(y){return y.id === x;});};c.prototype.TUa=function(){var A,B;function x(E){return (0,f.__awaiter)(A,void 0,void 0,function F(){var C,G,K;G=this;return Ja(F,function(J){C=z();K=G.au(E.tc.id,E.url,"text");K.errorstring=E.reason;return C && G.T$(K)?J.return(G.Kia(B[C.id]).then(y)):J.return(Promise.reject({$:!1,aborted:!0}));});});}function y(){return (0,f.__awaiter)(A,void 0,void 0,function D(){var F,C,G;C=this;return Ja(D,function(K){G=(F=z()) && C.pw[F.id];return F && G?(B[F.id]=(B[F.id] || 0) + 1,K.return(C.UAb(G,F).catch(x))):K.return(Promise.reject({}));});});}function z(){return (A.qla || []).find(function(E){return ! !((B[E.id] || 0) < m.config.fab && A.pw[E.id]);});}A=this;this.state=v.LOADING;B={};return y();};c.prototype.Kia=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.UAb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({tc:y.id}),this.au(y.id,x,"text"));return new Promise(function(A,B){var E;E={responseType:l.Woa,url:x,track:z,tc:y,HC:"tt-" + z.Xd};z.j.S6.download(E,function(D){D.$?A(D.content):(D.reason="downloadfailed",D.url=E.url,D.track=z,D.tc=y,B(D));});});};b.oF=c;c.HB=v;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;c=a(8);f=a(3);l=a(473);m=a(474);d=a(62);b.Aya=function(g,h){var k,n;try{n=(0,l.mcb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Uf)(function(){if(n && n.documentElement)try{k=(0,m.ncb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Uf)(function(){k?h({$:!0,object:k}):h({$:!1,na:f.L.ECa});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Una:function(){return this.buffer.length - this.position;},GA:function(){return this.buffer[this.position++];},Oh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Fq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},uua:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},vh:function(){return this.Fq(2);},Gq:function(){return this.Fq(4);},OO:function(){return this.Fq(8);},dx:function(a){for(var c,f="";a--;){c=this.GA();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},xua:function(a){for(var c=0,f=0;f < a;f++){c+=this.GA() << (f << 3);}return c;},NO:function(){return this.xua(4);},j_:function(a){this.eQ(a,2);},kB:function(a){this.eQ(a,4);},dba:function(a){this.buffer[this.position++]=a;},eQ:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},jB:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},i_:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},dQ:function(a,c){this.i_(a.Oh(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kFa="LogMessageRulerConfigSymbol";b.mFa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wda="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q0="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uda="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,g,h,k,n,p;function c(q,u,t,w){this.xa=q;this.z6=u;this.Ba=t;this.profile=w;}function f(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=b.Z0=void 0;r=a(1);d=a(0);g=a(38);h=a(4);k=a(13);n=a(18);a=a(94);m.prototype.encode=function(q){return {downloadableId:q.Bc,duration:q.duration};};m.prototype.decode=function(q){return {Bc:q.downloadableId,duration:q.duration};};l.prototype.encode=function(q){return {total:q.total,totalContentTime:q.hJ,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};l.prototype.decode=function(q){var u;return {total:q.total,hJ:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};f.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ba,movieId:q.J,position:q.position,clientTime:q.fU,sessionStartTime:q.NY,videoTrackId:q.$P,audioTrackId:q.sn,timedTextTrackId:q.OP,mediaId:q.WN,playTimes:new l().encode(q.MX),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Lm,mdxControllerEsn:q.xra,profileId:q.profileId};};f.prototype.decode=function(q){return {type:q.type,href:q.href,ba:q.xid,J:q.movieId,position:q.position,fU:q.clientTime,NY:q.sessionStartTime,$P:q.videoTrackId,sn:q.audioTrackId,OP:q.timedTextTrackId,WN:q.mediaId,MX:new l().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Lm:q.sessionParams,xra:q.mdxControllerEsn,profileId:q.profileId};};b.Z0=f;c.prototype.create=function(q){var u,t,w;return {href:q.oa && q.oa.mk?q.oa.mk.EV("events").href:"",type:"online",ba:q.ba.toString(),J:q.J,position:Math.floor(q.Hka || 0),fU:this.xa.LY.da(h.ja),NY:q.qH?q.qH.da(h.ja):-1,$P:null === (u=q.yg.value) || void 0 === u?void 0:u.trackId,sn:null === (t=q.pc.value) || void 0 === t?void 0:t.trackId,OP:null === (w=q.kc.value) || void 0 === w?void 0:w.trackId,WN:void 0,MX:this.$Gb(q),trackId:void 0 !== q.Dj?q.Dj.toString():"",sessionId:this.z6().sessionId || this.Ba.id,appId:this.z6().appId || this.Ba.id,Lm:q.bb.Lm || ({}),profileId:this.profile};};c.prototype.kyb=function(q,u){return Object.assign({},this.create(q),{xra:u && u.k4});};c.prototype.load=function(q){return new f().decode(q);};c.prototype.Pna=function(q){return q.map(function(u){return {Bc:u.downloadableId,duration:u.duration};});};c.prototype.$Gb=function(q){return (q=q.Ml)?(q=q.ZGb(),{total:q.total,hJ:q.totalContentTime,audio:this.Pna(q.audio),video:this.Pna(q.video),text:this.Pna(q.timedtext)}):{total:0,hJ:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(g.Vh)),(0,r.__param)(1,(0,d.l)(k.ad)),(0,r.__param)(2,(0,d.l)(n.kd)),(0,r.__param)(3,(0,d.l)(a.TR))],p);b.cIa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iIa="PboPlaydataValidatorSymbol";b.$Ha="PboPlaydataArrayValidatorSymbol";b.bIa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.K_=void 0;f=a(11);c.qka=function(l){var m;if(f.Be.queryCommandSupported && f.Be.queryCommandSupported("copy")){m=f.Be.createElement("textarea");m.textContent=l;m.style.position="fixed";f.Be.body.appendChild(m);m.select();try{f.Be.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Be.body.removeChild(m);}}};b.K_=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.eda=void 0;b.eda=a;a.Keb="display";a.aeb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zW=void 0;b.zW=function(a,c,f){var l;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=f.get;f.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sea=b.kK=void 0;r=b.kK || (b.kK={});r.M_b="taskstart";r.K_b="taskabort";r.L_b="taskfail";r.N_b="tasksuccess";b.sea="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sba="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cza="AsePrefetcherAdapterSymbol";b.dza="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xda="PboPublisherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cba=b.de=void 0;r=b.de || (b.de={});r[r.cp=0]="startPlayback";r[r.$p=1]="endPlayback";r[r.Zn=2]="underflow";b.Cba="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.VI=void 0;c=a(12);f=a(14);l=a(61);m=a(51);d=a(3);g=a(21);h=a(8);k=a(24);n=a(11);p=a(297);q=a(19);r=a(31);h.ka.get(r.ih).register(d.M.YDa,function(u){var v,x,y;function t(){var z;t=c.rl;z=setInterval(w,f.config.jNb);l.ve.addListener(l.Gl,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,k.te)(x,function(B,E){localStorage.removeItem(E.Yr);}),clearInterval(z));},c.fF);}function w(){var z;z=(0,m.Z3)();(0,k.te)(x,function(A,B){!1;A=localStorage.getItem(B.Yr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.Yr,JSON.stringify(A));});}(0,g.gb)(p.storage);v=(0,h.Oi)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.VI={By:function(z,A,B){var D,F,C,G,K,J,I,M,R,H;function E(P){localStorage.setItem(C,JSON.stringify(P));P={Yr:C};x[C]=P;v.trace("Lock acquired",{Name:P.Yr});t();A({$:!0,a8:P});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,m.Z3)();C="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){K=localStorage.getItem(C);J=0;I=JSON.parse(K);(0,q.Wz)(I.updated) && (J=I.updated);M=(0,n.VE)(F - J) * c.Ul;R=y === I.sessionId;if(M < f.config.L1a){if(R)(I.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:I.count}),I.updated=F,E(I));else if(B){H=f.config.L1a - M + c.Ul;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:I.count,Epoch:F,LockEpoch:J,waitTimeoutMs:H});nb.setTimeout(function(){return D.By(z,A,!1);},H);}else A({$:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:J}),E(G));}else E(G);}catch(P){v.error("Error acquiring Lock",{errorSubCode:d.L.Jj,errorDetails:(0,k.wd)(P)});A({$:!0});}}else (n.Fqa?v.error("Local storage access exception",{errorSubCode:d.L.hkb,errorDetails:(0,k.wd)(n.Fqa)}):v.error("No localstorage",{errorSubCode:d.L.ikb}),A({$:!0}));},release:function(z,A){var B,E;(0,g.gb)(x[z.Yr] == z);if(localStorage){try{B=localStorage.getItem(z.Yr);E=JSON.parse(B);1 < E.count?(--E.count,localStorage.setItem(z.Yr,JSON.stringify(E)),v.trace("Lock count decremented",{Name:z.Yr,count:E.count})):(localStorage.removeItem(z.Yr),delete x[z.Yr],v.trace("Lock released",{Name:z.Yr}));}catch(D){v.error("Unable to release Lock",{Name:z.Yr},D);}A && A(c.Ze);}}};f.config.b5?b.VI.By("session",function(z){b.VI.M8a=z;u(c.Ze);}):u(c.Ze);});},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(14);f=a(12);l=a(526);r=a(3);m=a(527);d=a(529);g=a(8);a=a(31);b.storage=b.storage || void 0;g.ka.get(a.ih).register(r.M.XDa,function(h){var k;switch(c.config.LZb){case "idb":k=m.f$a;break;case "none":k=l.h$a;break;case "ls":k=d.g$a;}k(function(n){n.$?(b.storage=n.storage,h(f.Ze)):h(n);});});},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w;function c(v,x){var z;function y(){function A(B,E){return E.we && 0 !== E.we.length && E.we[0].BH?(0,l.IA)(v,E).then(function(){z.trace("Successfully released license for session",JSON.stringify(E));return B?B.qY(E):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({ac:E,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.qY(E):Promise.resolve());}f(z).then(function(B){var E;E=B.U4.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(E).then(function(){z.info("release drm session completed for " + E.length + " entries");x(m.Ze);}).catch(function(D){D=D || ({});D.DrmCacheSize=E.length;z.error("Unable to release one or more DRM session data",D);x(m.Ze);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.Ze);});}z=(0,k.Oi)("PlayDataManager");x=x || m.rl;d.config.ip?x(m.Ze):y();}function f(v){var x;if(!b.ula){x=k.ka.get(n.Tba);b.ula=new Promise(function(y,z){x.N6a().then(function(){y(x);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.ula;}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=b.uIa=b.ula=void 0;l=a(299);m=a(12);d=a(14);g=a(61);h=a(34);k=a(8);r=a(3);n=a(203);p=a(153);q=a(15);u=a(49);t=a(31);w=a(199);b.uIa=function(v){var z,A,B,E,D,F;function x(){A || (v.Dd("pdsb"),A=k.ka.get(p.NR)().then(function(C){E=C;v.Dd("pdsc");return C;}).catch(function(C){z.error("Unable to initialize the playdata services",C);v.Dd("pdse");throw C;}));return A;}function y(){B=!0;E && E.close();g.ve.removeListener(g.Gl,y);}z=(0,k.Jh)(v,"PlayDataManager");B=!1;D=k.ka.get(h.CB);if(!D.OJ || !D.MJ){F=k.ka.get(w.cea)();D.OJ=F.ac;D.MJ=F.request;}v.Dd("pdctor");v.addEventListener(q.ca.mg,function(){g.ve.removeListener(g.Gl,y);});v.addEventListener(q.ca.NN,function(){var C;if(!d.config.ip && v.qf){C=v.j4.rTa();f(z).then(function(G){return G.EPa(C);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ca.mg,function(){var C;if(!B){v.Y2b();C=[(function(){return d.config.ip || !v.qf?Promise.resolve():new Promise(function(G){var K;z.info("Sending the expedited playdata");K=v.j4.rTa();v.qf.VVa(K).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(J){return J?J.qY(K):Promise.resolve();}).then(function(){G(void 0);}).catch(function(J){z.error("Unable to send the expedited playdata",J);G();});});})(),(function(){return x().then(function(G){return G.fZ(v.ha);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){k.ka.get(u.Xm).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){v.i9();}).catch(function(){v.i9();});}});g.ve.addListener(g.Gl,y);return {AXb:function(C){v.Dd("pdpb");d.config.J$ || x().then(function(G){return G.send(v.J);}).then(function(){d.config.ip?(v.Dd("pdpc"),C(m.Ze)):c(v,function(){v.Dd("pdpc");C(m.Ze);});}).catch(function(){v.Dd("pdpe");C(m.Ze);});}};};b.vIa=function(){return new Promise(function(v){c({},function(x){v(x);});});};k.ka.get(t.ih).register(r.M.uB,function(v){v(m.Ze);});},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w;function c(v){var x;x=this;this.j=v;this.y1a=!1;this.log=(0,m.Jh)(this.j,"Playback");this.MN=m.ka.get(p.qR);this.$g=m.ka.get(u.$s);this.sSb=m.ka.get(t.Sda);this.j.addEventListener(q.ca.NN,function(){return x.V1b();});(0,d.gb)(l.config);l.config.ip || (this.eBb=m.ka.get(g.FBa));}function f(v,x){var z;function y(A){return A && 0 < A.length && A[0].BH;}z=m.ka.get(p.qR);return v.ba && y(v.we)?z.release({ba:v.ba,we:v.we}).then(function(){}):x.ba && y(x.we)?z.release(x).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.IA=b.LAa=void 0;l=a(14);m=a(8);d=a(21);g=a(317);h=a(3);k=a(63);n=a(19);p=a(188);q=a(15);u=a(66);t=a(300);w=a(34);c.prototype.bH=function(v){var x;x=this;return new Promise(function(y,z){var A,B,E;A=k.co.iTa(v.Xf);B=v.ck.map(function(D){return {sessionId:D.sessionId,dataBase64:(0,m.sC)(D.data)};});E=x.j.bHb(v.ck[0].sessionId);A={Ti:E.Ti,Xf:n.is.pn(v.Xf)?v.Xf:A,T4:[E.sm],ck:B,ba:E.ba,Fo:v.Fo,mk:E.oa.mk};x.j.cM && x.j.cM.k4 && (A.SW=x.j.cM.k4);x.MN.By(A).then(function(D){x.j.we=D.we;y(D);x.DDb(E);}).catch(z);});};c.prototype.release=function(v){return f(this.j,v);};c.prototype.rTa=function(){var v;v=this.eBb.create();v.we=this.j.we;v.ba=this.j.ba;v.J=this.j.J;return v;};c.prototype.DDb=function(v){this.y1a || (this.y1a=!0,this.j.fireEvent(q.ca.NN,{J:v.J}));};c.prototype.V1b=function(){var v,x;v=this;x=m.ka.get(w.Ik);this.$g.Opa || c.rbb || (c.rbb=!0,x.kya && l.config.U1b && l.config.sJ && this.sSb.pg(this.log,{}).then(function(){return v.log.trace("Updated NetflixId");}).catch(function(y){return v.log.error("NetflixId upgrade failed",(0,h.Ws)(y));}));};b.LAa=c;c.rbb=!1;b.IA=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sda="PboBindCommandSymbol";},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function f(v,x,y,z,A){var B,E;B=this;this.j=v;this.type=x;this.FMa=z;this.log=A;this.l2=new g.dc(!1);this.yF={data:[],state:"",operation:""};this.mimeType=this.YVa((this.type === l.Tb.Ta.Nb?this.j.yg.value:this.j.pc.value).streams);this.mt=new h.Hk();this.Ega={Type:this.type};if(d.config.uD){E=!0;this.vma=new g.dc(!1);}this.log.trace("Adding source buffer",this.Ega,{TypeId:this.mimeType});this.sd=y.addSourceBuffer(this.mimeType);this.sd.addEventListener("updatestart",function(){!1;B.yF.state="updatestart";});this.sd.addEventListener("update",function(){!1;B.yF.state="update";});this.sd.addEventListener("updateend",function(){var D;!1;B.l2.set(!1);B.MMa && B.MMa();B.yF.state="updateend";D=0;try{D=B.sd.buffered.length;}catch(F){}E && D && (E=!1,B.vma.set(!0),!1);});this.sd.addEventListener("error",function(D){var F;!1;try{F=D.target.error && D.target.error.message;(D.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(C){}v.Yd(n.M.kjb,(0,m.b6)(B.type));});this.sd.addEventListener("abort",function(){!1;});v.addEventListener(u.ca.closed,function(){B.sd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.leb=b.tda=void 0;l=a(44);m=a(185);d=a(14);g=a(80);h=a(73);k=a(8);a(98);n=a(3);a(4);p=a(21);q=a(19);u=a(15);t=a(155);w=a(191);f.prototype.Ih=function(){return this.l2.value;};f.prototype.updating=function(){return this.sd?this.sd.updating:!1;};f.prototype.P$=function(v){this.MMa=v;};f.prototype.W5=function(){return this.yF;};f.prototype.buffered=function(){return this.sd.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.Q5=function(){var v,x,y,z,A,B,E;try{v=this.sd.buffered;x=0;if(v){y=[];z=0;A=v.length;for(z=0;z < A;z++){B=v.start(z);E=v.end(z);x+=E - B;(0,p.gb)(E > B);y.push(B + "-" + E);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};f.prototype.vQa=function(v,x){!1;try{(0,p.gb)(this.sd.buffered && 1 >= this.sd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.Q5()));}catch(y){}(0,p.gb)(!this.Ih());this.t9a("append",v);x=x && x.Su / 1E3;(0,q.Ca)(x) && this.sd.timestampOffset !== x && (!1,this.sd.timestampOffset=x);this.sd.appendBuffer(v);!1;this.l2.set(!0);};f.prototype.remove=function(v,x){(0,p.gb)(!this.Ih());try{this.t9a("remove");!1;this.sd.remove(v,x);this.l2.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Ega);}};f.prototype.t9a=function(v,x){this.yF.data=x || [];this.yF.state="init";this.yF.operation=v;};f.prototype.xYb=function(v,x){this.qMb=Math.floor(1E3 * v / x);};f.prototype.yub=function(v){var x;if(this.sd){if((v=this.YVa([{type:this.cwb,oh:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.sd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.sd.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Ega,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(v,x){!x || x.cd?this.iia(v,x):this.o3(v,x);return !0;};f.prototype.iia=function(v,x){this.j.$f.iia(this,v,x || ({}));};f.prototype.o3=function(v,x){v=this.Wvb(v,x);!1;this.j.$f.o3(v);};f.prototype.Wvb=function(v,x){var y;y=this.qMb || 0;return {nSa:function(){this.response=void 0;},li:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.wc.Uc.DONE,DA:x.Z,ax:x.Z + x.duration,Jr:x.duration,Su:y,ek:x.ek,ya:x.ya,Pa:x.Pa,Nd:+x.Nd,location:x.location,SL:x.offset,RL:x.offset + x.fa - 1,bitrate:x.bitrate,response:v,MZa:v && 0 < v.byteLength,nD:!0,get cd() {return !this.nD;},w8a:this.Sj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ya,isHeader:this.cd,ptsStart:this.DA,ptsOffset:this.Su,responseType:this.e9b,duration:this.Jr,readystate:this.Ch};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var v;this.j.cG("EndOfStream");null === (v=this.j.$f) || void 0 === v?void 0:v.j9(this.mediaType);};f.prototype.addEventListener=function(v,x,y){this.mt.addListener(v,x,y);};f.prototype.removeEventListener=function(v,x){this.mt.removeListener(v,x);};f.prototype.YVa=function(v){var x;x=k.ka.get(t.YR);return this.type === l.Tb.Ta.Nb?x.q4(v):x.n4(v);};Wa.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},K3:{configurable:!0,enumerable:!0,get:function(){return this.FMa.K3;}},ZY:{configurable:!0,enumerable:!0,get:function(){return this.FMa.ZY;}},cwb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.tda=f;na(c,Error);b.leb=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.OTa=b.ara=void 0;c=a(21);f=a(24);l=a(19);(function(){var d,g,h;function m(k){(0,c.gb)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.OTa=function(k){return (0,l.Zc)(k)?(0,l.Ca)(k)?k:(0,l.Se)(k)?k.replace(g,m):(0,l.zpa)(k)?k:isNaN(k)?"NaN":"":"";};b.ara=function(k){var n,p;n=b.OTa;p="";(0,f.te)(k,function(q,u){q=n(q) + "=" + n(u);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nj=void 0;r=b.Nj || (b.Nj={});r[r.R9a=1]="sourceopen";r[r.Wp=2]="currentTimeChanged";r[r.HY=3]="seeked";r[r.x1a=5]="licenseadded";r[r.Q9a=6]="sourceBuffersAdded";r[r.r9=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(l,m){var d;d=this;this.wk=l;this.ah=m;this.addEventListener=function(g,h,k){return d.ah.addListener(g,d.dUa(g,h),k);};this.removeEventListener=function(g,h){return d.ah.removeListener(g,d.dUa(g,h));};this.getReady=function(){return d.ah.isReady();};this.getXid=function(){return d.Bb().Gz();};this.getMovieId=function(){return d.Bb().FYa();};this.getPlaygraphId=function(){return d.ah.dHb();};this.getElement=function(){return d.ah.Fn();};this.isPlaying=function(){return d.Bb().sq();};this.isPaused=function(){return d.Bb().qW();};this.isMuted=function(){return d.Bb().Lpa();};this.isReady=function(){return d.Bb().isReady();};this.isBackground=function(){return d.Bb().g0a();};this.setBackground=function(g){return d.Bb().Xva(g);};this.startInactivityMonitor=function(){return d.Bb().CP();};this.setTransitionTime=function(g){return d.Bb().mwa(g);};this.getDiagnostics=function(){return d.Bb().HXa();};this.getTextTrackList=function(g){return d.Bb().loa(g);};this.getMaxRecommendedTextIndex=function(g){return d.Bb().Bna(g);};this.getTextTrack=function(){return d.Bb().koa();};this.setTextTrack=function(g){return d.Bb().iwa(g);};this.getVolume=function(){return d.Bb().AZa();};this.isEnded=function(){return d.Bb().Dpa();};this.getBusy=function(){return d.Bb().Ih();};this.getError=function(){return d.Bb().getError();};this.getCurrentTime=function(){return d.Bb().bu();};this.getBufferedTime=function(){return d.Bb().nXa();};this.getSegmentTime=function(){return d.Bb().T5();};this.getDuration=function(){return d.Bb().gna();};this.getVideoSize=function(){return d.Bb().zZa();};this.getAudioTrackList=function(){return d.Bb().eXa();};this.getMaxRecommendedAudioIndex=function(){return d.Bb().yYa();};this.getAudioTrack=function(){return d.Bb().dXa();};this.getTimedTextTrackList=function(g){return d.Bb().loa(g);};this.getMaxRecommendedTimedTextIndex=function(g){return d.Bb().Bna(g);};this.getTimedTextTrack=function(){return d.Bb().koa();};this.shouldUseProjectSalsaUI=function(){return d.Bb().B9a();};this.getAdditionalLogInfo=function(){return d.Bb().aXa();};this.getTrickPlayFrame=function(g){return d.Bb().wZa(g);};this.getSessionSummary=function(){return d.Bb().boa();};this.getTimedTextSettings=function(){return d.Bb().QV();};this.setMuted=function(g){return d.Bb().c9a(g);};this.setVolume=function(g){return d.Bb().o9a(g);};this.getPlaybackRate=function(){return d.Bb().Ko();};this.setPlaybackRate=function(g){return d.Bb().d9a(g);};this.setAudioTrack=function(g){return d.Bb().P8a(g);};this.setTimedTextTrack=function(g){return d.Bb().iwa(g);};this.setTimedTextSettings=function(g){return d.Bb().sP(g);};this.prepare=function(){return d.Bb().iI();};this.load=function(){return d.Bb().load();};this.close=function(g){return d.yQa(d.ah.close(),g);};this.play=function(){return d.Bb().play();};this.pause=function(){return d.Bb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.yQa(d.Bb().DM(g),h);};this.induceError=function(g){return d.Bb().J_a(g);};this.loadCustomTimedTextTrack=function(g,h,k,n){return d.Bb().D1a(g,h,k,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Bb().U5();};this.getCropAspectRatioXandY=function(){return d.Bb().BXa();};this.generateScreenshots=function(g){return d.Bb().WWa(g);};this.getCurrentSegmentId=function(){return d.ah.DXa();};this.getPlaygraphMap=function(){return d.ah.fH();};this.updatePlaygraphMap=function(g){return d.ah.VP(g);};this.Wla=new Map();this.log=(0,f.Oi)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.y1=void 0;f=a(8);a(98);c.prototype.Bb=function(){return this.ah.Bb();};c.prototype.dUa=function(l,m){var d;this.Wla.has(l) || this.Wla.set(l,new Map());d=this.Wla.get(l);d.has(m) || d.set(m,this.Dzb(l,m));return d.get(m);};c.prototype.Dzb=function(l,m){var d;d=this;return function(g){return m(Object.assign({},g,{type:l,target:d}));};};c.prototype.yQa=function(l,m){return m?l.then(m,m):l;};b.y1=c;},function(r,b,a){b=a(248);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ea:Date.now;},function(r){r.exports={Bx:{Wea:0,eKa:1,sl:2,name:["transient","semiTransient","permanent"]},wx:{DCa:0,dKa:1,i1:2,KR:3,Ux:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},L8b:{A8b:0,n6b:1,q4b:2,Ux:100,name:["trailer","montage","content"]},yv:{GEa:0,KJa:1,Gkb:2,ifb:3,Ux:100,name:["left","right","up","down"]},oR:{feb:0,i1:1,K5b:2,h5b:3,J3b:4,J5b:5,Xcb:6,Ux:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},WJ:{KR:0,VAa:1,Ux:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(){}f.prototype.zXa=function(l){var m;m=Reflect.getMetadata(c.Hda,l);l=Reflect.getMetadata(c.eLa,l);return {JSa:m,q2b:l || ({})};};f.prototype.gHb=function(l){return Reflect.getMetadata(c.fLa,l) || [];};return f;})();b.vda=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.F0a=function(f){return f instanceof RangeError || f.message === c.dkb;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);m=a(93);r=(function(){function d(g){this.Blb=g;}d.prototype.m1b=function(){return this.Blb();};return d;})();b.Yca=r;b.l=function(d){return function(g,h,k){var n;if(void 0 === d)throw Error(c.Ekb(g.name));n=new l.Metadata(f.mR,d);"number" === typeof k?m.$I(g,h,k,n):m.sZ(g,h,n);};};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(107);l=a(65);m=a(569);r=(function(){function d(g,h,k,n){this.id=f.id();this.type=g;this.Ng=k;this.name=new m.Hjb(h || "");this.Gc=[];g=null;"string" === typeof n?g=new l.Metadata(c.zB,n):n instanceof l.Metadata && (g=n);null !== g && this.Gc.push(g);}d.prototype.RZa=function(g){for(var h=0,k=this.Gc;h < k.length;h++){if(k[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.RZa(c.TE);};d.prototype.XNb=function(g){return this.mra(c.TE)(g);};d.prototype.Mpa=function(){return this.RZa(c.zB);};d.prototype.Zpa=function(){return this.Gc.some(function(g){return g.key !== c.mR && g.key !== c.TE && g.key !== c.K0 && g.key !== c.dS && g.key !== c.zB;});};d.prototype.x0a=function(){return this.mra(c.XGa)(!0);};d.prototype.FGb=function(){return this.Mpa()?this.Gc.filter(function(g){return g.key === c.zB;})[0]:null;};d.prototype.qFb=function(){return this.Zpa()?this.Gc.filter(function(g){return g.key !== c.mR && g.key !== c.TE && g.key !== c.K0 && g.key !== c.dS && g.key !== c.zB;}):null;};d.prototype.mra=function(g){var h;h=this;return function(k){var q;for(var n=0,p=h.Gc;n < p.length;n++){q=p[n];if(q.key === g && q.value === k)return !0;}return !1;};};return d;})();b.s1=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);f=a(197);r=(function(){function l(m){this.Ec=m;this.mS=new f.Nba(this.Ec);this.ufa=new c.E_(this.Ec);}l.prototype.when=function(m){return this.mS.when(m);};l.prototype.f_=function(){return this.mS.f_();};l.prototype.Sw=function(m){return this.ufa.Sw(m);};return l;})();b.AE=r;},function(r,b,a){var l;function c(m){return function(d){function g(h){return null !== h && null !== h.target && h.target.mra(m)(d);}g.f3a=new l.Metadata(m,d);return g;};}function f(m,d){m=m.vA;return null !== m?d(m)?!0:f(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(43);l=a(65);b.Cab=f;b.K$a=c;a=c(r.zB);b.J3a=a;b.Jab=function(m){return function(d){var g;if(null !== d){g=d.TT[0];return "string" === typeof m?g.Ng === m:m === d.TT[0].xm;}return !1;};};},function(r,b,a){var l;function c(m,d){this.xg=d;this.eA=Math.floor(m);this.display=this.eA + " " + this.xg.name;}function f(m,d,g){this.xg=m;this.name=d;this.yl=g?g:this;(0,l.So)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Xs=b.eS=void 0;l=a(56);f.prototype.$U=function(m){return this.xg == m.xg;};f.prototype.toJSON=function(){return this.name;};b.eS=f;c.prototype.da=function(m){return this.xg.$U(m)?this.eA:Math.floor(this.eA * this.xg.xg / m.xg);};c.prototype.d6a=function(m){return this.xg.$U(m)?this.eA:this.eA * this.xg.xg / m.xg;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.eA,units:this.xg.name};};c.prototype.add=function(m){return this.FSa(m);};c.prototype.Ma=function(m){return this.FSa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.xg.yl) * m,this.xg.yl);};c.prototype.Al=function(m){return this.da(this.xg.yl) - m.da(this.xg.yl);};c.prototype.$U=function(m){return 0 == this.Al(m);};c.prototype.Q0a=function(){return 0 == this.eA;};c.prototype.Npa=function(){return 0 > this.eA;};c.prototype.oLb=function(){return 0 < this.eA;};c.prototype.FSa=function(m,d){d=void 0 === d?function(g){return g;}:d;return new c(this.da(this.xg.yl) + d(m.da(this.xg.yl)),this.xg.yl);};b.Xs=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FBa="DrmDataFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){this.version=m;this.yO=d;this.k$a=g;this.Xn=h;this.nx=k;this.hw=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Pca=void 0;f=a(3);l=a(41);c.prototype.load=function(m){return this.WMb(m);};c.prototype.add=function(m){this.hw.push(m);return this.nta();};c.prototype.remove=function(m,d){m=this.qXa(this.UM(m,d));return 0 <= m?(this.hw.splice(m,1),this.nta()):Promise.resolve();};c.prototype.update=function(m,d){d=this.qXa(this.UM(m,d));return 0 <= d?(this.hw[d]=m,this.nta()):Promise.resolve();};c.prototype.WMb=function(m){var d;d=this;this.E1a || (this.E1a=new Promise(function(g,h){function k(n){d.Uzb().then(function(){h(n);}).catch(function(){h(n);});}d.doa().then(function(n){d.storage=n;return d.storage.load(d.yO);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.hw=p.data;g();}catch(q){k(q);}}).catch(function(n){n.na !== f.L.IB?h(n):g();});}));return this.E1a;};c.prototype.nta=function(){var m,d,g,h,k;m=this;if(!this.k$a)return Promise.resolve();if(this.caa){h=new Promise(function(n,p){d=n;g=p;});k=function(){m.caa=h;m.i$a().then(function(){d();}).catch(function(n){g(n);});};this.caa.then(k).catch(k);return h;}return this.caa=this.i$a();};c.prototype.i$a=function(){var m,d;m=this;d=this.nx();return new Promise(function(g,h){m.doa().then(function(k){return k.save(m.yO,d,!1);}).then(function(){g();}).catch(function(k){h(c.m0b(f.M.Vib,k));});});};c.prototype.Uzb=function(){var m;m=this;return this.k$a?new Promise(function(d,g){m.doa().then(function(h){return h.remove(m.yO);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.doa=function(){return this.storage?Promise.resolve(this.storage):this.Xn.create();};c.prototype.UM=function(m,d){for(var g=0;g < this.hw.length;++g){if(d(this.hw[g],m))return this.hw[g];}};c.prototype.qXa=function(m){return m?this.hw.indexOf(m):-1;};c.m0b=function(m,d){var g;if(d.na && d.cause)return new l.qd(m,d.na,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Cc){g=d.message?d.message + " ":"";d.code=m;d.message="" === g?void 0:g;return d;}return d instanceof Error?new l.qd(m,f.L.Jj,void 0,void 0,void 0,void 0,d.stack,d):new l.qd(m,f.L.Wl,void 0,void 0,void 0,void 0,void 0,d);};b.Pca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xea="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HBa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jCa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gCa=b.rF=void 0;r=b.rF || (b.rF={});r[r.Request=0]="Request";r[r.PJa=1]="Renewal";b.gCa="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.n1=void 0;a.eKb=function(c){return "ID" + (c + 1);};a.r$a=function(c){return Number(c.substr(2)) - 1;};b.n1=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D;function c(F,C,G,K,J,I,M,R){var H;H=this;this.Ba=C;this.Ly=G;this.config=K;this.Dh=J;this.Tl=I;this.Fo=M;this.Zo=R;this.keyStatuses=new z.dc({});this.Nsa=function(P){var N,L,Q,S,U,ca;try{L=H.Tl.pka(P);Q=L.HH;S=L.messageType;U=L.sessionId;H.Ew=H.Ew || L.Ew;H.OY(U);H.log.trace("Received " + P.type + " event",{sessionId:U,messageType:S,keyIds:H.Ew});S === b.kda && (H.log.trace("Received a renewal request"),H.Xf=n.Yh.up,H.cl=E.sI);H.cl === E.Ig && H.Lp(p.Us.Z6a);H.cl === E.sI && H.Lp(p.Us.$6a);ca={ck:Q,aSa:S,Xf:H.Xf};null === (N=H.ZQb) || void 0 === N?void 0:N.call(H,ca);H.EW && (H.Goa(Q)?H.sD(new y.qd(m.M.WBa)):(H.EW.resolve(ca),H.EW=void 0));}catch(ka){H.sD(ka);}};this.Lsa=function(P){var N,L,Q,S,U,ya,qa,Y,ua,O,T,ja,Ka,Ua,Ya,ab,ib,$a;Q=P.target;S=Q.keyStatuses;H.OY(Q.sessionId);H.log.trace("Received event: " + P.type);try{U=null === (L=null === (N=H.context) || void 0 === N?void 0:N.Ou) || void 0 === L?void 0:L.reduce(function(Sa,Da){Sa[Da.nj]=Da.yI.height;return Sa;},{});P=[];for(var ca=aa(S),ka=ca.next();!ka.done;ka=ca.next()){ya=aa(ka.value);qa=ya.next().value;Y=ya.next().value;ua=H.Ly.encode(new Uint8Array(qa));P.push({nj:ua,status:Y,height:null === U || void 0 === U?void 0:U[ua]});}P.sort(function(Sa,Da){return (Sa.height || 0) - (Da.height || 0);});O=P.map(function(Sa){return Sa.nj;});T=P.map(function(Sa){return Sa.height;});ja=P.map(function(Sa){return Sa.status;});H.log.trace("KeyStatus: " + O + ", " + T + ", " + ja);U={};for(var ma=aa(S),ta=ma.next();!ta.done;ta=ma.next()){Ka=aa(ta.value);Ua=Ka.next().value;Ya=Ka.next().value;ab=H.Ly.encode(new Uint8Array(Ua));ib=D[Ya];U[ab]=ib.status;if(H.t7(ab,ib.error)){$a=new v.Pg(ib.error);H.tW($a);}}H.keyStatuses.set(U);}catch(Sa){$a=new v.Pg(m.M.ejb);$a.FU(Sa);}$a?H.F7($a):(H.Tl.f4() || H.S0a(),H.Xf !== n.Yh.eo || H.Tl.Gia() || H.XVb());};this.Nn=function(P){var N;N=H.Tl.az(P);H.log.error("Received event: " + P.type,N);H.sD(N);H.F7(N);H.iq || H.tu || H.tW(N);};this.SQb=function(){H.log.error("MediaKeySession closed unexpectedly.");H.tW(new y.qd(m.M.Ffb));};this.sD=function(P){var N;H.iq && H.close().then(function(){var L;H.log.trace("Issuing a generate challenge error");null === (L=H.iq) || void 0 === L?void 0:L.reject(P);H.iq=void 0;},function(L){var Q;H.log.error("EmeSession closed with an error.",H.Tl.az(L));null === (Q=H.iq) || void 0 === Q?void 0:Q.reject(P);H.iq=void 0;});null === (N=H.EW) || void 0 === N?void 0:N.reject(P);};this.LLb=function(){var P;null === (P=H.iq) || void 0 === P?void 0:P.resolve();H.iq=void 0;};this.F7=function(P){H.log.error("Failed to add license",P);return H.close().then(function(){var N;H.log.trace("Issuing a license error");H.iq=void 0;null === (N=H.tu) || void 0 === N?void 0:N.reject(P);H.tu=void 0;},function(N){var L;H.log.error("EmeSession closed with an error.",H.Tl.az(N));H.cl === E.sI && H.Lp(p.Us.TPa);H.iq=void 0;null === (L=H.tu) || void 0 === L?void 0:L.reject(P);H.tu=void 0;}).then(function(){throw P;});};this.S0a=function(){H.tu && (H.log.info("Successfully added license"),H.cl === E.Ig?H.Lp(p.Us.JPa):H.cl === E.sI && H.Lp(p.Us.SPa),H.tu.resolve(),H.tu=void 0);};this.tW=function(P){H.close().then(function(){var N;H.log.trace("Issuing a CDM error");H.iq=void 0;H.tu=void 0;null === (N=H.w4a) || void 0 === N?void 0:N.call(H,P);},function(N){var L;H.log.error("EmeSession closed with an error.",H.Tl.az(N));H.iq=void 0;H.tu=void 0;null === (L=H.w4a) || void 0 === L?void 0:L.call(H,P);});};this.Lp=function(P){H.Sc.push({time:H.Ba.Xb(),XW:P});};this.u7a=!1;this.log=F.hb("EmeSession");this.cl=E.f1b;this.Sc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=b.kda=b.lda=void 0;r=a(1);f=a(0);l=a(4);m=a(3);d=a(18);g=a(7);h=a(36);k=a(70);n=a(58);p=a(326);q=a(206);u=a(137);t=a(204);w=a(323);v=a(95);x=a(64);y=a(41);z=a(80);A=a(620);B=a(57);(function(F){F[F.f1b=0]="unknown";F[F.create=1]="create";F[F.load=2]="load";F[F.Ig=3]="license";F[F.sI=4]="renewal";F[F.stop=5]="stop";F[F.closed=6]="closed";})(E || (E={}));b.lda="license-request";b.kda="license-renewal";D={usable:{status:q.uv.sbb},expired:{status:q.uv.St,error:m.M.kHa},released:{status:q.uv.released},"output-not-allowed":{status:q.uv.Q4a,error:m.M.lHa},"output-restricted":{status:q.uv.Q4a,error:m.M.Mda},"output-downscaled":{status:q.uv.TRb},"status-pending":{status:q.uv.GZb},"internal-error":{status:q.uv.yKb,error:m.M.djb}};c.prototype.$t=function(){return (0,B.yna)(this.FOb);};c.prototype.Bz=function(){return this.sessionId;};c.prototype.close=function(){var F;F=this;this.cl=E.closed;this.Sc=[];return this.Dh.uLb()?(this.log.trace("Closing the session"),this.Dh.o7a(this.Nsa),this.Dh.m7a(this.Lsa),this.Dh.k7a(this.Nn),this.mediaKeys=void 0,this.Zo.Jq(this.config.pQa,this.Dh.close()).then(function(){F.log.info("Closed the session");}).catch(function(C){F.log.error("Close failed",C);F.Tl.az(C).code=m.M.gjb;throw C;})):Promise.resolve(void 0);};c.prototype.Zt=function(){return this.Fo;};c.prototype.H6=function(){return void 0 !== this.oj;};c.prototype.createSession=function(F,C,G,K){var J;J=this;this.context=K;this.FOb=F;this.Xf=G;this.cl=E.create;this.Lp(p.Us.w1a);return (C.NZa()?Promise.resolve():this.Zo.Jq(this.config.qQa,this.Dh.createMediaKeys(F)).then(function(I){J.log.trace("Created media keys");C.setMediaKeys(I);return J.Krb(I);})).then(function(){J.mediaKeys=C.mediaKeys;try{J.Dh.createSession(J.mediaKeys,"temporary");J.Dh.MPa(J.Nsa);J.Dh.HPa(J.Lsa);J.Dh.FPa(J.Nn);J.Dh.Aqb(J.SQb);J.OY(J.Dh.Bz());}catch(I){return Promise.reject(new v.Pg(m.M.yfb,m.L.Jj,void 0,"Unable to create a persisted key session",I));}}).catch(function(I){return I.code && I.Cc?Promise.reject(I):Promise.reject(new v.Pg(m.M.LQ,I instanceof x.kr?m.L.MQ:m.L.Jj,void 0,"Unable to create MediaKeys. " + I.message,I));});};c.prototype.kYb=function(F){this.Si=F;this.log.CPa("xid",F.ba);};c.prototype.uEb=function(F){var C;C=this;return this.generateRequest(F).then(function(){C.log.trace("Returning the challenge promise");return C.EW.promise;});};c.prototype.vEb=function(F){this.generateRequest(F);return this.iq.promise;};c.prototype.IPa=function(F){this.we=F.we;F=F.oj.map(function(C){return C.data;});this.Goa(F)?(this.log.error("The license buffer is empty"),this.sD(new v.Pg(m.M.VBa,m.L.TBa))):(this.cl === E.Ig && (this.Lp(p.Us.Y6a),this.oj=F,this.YUa=this.Tl.aN(this.Ew,F),this.LLb()),this.cl === E.sI && (this.Lp(p.Us.a7a),this.oj=F,this.YUa=this.Tl.aN(this.Ew,F),this.lia()));};c.prototype.Lqb=function(F){this.cl === E.sI?(this.Lp(p.Us.b7a),this.tW(F)):this.sD(F);};c.prototype.lia=function(){var F,C;F=this;if(!this.oj)return this.F7(new v.Pg(m.M.VBa,m.L.YBa));this.tu=new A.$0();C=this.oj;this.oj=void 0;this.Zo.Jq(this.config.uQa,this.Dh.update(C,this.cl === E.Ig?w.rF.Request:w.rF.PJa,this.Ew)).then(function(){F.Tl.f4() && F.S0a();}).catch(function(G){G=F.Tl.az(G);G.code=m.M.X0;G.message="Unable to update the EME";F.log.error(G.message,G);F.F7(G);});return this.tu.promise;};c.prototype.dYb=function(F){this.ZQb=F;};c.prototype.YXb=function(F){this.w4a=F;};c.prototype.aN=function(){return this.YUa;};c.prototype.generateRequest=function(F){var C;C=this;this.cl=E.Ig;this.log.trace("Generating a license challenge");this.iq=new A.$0();this.EW=new A.$0();return F?this.Goa(F)?(F=new v.Pg(m.M.UBa,m.L.TBa),this.sD(F),Promise.reject(F)):this.Zo.Jq(this.config.rQa,this.Dh.generateRequest(this.Tl.DV(),F)).then(function(){C.OY(C.Dh.Bz());}).catch(function(G){var K,J;K=new v.Pg(m.M.e0,G instanceof x.kr?m.L.MQ:m.L.Jj);try{J=C.Tl.az(G);K.Kd=J.Kd;K.message="Unable to generate request.";K.FU(G);}catch(I){}C.log.error("Unable to generate a license request",K);C.sD(K);return Promise.reject(K);}):(F=new v.Pg(m.M.UBa,m.L.YBa),this.sD(F),Promise.reject(F));};c.prototype.Krb=function(F){var C,G;C=this;G=this.Tl.dna();return G?(G=this.Ly.decode(G),this.Zo.Jq(this.config.tQa,this.Dh.setServerCertificate(F,G)).then(function(K){C.log.trace("Set the server certificate",{result:K});})):Promise.resolve();};c.prototype.OY=function(F){F && F !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + F),this.sessionId=F,this.log.CPa("sessionId",F));};c.prototype.XVb=function(){var F;F=this;this.u7a || (this.u7a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.uD}),setTimeout(function(){F.rI();},this.config.uD.da(l.ja)));};c.prototype.DLb=function(F){var C,G;return !(null === (G=null === (C=this.context) || void 0 === C?void 0:C.Ou) || void 0 === G || !G.some(function(K){return K.nj === F && 1080 < K.yI.height;}));};c.prototype.t7=function(F,C){return C === m.M.Mda?this.DLb(F)?this.config.S4a:this.config.R4a:! !C;};c.prototype.rI=function(){this.log.trace("Initiating a renewal request");this.Xf=n.Yh.up;this.cl=E.sI;this.Tl.tja()?this.Tl.vpa(this.Dh):this.p4();};c.prototype.p4=function(){var F;F=this;this.Dh.p4(this.mediaKeys,"temporary",this.Nsa,this.Lsa,this.Nn).then(function(){F.log.debug("Creating session to renew license");F.OY(F.Dh.Bz());}).catch(function(){F.tW(new v.Pg(m.M.e0));});};c.prototype.Goa=function(F){return 0 === F.length || F.reduce(function(C,G){return C || 0 === G.length;},!1);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(g.qb)),(0,r.__param)(1,(0,f.l)(d.kd)),(0,r.__param)(2,(0,f.l)(h.Bi)),(0,r.__param)(3,(0,f.l)(k.vv)),(0,r.__param)(4,(0,f.l)(w.gCa)),(0,r.__param)(5,(0,f.l)(t.vfb)),(0,r.__param)(6,(0,f.l)(u.LBa)),(0,r.__param)(7,(0,f.l)(x.Wx))],a);b.kCa=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ZUa=b.Us=void 0;(function(c){c[c.w1a=0]="licenseStarted";c[c.Z6a=1]="receivedLicenseChallenge";c[c.Y6a=2]="receivedLicense";c[c.$6a=3]="receivedRenewalChallengeComplete";c[c.a7a=4]="receivedRenewalLicenseComplete";c[c.b7a=5]="receivedRenewalLicenseFailed";c[c.YUb=6]="receivedIndivChallengeComplete";c[c.ZUb=7]="receivedIndivLicenseComplete";c[c.JPa=8]="addLicenseComplete";c[c.SPa=9]="addRenewalLicenseComplete";c[c.TPa=10]="addRenewalLicenseFailed";})(a=b.Us || (b.Us={}));b.ZUa=function(c){switch(c){case a.w1a:return "lg";case a.Z6a:return "lc";case a.Y6a:return "lr";case a.$6a:return "renew_lc";case a.a7a:return "renew_lr";case a.b7a:return "renew_lr_failed";case a.YUb:return "ilc";case a.ZUb:return "ilr";case a.JPa:return "ld";case a.SPa:return "renew_ld";case a.TPa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AAa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZGa="OneWayCounterFactorySymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lba=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var d=new Uint8Array(m.length / 2),g=0;g < d.length;g++){d[g]=this.oab(m.substr(2 * g,2));}return d;};c.prototype.encode=function(m){var k;for(var d="",g=m.length,h=0;h < g;h++){k=m[h];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.VG=function(m,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[m & 15] || "0") + g;m>>>=4;}return g;};c.prototype.oab=function(m){var d;d=m.length;if(7 < d)throw Error("hex to long");for(var g=0,h=0;h < d;h++){g=16 * g + f[m[h]];}return g;};l=c;l=r.__decorate([(0,a.R)()],l);b.Lba=l;},function(r,b,a){var f,l;function c(){this.fq={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Hk=void 0;r=a(1);a=a(0);c.prototype.addListener=function(m,d,g){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.fq){k=this.fq[m]?this.fq[m].slice():[];g && (d[h]=g);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.fq[m]=k;}};c.prototype.removeListener=function(m,d){if(this.fq && this.fq[m]){for(var g=this.fq[m].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.fq[m]=g;}};c.prototype.Fc=function(m,d,g){var h;if(this.fq){h=this.qna(m);for(m={yJ:0};m.yJ < h.length;(m={yJ:m.yJ},m.yJ++)){g?(function(k){return function(){var n;n=h[k.yJ];setTimeout(function(){n(d);},0);};})(m)():h[m.yJ].call(this,d);}}};c.prototype.Gh=function(){this.fq=void 0;};c.prototype.on=function(m,d,g){this.addListener(m,d,g);};c.prototype.qna=function(m){var d;return null !== (d=this.fq && (this.fq[m] || (this.fq[m]=[]))) && void 0 !== d?d:[];};l=f=c;l.counter=0;l=f=r.__decorate([(0,a.R)()],l);b.Hk=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ica="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yda=b.aib=void 0;b.aib=function(){};b.yda="MseConfigSymbol";},function(r,b,a){var f;function c(l){this.dnb=void 0 === l?!1:l;this.df={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.uea=void 0;r=a(1);a=a(0);c.prototype.add=function(l,m){var d;m=void 0 === m?0:m;d=this.df[m];d?this.dnb && -1 !== d.indexOf(l) || d.push(l):this.df[m]=[l];};c.prototype.remove=function(l,m){this.ty(l,void 0 === m?0:m);};c.prototype.removeAll=function(l){this.ty(l);};c.prototype.flatten=function(){var l;l=this;return Object.keys(this.df).sort().reduce(function(m,d){return m.concat(l.df[d]);},[]);};c.prototype.ty=function(l,m){Object.entries(this.df).forEach(function(d){var g,h;g=aa(d);d=g.next().value;g=g.next().value;if(void 0 === m || m === parseInt(d)){-1 < (h=g.indexOf(l)) && g.splice(h,1);}});};f=c;f=r.__decorate([(0,a.R)()],f);b.uea=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="UrlFactorySymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p,q){this.debug=d;this.config=g;this.platform=h;this.v8=k;this.debug.assert(n && n != l.M.Wl,"There should always be a specific error code");this.errorCode=n || l.M.Wl;p && "object" === typeof p?(this.na=p.na || p.Cc,this.rf=p.rf || p.Kd,this.Qla=p.Qla || p.xn,this.ub=p.ub || p.details,this.KU=p.hk,this.f5=p.f5 || p.xbc || p.qA,this.GM=p.GM || p.data,p.UW && (this.UW=p.UW),this.ik=p.ik,this.method=p.method,this.V8=p.V8,this.alert=p.alert,this.bia=p.bia,this.kH=p.kH,!this.ub && this.kH && (this.ub=JSON.stringify(this.kH)),this.debug.assert(!this.ik || this.ik == this.rf)):(this.na=p,this.rf=q);this.stack=[this.errorCode];this.na?this.stack.push(this.na):this.rf && this.stack.push(l.L.Wl);this.rf && this.stack.push(this.rf);this.O4=this.platform.bq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=void 0;f=a(12);l=a(3);m=a(19);a(24);c.prototype.toString=function(){var d;d="[PlayerError #" + this.O4 + "]";this.ub && (d+=" " + this.ub);this.KU && (d+=" (CustomMessage: " + this.KU + ")");return d;};c.prototype.DZ=function(){var d,g,h,k;this.KU && (h=["streaming_error"]);h || this.v8.Zt() !== f.d0 || ("80080017" == this.rf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.rf && (h=["pause_timeout"]));h || this.v8.Zt() !== f.mca || this.errorCode !== l.M.SBa && this.errorCode !== l.M.LQ || (h=["no_cdm","platform_error","plugin_error"]);this.wLb() && (h=["received_soad"]);k=this.dFb();k && (h=[k],this.KU=void 0);if(!h)switch(this.errorCode){case l.M.W0:case l.M.A0:case l.M.Lcb:case l.M.kHa:h=["pause_timeout"];break;case l.M.fEa:case l.M.gEa:h=this.na?["platform_error"]:["multiple_tabs"];break;case l.M.uhb:case l.M.lkb:case l.M.Ugb:case l.M.Tgb:case l.M.Wgb:h=["should_signout_and_signin"];break;case l.M.Nca:case l.M.pHa:case l.M.Nda:case l.M.iHa:h=["platform_error","plugin_error"];break;case l.M.LR:h=["no_cdm","platform_error","plugin_error"];break;case l.M.ZBa:case l.M.hr:case l.M.X0:switch(this.rf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case l.M.lHa:case l.M.Mda:h=["unsupported_output"];}!h && (0,l.uCa)(this.na) && (h=this.na == l.L.jR?["geo"]:["internet_connection_problem"]);h || this.errorCode !== l.M.LQ || this.na !== l.L.Jj || "S" !== this.platform.bq || (h=["private_mode"]);if(!h)switch(this.u$a(this.na)){case l.L.ifa:h=["should_upgrade"];break;case l.L.gHa:h=["should_reset_device"];break;case l.L.fHa:h=["should_reload_device"];break;case l.L.eHa:h=["should_exit_device"];break;case l.L.cib:case l.L.EFa:h=["should_signout_and_signin"];break;case l.L.dib:h=["internet_connection_problem"];break;case l.L.XAa:h=["platform_error","plugin_error"];break;case l.L.WAa:case l.L.NDa:case l.L.ODa:h=["private_mode"];break;case l.L.ida:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.bq + this.errorCode);if(this.na)switch(this.u$a(this.na)){case l.L.hHa:h.push("incorrect_pin");break;default:h.push("" + this.na);}return {display:{code:this.O4,text:this.KU},messageIdList:h,alert:this.alert,alertTag:this.bia,preferredAudioLocale:null === (d=this.kH) || void 0 === d?void 0:d.n_a,preferredTextLocale:null === (g=this.kH) || void 0 === g?void 0:g.o_a};};c.prototype.u$a=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.wLb=function(){var d;d=(0,m.Ca)(this.rf)?this.rf.toString():(0,m.Se)(this.rf)?this.rf:"";return this.f5 === l.J0.cfa && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.dFb=function(){if(this.errorCode === l.M.YJ && (this.na === l.L.Ida || this.na === l.L.dHa))return this.eFb(this.na === l.L.Ida);};c.prototype.eFb=function(d){var g,h,k,n;k=this.config().browserInfo || ({});n=null === (g=k.os) || void 0 === g?void 0:g.name;g=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.TIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sda="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OQ="EventSourceFactorySymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OQ=b.yCa=void 0;r=a(1);f=a(330);a=a(0);c.prototype.create=function(){return new f.Hk();};l=c;l=r.__decorate([(0,a.R)()],l);b.yCa=l;b.OQ="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(l,m,d,g,h,k){this.level=l;this.Ao=m;this.timestamp=d;this.message=g;this.ic=h;this.index=void 0 === k?0:k;this.qhb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.bda=void 0;f=a(4);c.prototype.saa=function(l,m){var d;d="" + this.message;this.ic.forEach(function(g){d+=g.gJ(l,m);});return (this.timestamp.da(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.qhb[this.level] || this.level) + "|" + this.Ao + "| " + d;};b.bda=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AGa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uKa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eMa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LHa="PboGenerateScreenshotsCommandSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(670),b);r.__exportStar(a(671),b);r.__exportStar(a(672),b);r.__exportStar(a(673),b);r.__exportStar(a(674),b);r.__exportStar(a(675),b);r.__exportStar(a(676),b);r.__exportStar(a(677),b);r.__exportStar(a(678),b);r.__exportStar(a(679),b);r.__exportStar(a(680),b);r.__exportStar(a(681),b);r.__exportStar(a(685),b);r.__exportStar(a(212),b);r.__exportStar(a(686),b);r.__exportStar(a(213),b);r.__exportStar(a(687),b);r.__exportStar(a(688),b);r.__exportStar(a(689),b);r.__exportStar(a(690),b);r.__exportStar(a(691),b);r.__exportStar(a(692),b);r.__exportStar(a(693),b);r.__exportStar(a(694),b);r.__exportStar(a(695),b);r.__exportStar(a(696),b);r.__exportStar(a(697),b);r.__exportStar(a(698),b);r.__exportStar(a(699),b);r.__exportStar(a(700),b);r.__exportStar(a(701),b);r.__exportStar(a(702),b);r.__exportStar(a(703),b);r.__exportStar(a(704),b);r.__exportStar(a(713),b);r.__exportStar(a(715),b);r.__exportStar(a(716),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kia=void 0;b.kia=function(a,c,f){var l,m;l=!0;f.forEach(function(d){var g;if(l && a === d.profile){g=d.ranges;l=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!l && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:l,N4:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dF=void 0;b.dF={vm:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.et=b.oK=void 0;c=a(351);(function(l){l[l.JO=0]="primary";l[l.SG=1]="fallback";})(f=b.oK || (b.oK={}));r=(function(){function l(m,d){var g,h;h=this;void 0 === d && (d=!1);this.fub=d;this.filters=(g={},g[f.JO]=[],g[f.SG]=[],g);Array.isArray(m)?m.forEach(function(k){return h.and(k,f.JO);}):this.and(m);}l.prototype.and=function(m,d){void 0 === d && (d=f.JO);m !== c.dF && this.filters[d].push({filter:m,WSa:!0});return this;};l.prototype.or=function(m,d){void 0 === d && (d=f.JO);this.filters[d].push({filter:m,WSa:!1});return this;};l.prototype.filter=function(m){var d;d=this;[f.JO,f.SG].forEach(function(g){d.filters[g]=d.filters[g].filter(function(h){return m(g,h.filter);});});};l.prototype.vm=function(m,d,g,h){var k;k=this;return [f.JO,f.SG].reduce(function(n,p){return k.filters[p].reduce(function(q,u){u.WSa?q=u.filter.vm(q,d,g,h):0 === q.length && (q=u.filter.vm(m,d,g,h));return q;},n);},m);};return l;})();b.et=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gr=b.Ojb=void 0;c=a(2);f=a(215);r=(function(){function l(m,d){this.G=m;this.Jz=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.Jz.indexOf(m) && (this.Jz=this.Jz.slice(),this.Jz.push(m));};l.prototype.removeListener=function(m){m=this.Jz.indexOf(m);-1 !== m && (this.Jz=this.Jz.slice(),this.Jz.splice(m,1));};return l;})();b.Ojb=r;r=(function(l){function m(d,g){return l.call(this,d,g) || this;}c.__extends(m,l);m.tya=function(d,g,h){return new f.Fda(d,g,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.Jz.forEach(function(h){return h({oldValue:g,newValue:d});}));};return m;})(r);b.gr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.de=void 0;r=a(2);r.__exportStar(a(355),b);r.__exportStar(a(731),b);r.__exportStar(a(216),b);r.__exportStar(a(732),b);r.__exportStar(a(733),b);r.__exportStar(a(734),b);r.__exportStar(a(356),b);r.__exportStar(a(736),b);c=a(54);Object.defineProperties(b,{de:{enumerable:!0,get:function(){return c.de;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rs=b.qQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.xNb=2]="lowCpuPlaybackStarting";})(b.qQ || (b.qQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Rs || (b.Rs={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oka=b.SCb=b.AC=b.OI=void 0;c=a(2);f=a(22);l=a(67);Object.defineProperties(b,{OI:{enumerable:!0,get:function(){return l.OI;}}});Object.defineProperties(b,{AC:{enumerable:!0,get:function(){return l.AC;}}});b.SCb=function(m,d){var g,q,u;m=Math.max(m.duration - 3E4,3E4);for(var h={},k,n=0,p=0;p < m;p+=3E4){q="s" + n++;u={X:d,Db:p,Ob:p + 3E4 < m?p + 3E4:null};void 0 !== k && (k.next=(g={},g[q]={weight:1},g),k.Qe=q);k=h[q]=u;}return {Md:"s0",pa:h,ae:"lazy"};};b.oka=function(m,d,g){var h,p,q,u;try{for(var k=c.__values(Object.keys(m.pa)),n=k.next();!n.done;n=k.next()){p=n.value;q=m.pa[p];if(q.X === d){u=f.T.Ab(q.Db);if(g.Qr(u) && (null === q.Ob || void 0 === q.Ob || g.lessThan(f.T.Ab(q.Ob))))return {ya:p,offset:g.Ma(u)};}}}catch(w){var t;t={error:w};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(t)throw t.error;}}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.AssertionError=f;b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zDb=function(a,c){var f;f=void 0;return Object.keys(a.pa).some(function(l){var m;return null === (m=(f=a.pa[l]).next) || void 0 === m?void 0:m[c];})?f:void 0;};},function(r){function b(){}function a(c){this.mPa=c;this.yp=[];this.Dg=null;}b.prototype.clear=function(){this.df=null;this.size=0;};b.prototype.find=function(c){var l;for(var f=this.df;null !== f;){l=this.gn(c,f.data);if(0 === l)return f.data;f=f.sh(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.df,l=this.iterator(),m=this.gn;null !== f;){d=m(c,f.data);if(0 === d)return (l.Dg=f,l);l.yp.push(f);f=f.sh(0 < d);}for(d=l.yp.length - 1;0 <= d;--d){if((f=l.yp[d],0 > m(c,f.data)))return (l.Dg=f,l.yp.length=d,l);}l.yp.length=0;return l;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),l=this.gn;null !== f.data() && 0 === l(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.df;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.df;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.pf=function(c){for(var f=this.iterator(),l;null !== (l=f.next());){c(l);}};a.prototype.data=function(){return null !== this.Dg?this.Dg.data:null;};a.prototype.next=function(){var c;if(null === this.Dg){c=this.mPa.df;null !== c && this.gOa(c);}else if(null === this.Dg.right){do {if((c=this.Dg,this.yp.length))this.Dg=this.yp.pop();else {this.Dg=null;break;}}while(this.Dg.right === c);}else (this.yp.push(this.Dg),this.gOa(this.Dg.right));return null !== this.Dg?this.Dg.data:null;};a.prototype.lI=function(){var c;if(null === this.Dg){c=this.mPa.df;null !== c && this.cOa(c);}else if(null === this.Dg.left){do {if((c=this.Dg,this.yp.length))this.Dg=this.yp.pop();else {this.Dg=null;break;}}while(this.Dg.left === c);}else (this.yp.push(this.Dg),this.cOa(this.Dg.left));return null !== this.Dg?this.Dg.data:null;};a.prototype.gOa=function(c){for(;null !== c.left;){this.yp.push(c);c=c.left;}this.Dg=c;};a.prototype.cOa=function(c){for(;null !== c.right;){this.yp.push(c);c=c.right;}this.Dg=c;};r.exports=b;},function(r){function b(a){this.Hga=a;this.ig=[];this.wr=!1;this.TF=void 0;this.Xj={};}b.prototype.f3=function(a){this.ig.length === this.Hga && this.ig.shift();Array.isArray(a)?this.ig=this.ig.concat(a):this.ig.push(a);this.wr=!0;};b.prototype.iN=function(){return this.ig.length;};b.prototype.nja=function(){var a;a=this.ig;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.ig.length:void 0;};b.prototype.T3=function(){var a,c;a=this.ig;if(0 < a.length){c=this.nja();a=a.reduce(function(f,l){return f + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Et=function(a){var c,f,l;if(this.wr || void 0 === this.TF)(this.TF=this.ig.slice(0).sort(function(m,d){return m - d;}),this.Xj={},this.wr=!1);if(void 0 === this.Xj[a]){c=this.TF;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.Xj[a]=f === c.length - 1?c[f]:c[f] + l * (c[f + 1] - c[f]);}return this.Xj[a];};r.exports=b;},function(r,b,a){r.exports={A$b:a(363),Kcc:a(221),e4b:a(758),d4b:a(364),f4b:a(365),JCa:a(761)};},function(r,b,a){var m;function c(d){this.reset();this.jYb(d);}function f(d){this.setInterval(d);this.reset();}function l(d){this.QB=new f(d);this.Ne=0;this.Vc=null;}m=a(10);c.prototype.jYb=function(d){this.zK=Math.pow(.5,1 / d);this.HS=d;};c.prototype.reset=function(d){d && d.Fa && m.Ca(d.Fa)?d.aj && m.Ca(d.aj)?(this.Jv=this.Vmb,this.zp=d.Fa,this.NB=d.aj + d.Fa * d.Fa):(this.Jv=this.Vmb,this.zp=d.Fa,this.NB=d.Fa * d.Fa):this.NB=this.zp=this.Jv=0;};c.prototype.add=function(d){var g;if(m.Ca(d)){this.Jv++;g=this.zK;this.zp=g * this.zp + (1 - g) * d;this.NB=g * this.NB + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.Jv)return {Fa:0,aj:0};d=this.zp;g=this.NB;h=1 - Math.pow(this.zK,this.Jv);d/=h;g/=h;h=d * d;return {Fa:Math.floor(d),aj:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.Jv?null:{a:Number(this.zp.toPrecision(6)),s:Number(this.NB.toPrecision(6)),n:this.Jv};};c.prototype.Ve=function(d){if(m.Gb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.NB=this.zp=this.Jv=0,!1);this.zp=d.a;this.NB=d.s;m.has(d,"n") && m.Ca(d.n)?this.Jv=d.n:this.Jv=16 * this.HS;return !0;};f.prototype.setInterval=function(d){this.HS=d;this.zK=-Math.log(.5) / d;};f.prototype.reset=function(d){this.tb=this.Cf=null;d && m.isFinite(d.Fa)?this.zp=d.Fa:this.zp=0;};f.prototype.start=function(d){m.Gb(this.Cf) && (this.tb=this.Cf=d);};f.prototype.add=function(d,g,h){var k,n;m.Gb(this.Cf) && (this.tb=this.Cf=g);this.Cf=Math.min(this.Cf,g);g=Math.max(h - g,1);k=this.zK;n=h > this.tb?h:this.tb;this.zp=this.zp * (n > this.tb?Math.exp(-k * (n - this.tb)):1) + 8 * d / g * (1 - Math.exp(-k * g)) * (h > n?Math.exp(-k * (n - h)):1);this.tb=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.tb);g=this.zp * Math.exp(-this.zK * (d - this.tb));d=1 - Math.exp(-this.zK * (d - this.Cf));0 < d && (g/=d);return {Fa:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.HS + ")";};l.prototype.setInterval=function(d){this.QB.setInterval(d);};l.prototype.reset=function(d){this.QB.reset(d);this.Ne=0;this.Vc=null;};l.prototype.start=function(d){!m.Gb(this.Vc) && d > this.Vc && (this.Ne+=d - this.Vc,this.Vc=null);this.QB.start(d - this.Ne);};l.prototype.add=function(d,g,h){!m.Gb(this.Vc) && h > this.Vc && (this.Ne+=g > this.Vc?g - this.Vc:0,this.Vc=null);this.QB.add(d,g - this.Ne,h - this.Ne);};l.prototype.stop=function(d){this.Vc=Math.max(m.Gb(this.QB.tb)?0:this.QB.tb + this.Ne,m.Gb(this.Vc)?d:Math.min(this.Vc,d));};l.prototype.get=function(d){return this.QB.get((m.Gb(this.Vc)?d:this.Vc) - this.Ne);};l.prototype.toString=function(){return this.QB.toString();};r.exports={qfb:c,x4b:f,ofb:l};},function(r,b,a){var f,l;function c(m,d,g,h){f.call(this,g,h);this.Qv=new l(m);this.znb=d;}f=a(143);l=a(361);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Vw(0);f.prototype.shift.call(this);null !== m && this.Qv.f3(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.Qv.f3(m);f.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.LV();return {sampleSize:this.iN(),G9:m,nX:m.vk?(m.Ll - m.Kl) / m.vk:void 0};};c.prototype.iN=function(){return this.Qv.iN();};c.prototype.LV=function(){return this.Qv.iN() < this.znb?{Kl:void 0,vk:void 0,Ll:void 0,sampleSize:void 0,vj:void 0}:{Kl:this.Qv.Et(25),vk:this.Qv.Et(50),Ll:this.Qv.Et(75),sampleSize:this.Qv.iN(),vj:this.Qv.Et.bind(this.Qv)};};c.prototype.toString=function(){return "biqr(" + this.yL + "," + this.Hd + "," + this.ak + ")";};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={PW:m.maxc || 25,dka:m.c || .5,h3b:m.w || 15E3,Oy:m.b || 5E3};f.call(this,this.I.h3b,this.I.Oy);this.iT();}f=a(143);l=a(219).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Vw(0);f.prototype.shift.call(this);null !== m && (this.ef.push(m,1),this.wr=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.ef.push(m,1);this.wr=!0;f.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.tZa();};c.prototype.Cz=function(){var m;m=this.tZa();return {min:m.min,p10:m.x9,p25:m.Kl,p50:m.vk,p75:m.Ll,p90:m.y9,max:m.max,centroidSize:m.uub,sampleSize:m.sampleSize,centroids:m.Mi};};c.prototype.tZa=function(){var m;if(0 === this.ef.size())return null;m=this.ef.vj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.wr || !this.fg)(this.wr=!1,this.fg={min:m[0],x9:m[1],Kl:m[2],vk:m[3],Ll:m[4],y9:m[5],max:m[6],vj:this.ef.vj.bind(this.ef),uub:this.ef.size(),sampleSize:this.ef.n,Mi:this.gFb(),Cz:this.Cz.bind(this)});return this.fg;};c.prototype.gFb=function(){var m;if(0 === this.ef.size())return null;if(!this.wr && this.fg)return this.fg.centroids;m=this.ef.vj([.25,.75]);if(m[0] === m[1])return null;this.ef.size() > this.I.PW && this.ef.Zy();m=this.ef.gp(!1).map(function(d){return {mean:d.rg,n:d.n};});return JSON.stringify(m);};c.prototype.pZa=function(){return this.ef.summary();};c.prototype.size=function(){return this.ef.size();};c.prototype.toString=function(){return "btdtput(" + this.yL + "," + this.Hd + "," + this.ak + "): " + this.ef.summary();};c.prototype.iT=function(){this.ef=new l(this.I.dka,this.I.PW);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={PW:m.maxc || 25,dka:m.c || .5,$Ub:m.rc || "none",oIb:m.hl || 7200};this.iT();this.$ob=this.I.$Ub;this.HS=this.I.oIb;this.tfa=Math.exp(Math.log(2) / this.HS);this.tfa=Math.max(this.tfa,1);this.S1=1;}f=a(10);l=a(219).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.ef.size())return null;m=this.ef.vj([.25,.75]);if(m[0] === m[1])return null;this.ef.size() > this.I.PW && this.ef.Zy();m=this.ef.gp(!1).reduce((function(d,g){f.Ca(g.rg) && f.Ca(g.n) && d.push({mean:g.rg,n:g.n / this.S1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Ve=function(m){var d;if(f.Gb(m) || !f.has(m,"tdigest") || !f.Se(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});m=d.map(function(g){return {rg:g.mean,n:g.n};});this.S1=1;this.ef.mua(m);void 0 === this.ef.vj(0) && this.iT();};c.prototype.get=function(){var m,d;m=this.ef;d=m.vj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],x9:d[1],Kl:d[2],vk:d[3],Ll:d[4],y9:d[5],max:d[6],Mi:m.gp(!1)};};c.WGb=function(m){var d;d=new c({});f.Gb(m) || f.ia(m) || !f.isArray(m.Mi) || (d.ef.mua(m.Mi),void 0 === d.ef.vj(0) && d.iT());m=d.ef.vj([.25,.75]);return m[0] === m[1]?null:function(g){return d.ef.vj(g);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.$ob && (this.S1=d=this.S1 * this.tfa);this.ef.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.ef.summary() + ")";};c.prototype.iT=function(){this.ef=new l(this.I.dka,this.I.PW);};r.exports={lLa:c};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=b.Kca=void 0;c=a(2);f=c.__importStar(a(10));l=c.__importDefault(a(6));m=a(772);d=a(773);g=(function(){return function(){this.D3=new d.OR(100);this.Y8=new d.OR(100);};})();r=(function(){function h(k,n,p){var q,u,t;this.I=n;this.H=p;this.J2=k;q=this.oL=this.DK=this.CK=0;u=0;t=0;this.J2.length >= this.I.I8 && (this.J2.forEach(function(w){!(w=w.get().QDb) || f.ia(w.avtp) || f.ia(w.neuhd) || (q+=w.avtp,u+=1 * w.neuhd,t++);}),this.oL=t,this.CK=q / t,this.DK=u / t);}Object.defineProperties(h.prototype,{Esb:{get:function(){return this.CK;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gsb:{get:function(){return this.DK;},enumerable:!1,configurable:!0}});h.prototype.v7=function(){return this.oL >= this.I.I8 && this.CK >= this.I.baselineHighAndStableThreshold.bwThreshold && this.DK < this.I.baselineHighAndStableThreshold.nethreshold;};return h;})();b.Kca=r;r=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.kfa=[];n.$Cb={};n.Q$a=[];n.cz=new g();n.J2.length >= n.I.I8 && (n.rPa("avtp",n.cz.D3),n.rPa("neuhd",n.cz.Y8));return n;}c.__extends(k,h);k.prototype.v7=function(){var n;this.VGb();n=new m.tFa(this.H,this.Q$a,this.Wsb);n.Nta(this.kfa);n=n.cvb(this.I.M6.ccc);return this.e2b && 1 === n && this.oL >= this.I.I8;};k.prototype.yV=function(){var n,p,q,u;n={};p=l.default.time.now();q=new Date(p);u=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=u;return n;};k.prototype.IXa=function(n,p,q){n="avtp" === n?this.CK:this.DK;for(var u=p.T3(),t=0,w="skew" === q?3:4,v=0;v < p.ig.length;v++){f.ia(n) || f.ia(u) || (t+=Math.pow(p.ig[v] - n,w));}t/=p.ig.length;return !f.ia(u) && 0 < u?t / Math.pow(u,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.bYa=function(n,p,q){var u;u=0;"lte" === q?u=n.reduce(function(t,w){return w <= p?t + 1:t;},0) / (1 * n.length):"gte" === q && (u=n.reduce(function(t,w){return w >= p?t + 1:t;},0) / (1 * n.length));return u;};k.prototype.DGb=function(n){var p,q;p=n.Et(25);q=n.Et(50);n=n.Et(75);return f.ia(p) || f.ia(q) || f.ia(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.YEb=function(n,p){n="avtp" === n?this.CK:this.DK;p=p.T3();return !f.ia(p) && !f.ia(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.LV=function(n,p){n=n.Et(p);return f.ia(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.VGb=function(){var n,p,q,u,t,w,v,x,y,z,A,B;n=this;p=this.I.M6.a2a.Lac;q=this.I.M6.a2a.Jac;u=this.I.M6.a2a.Kac;x=[];B=0;this.e2b=!Object.keys(p).some(function(E){var D;A=NaN;if(!(p.hasOwnProperty(E) && q.hasOwnProperty(E) && u.hasOwnProperty(E) && !f.ia(n.cz) && n.cz.D3 && n.cz.Y8) || 1 > n.oL || "number" !== typeof p[E] || "number" !== typeof q[E] || "number" !== typeof u[E])return !0;t=p[E];w=q[E];v=u[E];x=E.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.cz.D3;break;case "neuhd":D=n.cz.Y8;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.ig[n.oL - 1];break;case "mean":A="avtp" === y?n.CK:n.DK;break;case "niqr":A=n.DGb(D);break;case "skew":A=n.IXa(y,D,"skew");break;case "kurtosis":A=n.IXa(y,D,"kurtosis");break;case "std":A=D.T3();break;case "b":A=n.YEb(y,D);break;default:-1 !== E.search("[p][1-9]?[1-9]") && (A=n.LV(D,Number(E.split("_p",2)[1])));}}else switch(E){case "fracAbove20Mbps":D=n.cz.D3;A=f.ia(D)?NaN:n.bYa(D.ig,2E4,"gte");break;case "fracBelow20p":D=n.cz.Y8;A=f.ia(D)?NaN:n.bYa(D.ig,.15,"lte");break;case "hour_current":A=n.yV().currentHour;break;case "session_ct":A=n.oL;break;case "intercept":(A=t,n.Wsb=A);}A=n.normalize(A,w,v);if(isNaN(A))return !0;"intercept" !== E && (n.kfa.push(A),n.Q$a.push(t),n.$Cb[E]=B,B+=1);});};k.prototype.rPa=function(n,p){this.J2.forEach(function(q){q=q.get().QDb;!q || "avtp" !== n && "neuhd" !== n || f.ia(q[n]) || p.f3(Number(q[n]));});};return k;})(r);b.BDa=r;},function(r,b,a){var f,l,m,d;function c(g){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=g.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Nrb=b.Hw=b.Zea=b.ALa=void 0;r=a(2);f=a(5);r=r.__importDefault(a(6));l=a(22);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,k){this.od=h;this.Me=k;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return new l.T(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qd:{get:function(){return new l.T(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wa:{get:function(){return this.od.N2 + this.od.iC[this.Me];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ob:{get:function(){return this.Wa + this.od.pr[this.Me];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pt:{get:function(){return this.od.pr[this.Me];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sa:{get:function(){return this.od.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.od.S;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return Math.floor(1E3 * this.Wa / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ga:{get:function(){return Math.floor(1E3 * (this.Wa + this.Pt) / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.Ga - this.Z;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Wa / this.sa.S,endPts:1E3 * this.ob / this.sa.S,duration:1E3 * this.Pt / this.sa.S,index:this.index};};return g;})();b.ALa=d;a=(function(){function g(h,k,n,p){this.mediaType=h;this.length=n.vd.length;this.nb=n.S;this.pr=n.vd;this.h3=p && p.Hu;this.aQa=p && p.Xu;this.VK=k;this.Mxa=this.Nxa=this.ZNa=void 0;this.N2=n.ll;this.iC=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.iC[k]=h;h+=this.pr[k];}this.iC[k]=h;this.sfa=Math.floor((this.Ga - this.Z) / this.length);}}Object.defineProperties(g.prototype,{ll:{get:function(){return this.$9a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mla:{get:function(){return this.$9a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return this.Aj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ga:{get:function(){return this.Aj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vk:{get:function(){return new l.T(this.Mla,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pra:{get:function(){return this.ZNa || this.ylb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sa:{get:function(){return this.VK;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});g.prototype.$9a=function(h){return this.N2 + this.iC[h];};g.prototype.Aj=function(h){return Math.floor(1E3 * (this.N2 + this.iC[h]) / this.S);};g.prototype.ZU=function(h){return this.Aj(h + 1);};g.prototype.vd=function(h){return this.ZU(h) - this.Aj(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.Bn=function(h,k,n){if(0 === this.length || h < this.Aj(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.Aj(u),h < t))q=u - 1;else if(h >= t + this.vd(u))p=u + 1;else {for(;k && u < this.length && this.Aj(u) < k;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.u5=function(h,k,n){h=this.Bn(h,k,n);return 0 <= h?this.get(h):void 0;};g.prototype.rka=function(h,k){var n,p;n=Math.floor(k * this.S / 1E3);k=Math.min(h + Math.ceil(k / this.sfa),this.length);p=this.iC[k] - this.iC[h];if(p > n){for(;p >= n;){--k;p-=this.pr[k];}return k - h + 1;}for(;p < n && k <= this.length;){p+=this.pr[k];++k;}return k - h;};g.prototype.subarray=function(h,k){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === k || k > h && k <= this.length);return new g(this.mediaType,this.sa,{S:this.S,ll:this.N2 + this.iC[h],vd:this.pr.subarray(h,k)},this.h3 && ({Hu:this.h3.subarray(h,k + 1),Xu:this.aQa}));};g.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};g.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};g.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.sfa};};g.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.sfa + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace("TrackFragments: " + h + ": [" + k.Z + "-" + k.Ga + "]");}};g.prototype.ylb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.pr[k],h);}return this.ZNa=h;};return g;})();b.Zea=a;b.Hw=c;a.prototype.Z9a=c(a.prototype.Aj);c(a.prototype.ZU);c(a.prototype.vd);b.Nrb=function(g){return "[" + Array(g.length).map(function(h,k){return g[k].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CVa=b.vz=b.An=b.c6=void 0;c=a(5);f=a(142);b.c6=function(l,m){return l.Bn(m,void 0,!0);};b.An=function(l,m,d,g,h,k){var n,p,q,u;f.Tm.kq(l);c.assert(d.U,"findFirstFragment called without stream fragments");n=d.U;g=Math.max(d.U.Aj(0),g);0 === l && !k && m.gm && !m.gG && d.xf && (g=Math.max(d.U.Aj(0),g + d.xf.W));p=b.c6(n,g);q=d.Xk(p);if(q.Ga < g)return q;u=q.pma(g);u?(0 < u.jl && q.Ck({start:u.jl}),0 !== l || m.Era || (0 > u.Ed && q.Ck({start:u.jl}),u.Ed < (m.gm && !m.gG && d.xf?Math.floor(d.xf.W):0) && q.xla())):g >= q.Ga && p < n.length - 1 && (q=d.Xk(p + 1));1 === l && h && q.Ga === h && p < n.length - 1 && (q=d.Xk(p + 1));0 === l && !q.va && (m.Z_a || m.qBb) && k && q.Ck({});q.rP(g);return q;};b.vz=function(l,m,d,g,h,k){var n,p;f.Tm.kq(l);n=d.U;void 0 === g && (g=n.Ga);if(h && (h=h.tDb(d,g,l,m,k)))return h;h=n.sa;k=g?g + b.CVa(l,h,m.ZD,m.B$):n.ZU(n.length - 1);n=n.Bn(k,void 0,!0);h=d.Xk(n);0 === n || h.Z !== g || 1 !== l && m.ZD || (--n,h=d.Xk(n));k=1 === l?k:g;if(k < h.Ga){p=h.oma(k);p && 0 !== p.jl?h.Ck({end:p.jl}):0 === l && (p || k < h.Z) && 0 !== n?h=d.Xk(n - 1):1 === l && p && 0 !== n && (h=d.Xk(n - 1));}0 === l && !h.va && m.Z_a && h.Ck();h.rP(g);return h;};b.CVa=function(l,m,d,g){var h;return 1 === l || g?0:d?null !== (h=null === m || void 0 === m?void 0:m.W) && void 0 !== h?h:0:m?-m.W:0;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iza=void 0;c=a(778);f=a(22);a(5);l=a(101);r=(function(){function m(d,g,h){var k,n,p;this.I=g;this.H=h;this.$j=d.track;this.uL=d.Nf;this.$r=d.$r;this.Zmb=d.$r.$k;this.XK=this.Na=void 0;g=d.pu;this.pu=void 0 === g?!0:g;this.N4=d.N4;this.UK=void 0;this.aOa=this.Bg=0;this.url=this.II=this.Qc=this.zs=this.Iqa=this.location=this.Ra=this.wb=void 0;this.Kz=!1;this.dqa=this.hf=void 0;g=(d=this.I) && "object" === typeof d.u6a && d.u6a[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.Vob=new f.T(g.ticks,g.timescale));this.Knb=0 <= (null === (k=d.ssb) || void 0 === k?void 0:k.indexOf(this.profile));if((null === (n=d.xO) || void 0 === n?0:n.r$b) && 1 === this.mediaType && (k=this.$r,0 < (null === (p=k.Lq) || void 0 === p?void 0:p.length))){p=k.Lq.splice(0,k.Lq.length);k=new Uint8Array(p.length);for(n=0;n < p.length;n++){k[n]=p[n].sb;}this.Lq=k;}}Object.defineProperties(m.prototype,{je:{get:function(){return ! !this.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P:{get:function(){return this.$j.P;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return this.P.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.$j.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.$j.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sa:{get:function(){return this.$j.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S:{get:function(){return this.$j.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dO:{get:function(){return this.$j.dO;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.$j.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Nf:{get:function(){return this.uL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pa:{get:function(){return this.$r.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$k:{get:function(){return this.Zmb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.$r.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sb:{get:function(){return this.$r.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yWb:{get:function(){return this.$r.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{t$:{get:function(){return this.$r.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.$r.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oh:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cs:{get:function(){return this.$r.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xf:{get:function(){return this.Vob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{RIb:{get:function(){return this.Knb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mA:{get:function(){return this.Na && this.Na.mA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mma:{get:function(){return this.$j.Mma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lma:{get:function(){return this.$j.Lma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wt:{get:function(){return void 0 !== this.UK?this.UK:this.yLb();},set:function(d){this.UK=d;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ru:{get:function(){return this.pu && !this.Kz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yg:{get:function(){return this.XK;},enumerable:!1,configurable:!0}});m.prototype.Yk=function(){return this.P.Yk(this.mediaType,this.Pa);};m.prototype.d6=function(){var d;d=this.Yk();return d && d.stream.U;};m.prototype.sE=function(d){return this.P.sE(this,d);};m.prototype.p9=function(){this.track.p9();};m.prototype.o9=function(){this.track.o9();};m.prototype.n9=function(d,g,h,k,n,p,q){k && void 0 !== k.ll && (this.track.je || void 0 !== k.vd && k.vd.length) && void 0 !== k.offset && void 0 !== k.sizes && k.sizes.length?(this.I.gm && this.xf && 0 === k.ll && (k.ll+=this.xf.ag(k.S).vc),this.XK=d,this.je || (this.track.n9(this,g,h,k,p),this.Na=new c.XKa(this.uL,this.track.hp,k,n,p,q,this.J),this.track.XQb(this))):k?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== k.ll) + "," + this.track.je + "," + this.track.Vta + "," + (void 0 !== k.vd) + "," + !(!k.vd || !k.vd.length) + "," + (void 0 !== k.offset) + "," + (void 0 !== k.sizes) + "," + !(!k.sizes || !k.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};m.prototype.m4=function(d){this.je || (this.track.lwb(d.track),this.Na=d.U,this.XK=d.Yg);};m.prototype.Xk=function(d){return new l.Um(this,this.U.get(d));};m.prototype.XXa=function(d){var g;g=this.Xk(d.index);d.va && (g.Ck(d.va),g.rP(d.ev));return g;};m.prototype.Xab=function(d,g){this.Bg=d;this.aOa=g;};m.prototype.lvb=function(){this.Ra=this.wb=this.Qc=this.location=this.url=void 0;};m.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,streamId:this.Pa,bitrate:this.bitrate,streamIndex:this.Nf,isAvailable:this.pu,fittable:this.Wt,vmaf:this.sb,resolutionWidth:this.yWb,resolutionHeight:this.t$};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Pa + ":" + this.bitrate;};m.prototype.yLb=function(){var d,g,h,k,n;if(!this.je)return !0;if(this.track.Roa >= this.bitrate)return this.UK=!0;if(this.track.Z1a <= this.bitrate)return this.UK=!1;n=this.Na.Ltb(this.I.cX,this.Bg,null !== (g=null === (d=this.P) || void 0 === d?void 0:d.RI.W) && void 0 !== g?g:0,null !== (k=null === (h=this.P) || void 0 === h?void 0:h.RI.fa) && void 0 !== k?k:0,this.aOa);n?this.track.Vta && !this.$k && this.track.Cw || (this.track.Roa=this.bitrate):this.track.Z1a=this.bitrate;return this.UK=n;};return m;})();b.iza=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.yz=1536;return m;}c.__extends(l,f);l.Oa=!0;return l;})(a(172).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="ac-3";return l;})(r);b.iba=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="ec-3";return l;})(r);b.nca=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);r=a(32);l=f.aF;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Ac();this.fileSize=this.u.Ud();this.S=this.u.Ud();this.duration=this.u.Ud(!1,!0);this.Bsa=this.u.Ud();this.u.Ud();this.Fsa=this.u.Ud();this.hsa=this.u.Aa();this.Csa=this.u.Ud();this.Bma=this.u.Aa();this.u.HA();this.Te={moof:{offset:this.Bsa},sidx:{offset:this.Csa,size:this.Bma}};this.Te[f.ER]={offset:this.Fsa,size:this.hsa};this.u.offset - this.startOffset <= this.length - 24 && (this.Esa=this.u.Ud(),this.bsa=this.u.Aa(),this.Dsa=this.u.Ud(),this.Zra=this.u.Aa(),this.Te[f.Sx]={offset:this.Esa,size:this.bsa},this.Te[f.Rx]={offset:this.Dsa,size:this.Zra});return !0;};d.Wb=l;d.Oa=!1;return d;})(r.Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.bF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.Ac();1 <= this.version && this.u.HA();d=this.u.Aa();this.Te={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Nl();"uuid" === k && (k=this.u.HA());n=this.u.Ud();this.Te[k]={offset:g,size:n};g+=n;}return !0;};m.Wb=f;m.Oa=!1;return m;})(a.Dc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Dk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Dk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Dk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Dk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);l=a(84);r=(function(m){function d(g,h,k,n,p){k=m.call(this,k,n,p) || this;k.Sia=g;k.Qq=h;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,p,q,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Aa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.ko(this.Aa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.HA();}if(0 === h.length && this.Qq.pV(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.Sia[p];u=void 0;if(q){if((u=new q(this,p,k,n,h[0]),(h[0] || this).xt(u),u.parse(g)))this.config.bI && q.Oa?h.unshift(u):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Rn - 8;){u=h.shift();if(!u.Ut(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.Rn;}if(0 === h.length && this.Qq.LU(p,k,n,u))break;}return !this.Qq.done && (g=this.Qq.endOffset?this.Qq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,iX:g}:{done:!0,offset:Math.min(this.Qq.endOffset || Infinity,this.offset)};};d.prototype.xt=function(g){f.Dc.xt(this,g);};return d;})(a(798).efa);b.CE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(100);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.pV=function(){return this.done;};l.prototype.LU=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.IQ=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Qh=m;this.jz=d;this.uZ=g;this.GX=h;this.done=!1;this.Te={};}l.prototype.pV=function(m,d,g){-1 !== l.Joa.indexOf(m) && (this.Te[m]={offset:d,size:g});if(-1 !== this.uZ.indexOf(m)){if((this.Te[m]={offset:d,size:g},this.GX))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Qh && -1 !== this.Qh.indexOf(m)?(m=1 < this.Qh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.jz.indexOf(m) && (m=this.Qh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.LU=function(m,d,g,h){var k;k=this;if(-1 !== this.uZ.indexOf(m))return this.done=!0;m === f.aF && this.SY(h.Te);m === f.bF && this.SY(h.Te);this.Qh && c(m,this.Qh);c(m,this.jz);return this.Qh && 0 === this.Qh.length && !this.jz.some(function(n){return k.Te[n];})?this.done=!0:this.done;};l.prototype.SY=function(m){var d;d=this;this.Te=m;this.endOffset=(this.Qh || []).concat(this.jz).reduce(function(g,h){return d.Te[h]?(h=d.Te[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.Joa=["moov","sidx"];return l;})();b.Jca=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Mea=void 0;c=a(2);f=a(116);a(5);c.__importDefault(a(35));r=(function(){function l(m,d,g,h,k,n){this.vd=m;this.WI=g;this.S=k;this.SNa=!1;this.length=Math.min(m.length,d.length,g.length);this.Zj=d;this.$v=h;this.Rc=n;}Object.defineProperties(l.prototype,{fa:{get:function(){return void 0 !== this.Rc?this.Rc:this.Rc=this.zfa();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sizes:{get:function(){return this.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zi:{get:function(){return this.$v;},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.vd.subarray(m,d),this.sizes.subarray(m,d),this.WI.subarray(m,d),this.zi.subarray(m,d),this.S);};l.prototype.concat=function(){var g,h,k,n;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(p,q){return p + q.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);k=new Uint8Array(d);n=new Uint8Array(d);d=m.reduce(function(p,q){return p || q.S;},void 0);m.reduce(function(p,q){f.cS.set(g,q.vd,p);f.cS.set(h,q.sizes,p);f.cS.set(k,q.WI,p);f.cS.set(n,q.zi,p);return p + q.length;},0);return new l(g,h,k,n,d);};l.prototype.zfa=function(){for(var m=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=m[h];}return g;};l.prototype.uOb=function(){this.SNa || (this.SNa=!0,this.Zj=new Uint32Array(this.Zj),this.$v=new Uint8Array(this.$v),this.wL=new Uint8Array(this.$v.length));};l.prototype.vOb=function(){void 0 === this.wL && (this.wL=new Uint8Array(this.$v.length));};l.prototype.upgrade=function(m,d){var g;this.uOb();m.vOb();g=m.sizes[d];void 0 !== this.Rc && (this.Rc+=g - this.sizes[d]);this.wL[d]=1;m.wL[d]=1;this.WI[d]=m.WI[d];this.zi[d]=m.zi[d];this.sizes[d]=g;};l.prototype.n0a=function(m){return void 0 === this.wL?!1:0 < this.wL[m];};return l;})();b.Mea=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Bba=void 0;c=a(2);f=a(116);r=a(17);l=c.__importDefault(a(6));m=a(9);d=a(42);g=a(5);h=a(233);k=a(380);a=a(381);n=l.default.MediaSource;a=(function(p){function q(u,t,w,v,x,y,z){t=p.call(this,u,v,x,t,z) || this;k.A_.L_a(t,u,v,z);t.ns=w;t.track=w.track;t.ww=! !v.ww;t.eO=! !v.eO;t.LC=! !v.LC;t.IRb=v.fa;t.yP=! !v.yP;t.yga=(y?"(cache)":"") + t.Pa + " header";w=v.offset;y=v.fa;t.hn && (w+=t.hn.byteLength,y-=t.hn.byteLength);t.rL(u.url || v.url,w,y);return t;}c.__extends(q,p);Object.defineProperties(q.prototype,{cd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HX:{get:function(){return this.Dob;},enumerable:!1,configurable:!0}});q.prototype.fd=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}p.prototype.fd.call(this);};q.prototype.oV=function(u){this.stream.p9();p.prototype.oV.call(this,u);};q.prototype.PM=function(u,t,w){this.stream.o9();p.prototype.PM.call(this,u,t,w);};q.prototype.uk=function(u){this.hn=this.hn?m.DC(this.hn,u.response):u.response;u.nY();this.stream.o9();this.Bob()?p.prototype.uk.call(this,u):this.CMa?(this.rL(u.url,u.offset + u.fa,this.CMa),this.stream.p9(),p.prototype.uk.call(this,u)):this.E5(this);};q.prototype.rL=function(u,t,w){u=new h.pQ(this.stream,this.track,this.yga + " (" + this.Ea.length + ")",{offset:t,fa:w,url:u,location:this.location,Nd:this.Nd,responseType:0},this,this.Oe,this.H);this.push(u);this.Rc=this.Ea.reduce(function(v,x){return v + x.fa;},0);};q.prototype.Bob=function(){var u,t,w,v,x,y,z;v=this.Oe;x=new f.fr(q.wPb,this.stream,this.hn,["sidx"],!0,{Hcc:this.stream.track.Vta,C9:void 0 === this.sa,Baa:!n.qc || !n.qc.ASa,Caa:v.Caa,gm:v.gm,dB:this.Oe.dB,b8a:!0,hE:!n.qc || !n.qc.F3a});y=x.parse({sa:this.sa});this.p2b=v.dB && x.PZa;if(y.Em){g.assert(y.Yg);this.XK=y.Yg;this.Dob=y.HX;this.eNa=! !y.AVa;void 0 === this.sa && void 0 === y.sa && this.H.error("No frame duration available for " + this.Pa);x=y.sa?new m.T(y.sa):this.sa;z=void 0;if(1 === this.yY.mediaType && (null === (u=v.xO) || void 0 === u?0:u.enabled))if(null === (t=this.yY.Lq) || void 0 === t?0:t.length)z=this.yY.Lq;else if((u=this.yY.$r.Lq,0 < (null === u || void 0 === u?void 0:u.length)))for((z=new Uint8Array(u.length),w=0);w < u.length;w++){z[w]=u[w].sb;}else if(null === (w=y.zi) || void 0 === w?0:w.length)for((z=new Uint8Array(y.zi.length),w=0);w < y.zi.length;w++){z[w]=y.zi[w];}this.stream.n9(y.Yg,y.S,x,y.U,y.NH,y.di,z);this.hn=void 0;}else this.CMa=y.ZPa || 0;return ! !y.Em;};q.wPb=new l.default.Console("MP4","media|asejs");return q;})(a.yba);b.Bba=a;d.zf(k.A_,a,!1,!1);d.zf(r.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.A_=void 0;c=a(2);f=a(5);l=a(173);r=(function(m){function d(g,h,k){var n;n=m.call(this,g,h) || this;n.yP=!1;n.ww=!1;n.eO=!1;n.LC=!1;n.ns=void 0;d.L_a(n,g,h,k);return n;}c.__extends(d,m);d.L_a=function(g,h,k,n){l.pv.xb(g,h,k);g.XK=k.Yg;g.hn=k.bta;g.eNa=k.Uk;g.H=n;};Object.defineProperties(d.prototype,{cd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yg:{get:function(){return this.XK;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bta:{get:function(){return this.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uk:{get:function(){return this.eNa;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){};d.prototype.Zxa=function(){};d.prototype.nrb=function(g){f.assert(this.md.Pa === g.Pa);!g.je && this.md.je && g.m4(this.md);!g.location && this.md.location && (g.location=this.md.location,g.Qc=this.md.Qc,g.II=this.md.II,g.url=this.md.url,g.wb=this.md.wb);this.md=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.U});};return d;})(l.pv);b.A_=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yba=void 0;c=a(2);c.__importDefault(a(6));a(5);r=(function(f){function l(m,d,g,h,k){m=f.call(this,m,d,g,h,k) || this;m.oNa=!1;m.nNa=!1;m.ES=!1;m.Ea=[];m.qo=!1;m.tOa=!1;m.JNa=!1;m.af=!1;m.cm=!1;m.Ei=!1;m.wK=!1;m.bL=void 0;m.Mv=void 0;return m;}c.__extends(l,f);Object.defineProperties(l.prototype,{Ppa:{get:function(){return this.qo && !this.ES;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.af;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dua:{get:function(){return this.cm;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Ei || (this.Ei=this.Ea.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.wK;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{eh:{get:function(){return this.Ea.reduce(function(m,d){return m + d.eh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.Ea.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uf:{get:function(){return this.bL || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.Ea[0] && this.Ea[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.Ch || this.Ea.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.Mv && this.Mv.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qh:{get:function(){return this.Mv && this.Mv.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{KM:{get:function(){return this.Mv && this.Mv.KM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tj:{get:function(){return this.Mv && this.Mv.tj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qu:{get:function(){return ! !this.Ea.length && this.Ea[0].qu;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.JNa && m.xb(this.Qa);this.Ea.push(m);this.qo && m.sO();};l.prototype.xb=function(m){f.prototype.xb.call(this,m);this.Ea.forEach(function(d){return d.xb(m);});this.JNa=!0;};l.prototype.sO=function(){this.tOa=!0;(this.qo=this.Ea.every(function(m){return m.sO();})) && this.oV(this);this.tOa=!1;return this.qo;};l.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ea.forEach(function(m){return m.fd();});};l.prototype.jaa=function(m){this.Ch=this.Mv=void 0;return this.Ea.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.jaa(m):!0;});};l.prototype.abort=function(){var m,d,g;m=this.active;d=this.aborted;this.Ch=7;this.wK=!0;this.cm=this.af=!1;g=this.Ea.map(function(h){return h.abort();}).every(function(h){return h;});d || this.PM(this,m,this.Ppa);return g;};l.prototype.getResponseHeader=function(m){var d;d=null;this.Ea.some(function(g){return ! !(d=g.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.Ea.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.v9=function(){};l.prototype.uA=function(m){this.af || (this.af=!0);this.oNa || (this.oNa=!0,this.ms=0,this.bL=this.Lu=m.uf,this.QM(this));};l.prototype.XH=function(m){this.cm || (this.cm=!0);this.nNa || (this.nNa=!0,this.bL=m.uf,this.PC(this));};l.prototype.YH=function(m){this.bL=m.uf;this.UG(this);this.ms=this.bytesReceived;this.Lu=m.uf;};l.prototype.uk=function(m){this.bL=m.uf;this.complete?(this.Ei=!0,this.Ch=5,this.cm=this.af=!1,this.ES=!0,this.Yt(this)):this.UG(this);this.ms=this.bytesReceived;this.Lu=m.uf;};l.prototype.AX=function(m){this.bL=m.uf;this.Mv=m;this.Ch=6;this.E5(this);};l.prototype.zX=function(){};l.prototype.li=function(){return this.Ea[0].li() + "-" + this.Ea[this.Ea.length - 1].li();};l.prototype.toString=function(){return "Compound[" + this.Ea.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.Ea};};return l;})(a(234).BJ);b.yba=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mma=void 0;b.mma=function(a,c){for(var f,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.ru)){if(l.bitrate <= c)return m;f=m;}}return f;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gna=b.vrb=void 0;b.vrb=function(a){return a.B$;};b.Gna=function(a,c){return void 0 !== a.$N?a.$N:c && void 0 !== c.$N?c.$N:100;};},function(r,b,a){var f;function c(l,m){this.Fob=l.xO && l.xO.enabled;this.WF=void 0;this.wnb=m;this.jha=[];this.Dha=[];this.v2=[];this.fg=[];}f=a(35).tH;c.prototype.reset=function(l){this.WF=void 0;this.jha=[];this.Dha=[];this.v2=[];l && (this.fg=[]);};c.prototype.add=function(l,m){var d,g,h;d=m.filter(function(k,n){return f(k) || n === l.Je;});g=d.map(function(k){return k.bitrate;});m=m[l.Je];d=d.indexOf(m);if(this.WF && (this.WF.length !== g.length || this.WF.some(function(k,n){return k !== g[n];}))){h=this.CXa();h && (this.fg.push(h),this.reset(!1));}void 0 === this.WF && (this.WF=g);this.jha.push([d,l.Gxa,l.Jc,l.fja,l.FRa,l.ATb,l.BQb,l.wf,l.Kp,l.ek,l.O_b - l.Gxa,l.gTb]);void 0 !== l.Bu && this.v2.push([l.Gxa,l.Bu.wP,l.Bu.bM,l.Bu.QO]);this.Fob && void 0 !== m.U && (d=m.U.Bn(l.ek),-1 != d && (d=m.U.get(d),h=d.duration,m=d.sb || m.sb,void 0 !== m && this.Dha.push({Z:d.Z,duration:h,sb:m})));};c.prototype.yVa=function(l){for(var m=[],d=[],g=0;g < l.length;g++){for(var h=l[g],k=[],n=0;n < h.length;n++){k.push(h[n] - (d[n] || 0));}m.push(k);d=h;}return m;};c.prototype.CXa=function(){var l,m;l=this.yVa(this.jha);if(0 !== l.length){m=0 < this.v2.length?this.yVa(this.v2):[];return {dltype:this.wnb,bitrates:this.WF,seltrace:l,vmaftrace:this.Dha,paceratetrace:m};}};c.prototype.get=function(){var l,m;l=this.CXa();m=this.fg;l && m.push(l);if(0 !== m.length)return m;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=void 0;c=a(823);r=(function(){var q00;q00=2;for(;q00 !== 3;){switch(q00){case 2:f.prototype.hlb=function(l,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 2:m=c.dTa(m,l);d=l.steeringAdditionalInfo;s00=5;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var y8U="applying manifest based strea";y8U+="ming";y8U+="C";y8U+="lientC";y8U+="onfig";return (l=d.streamingClientConfig,this.H.trace(y8U + JSON.stringify(l)),this.uOa(m,l));break;case 3:l=l.cdnResponseData;s00=9;break;case 8:return m;break;case 9:s00=!l?8:7;break;case 7:var O8U="using sab cell >= 100";O8U+=", pipeline";O8U+="Enabled: ";var h8U="using sab ";h8U+="ce";h8U+="ll >= 2";h8U+="00";h8U+=", pipelineEnabled: ";var r8U=", allow";r8U+="S";r8U+="witchb";r8U+="ac";r8U+="k";var Z8U=", probeDetailDen";Z8U+="omi";Z8U+="nato";Z8U+="r:";Z8U+=" ";var K8U="using sa";K8U+="b cell >= 300,";K8U+=" probeS";K8U+="erverWhenError:";K8U+=" ";var d8U=", ";d8U+="allowSwitchba";d8U+="ck";var D8U=",";D8U+=" probeDeta";D8U+="ilDenominator: ";var R8U="using sab cell >= 400,";R8U+=" probeServ";R8U+="erW";R8U+="henError: ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Pu=!0,m.mI=1,m.Gy=!0),this.H.trace(R8U + m.Pu + D8U + m.mI + d8U + m.Gy)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Pu=!0,m.mI=1,m.Gy=!1),this.H.trace(K8U + m.Pu + Z8U + m.mI + r8U + m.Gy)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.zq=!1,this.H.trace(h8U + m.zq)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.e8}),m.set({maxPendingBufferLen:m.K2a})):(m.zq=!0,m.UN=1,m.Lw=m.e8,m.l8=m.K2a),this.H.trace(O8U + m.zq)));return m;break;}}};f.prototype.ilb=function(l,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 1:return m;break;case 6:return m;break;t00=5;break;case 2:t00=!m.nka || l === this.enb?1:5;break;case 12:return m;break;t00=9;break;case 5:this.enb=l;for(var d in m.nka){new RegExp(d).test(l) && (m=this.uOa(m,m.nka[d]));}t00=3;break;case 3:return m;break;}}};f.prototype.uOa=function(l,m){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 5:return l;break;case 7:return l;break;u00=4;break;case 2:for(g in m){if(m.hasOwnProperty(g)){var P8U="Inva";P8U+="l";P8U+="i";P8U+="d k";P8U+="ey";h=m[g];l.set?0 === l.set((d={},d[g]=h,d)) && this.H.trace(P8U + g):l[g]=h;}}u00=5;break;}}};return f;break;}}function f(l){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 3:this.H=l;"";r00=6;break;r00=5;break;case 2:var G8U="1SI";G8U+="Y";G8U+="bZr";G8U+="NJCp";G8U+="9";this.H=l;G8U;r00=5;break;}}}})();b.KAa=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.HEa=b.OJa=void 0;a=(function(){function f(){var l;l=this;this.hT=[];this.SVb=function(m){m=l.hT.indexOf(m);0 <= m && l.hT.splice(m,1);};}Object.defineProperties(f.prototype,{oC:{get:function(){return 0 !== this.hT.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{r4a:{get:function(){return this.hT.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var l;l=new c(this.SVb);this.hT.push(l);return l;};f.prototype.hcb=function(l){var m;m=this.add();try{return Promise.resolve(l()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return f;})();b.OJa=a;c=(function(){function f(l){this.apb=l;}f.prototype.release=function(){this.apb(this);};return f;})();r=(function(){function f(l,m){this.oRb=l;this.console=m;this.counter=new a();}f.prototype.By=function(){var l,m;l=this;this.console.trace("Acquiring lease, total count",this.counter.r4a + 1);m=this.counter.add();return {release:function(){m.release();l.console.trace("Releasing lease, total count",l.counter.r4a);l.oRb(function(){return !l.counter.oC;});}};};return f;})();b.HEa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.JEa=b.VR=void 0;c=a(2);f=a(17);l=c.__importStar(a(10));m=c.__importDefault(a(86));d=a(16);g=a(238);h=a(22);r=a(42);k=c.__importDefault(a(6));n=a(828);p=a(389);(function(u){u[u.MWa=0]="forwards";u[u.Lia=1]="backwards";u[u.jO=2]="none";})(q=b.VR || (b.VR={}));a=(function(u){function t(w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M){var R,H,P;H=u.call(this,void 0,v,y,D.P,w,D,void 0,F,K,h.T.Ab(C),B.Re.bind(B),G,M,void 0,new f.EventEmitter(),void 0) || this;H.rb=w;H.bi=x;H.oc=z;H.Z1=A;H.V=B;H.pL=E;H.ug=G;H.uV=J;H.Rg=I;H.tl=M;H.active=!1;H.BNa=[];H.Yga=0;null === (R=H.P) || void 0 === R?void 0:R.Jua(H);H.children=Object.create(null);H.px=[];H.ke=void 0;void 0 === K && (K=h.T.Ab(D.Z));P=[H.I.VQa,H.I.Swa];F.forEach(function(N){var L;L=N.mediaType;N=new p.E0(w,H.bi,H.H,H,N,K.W,P[L],v,H.Z1,H.Rg,H.fga[L],null === G || void 0 === G?void 0:G.fb(L));H.ee.QXb(L,N);});H.st=H.ee.YX;return H;}c.__extends(t,u);Object.defineProperties(t.prototype,{J:{get:function(){return this.P.J;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Im:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.fb(0)) || void 0 === w?void 0:w.Im) && void 0 !== v?v:0,null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.Im) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{un:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.fb(0)) || void 0 === w?void 0:w.un) && void 0 !== v?v:{W:0,fa:0},null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.un) && void 0 !== y?y:{W:0,fa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{F$:{get:function(){return this.O.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bta:{get:function(){return this.F$ + this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mc:{get:function(){return this.O.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{me:{get:function(){return this.Mc + this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mc:{get:function(){return this.P.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.O.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fl:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});t.prototype.Ff=function(){var w;this.Fh || (this.active=!1,this.ug && (delete this.ug.children[this.O.id],this.ug=void 0),l.pf(this.children,function(v){v && v.ug && (v.ug=void 0);}),this.children=Object.create(null),this.JK=void 0,u.prototype.Ff.call(this),null === (w=this.P) || void 0 === w?void 0:w.Oxa(this),this.ee.clear());};t.prototype.hva=function(w,v){void 0 === v && (v=q.Lia);this.fl.forEach(function(x){(l.ia(w) || x.mediaType === w) && x.reset();});switch(v){case q.Lia:this.ug && this.ug.hva(w,v);break;case q.MWa:this.children && l.pf(this.children,function(x){x && x.hva(w,v);});}};t.prototype.mW=function(w){var v,x,y;if(!this.active)return !1;v=this.ug;if(v){x=v.fb(w);y=x.Qa.z5a;if(0 !== y && (v.KL(w),y=x.Qa.z5a,0 !== y))return !1;}return !0;};t.prototype.Sd=function(w){return this.fl.get(w);};t.prototype.QIb=function(){return this.fl.every(function(w){return 0 === w.KA;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},u.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.zd,playerEndPts:this.me,pipelines:this.fl,previousBranch:this.ug});};t.prototype.n9a=function(w,v){this.P.Oxa(this);this.P=this.O.P=w;this.fwa(this.P);this.P.Jua(this);this.fl.forEach(function(x){var y;y=v[x.mediaType];y && x.VY(y);});};t.prototype.cHb=function(w){return this.tl[w];};t.prototype.fb=function(w){return this.fl.get(w);};t.prototype.pHb=function(w){return this.fb(w).KA;};t.prototype.dwa=function(w,v,x){var y,z,A,B;y=this;z=this.O;w=this.S3(z.Z,this.P,w,this.J === (w?w.J:this.oc.Yc.J));A=w.LO;B=w.wz;void 0 === v && (v=[0,1]);0 === B.length || v.forEach(function(E){var D,F;D=y.fb(E);x && (D.ie=B[E]);F=y.fV(z.Ga);D.R$(F[E]);});return A;};t.prototype.e7a=function(w,v){var x,y,z;x=this.rb;y=this.fb(0);void 0 === v && (v=y.pKb);this.ug && (z=this.ug.Sd(0));x=new p.E0(x,this.bi,this.H,this,w,v,y.kP,this.I,this.Z1,this.Rg,this.fga[0],z);this.ee.replace(y,x);this.st=this.ee.YX;this.dwa(this.ug,[0],!0);x.LI(v,! !this.ug);y.Ff();l.pf(this.children,function(A){A && A.e7a(w);});};t.prototype.Vt=function(w,v){if(v=this.fb(v))return v.Qa.Vt(w);};t.prototype.KL=function(w){void 0 === w?this.fl.forEach(function(v){v.KL();}):this.fb(w).KL();};t.prototype.aY=function(w,v,x){(w=this.fb(w)) && w.Qa.aY(v,x);};t.prototype.q6=function(w,v){(v=this.fb(v)) && v.Qa.q6(w);};t.prototype.QNb=function(w){this.BNa[w]=!0;};t.prototype.Eub=function(){var w;w=this;return [0,1].every(function(v){return !w.mc(v) || w.BNa[v];});};t.prototype.Cub=function(w,v,x,y){var z,A,B,E,D,F,C,G,K;z=this.I;A=this.rb;B=this.V.getState();E=B === d.ma.xd || B === d.ma.Qf;if(!E && void 0 === x)return {Pe:!0};if(B === d.ma.Qf && k.default.time.ea() < this.Yga + z.Sra)return {Pe:!1};D=this.fb(0);F=this.fb(1);C=this.oc.iw(this,0);G=this.oc.iw(this,1);K=g.Q9(B);C=!D || D.eSa(K,this.V.Re(),v,C,this.V.Ko(),y);G=!F || F.eSa(K,this.V.Re(),w,G,this.V.Ko(),y);void 0 !== x && C && (x=x.trackId,w=this.P.getTrackById(x),this.olb(x,w.rE),A.Ky=void 0);if(C && G)return (this.pL(),this.YT=k.default.time.ea(),B === d.ma.Qf && (this.Yga=k.default.time.ea()),{Pe:!0,Dt:F?F.jG:D.jG});C=this.Hh(0);G=this.Hh(1);if(E){A=!F || G > z.sj;if((!D || C > z.sj) && A && (D=this.uV(),D >= z.yA))return (this.Sb("buffering longer than limit: " + D + " >= " + z.yA + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.pL(),this.YT=k.default.time.ea(),B === d.ma.Qf && (this.Yga=k.default.time.ea()),{Pe:!0,Dt:"prebufferTimeLimit"});this.bi.Onb();}return {Pe:!1};};t.prototype.Fja=function(w,v){var x,y,z,A,B,E;x=this.I;y=this.fb(0);z=this.fb(1);v?(v=this.Hh(0,w),w=this.Hh(1,w)):(v=this.oc.iw(this,0,w),w=this.oc.iw(this,1,w));A=x.sj;B=!this.mc(0) || y.Wh && 0 === y.Qa.ND && 0 === y.Qa.Js;y=!this.mc(1) || z.Wh && 0 === z.Qa.ND && 0 === z.Qa.Js;E=B && y;x=!B && v < x.sj;if(!E && (x || !y && w < A))return !1;if(z && z.Pe || !this.mc(1))return !0;if(E)if(this.rb.y2 && 0 === v && 0 === w)this.Sb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.O$=function(w,v){var x,y;x=this;y=this.I;this.fl.forEach(function(z){z.seeking=void 0;});w && y.ii && this.fl.forEach(function(z){var A;if(z){A=x.oc.nG(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.un.fa + ", completedMs: " + z.$L + ", completedBytes: " + A + ", partials: " + z.Qa.ND + ", streamingPts: " + z.Jc + ", completeStreamingPts: " + z.Tp + ", fragments: " + JSON.stringify(z.Qa.U) + ", toAppend: " + v(z.mediaType);x.bi.Dm(z);}});};t.prototype.iE=function(w,v,x){var y,z,A;y=this;z=k.default.time.ea();A={};l.pf(this.children,function(B){var E,D,F,C;if(B){if(B.ke){B.ke.dBb=z - B.ke.d7;B.ke.d7=void 0;E=B.ke.weight;}else E=y.oc.gZa(y.O.id,B.O.id);D=B.RC();F=y.fb(0) && 0 === D.xr;C=y.fb(1) && 0 === D.$n;A[B.O.id]={weight:E,Dr:D,XV:!F && !C};}});x={Iq:z,Ue:w,bla:x,Y$:this.O.id,ke:A};w || (w=v.Re(),x.AP=w - (this.O.Z + this.Fe),x.AP=Math.max(0,x.AP),x.I4=0,x.startTime=z);this.px.unshift(x);return x;};t.prototype.Hvb=function(w){var v,x;v=this.px[0];v.Ue && (v.AP=this.Mc - this.O.Z,v.AP=Math.max(0,v.AP));v.zab={};x=w.RC();m.default(x,v.zab);v.XV=w.un.every(function(y){return 0 < y.W;});this.px=[];return v;};t.prototype.Wn=function(w){var v;v=this.O;w-=this.Fe;if(v.Z < w && w < v.Ga)this.px.shift();else if(v=this.px[0])v.Wn=!0;};t.prototype.S3=function(w,v,x,y){var z,A,B,E;z=this;void 0 === v && (v=this.P);A=!1;if(x){A=!0;B=x.fb(1).Jf;x=x.fb(0).Jf;if(!B || !x)return {LO:[],wz:[]};B=B.Ga;y || (B=void 0);}E=this.nWa(w,B,A,v);v.Pb === this.oc.fzb && [1,0].forEach(function(D){var F;F=z.fb(D);F && (F.ie=E[D]);});return {LO:E.map(function(D){return D.Z;}),wz:E};};t.prototype.nWa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.P);return this.tPa(y)?[1,0].map(function(A){var B;if(!z.mc(A))return {};B=y.th[A];A=z.fb(A).An(B.stream,w,v,x);w=A.Z;return A;}).reverse():[];};t.prototype.fV=function(w,v){var x;x=this;void 0 === v && (v=this.P);return this.tPa(v)?[1,0].map(function(y){var z;if(!x.mc(y))return {};z=v.th[y].stream;y=x.fb(y).vz(z,w);w=x.I.dh?new h.T(y.ob,z.sa.S).W:y.Ga;return y;}).reverse():[];};t.prototype.x1b=function(w,v){var x;x=this.O.Ga;x && x < v && (w=this.fV(x));v=this.Sd(1);x=this.Sd(0);v && v.R$(w[1]);x && x.R$(w[0]);};t.prototype.tPa=function(w){var v;v=w.th;if(!v)return !1;w=v[1];w=!this.mc(1) || w && w.stream.je;v=v[0];v=!this.mc(0) || v && v.stream.je;return w && v?!0:!1;};t.prototype.olb=function(w,v){this.bi.Mnb(w,v);};return t;})(n.OEa);b.JEa=a;r.zf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Cda=b.Wfb=void 0;c=a(2);f=c.__importDefault(a(6));l=a(20);m=a(829);d=a(9);r=(function(){return function(g,h,k){var n;this.I=h;k=d.wq(f.default,k,"[" + g + "]");this.s3a=1 === g?h.L8:h.D8;n=f.default.Jo()[g];this.OW=1 === g?h.qOb:h.$Nb;this.OW=Math.min(h.hOb * n,this.OW);l.ga && k.trace("This pipeline's buffer size ",n,this.OW);this.H8=(1 === g?h.pA:h.Qw) || h.H8;this.j8=(1 === g?h.pOb:h.ZNb) || h.j8;this.dia=h.dia;};})();b.Wfb=r;r=(function(g){function h(k,n,p){return g.call(this,k,n,p) || this;}c.__extends(h,g);h.prototype.RFb=function(k,n,p,q){var u,t,w,v,x;w=n === p.ie.index;v=n === p.Jf.index;if(!v || w && p.ie.va){if(w){x=k.XXa(p.ie);x.rP(p.ie.ev);v && (p.ie.va || p.Jf.va) && x.Ck({start:null === (u=x.va) || void 0 === u?void 0:u.start,end:null === (t=p.Jf.va) || void 0 === t?void 0:t.end});}else x=k.Xk(n);}else (x=k.XXa(p.Jf),x.rP(p.Jf.ev));x.fO=n + 1;if(u=m.ZYa(p,p.Jc))(l.ga && p.nn("getFragmentForRequest pts:",p.Jc,"in region:",u,"previous region:",p.lqa),m.dVa(p.H,x,u,{ZKb:w,eLb:v,kLb:void 0 === p.lqa || p.lqa !== u.region}));v && (x.t2a(),x.pYb(p.eb.O));w=k.U.ix;if(!(x.fO === n || null !== w && void 0 !== w && w.n0a(n) || q || !this.dia && x.va))for(++n;n < k.U.length && n < p.Jf.index && (x.fa < this.s3a || x.duration < this.H8) && (1 === x.stream.Yg.length || this.cub(k,n));++n){q=k.Xk(n);if(null === w || void 0 === w?0:w.n0a(n))break;if(m.m0a(p,q))break;if(x.duration + q.duration > this.j8)break;if(x.fa + q.fa > this.OW)break;x.k3(q);x.fO=n + 1;l.ga && p.nn("getFragmentForRequest: extended fragment startPts:",x.Z,"to duration:",x.duration,"size:",x.fa,"min request size:",this.s3a,"max request size:",this.OW,"min request duration:",this.H8,"max request duration:",this.j8,"edit:",x.va);}l.ga && p.nn("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.yma,"lastRequestInRegion:",x.Fw,"nextIndex:",x.fO);return x;};h.prototype.cub=function(k,n){return !k.Yg.some(function(p){return n === p.Rd;});};return h;})(r);b.Cda=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.E0=void 0;c=a(2);r=a(390);f=c.__importDefault(a(28)).default.Ta;l=a(369);m=a(16);d=c.__importDefault(a(6));g=a(176);h=a(5);k=a(22);n=a(858);a=(function(p){function q(u,t,w,v,x,y,z,A,B,E,D,F){w=p.call(this,v,A,w,v,v,x,k.T.Ab(y),z,D,!1,null === F || void 0 === F?void 0:F.vg) || this;w.rb=u;w.bi=t;w.ng=B;w.Rg=E;w.cja=0;w.OC=[];w.fy=!1;w.uo.tbb=!1;w.DS=new n.KEa(v,w.Rg,A,w.H,w.mediaType,w.bi,w.Qa,w.rb);w.oMb=d.default.time.ea();w.iMb=void 0;w.GH=A.qpa;w.n6a=d.default.time.ea();t=g.hN(A);u=t.VD;t=t.U9;w.BTb=0 === w.mediaType?u:t;w.VY(x);return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{yt:{get:function(){return this.Qa.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$L:{get:function(){return this.Qa.$L;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CC:{get:function(){return this.Qa.CC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KA:{get:function(){return this.Qa.KA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wh:{get:function(){return this.DS.Wh;},set:function(u){this.DS.Wh=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zq:{get:function(){return this.DS.Zq;},set:function(u){this.DS.Zq=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{V7:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pKb:{get:function(){return this.HNa.W;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kP:{get:function(){return this.ml.kP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{AHb:{get:function(){return this.rb.bha;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pe:{get:function(){return this.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jG:{get:function(){return this.LMa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Wh=!1;this.uo.reset();};q.prototype.Ff=function(){this.reset();p.prototype.Ff.call(this);};q.prototype.vz=function(u,t){return l.vz(this.$j.mediaType,this.I,u,t,this.dh,this.rb.HOb);};q.prototype.An=function(u,t,w,v){return l.An(this.$j.mediaType,this.I,u,t,w,v);};q.prototype.Wn=function(){this.GH=this.I.qpa;};q.prototype.KL=function(){this.Qa.Faa();};q.prototype.VY=function(u){var t,w;t=this.rb;w=this.mediaType;h.assert(u.mediaType === w);h.assert(u.P === this.eb.P);this.$j=u;this.eb.P.Yxa(w,u.$d);t.Nmb(this,u.Jw);this.Mtb(u.$d);this.vg.VY(u);this.eb.P.Qja();this.Wh=!1;};q.prototype.jma=function(u){var t;t=this.eb.P.th[this.mediaType];if(t && t.stream.je && (u=t.stream.U.Bn(u),-1 !== u))return u;};q.prototype.LI=function(u,t){var w,v,x;if(this.ie && this.ie.Z === u){t=this.ie.index;w=u;}else {v=this.eb.P;x=v.th[this.mediaType];if(!x || !x.stream.je){this.cI=u;this.zSb=t;return;}w=x.stream.U;this.ie=this.An(x.stream,u,void 0,t);if(void 0 === this.ie){if((t=w.length - 1,w=w.Aj(t),this.Sb("setStreamingPts out of range of fragments, pts:",u,"last startPts:",w,"fragment index:",t,"fastplay:",v.kf.ue),v.kf.ue)){this.cI=u;return;}}else (t=this.ie.index,w=this.ie.Z);}this.Kn=t;this.nT=w;this.cI=void 0;};q.prototype.E2b=function(u){var t,w;t=this.$j.Bw(u);w="verifying streamId: " + u + " stream's track: " + (t?t.Pa:"unknown") + " currentTrack: " + this.$j.trackId;return t?!0:(this.bi.Dm(w),this.bi.Dm("unknown streamId: " + u),!1);};q.prototype.Mtb=function(u){this.hJb=u.reduce(function(t,w){return w.ru && w.bitrate > t.bitrate?w:t;},u[0]);};q.prototype.R$=function(u){this.Jf=u;};q.prototype.HNb=function(u,t,w,v,x){this.Fab(u,t,v,x);w && ++this.cja;this.rb.Yj();};q.prototype.uA=function(u){u.Ga && u.Z && (this.GH-=u.Ga - u.Z);p.prototype.uA.call(this,u);};q.prototype.uk=function(u){this.FZa(u);this.Yt(u);};q.prototype.z1b=function(u){var t;t=d.default.time.ea();this.GH+=u * (t - this.n6a);this.n6a=t;};q.prototype.xWb=function(){this.GH=this.I.qpa;};q.prototype.XL=function(u){this.Qa.Bja();this.dh || this.DS.XL(u,this.Mc);};q.prototype.FZa=function(u){var t,w,v;w=this.V7;v=this.rb;this.ng.ePa() || (this.bi.kob(u.mediaType,u.P.Pb,u.stream.track.mC,this.Tp,this.ya),null === (t=this.dh) || void 0 === t?void 0:t.bKb(u),t=w.V.Re() || 0,v.zb.hy() || (w=w.fb(f.Nb)) && !w.Pe && w.F6 && v.zb.eoa(w),this.XL(t),this.rb.EZa(u),this.ng.N1(this) && this.ng.Yj());};q.prototype.Vsa=function(u){this.rb.C6(u);};q.prototype.eSa=function(u,t,w,v,x,y){var z,A;z=this.I;A=z.sj;if(w >= z.sj && (z.p$ && (A=w + 1E3),z.q$ && !this.connected))return !1;if(this.dh)return this.dh.Wy();w=this.Wh && 0 === this.Qa.ata && 0 === this.Qa.Js;return !w && v < A?!1:w?y && 0 === v?(this.Sb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Mub(u,t,x);};q.prototype.gYb=function(u){this.nT=u;};q.prototype.O$=function(u){this.fy=!0;this.LMa=u;};q.prototype.Oja=function(){this.fy=!1;this.LMa=void 0;};q.prototype.Mub=function(u,t,w){if(this.Pe || 0 === this.mediaType)return !0;if(void 0 === this.su)return !1;t=this.Amb(t,u);this.track.P.Am.QZ(this.track.P.X,this.track.$d);this.ml.Ota([this.su],!1,t,this.BTb);u=this.ml.Wy(t,u,w,this.su,this.eb.P.aq);u.complete?this.O$(u.reason):(this.Oja(),this.wD=u.wD,this.progress=u.progress);return this.Pe;};q.prototype.Amb=function(u,t){var w,v,x,y,z;y=d.default.Jo()[this.mediaType];z=this.Qa.q6();u={jw:y,Z:null !== (w=z.zd) && void 0 !== w?w:0,Nc:u,Jc:null !== (v=z.FO || u) && void 0 !== v?v:0,om:null !== (x=z.lU || u) && void 0 !== x?x:0,eh:z.eh,el:z.el,PWa:z.U.length,U:z.U};"number" !== typeof u.Z?(u.Z=0,u.Jc=0):t === m.Kc.xd && u.Nc !== u.Z && (u.Nc=u.Z);return u;};return q;})(r.Zda);b.E0=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Zda=void 0;c=a(2);f=a(17);l=a(830);m=a(83);d=a(831);g=a(838);h=a(243);k=a(244);n=a(9);p=a(5);q=a(22);u=c.__importDefault(a(6));r=a(102);t=a(42);w=a(394);v=a(125);a=(function(x){function y(z,A,B,E,D,F,C,G,K,J,I,M,R){var H;H=x.call(this,z) || this;H.I=A;H.Wd=D;H.$j=F;H.HNa=C;H.ymb=K;H.Vv=R;H.events=new f.EventEmitter();H.connected=!1;H.Foa=!1;H.Yl=!1;H.H=n.wq(u.default,B,"[" + H.mediaType + "]");H.Lk=H.H.error.bind(H.H);H.Sb=H.H.warn.bind(H.H);H.nn=H.H.trace.bind(H.H);H.nT=C.W;"string" === typeof G || void 0 === G?(z=0 === H.mediaType && A.Ela || 1 === H.mediaType && A.Fla,H.sha=new k.Sea(G,A,new h.Rea(I),z)):H.sha=G;H.kn=new l.qIa(H,E,H.I,H.H,H.mediaType);H.uo=new d.ZJa(H,A,H.H,H.kn,H.Wd,H.mediaType,H.Vv,function(){return H.xj;});A.dh && (H.dh=new g.OKa(A.dh,H.H));J && (H.Kf=null !== M && void 0 !== M?M:w.Lt(H.mediaType,H.track.P,H.I,H.H,H.kn.$Db.bind(H.kn),function(){}),H.Kf.on("created",function(){return H.events.emit("requestQueueCreated");}));return H;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.$j.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{eb:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){return this.Wd.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qa:{get:function(){return this.uo;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$d:{get:function(){return this.$j.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{un:{get:function(){return this.uo.un;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Im:{get:function(){return this.uo.Im;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Jc:{get:function(){return this.nT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$$:{get:function(){var z;return null !== (z=this.Kg) && void 0 !== z?z:this.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kU:{get:function(){var z;return null !== (z=this.Qa.kU) && void 0 !== z?z:this.$$;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Lha:{get:function(){return this.Qa.kU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Tp:{get:function(){return this.Qa.Tp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bka:{get:function(){return this.Qa.bka;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fMb:{get:function(){var z;z=this.Qa.gMb;return null === z || void 0 === z?void 0:z.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gw:{get:function(){return ! !this.Jf && (this.Kn > this.Jf.index || this.nT >= this.Jf.Mc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xl:{get:function(){return this.Gw && 0 === this.uo.ND;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yt:{get:function(){return this.Qa.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Tq:{get:function(){return this.xe?q.T.max(this.xe.Ma(this.mE),q.T.Eb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{NM:{get:function(){return this.eb.NM;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{PTa:{get:function(){return this.Qa.U.QU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ml:{get:function(){return this.sha;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vg:{get:function(){return this.ml.vg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{su:{get:function(){return this.ml.vg.su;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S:{get:function(){var z,A;return null !== (A=null === (z=this.ie) || void 0 === z?void 0:z.S) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wa:{get:function(){var z;return null === (z=this.ie) || void 0 === z?void 0:z.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ob:{get:function(){var z;return null === (z=this.Jf) || void 0 === z?void 0:z.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xj:{get:function(){return this.eb.Sf.ag(this.S).vc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{F6:{get:function(){return this.Qa.F6;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kx:{get:function(){return this.Qa.kx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Iwa:{get:function(){return this.Qa.Iwa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vr:{get:function(){return this.HNa.add(this.eb.Sf);},enumerable:!1,configurable:!0}});y.prototype.vT=function(){var z;z=this;this.uo.vT(void 0,function(A){var B;B=A[0];A=B.gd;B=B.index;B < z.Kn && z.qP(A,B);});};y.prototype.reset=function(){this.Qa.reset();this.ie && this.qP(this.ie.gd,this.ie.index);this.Kf && this.eb.P.AL(this.mediaType,this.Kf);};y.prototype.Ff=function(){var z;this.Yl=!0;this.uo.Ff();null === (z=this.sha) || void 0 === z?void 0:z.vg.Lb();this.Kf && (this.eb.P.AL(this.mediaType,this.Kf),v.mp.instance.qM(this.Kf),this.Kf.removeAllListeners(),this.Kf=void 0);};y.prototype.toJSON=function(){return {started:this.kx,startOfSequence:this.Iwa,segmentId:this.ya,requestedBufferLevel:this.Im,viewableId:this.Wd.P.X,hasFragments:this.F6};};y.prototype.Rm=function(){return this.Qa.Rm();};y.prototype.qP=function(z,A){this.nT=z;this.Kn=A;};y.prototype.Ez=function(){return this.Qa.Ez();};y.prototype.MG=function(){this.Qa.close();};y.prototype.wG=function(z){return (z=this.Qa.Vt(z.W))?z.complete:!1;};Object.defineProperties(y.prototype,{bh:{get:function(){return this.Wd.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mE:{get:function(){var z,A,B,E;return null !== (E=null !== (z=this.Qa.mE) && void 0 !== z?z:null === (B=null === (A=this.ie) || void 0 === A?void 0:A.Xc) || void 0 === B?void 0:B.add(this.eb.Sf)) && void 0 !== E?E:this.Vr;},enumerable:!1,configurable:!0}});y.prototype.Gab=function(z,A){var B;p.assert(this.Kf);p.assert(!this.Yl,"pipeline.tryIssueRequest on disabled pipeline");B=z.d6();return B?this.Fab(z,B,this.Kf,A):(z=z.sE(this.Kf))?{ym:z,reason:"success"}:{ym:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.i7=function(z,A){z && (this.ie=z);A && (this.Jf=A);p.assert(this.ie);p.assert(this.Jf);p.assert(void 0 === this.Kn);this.qP(this.ie.gd,this.ie.index);};y.prototype.truncate=function(z){var A;A=this;p.assert(this.ie,"expected first fragment to exist on updateStreaming");this.Jf=z;this.Gw && (z=c.__read(this.uo.nqb(z),2),this.qP(z[0],z[1]),this.Wr() && (this.Qa.O8a(),this.Qa.Bja(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.pD=function(){return this.Wr()?!1:this.Kh()?!0:this.track.U8;};y.prototype.Kh=function(){return void 0 !== this.ie && void 0 !== this.Jf;};y.prototype.Wr=function(){return this.Yl || this.Gw;};Object.defineProperties(y.prototype,{l6a:{get:function(){var z;z=!0;this.I.q$ && (z=this.connected);this.I.p$ && (z=z && this.Foa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{VRb:{get:function(){return void 0 !== this.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{T4a:{get:function(){var z;return (null === (z=this.dh) || void 0 === z?0:z.Wy())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.uk=function(z){this.kn.iQb(z);"oncomplete" === this.I.I_a && (this.Foa=!0);this.Yt(z);};y.prototype.uA=function(z){z.cd || this.kn.h4a(z.stream,z.Z,z.gd);this.kn.eQb(this.ya,z.stream,z.cd);this.QM(z);};y.prototype.XH=function(z){z.j3 || (this.connected=!0);"onfirstbyte" === this.I.I_a && (this.Foa=!0);this.PC(z);};y.prototype.cYa=function(z){var A,B;A=this.Qa.U;if(0 === A.length)return {U:[],D9:0,el:0};B=A.MM(z.W);0 > B && (B=void 0 === A.Z || z.W <= A.Z?0:A.length);return {U:A.sXb(B),D9:Math.max(0,A.NSa - B),el:A.el};};y.prototype.Fab=function(z,A,B,E){var D,F,C,G,K,J;C=this.Wd;G=C.P;K=this.mediaType;J=this.Kn;if(J >= A.length)return (this.Sb("makeRequest nextFragmentIndex:",J,"past fragments length:",A.length),{ym:!1,reason:"insufficientFragments"});if(!this.ie || !this.Jf)return (this.Sb("makeRequest delayed, first or last fragment not set","first:",! !this.ie,"last:",! !this.Jf),{ym:!1,reason:"noFirstOrLastFragment"});A=this.ymb.RFb(z,J,this,G.Uz());this.lqa=A.region;null === (D=this.dh) || void 0 === D?void 0:D.dKb(A,z);A.uq && 1 === K && this.kn.Nga(C.O,A.Ga);this.I.VN && (A.VN=this.I.VN);void 0 !== z && (A.location=z.location,A.Nd=z.Qc,A.Vva=z.zs);if(D=C.P.V$)(K=0 === K && this.I.Ela || 1 === K && this.I.Fla,J=this.I.YBb && 1 === this.mediaType && this.I.zq,A.wI=K?E:void 0,A.W$=D.Kt({Qp:C.Hh(this.mediaType),d9:this.I.TBb?this.I.d9:void 0,iab:String(u.default.time.ea()),oU:K?E:void 0,Tia:J?{start:A.offset,size:A.fa}:void 0}));u.default.time.ea();B=this.Qa.Lyb(A,B,z);if(!B.sO()){this.Sb("MediaRequest.open error: " + B.qh + " native: " + B.tj);if(7 === B.readyState)return {ym:!1,reason:"requestAborted"};this.Sb("makeRequest caught:",B.qh);G.Ph("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {ym:!1,reason:"openAseMediaRequest"};}null === (F=this.dh) || void 0 === F?void 0:F.oCb(B,A,z);this.kn.jQb(B);this.qP(B.Mc,A.fO);this.Wr() && (this.Qa.O8a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {ym:!0,reason:"success"};};return y;})(m.ov);b.Zda=a;t.zf(r.nB,a);t.zf(r.xx,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.p8=b.q8=void 0;c=a(2).__importDefault(a(35)).default.console;b.q8=f;b.p8=l;(function(){function m(d,g,h){var w00,k;w00=2;for(;w00 !== 7;){switch(w00){case 1:k=0;w00=5;break;case 2:w00=0 === g.length?1:9;break;case 4:g[d[k].Nf]=k;w00=3;break;case 3:k++;w00=5;break;case 5:w00=k < d.length?4:9;break;case 9:d=g[h];return void 0 !== d?d:-1;break;}}}var v00;v00=2;for(;v00 !== 4;){switch(v00){case 2:var m8U="1SI";m8U+="Y";m8U+="bZrNJ";m8U+="Cp9";b.q8=f=function(d,g,h,k,n){var x00,u,t,p,w,v,x,q;x00=2;for(;x00 !== 18;){switch(x00){case 6:(u=h.zi[k],t=h.sizes[k]);x00=14;break;case 12:x00=!u || !v?19:11;break;case 9:var F8U="maybeUpgradeLowVmafFr";F8U+="ag";F8U+="ments: invalid stre";F8U+="ams";c.error(F8U);x00=18;break;case 1:p=[];x00=5;break;case 5:x00=k < n?4:18;break;case 20:q++;x00=7;break;case 2:x00=d.$W && 0 < d.$W?1:18;break;case 7:x00=h.zi[k] < d.$W && q < g.length?6:19;break;case 8:q+=1;x00=7;break;case 13:(w=g[q].U.ix,v=w.zi[k],x=w.sizes[k]);x00=12;break;case 11:x00=v > u || v === u && x > t?10:20;break;case 3:x00=-1 === q?9:8;break;case 14:x00=!g[q].U?19:13;break;case 19:k++;x00=5;break;case 4:q=m(g,p,h.WI[k]);x00=3;break;case 10:(m(g,p,w.WI[k]),h.upgrade(w,k));x00=20;break;}}};b.p8=l=function(d,g,h,k){var y00,n,p,q,u,t,w;y00=2;for(;y00 !== 8;){switch(y00){case 2:y00=1;break;case 1:y00=d.$W && !(0 >= d.$W)?5:8;break;case 5:var Y8U="min_fragment_v";Y8U+="m";Y8U+="af";(t=[],w=k.Mg);d=m(g,t,w.Nf);w=null === (p=null === (n=w.U) || void 0 === n?void 0:n.ix) || void 0 === p?void 0:p.WI[h];void 0 !== w && (n=m(g,t,w),-1 !== n && (n !== d && (k.p3a=d,k.Mg=g[n],k.reason=Y8U),(null === (u=null === (q=k.Mg) || void 0 === q?void 0:q.U) || void 0 === u?0:u.get) && k.Mg.U.get(h)));y00=8;break;}}};m8U;v00=4;break;}}})();},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.hx=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);l=a(101);m=r.__importDefault(a(28));d=r.__importDefault(a(35));g=r.__importDefault(a(845));h=a(16);k=a(391);n=d.default.assert;p=d.default.vp;b.hx=q;(function(){var z00;function t(v,x,y){var C00;C00=2;for(;C00 !== 4;){switch(C00){case 2:v=new p();v.Mg=y[0];return v;break;}}}z00=2;for(;z00 !== 5;){switch(z00){case 2:var Q8U="1SIYb";Q8U+="ZrN";Q8U+="JCp9";b.hx=q=function(v,x,y,z,A,B,E){var J8q=a000;var F00,Y,ua,ca,ka,G,ya,qa,P,N,L,Q,S,U,K,J,I,M,R,H,C;function F(O,T,ja,ma,ta,Ka,Ua){var H00,Ya,ab,ib;H00=2;for(;H00 !== 20;){switch(H00){case 10:return T && T.result;break;case 14:return !0;break;case 6:H00=Ya >= O.bitrate * Ua * ib?14:13;break;case 1:H00=S && !S.s5 && S.Ra >= Ya && S.bitrate <= O.bitrate?5:4;break;case 9:H00=ab && !v.hZ?8:6;break;case 5:return !1;break;case 2:(Ya=O.Ra || 0,ab=O.U && O.U.length,ib=Ka?v.dma:ab?v.r5:v.dWa);H00=1;break;case 3:H00=!Ka || !ab?9:13;break;case 4:Ka || ab || (O.daa=!0);H00=3;break;case 7:return !0;break;case 8:H00=Ya >= Math.max(O.mA * Ua,O.bitrate * Ua * ib) && O.Wt?7:13;break;case 13:ja=!v.jka || O === ja || O.Qc === ja.Qc && B?0:(ja=O.wb) && ja.yj && ja.yj.Fa?ja.yj.Fa + v.gka * (ja.yj.aj?Math.sqrt(ja.yj.aj):0):0;(T=u(v,y,O,T,ca,I + ja - J,L,R - J,M - J,H,ca.length,N,ka,ma,ta,Q,x.sla,x.playbackRate,! !x.U1a)) && T.result && (G.Iac=T.KW);S={s5:T && T.result,Ra:Ya,bitrate:O.bitrate};H00=10;break;}}}F00=2;for(;F00 !== 30;){switch(F00){case 27:F00=F(A,y[Math.max(z - 1,0)],A,C,U,!1,x.playbackRate)?26:34;break;case 33:(Y=D(A,H,v.Poa),ua=D(A,H + Y,v.Wqa));F00=32;break;case 6:F00=E?14:13;break;case 34:F00=A.U && A.U.length?33:22;break;case 22:G.Mg=A || K;k.p8(v,y,H,G);return G;break;case 23:A=f.kg(y.slice(z + 1,E),function(O,T){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return F(O,y[z + T],K,ya,qa,!1,x.playbackRate);break;}}});F00=22;break;case 18:return t.call(this,x,v,y,A);break;case 17:A.U && A.U.length || (A.daa=!0);(ca=l.Um.FTa(x.buffer.U),ka=x.buffer.jw - ca.fa);P=y[0];F00=27;break;case 5:var V8U="num";V8U+="b";V8U+="e";V8U+="r";var J8U="nu";J8U+="m";J8U+="be";J8U+="r";var q8U="invalid player fr";q8U+="agmentI";q8U+="ndex";void 0 === x.Rd && (x.Rd=0);n(c.Ca(x.Rd),q8U);n(J8U === typeof x.buffer.jw);n(V8U === typeof x.sla);G=new p();A=y[z];F00=6;break;case 25:E=v.ywa && E >= v.vya?y.length:z + 2;(ya=D(A,H,v.Qoa),qa=D(A,H + ya,v.Xqa));F00=23;break;case 31:A=P;F00=22;break;case 19:F00=P === m.default.n0.Fkb || !A.Ra?18:17;break;case 26:F00=z + 1 < y.length && E > v.cA && (void 0 === this.P7 || this.xqa && this.xqa > this.P7 || M - this.P7 > v.Z7 && E > v.Zqa)?25:22;break;case 12:J8q.x5U(0);E=J8q.a5U(I,R);(P=this.vg.j1a || m.default.n0.Ah,N=x.state === h.ma.Lc || x.state === h.ma.jh?x.buffer.el:0,L=v.n8,Q=v.dA?v.dA:1E3);C=D(A,H,v.Ooa);J8q.e5U(1);U=D(A,J8q.a5U(C,H),v.Vqa);F00=19;break;case 13:(K=A,J=x.buffer.Z,I=x.buffer.Nc,M=x.buffer.Jc,R=x.buffer.om,H=x.Rd);F00=12;break;case 32:F00=(A=f.kg(y.slice(0,z).reverse(),function(O,T){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:return F(O,y[Math.max(z - T - 2,0)],K,Y,ua,!0,x.playbackRate);break;}}})) && A.Nf < P.Nf || !A?31:22;break;case 14:return (A=w(y,z,A.Ra || 0,v.dWa,x.playbackRate),null !== (C=A.U) && void 0 !== C && C.length || (A.daa=!0),G.Mg=A,G);break;case 2:var l8U="Must have at l";l8U+="east one se";l8U+="lected";l8U+=" stream";n(!c.ia(z),l8U);F00=5;break;}}function D(O,T,ja){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 2:return O.U?O.U.rka(T,ja):0;break;}}}};Q8U;z00=5;break;}}function u(v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N){var A00,ka,Q,S,U,ca;A00=2;for(;A00 !== 15;){switch(A00){case 20:N=M;A00=19;break;case 19:A00=0 < N?18:17;break;case 13:N=I;A00=12;break;case 11:A00=0 < N?10:20;break;case 7:ca || (z=y);ka=[];A00=14;break;case 10:(S=Math.min(N,y.U.length - C),L(y.U.ix,C,C + S),N-=S,C+=S,C >= y.U.length && (C=0));A00=11;break;case 16:(I=Math.max(0,Math.min(I,y.U.length - C)),M=Math.max(0,Math.min(M,z.U.length - C - I)),0 < I && L(y.U.ix,C,C + I),0 < M && L(z.U.ix,C + I,C + I + M));A00=17;break;case 12:S=void 0;A00=11;break;case 2:var b8U="Second str";b8U+="e";b8U+="am u";b8U+="ndefined";var g8U="First st";g8U+="re";g8U+="am ";g8U+="undef";g8U+="ined";n(y,g8U);n(z,b8U);(Q=y.Ra,S=D - B,U=y.U && y.U.length,ca=z.U && z.U.length);n(A.length === G);v.$qa && (R=Math.min(R,S));A00=9;break;case 9:A00=!Q || Q < y.bitrate * P * v.Noa || !U?8:7;break;case 14:A00=N?13:16;break;case 17:return 0 < I || 0 < M?g.default(A.concat(ka),G + I + M,B,D,E,K,F,G,G + I,H,J,Q / P,R,v.cX,v.hZ):Q > y.mA?{result:!0,KW:0,Wt:!0}:{result:!1,KW:0,Wt:!0};break;case 8:return !1;break;case 18:(S=Math.min(N,z.U.length - C),L(z.U.ix,C,C + S),N-=S,C+=S,C >= z.U.length && (C=0));A00=19;break;}}function L(ya,qa,Y){var B00;B00=2;for(;B00 !== 5;){switch(B00){case 2:k.q8(v,x,ya,qa,Y);ka.push(ya.subarray(qa,Y));B00=5;break;}}}}function w(v,x,y,z,A){var D00,B;D00=2;for(;D00 !== 3;){switch(D00){case 2:a000.e5U(2);B=a000.a5U(A,z,y);y=f.Np(v,function(E){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 4:return E.bitrate <= B;break;E00=1;break;case 2:return E.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:v.length - 1;return v[Math.max(x,y)];break;}}}})();},function(r,b,a){var l,m,d,g,h,k;function c(n,p,q,u){g(!l.ia(u),"Must have at least one selected stream");return new k(u);}function f(n,p,q,u){g(!l.ia(u),"Must have at least one selected stream");return new k(u);}l=a(10);b=a(35);m=b.console;d=b.debug;g=b.assert;h=b.tH;k=b.vp;r.exports={STARTING:function(n,p,q){var t,w,v,x;function u(y,z){var A,B,E,D;A=y.id;B=y.bitrate;E=y.Ra || 0;D=! !E;d && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.ru)return (d && !y.pu && m.log("  Not available"),d && y.Kz && m.log("  Failed"),!1);if(B > n.NW)return (d && m.log("  Above maxInitAudioBitrate (" + n.NW + " Kbps)"),!1);if(!(B * n.J8 / 8 < p.buffer.jw))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + E + " Kbps");if(B * p.playbackRate < E / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.bX;p.Hpa && (y=Math.max(y,n.aX));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.bX + " Kbps) " + (p.Hpa?" and also minHCInitAudioBitrate (" + n.aX + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}t=new k();w=n.q9b || 1;for(v=q.length - 1;0 <= v;--v){x=q[v];if(u(x,v)){t.Je=v;break;}h(x) && (t.Je=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lt=void 0;c=a(20);f=a(125);l=a(5);b.Lt=function(m,d,g,h,k,n){var p;c.ga && h.trace("AsePlaygraph.createRequestQueue()");p=f.mp.instance.Lt(m,d.J,!0,!1,{oz:g.oz},g);p.Zg.on(p,"networkfailing",function(){var q;c.ga && h.trace("requestQueue OnNetworkFailing: ",p);p.q5 && (l.assert(p.dV),null === (q=d.aq) || void 0 === q?void 0:q.qs(p.dV,void 0,p.qh,p.tj));d.Rm();});p.Zg.on(p,"error",function(){n(p.qh,p.tj);});p.on("transportreport",k);p.xb();return p;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Dba=void 0;c=a(2);r=a(17);f=a(20);l=c.__importDefault(a(6));m=a(9);d=a(860);g=a(149);h=a(861);k=a(22);n=a(864);p=a(865);a=(function(q){function u(){var t;t=null !== q && q.apply(this,arguments) || this;t.POa=0;t.gha=0;t.O1=0;t.Hfa=0;return t;}c.__extends(u,q);u.prototype.cva=function(t){var w,v;q.prototype.cva.call(this,t);this.POa++;this.gha++;this.jPa=l.default.time.ea();this.TK || (this.TK={Mc:t.Mc,gd:t.gd,index:t.index},this.d2 || (this.d2=this.TK));w=this.p2;v=!1;w && 100 > Math.abs(w.me - t.zd) && (this.O1+=t.me - w.me,this.Hfa++,v=!0);v || (this.O1=t.Jr,this.Hfa=1);this.p2=t;};u.prototype.stop=function(){q.prototype.stop.call(this);this.gha=0;this.TK=void 0;};u.prototype.kYa=function(){var t,w,v,x;t=this.vy;w=t.u4;if(w){x=w.fb(this.Ug);x && x.Qa && (v=x.Qa.Sna());return {RM:v,currentBranch:{sId:w.O && w.O.id,cancelled:w.Fh},currentReceivedCount:t && t.ezb,totalReceivedCount:this.POa,currentState:t && t.QTa || "Uninitialized",lastRequestPushed:this.p2 && ({contentEndPts:this.p2.Mc,fragmentIndex:this.p2.index}),tslp:this.jPa && l.default.time.ea() - this.jPa,cpts:this.O1,crq:this.Hfa,rslp:this.gha,firstRequestSSPushed:this.TK && ({contentStartPts:this.TK.gd,fragmentIndex:this.TK.index}),firstRequestPushed:this.d2 && ({contentStartPts:this.d2.gd,fragmentIndex:this.d2.index})};}};return u;})((function(q){function u(t,w,v,x,y,z,A,B,E){var D;D=q.call(this) || this;D.Qg=t;D.Ug=w;D.I=x;D.H=y;D.XB=new m.gr(!1);D.WB=new m.gr(k.T.Ab(-Infinity));D.H=m.wq(l.default,D.H,"AsePlayerBuffer [" + w + "]:");D.vy=new d.Jza(D.H,v,w);D.resume();z && A && B && (D.Qta=new h.BJa(w,y,z,D.Qg,z.events,A,B,E),t=new n.ACa(null === z || void 0 === z?void 0:z.ks,k.T.Ab(D.I.dX),y),D.vy.QPa(t),D.I.xQa && (y=new p.vHa(null === z || void 0 === z?void 0:z.ks,D.I.xQa,k.T.Ab(D.I.Hrb),y),D.vy.QPa(y)));D.Qg.on("requestAppended",function(F){D.XB.set(!0);F.request.xe && D.WB.set(F.request.xe);D.emit("requestAppended");});return D;}c.__extends(u,q);Object.defineProperties(u.prototype,{nA:{get:function(){return this.XB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vW:{get:function(){return this.WB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{LKb:{get:function(){return this.vy.lk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WA:{get:function(){return this.Qg.WA;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});u.prototype.kYa=function(){};u.prototype.resume=function(){f.ga && this.H.trace("resume");this.Fwa();};u.prototype.j0a=function(t){return this.Qg.zna() > t;};Object.defineProperties(u.prototype,{hsb:{get:function(){return this.BK;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w;void 0 === t && (t=!1);f.ga && this.H.trace("reset");this.stop();this.Qg.reset(t);this.XB.set(!1);this.WB.set(k.T.Ab(-Infinity));t || (this.BK=void 0);t || (null === (w=this.Qta) || void 0 === w?void 0:w.reset());};u.prototype.Jm=function(t){void 0 === t && (t=!1);f.ga && this.H.trace("restart");this.reset(t);this.Fwa(!0);};u.prototype.stop=function(){f.ga && this.H.trace("stop");this.vy.d$a();};u.prototype.close=function(){var t;f.ga && this.H.trace("start");null === (t=this.Qta) || void 0 === t?void 0:t.close();};u.prototype.Lb=function(){this.stop();this.close();};u.prototype.uX=function(){this.I.A5 && this.Qg.GWa();this.Qg.mz();};u.prototype.JDb=function(t){this.Qg.c4a(t,!0);};u.prototype.Li=function(t){var w;return !(null === (w=this.Qta) || void 0 === w || !w.Li(t));};u.prototype.Fwa=function(t){if(!this.vy.lk || t)(this.vy.FWb(),g.AsyncIterator.NLb(this.vy,this.J7.bind(this)));};u.prototype.J7=function(t){t.done || this.cva(t.value);};u.prototype.cva=function(t){f.ga && this.H.trace("requestReceived: " + t.toString());this.Qg.endOfStream?f.ga && this.H.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.BK?(this.BK.jMb=t.Mc,this.BK.kMb=t.me,this.BK.m1a=t.xe):this.BK={E$b:t.gd,F$b:t.zd,jMb:t.Mc,kMb:t.me,m1a:t.xe},this.Qg.gsb(t));};return u;})(r.EventEmitter));b.Dba=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tea=void 0;c=a(2);f=a(17);l=a(9);m=a(20);d=a(68);g=l.T.Ab(1E3);r=(function(){function h(k,n,p,q,u,t,w,v,x){var y,z,A;y=this;this.mediaType=k;this.console=n;this.Ha=p;this.events=u;this.Uv=t;this.We=w;this.C0b=v;this.Vo=[];this.cta=g.add(l.T.Ab(null !== (A=null === (z=t.vP) || void 0 === z?void 0:z.W) && void 0 !== A?A:0));this.listeners=new f.Xh();this.listeners.on(p.V,"skipped",function(){return y.wX();});this.listeners.on(q,"requestAppended",function(B){return y.nA(B.request);});this.lT=!0;this.TU=w.BG(function(){return y.zBb();},"Presentation Emit",x);this.b$=w.BG(function(){return y.CUb();},"Presentation Prune");}h.prototype.wX=function(){this.trace("skipped, scheduler clock " + this.We.xa.currentTime.Zd());this.lT=!0;this.TU.Jm();};h.prototype.zBb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.kI=this.PPb(this.lT),k=this.O3a(),p.label=1);case 1:if(!k)return [3,3];n=this.lT?this.Ha.Wg:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.mJ + (" at player time " + k.timestamp.Zd()) + (" scheduler clock is " + this.We.xa.currentTime.Zd()));return [4,d.Kk.bQ(k.timestamp)];case 2:return (p.Ic(),this.trace("executing task for " + k.mJ + (" at player time " + k.timestamp.Zd()) + (" scheduler clock is " + this.We.xa.currentTime.Zd())),this.lT=!1,this.iVa(k,n),this.kI++,k=this.O3a(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};h.prototype.O3a=function(){if(void 0 !== this.kI)return this.Vo[this.kI];};h.prototype.PPb=function(k){var n,p,u;void 0 === k && (k=!1);for(var q=k?0:null !== (n=this.kI) && void 0 !== n?n:0;q < this.Vo.length;q++){n=this.Vo[q];u=l.T.Ab(null !== (p=this.Uv.Ata) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Ha.Wg.add(u)))return k && 0 < q?q - 1:q;}return Math.max(this.Vo.length - 1,0);};h.prototype.CUb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.Vo.length))return [3,2];k=c.__read(this.Vo,2);n=k[1];this.trace("queuing pruning task for " + n.mJ + (" at player time " + this.cta.add(n.timestamp).Zd()) + (" scheduler clock is " + this.We.xa.currentTime.Zd()));return [4,d.Kk.bQ(this.cta.add(n.timestamp))];case 1:return (p.Ic(),this.trace("executing pruning task for " + n.mJ + (" at player time " + this.cta.add(n.timestamp).Zd()) + (" scheduler clock is " + this.We.xa.currentTime.Zd())),this.Vo.shift(),this.kI && this.kI--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.Vo=[];m.ga && this.trace("reset");this.lT=!0;this.N7=void 0;this.kI=0;this.b$.Jm();this.TU.Jm();};h.prototype.close=function(){this.TU.Lb();this.b$.Lb();this.listeners.clear();};h.prototype.Li=function(k){var n;m.ga && this.trace("canSkip() " + k);if(0 === this.Vo.length)return (m.ga && this.trace("canSkip false, no media sequence"),!1);n=this.Vo[0];return n.timestamp.greaterThan(k)?(m.ga && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.N7 || this.N7.lessThan(k)?(m.ga && this.trace("canSkip false, later than last appended at " + this.N7),!1):!0;};h.prototype.trace=function(k){m.ga && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.C0b + ": " + k);};h.prototype.LPa=function(k,n,p){p && (this.N7=p);p=this.Vo.length?this.Vo[this.Vo.length - 1]:void 0;return void 0 === p || p.mJ !== k?(this.Vo.push({mJ:k,timestamp:n}),this.TU.state === d.bn.complete && this.TU.Jm(),this.b$.state === d.bn.complete && this.b$.Jm(),!0):!1;};return h;})();b.tea=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Oba=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(86));l=r.__importDefault(a(6));m=a(866);d=a(16);g=a(242);h=a(9);k=a(5);n=a(22);p=a(350);q=a(387);a=(function(){function u(t,w,v,x,y,z,A,B,E,D){this.rb=t;this.bi=w;this.H=v;this.pL=x;this.I=A;this.Z1=B;this.zOa=E;this.uV=D;this.Sb=this.H.warn.bind(this.H);this.nn=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.Zh=[];this.kh={};y.Bo?(k.assert(!y.Yo),this.wfa=!0,this.Cob(y,y.Bo,z)):(this.mo=this.iy(y.Yo || "",y,0,void 0,void 0,{},!0),this.mo.fs=!0,this.mo.Ga=Infinity,this.U2=[this.mo]);this.Wd=this.Q1(this.mo,void 0,z);this.Wd.active=!0;t=h.wq(l.default,this.H,"BranchQueue::");this.gj=new g.D_(t);this.gj.enqueue(this.Wd);this.Zga=this.NS=void 0;}u.Sma=function(t){return "m" + t;};Object.defineProperties(u.prototype,{Uz:{get:function(){return ! !this.wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jk:{get:function(){return this.Wd.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Md:{get:function(){return this.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Xg:{get:function(){return this.Wd.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fzb:{get:function(){return this.Wd.P.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Yc:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Kb:{get:function(){return this.Zh;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fe:{get:function(){return this.Wd.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rg:{get:function(){return this.rb.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{oi:{get:function(){return this.NS?this.NS:this.Kb[0];},enumerable:!1,configurable:!0}});u.prototype.Lb=function(){this.Zh.forEach(function(t){t.Ff();});this.Zh=[];this.gj.clear();};u.prototype.sf=function(t){return this.kh[t];};u.prototype.hZa=function(){return this.gj.getIterator();};u.prototype.gZa=function(t,w){var v;v=this.kh[t];if(v)return (t=v.Bl[w]) && t.weight;this.Sb("getSegmentWeight, unknown segment:",t);};u.prototype.wHb=function(t){var w;w=this.kh[t];if(w)return w.Z;this.Sb("getSegmentStartPts, unknown segment:",t);};u.prototype.vHb=function(t){var w;w=this.kh[t];if(!w)this.Sb("getSegmentDuration, unknown segment:",t);else if(c.Ca(w.Ga) && isFinite(w.Ga) && c.Ca(w.Z) && isFinite(w.Z))return w.Ga - w.Z;};u.prototype.Oua=function(t){var w;w=-1;this.Zh.some(function(v,x){return v === t?(w=x,!0):!1;});-1 !== w?this.Zh.splice(w,1):this.Sb("Unable to find branch:",t,"in branches array");};u.prototype.nG=function(t,w){var v;v=0;this.zmb(t).forEach(function(x){(x=x.Sd(w)) && (v+=x.CC);});return v;};u.prototype.iw=function(t,w,v){var x;if(!t.mc(w))return 0;x=t.fb(w);for(x=v?x.Jc:x.Tp;void 0 === x;){if(!t.ug)return 0;t=t.ug;x=t.fb(w);x=v?x.Jc:x.Tp;}t=this.zOa.Re();return Math.max(x - t,0);};u.prototype.hma=function(t){return this.Zh.filter(function(w){if(w.P.Pb === t)return !0;});};u.prototype.qDb=function(t,w){return this.hNa(t,!1,w);};u.prototype.pDb=function(t,w){return this.hNa(t,!0,w);};u.prototype.ZVb=function(t,w,v){c.pf(this.Zh,function(x){x.P === t && x.n9a(w,v);});c.pf(this.kh,function(x){x.P === t && (x.P=w);});};u.prototype.T7a=function(){var t;t=this;c.pf(this.Zh,function(w){var v;v=t.rb.rh(w.P.Pb);w.rx(n.T.Ab(v.Iw));});};u.prototype.Mq=function(t){var w;w=this;c.pf(this.Zh,function(v){v.fb(1).track.$d.forEach(function(x){var y;y=p.kia(x.oh,x.bitrate,t,w.H);f.default(y,x);});});};u.prototype.Vt=function(t,w,v,x){var y;for(;w;){y=w.Vt(t,v);if(y)return y;if(x)break;w=w.ug;}};u.prototype.VTa=function(t){var w,v;w=this;void 0 === t && (t=!1);v=this.Zh;t && (v=v.filter(function(x){return x !== w.Wd;}));v.forEach(function(x){x.active=!1;w.gj.remove(x);});t || this.gj.clear();return v;};u.prototype.BUb=function(){var t;for(;0 < this.Zh.length;){t=this.Zh[0];t.fb(0);t.fb(1);if(!t.active)break;if(t === this.Wd)break;if(!t.QIb())break;t.Ff();this.Zh.shift();}};u.prototype.aY=function(t,w,v,x,y){if(v > x){for(v-=x;t;){t.aY(w,v,y);t=t.ug;}return v;}};u.prototype.g2a=function(t,w){for(var v={lU:null,FO:null,zd:null,el:0,eh:0,U:[]};t;){t.q6(v,w);t=t.ug;}return v;};u.prototype.tvb=function(t){var w,v,x;w=this.Wd;if(w.V1a)v=w.V1a;else {x=this.Wd.Fe;v=this.Q1(w.O,w);d.Bf.forEach(function(y){var z;z=v.Sd(y);z && (z.LI(0),y=w.Sd(y),z.R$(y.Jf));});v.rx(n.T.Ab(x + t));w.V1a=v;}this.xK(v,w);};u.prototype.Wqb=function(t,w,v){var x,y;k.assert(!t.Uz());if(!this.wfa){this.wfa=!0;this.NS=this.oi;x=this.mo.id || u.Sma(0);this.mo.id=x;this.kh[x]=this.mo;this.mo.Ga=this.rb.cGb().mYa();this.mo.TD=!0;}y=void 0 !== t.Yo?t.Yo:u.Sma(t.Pb);t=this.iy(y,t,w,v,void 0,{},!0);t.TD=!0;this.U2.forEach(function(z){z.Bl={};z.Bl[y]={weight:100};z.BU=y;z.fv=!1;});this.U2=[t];};u.prototype.Er=function(t,w){var v,x,y,z;v=this.oi;x=v.iE(w,this.rb.V);y=v.O;z=v.children[t];if(w){if(!y.Bl[t])return (this.Wd.Sb("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(v.Tk)return v.Tk === t;v.Tk=t;z && v.D5 && this.xK(z,v);return !0;}if(void 0 !== v.Tk)return !1;if(!z)return (x.K3a=!0,!1);x.K3a=!z.Fja();this.rb.hha(void 0,q.VR.jO);v.D5=void 0;v.Tk=t;this.xK(z,v);v.MG();this.rb.jT();return !0;};u.prototype.lJb=function(t,w){var v,x,y,z;v=this;z=t.O;w && !t.Tk && (t.Tk=z.BU,t.iE(!0,this.rb.V,!0));t.children=Object.create(null);c.pf(z.Bl,function(A,B){t.Tk && B !== t.Tk || (x=v.kh[B],y=v.Rlb(x,t),t.children[B]=y);});t.Tk && (w=t.children[t.Tk]) && this.xK(w,t);t.D5=!0;};u.prototype.v0b=function(){var t;t=0;c.pf(this.Zh,function(w){d.Bf.forEach(function(v){w.mc(v) && (v=w.Sd(v),t+=v.Qa.Kp);});});return t;};u.prototype.z_b=function(t,w){var v,x,y;v=this;x=this.wmb(t,w);if(x){if(x !== this.Wd.O){this.VTa();y=this.Q1(x,this.Wd,t);y.ug=void 0;y.dwa(void 0,void 0,!0);this.Xkb(this.Wd);this.xK(y,this.Wd);}else this.VTa(!0).forEach(function(z){z.Ff();v.Oua(z);v.gj.remove(z);});x === this.oi.O && (this.oi.px.shift(),y && (y.px=this.oi.px,y.Tk=this.oi.Tk));this.bi.t2(x,this.Wd.Fe);this.Wd.D5=void 0;}else this.Sb("findSegment no segment for manifestIndex:",w);};u.prototype.f2a=function(t,w){var v;v=t.O;w || (w=v.BU);t.Tk || (t.Tk=w,t.iE(!0,this.rb.V,!0));(w=t.children[t.Tk]) && this.xK(w,t);};u.prototype.T8a=function(t,w){if(this.Wd !== t){if(w)for(w=this.Wd;w && w !== t;){w.active=!1;this.gj.remove(w);w=w.ug;}this.Wd=t;}};u.prototype.Ks=function(t,w){var v,x,y,z,A;v=this;if(this.Uz){x=this.I;y=this.oi;z=y.O;A=h.oXb(z.id);!y.Tk && !z.fv && y.Mc - w <= x.ED && (this.Sb(A + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.f2a(y));}d.Bf.forEach(function(B){v.Wd.mc(B) && v.Rg[B].Ks();});};u.prototype.kQb=function(t,w){var v,x;if(this.Uz){v=this.NS;if(!(this.I.NJb && t && this.Zga && t.Z === this.Zga || (t=t.Qa.eb,v && t.O.id === v.O.id))){x=null === v || void 0 === v?void 0:v.Sd(1);x=null === x || void 0 === x?void 0:x.Jf;this.Zga=null === x || void 0 === x?void 0:x.Z;this.NS=t;this.slb(v);v=v && v.Hvb(t);this.bi.gob(t.O,w,v);}}};u.prototype.e9=function(t,w,v){w.fs || (w.Z=this.HYa(t,w.Z,!0),v || (w.Ga=this.HYa(t,w.Ga,!1)),w.fs=!0,!1);};u.prototype.UP=function(t,w){var v;v=this.kh[t];v?c.pf(v.Bl,function(x,y){x.weight=w[y] || 0;}):this.Sb("updateChoiceMapEntry, unknown segment:",t);};u.prototype.HYa=function(t,w,v){t=v?t.nWa(w):t.fV(w);if(!t.length)return w;w=t[1];return v?w.Z:w.Ga;};u.prototype.LNa=function(t,w,v){var x;x=w?v.Mc:v.me;return (w?v.F$:v.Bta) <= t && t < x;};u.prototype.hNa=function(t,w,v){var A;for(var x=this.rb,y=this.Wd;y;){if((!c.Ca(v) || x.Epa(v,y.P.Pb)) && this.LNa(t,w,y))return y;y=y.ug;}if(w){y=Object.keys(this.Wd.children);for(var z=0;z < y.length;z++){A=this.Wd.children[y[z]];if((!c.Ca(v) || x.Epa(v,A.P.Pb)) && this.LNa(t,w,A))return A;}}};u.prototype.Rlb=function(t,w){var v,x;v=this.Q1(t,w);x=v.dwa(w,void 0,this.I.Fua);d.Bf.forEach(function(y){var z,A,B;if(v.mc(y)){z=v.Sd(y);A=w.Sd(y);B=x[y];1 === y && v.rx(n.T.Ab(A.Jc + w.Fe - B));z.LI(B);}});this.bi.t2(t,v.Fe);return v;};u.prototype.Xkb=function(t){for(var w=[t.O.id];t.ug;){t=t.ug;w.unshift(t.O.id);}this.nfa(t);};u.prototype.nfa=function(t){var w,v;w=this;v=t.O;c.pf(t.children,function(x){x && w.nfa(x);});this.gj.remove(t);t.Ff();this.Oua(t);this.bi.Oga(v);};u.prototype.xK=function(t,w){var v,x,y,z;v=this;x=w.O;w.P !== t.P && this.rb.XNa(t.P.Pb);t.active=!0;this.gj.enqueue(t);t.KL();y=l.default.time.ea();z={};c.pf(w.children,function(A){var B,E;if(A){if(A.ke){B=A.Sd(0);E=A.Sd(1);A.ke.Qp=[B?B.un.W:0,E?E.un.W:0];A.ke.dBb=y - A.ke.d7;A.ke.d7=void 0;z[A.O.id]=A.ke;}A.O.id !== t.O.id && v.nfa(A);}});w.children=Object.create(null);w.children[t.O.id]=t;w.JK=void 0;this.T8a(t);this.bi.eob(t.O,z);1 < Object.keys(x.Bl).length && t.Fja();};u.prototype.slb=function(t){var w,v;if(t){w=l.default.time.ea();v=t.px[0];v && void 0 === v.I4?v.I4=w - v.Iq:v || (this.Sb("missing metrics for branch:",t.O.id),v={Y$:t.O.id,Ue:!0,I4:0,ke:{}},t.px.unshift(v));void 0 === v.startTime && (v.startTime=w);}};u.prototype.wmb=function(t,w){var x,y,z,A;k.assert(0 <= t);for(var v in this.kh){x=this.kh[v];if(this.rb.Epa(x.P.Pb,w)){if(x.Z <= t && (Infinity === x.Ga || void 0 === x.Ga || t < x.Ga))return x;y=Math.min(Math.abs(t - x.Z),Math.abs(t - x.Ga));if(c.ia(z) || y < z)(z=y,A=x);}}return A;};u.prototype.iy=function(t,w,v,x,y,z,A,B,E){w=new m.sKa(t,w,v,x,y,z,A,B,void 0,E);return this.kh[t]=w;};u.prototype.Cob=function(t,w,v){var x,y,z;x=this;this.mo=void 0;this.U2=[];y=null;z=null;c.pf(w.segments,function(A,B){var E,D,F,C,G;E=A.startTimeMs;D=A.endTimeMs;F={};c.pf(A.next,function(K,J){F[J]={weight:K.weight || 0,J0b:K.transitionHint || A.transitionHint,q$b:"number" === typeof K.earliestSkipRequestOffset?K.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});C=A.defaultNext;c.ia(C) && (C=Object.keys(F)[0]);G=c.ia(C);C=x.iy(B,t,E,D,C,F,G,A.exitZones,A.transitionHint);E <= v && (v < D || c.ia(D))?x.mo=C:E > v && (!y || E < z) && (y=B,z=E);G && x.U2.push(C);});this.mo || (this.mo=y?this.kh[y]:this.kh[w.initialSegment]);};u.prototype.Q1=function(t,w,v){var x,y,z,A;x=t.P;y=this.rb.rh(x.Pb);z=y.Iw;A=[];[0,1].forEach(function(B){x.mc(B) && A.push(y.jq(B));});t=new q.JEa(this.rb,this.I,this.bi,this.H,this,this.Z1,this.zOa,this.pL,t,A,z,w,v?n.T.Ab(v):void 0,this.uV,this.rb.Rg,this.rb.Tv);this.Ykb(t);this.Zh.push(t);return t;};u.prototype.Ykb=function(t){var v;function w(x){v.rb.emit(x.type,x);}v=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(x){x=x.request;v.rb.lha(x.mediaType,x.Z);});};u.prototype.zmb=function(t){for(var w=[t];t.ug;){t=t.ug;w.push(t);}return w;};return u;})();b.Oba=a;},function(r,b,a){var m,d,g,h;function c(k,n,p){this.SD=n;this.zl=p;this.TA=this.hW=this.hta=this.w5a=this.v5a=this.mO=this.$d=this.$Sb=this.zl=this.Nm=this.Jc=this.Z=this.Ms=this.$n=this.U=this.Y_a=this.OT=void 0;}function f(k,n,p){this.Ga=n;this.C0a=p;this.CQa=this.Ybb=this.xr=this.$n=this.EH=this.rw=void 0;}function l(k,n,p,q,u,t,w){var v;v=new c(p,n,k.zl);k.forEach(function(x){var y,z;y=x.buffer;z=y.U;x.mediaType === d.Ta.Vb?v.OT=z.length?z[0].bitrate:void 0:x.mediaType === d.Ta.Nb && (v.Y_a=z.length?z[0].bitrate:void 0,v.U=z,v.$n=y.om - y.Nc,v.Ms=y.eh,v.Z=y.Nc,v.Jc=y.Jc,v.Nm=x.Rd,v.zl=x.zl,v.$Sb=n - x.zl,v.$d=x.$d,v.mO=z.filter(function(A){return v.Z <= A.ax;}).length);});this.Bj=v;this.Rt=void 0;this.$Ta=q;this.fx=u;this.xRa=t;this.Bua=this.g$=this.I4a=this.YA=this.FL=this.kWa=this.tx=this.$d=this.Rt=void 0;this.rrb=w;this.Ita={};}m=a(2);d=a(28).default;g=a(35).assert;h=a(16).ma;c.prototype.constructor=c;f.prototype.constructor=f;l.prototype.constructor=l;l.prototype.Ut=function(k,n){var p,q,u,t,w,v,x,y,z,A,B,E,D,K,J,I,M,R,H;p=this.Bj;q=[];u=k[d.Ta.Nb];t=k[d.Ta.Vb];if(void 0 === u || void 0 === t)return !1;w=u.buffer;v=t.buffer;x=p.$d.filter(function(P){return P.d6();});if(void 0 === w || void 0 === v || void 0 === x || 0 === x.length)return !1;y=new f(n?h[n]:"maxbitratechanged",u.Nc,n === h.Qf);z=0;A=0;B=0;E=0;D=p.Z;k=k[d.Ta.Nb].Nc;for(var F=p.U,C=p.mO,G=0;G < C;G++){K=F[G];J=K.offset;I=K.offset + K.fa - 1;M=K.Jr;R=K.DA;H=R + M;K && R <= k && H > D && (M=K.Jr,R=Math.min(M,Math.min(k,H) - Math.max(R,D) + 1),E+=R,z+=R / M * (I - J + 1),A+=K.bitrate * R,B+=K.sb * R);}p.v5a=z;p.w5a=E;p.hta=0 < E?A / E:0;p.xSb=0 < E?B / E:0;p.hW || (p.hW=0,x.some(function(P,N){if(P.bitrate === p.Y_a)return (p.hW=N,!0);}));x.forEach(function(P){var N,Q;P=P.d6();N=[];p.TA || (p.TA=P.Bn(p.Z,void 0,!0));y.rw || (y.rw=P.Bn(y.Ga,void 0,!0),y.EH=P.length - 1);p.Nm !== p.TA + p.mO && (p.Nm=p.TA + p.mO);C=Math.min(y.EH,y.rw + 1);for(var L=p.TA;L <= C;L++){Q=P.get(L);N[L]=Q;}q.push(N);});n === h.Qf && (y.$n=w.om - w.Nc,y.xr=v.om - v.Nc,y.Ybb=u.V6a,y.CQa=t.V6a);this.Rt=y;this.$d=x;this.tx=q;return this.kWa=!0;};l.prototype.Cz=function(){var k,n,p,q,u,t,w,v,x,y,z,D,F,C,G,K,M,R;if(this.nk)return this.nk;p=this.YA;q=this.Bj;u=this.Rt;t=this.$d;w=this.I4a;v=this.rrb;g(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(u.C0a)(x=!1,y=!0);else u.rw - q.TA + 1 <= q.mO?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var A=w.k7,B=w.IM,E=0;E < v.length;E++){D=v[E];(p=w[D]) && p.isa && (y=!0);}u={bst:q.zl,pst:q.SD,s:q.TA,e:u.rw,prebuf:q.mO,brsi:q.Nm,pbdlbytes:q.v5a,pbdur:q.w5a,pbtwbr:q.hta,pbvmaf:q.xSb};this.fx && (u.fragmentsPrebuffered=q.U);z && (u.nt=z);y && (u.nd=y);A && (u.invalid=A);B && (u.exception=B);this.Bua && (u.rr=this.Bua);this.g$ && (u.ra=this.g$);if(!y && !A && !B && (this.$Ta || this.fx)){u.bitrate=t.map(function(H){return H.bitrate;});p=this.YA;D=p.trace;F=[];G=0;D.forEach(function(H){H=Number(H).toFixed(0);F.push(H - G);G=H;});u.tput={ts:p.timestamp,trace:F,bkms:p.Oy};}if(y || z || A || B)u.feasible=x;else for((u.sols={},u.elapsed=w.tBb,E=0);E < v.length;E++){D=v[E];p=w[D];y={};if(p && p.Pq){y.algelapsed=p.qrb;y.maxHeapTotal=p.iA;y.f=p && p.mD || !1;y.dltwbr=p.FUa;y.dlvmaf=p.IUa;y.dlvdur=p.HUa;y.dlvbytes=p.GUa;y.dlabytes=p.DUa;if(this.$Ta || this.fx){C=p.Pq.filter(function(H){return H;}).map(function(H){return H.Je;});G=0;K=[];C.forEach(function(H){K.push(H - G);G=H;});y.strmsel=K;}if(this.fx){z=[];x=this.Bj.Nm;try{for(var J=(k=void 0,m.__values(C)),I=J.next();!I.done;I=J.next()){M=I.value;R=this.tx[M][x];R.Nf=M;z.push(R);x++;}}catch(H){k={error:H};}finally{try{I && !I.done && (n=J.return) && n.call(J);}finally{if(k)throw k.error;}}y.fragsel=z;y.streamList=this.$d;y.pause_dlnd_sec=p.Pq.filter(function(H){return H;}).map(function(H){return H.dta;});y.buffer_sec=p.Pq.filter(function(H){return H;}).map(function(H){return H.aja;});y.buffer_kb=p.Pq.filter(function(H){return H;}).map(function(H){return H.$ia;});y.buffer_frags=p.Pq.filter(function(H){return H;}).map(function(H){return H.BRa;});y.elapsed_secs=p.Pq.filter(function(H){return H;}).map(function(H){return H.eVa;});y.throughput=p.Pq.filter(function(H){return H;}).map(function(H){return H.Ra;});}}u.sols[D]=y;}return this.nk=u;};l.prototype.yDb=function(k){var q;if(void 0 !== this.Ita[k])return this.Ita[k];for(var n=this.tx[this.Bj.hW],p=0;p < n.length;p++){q=n[p];if(q && q.Z <= k && q.Z + q.duration > k)return this.Ita[k]=q;}throw Error("findPlayingFragment: missing");};r.exports=l;},function(r,b,a){var l,m;function c(d,g,h){this.fa=d;this.Km=g;this.quality=h;}function f(d,g){this.dra=g;void 0 === g && (this.dra=!0);this.km=d;this.jlb();}l=a(2);m=a(5).assert;c.prototype.constructor=c;c.prototype.Hz=function(){return 8 * this.fa / 1E3 / this.Km;};f.prototype.constructor=f;f.prototype.It=function(d,g,h,k,n){void 0 === g && (g=0);void 0 === h && (h=d.pN());void 0 === k && (k=0);void 0 === n && (n=d.km.length);for(var p=[],q,u=k;u < n;u++){k=[];for(var t=g;t < h;t++){q=d.km[u][t];k.push(q);}p.push(k);}return new f(p,d.dra);};f.prototype.jlb=function(){var d,g,n;g=this.km[0].length;try{for(var h=l.__values(this.km.slice(1)),k=h.next();!k.done;k=h.next()){n=k.value;m(n.length === g,"expect chunk.length === n but got " + n.length + " and " + g);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.dra && this.klb();this.llb();};f.prototype.pN=function(){return this.km[0].length;};f.prototype.klb=function(){for(var d=0;d < this.km.length - 1;d++){for(var g=0;g < this.pN();g++){m(this.km[d][g].fa <= this.km[d + 1][g].fa,"Chunk size for epoch " + g + " is not monotonic");}}};f.prototype.llb=function(){for(var d=0;d < this.km.length - 1;d++){for(var g=0;g < this.pN();g++){m(1E-8 > Math.abs(this.km[d][g].Km - this.km[d + 1][g].Km),"Chunk duration for epoch " + g + " is not consistent");}}};f.prototype.hIb=function(){var d;d=[];this.km[0].forEach(function(g){d.push(g.Km);});return d;};r.exports={ieb:c,jeb:f};},function(r,b,a){var m;function c(){}function f(d,g,h){void 0 === h && (h=!1);m(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.uC=d;this.aVa=g;this.repeat=h;this.pm=this.Eo=0;}function l(d){return d.reduce(function(g,h){return g + h;},0);}m=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.It=function(){var d;d=new f(this.uC,this.aVa,this.repeat);d.Eo=this.Eo;d.pm=this.pm;return d;};f.prototype.woa=function(){return this.uC[this.Eo % this.uC.length];};f.prototype.$C=function(){return this.aVa[this.Eo % this.uC.length];};f.prototype.$Ab=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Eo && this.Eo < this.uC.length))throw new c();m(this.pm < this.$C(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.$C() - this.pm;g=d < g?d:g;d-=g;this.pm+=g;if(this.pm < this.$C())break;this.pm-=this.$C();this.Eo+=1;if(!this.repeat && this.Eo >= this.uC.length){if(0 < d)throw new c();break;}}};f.prototype.t5a=function(d){this.$Ab(d);};f.prototype.aBb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Eo && this.Eo < this.uC.length))throw new c();m(this.pm < this.$C(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.$C() - this.pm;g=d < g * this.woa()?d / this.woa():g;d-=this.woa() * g;h+=g;this.pm+=g;if(this.pm < this.$C())return h;this.pm-=this.$C();this.Eo+=1;if(!this.repeat && this.Eo >= this.uC.length){if(0 < d)throw new c();return h;}}};r.exports={Akb:f,Bkb:c};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.nkb=b.uda=b.pkb=b.SKa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(6));l=r.__importDefault(a(35)).default.tH;m=r.__importStar(a(9)).wq;d=r.__importDefault(a(398));g=a(382);h=a(213);k=a(16);n=a(25);p=a(5);q=a(99);u=a(238);a=(function(){function x(y,z,A,B,E,D,F,C,G,K,J){var I;I=this;this.H=y;this.zg=z;this.I=A;this.mc=B;this.V=E;this.mP=D;this.Qb=F;this.Cb=C;this.ng=G;this.H3=K;this.NF=J;this.P2=[];this.qha=[];this.fOa=[];this.GMa=void 0;[0,1].forEach(function(M){I.mc(M) && (I.P2[M]=new v(I.H,M),I.qha[M]=new t(M),I.fOa[M]=new w(M));});this.Nbb=new q.sF(this.H);this.gB=q.FC(this.I,this.Nbb);this.Cia=q.EC();this.zF=void 0;}Object.defineProperties(x.prototype,{Mf:{get:function(){return this.P2;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{UA:{get:function(){return this.qha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pw:{get:function(){return this.fOa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ky:{get:function(){return this.GMa;},set:function(y){this.GMa=y;},enumerable:!1,configurable:!0}});x.prototype.Mq=function(y,z){this.Nbb.Mq(y,z);};x.prototype.cra=function(y){var z,A,B,E,D,F;z=this.I;A=y.mediaType;B=f.default.Jo()[A];E=z.b2b?0 === A?z.IT:z.XZ:1 === A?z.IT:z.XZ;D=this.V.getState();F=this.V.Re();z=y.Qa.eb;A=this.H3.g2a(z,A);B={jw:B,Z:A.zd,Nc:F,Jc:A.FO || F,om:A.lU || F,eh:A.eh,el:A.el,PWa:A.U.length,U:[]};E={state:D,sq:this.V.sq(),Rd:y.Kn,buffer:B,sla:E,U1a:! !this.mP.JW,yM:! !this.mP.rs,Kp:this.Qb && this.Qb.Kp,h$:y.AHb,playbackRate:this.V.Ko()};void 0 === E.Rd && (E.Rd=y.jma(B.Jc));E.YT=z.YT;B.U=A.U;c.Ca(B.Z)?y.seeking && B.Nc != B.Z && (B.Nc=B.Z):(B.Z=0,B.Jc=0);this.zg.Hub(E);this.zg.Vqb(E);return E;};x.prototype.Eja=function(y,z,A){var C,G;y=this.P2[y];for(var B=y.maxBitrate,E="manifest",D=0,F=z.length - 1;0 <= F;F--){C=z[F];G=C.bitrate;if(l(C)){D=Math.max(D,G);break;}else this.I.hZ && !C.Wt?E="bc":C.pu?C.Kz && (E="hf"):E="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Cb.fQb(B,D,E,A));};x.prototype.yHb=function(y){return this.eoa(y).Nf;};x.prototype.eoa=function(y){var z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q;z=this.I;A=y.mediaType;B=1 == A;E=0;D=this.P2[A];F=this.qha[A];if(!D.Kf)return {Nf:void 0};C=this.cra(y);G=y.vg;K=G.su;J=y.V7.P;I=y.track.$d;if(!J.Am.QZ(J.X,I))return (y.Lk("location selector did not find any urls"),{Nf:void 0});M=u.Q9(C.state);R=B?this.gB:this.Cia;try{H=R.vm(I,M);}catch(S){this.H.error("StreamFilters: filterStreams: " + S);H=[I[0]];}0 === H.length && (this.H.error("StreamFilters: empty list"),H=[I[0]]);if(this.NF.Lr && (y.OC.length !== H.length || 0 < n.zt(y.OC,H).length || 0 < n.zt(H,y.OC).length)){try{this.zF && this.oDb();}catch(S){this.Cb.Ln("Hindsight: Error when handling maxbitrate chagned: " + S);}y.OC=H;}M=K?K.Nf:D.Ama;try{if(K && (E=K.bitrate,K && G.track && !K.track.equals(G.track))){P=g.mma(H,E) || 0;N=H[P];if(K.bitrate !== N.bitrate || 1 === A)C.state=k.ma.Ah;K=N;M=I.indexOf(N);}}catch(S){this.H.error("StreamFilters: track change: " + S);}if(!B && (E=z.JP,!(E && 0 < E.length) && M && I[M] && K && K.location === I[M].location))return {Nf:M};try{L=this.zg.hN(A);Q=y.ml.Mva(C,H,void 0,L,D.Kf.config.Xw,J.aq);if(!Q)return (y.Lk("stream selector did not find a stream"),{Nf:void 0});}catch(S){this.H.error("StreamFilters: stream selector: " + S);Q={Je:0};}Q.Je=I.indexOf(H[Q.Je]);this.mP.rs && this.mP.rs.Yqb(y.mediaType,Q,I);B && this.Eja(A,H,y.Jc);C=Q.Je;K=I[C];H=K.bitrate;C != M && (B && z.AM && this.ng.yMa(y,H),B || this.zg.nP(H));c.Ca(D.Ama) || (D.Ama=C);y.Pe || (Q.Pe?(p.assert(void 0 !== Q.I3),y.O$(Q.I3),F.Dt=Q.I3):(y.wD=Q.wD,y.xI=Q.xI,y.progress=Q.progress));this.hy();if(B)if(Q.kz)J.oP(Q.kz);else if(!J.E6() && !z.K9a)for(y=0;y < I.length;++y){if((z=I[y],z.ru && !J.Yk(A,z.Pa))){J.oP([z.Pa]);break;}}Q.YQa && this.Cb.mQb(Q.YQa);return {Pa:K.Pa,Nf:C,Bu:Q.Bu};};x.prototype.hy=function(){var y,z,A,B,E,D;A=this.Mf[0];B=this.Mf[1];E=this.UA[1];D=this.UA[0];A=this.H3.Yc.Cub(null !== (y=null === B || void 0 === B?void 0:B.Iu) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Iu) && void 0 !== z?z:0,this.Ky,this.mP.GO);A.Dt && (this.mP.Sm && E?E.Dt=A.Dt:D && (D.Dt=A.Dt));return A.Pe;};x.prototype.gma=function(y,z){var A,B,E,D;A=this;if(this.zF){B=this.zF;E=this.V.Re();D=[];z && (E=z.Ga);h.Bf.forEach(function(F){var C,G;C=A.H3.Yc.Sd(F);if(C){G=A.cra(C);G.mediaType=F;G.Nc=E;y === k.ma.Qf && (G.V6a=C.Qa.gia(E));D[F]=G;}});B.kWa || B.Ut(D,y) || this.gva();return B;}};x.prototype.oDb=function(){var y,z;y=this.zF;z=this.I;y && (this.gma(void 0),y && !y.FL && this.zg.nua.Vla(y));this.xTa(z);};x.prototype.gva=function(){this.zF=void 0;};x.prototype.D1b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.zF;B=this.I;y === k.ma.Lc && z !== k.ma.Lc?(A && this.H.warn("override an existing play segment!"),this.xTa(B,z,!0)):y !== k.ma.Lc && z === k.ma.Lc && A && (this.gma(y),A && !A.FL && this.zg.nua.Vla(A),this.gva());};x.prototype.xTa=function(y,z,A){var B,E,D;B=this;E=[];h.Bf.forEach(function(F){var C,G,K;C=B.H3.Yc.Sd(F);if(C){G=B.cra(C);if(A){K=B.Mf[F];K.Awa?(G.zl=K.Awa,K.Awa=void 0):G.zl=K.zl;}else G.zl=f.default.time.ea();G.$d=C.OC;G.mediaType=F;E[F]=G;}});D=f.default.Jo();D={k9b:D[0],Lbb:D[1],Wac:y.N2a,kA:y.kA};this.zF=new d.default(E,f.default.time.ea(),z,this.NF.VU,y.fx,D,y.N6);};return x;})();b.SKa=a;t=(function(){function x(y){this.mediaType=y;this.$T=this.xw=this.Pz=this.Dt=this.Qz=void 0;}x.prototype.H1b=function(y,z,A){this.Qz=y?y:this.Qz;this.Dt=this.Dt;this.Pz=z?z:this.Pz;this.xw=A?A:this.xw;};return x;})();b.pkb=t;w=(function(){return function(x){this.mediaType=x;this.rqa=this.yqa=this.tqa=this.AH=void 0;};})();b.uda=w;v=(function(){return function(x,y){this.mediaType=y;this.H=m(f.default,x,"[" + y + "]");this.Lk=this.H.error.bind(this.H);this.Sb=this.H.warn.bind(this.H);this.nn=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.Ama=this.zl=this.xo=this.Kf=void 0;this.RX=this.Iu=0;this.cQ=!1;this.maxBitrate=void 0;};})();b.nkb=v;},function(r,b,a){var q,u,t,w,v,x,y,z,A,B,E,D,F;function c(){}function f(C,G){var K,J,I,M;K=q.jd(G)?G:c;this.I=C || ({});(function(R,H,P){this.Vj[R].De[H]=P;}).bind(this);(function(R,H){return this.Vj[R].De?this.Vj[R].De[H]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Va=C.v$b?D.Va:c;J=w.eyb(C);I=this.I.dailyDiskCacheWriteLimit;if(J){this.Lv=J;M=k(C.jbc || F,w.xFb());this.Ay=function(R){return q.ia(M) || null === M || void 0 === this.Vj[R]?!1:!q.ia(M[R]);};M?(this.Vj={},G=u.Promise.all(Object.keys(M).map(function(R){return new u.Promise(function(H,P){var N;N=M[R];N.Cbb=C.Cbb;new v(R,J,N,function(L,Q){L?P(L):H(Q);},I);});})).then((function(R){R.map((function(H){var P;P=H.Sv;this.Vj[P]=H;M[P].dEb=M[P].jw - H.zy;this.Vj[P].on(v.Le.REPLACE,(function(N){N=N || ({});N.partition=P;N.type="save";this.Va("mediacache",N);}).bind(this));this.Vj[P].on(v.Le.nMa,(function(N){N=N || ({});N.partition=P;N.type="save";this.Va("mediacache",N);}).bind(this));this.Vj[P].on(v.Le.Of,(function(N){N=N || ({});N.partition=P;N.type=v.Le.Of;this.Va("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){g(J,u.storage.FR,Object.keys(M));return R;}).bind(this)).then((function(R){Object.keys(R.Vj).map(function(H){R.Vj[H].rna().map(function(P){R.delete(H,P);});});R.Gn=!0;K(null,R);}).bind(this)).catch((function(R){t.error("Failed to initialize media cache ",R);this.rH=B.YAa;K(this.rH,this);}).bind(this)),E.$w(G)):(this.rH=B.chb,K(this.rH,this));}else (this.rH=B.YAa,K(this.rH,this));}function l(C,G,K,J,I,M){var R;R=M?"mediacache-error":"mediacache";G={partition:K,type:G,resource:J,time:u.time.now()};M && (G.error=M);I && (q.Ca(I.duration) && (G.duration=I.duration),q.Ca(I.Qy) && (G.bytesRead=I.Qy));try{C.Va(R,G);}catch(H){t.warn("caught exception while emitting basic event",H);}}function m(C,G,K,J,I){var M;M=I?"mediacache-error":"mediacache";G={partition:K,type:G,resources:J,time:u.time.now()};I && (G.error=I);try{C.Va(M,G);}catch(R){t.warn("caught exception while emitting basic event",R);}}function d(C){return !x.EN(C) && !z.dLb(C);}function g(C,G,K){C.query(G,"",function(J,I){J || Object.keys(I).filter(function(M){return 0 > K.indexOf(M.slice(0,M.indexOf(".")));}).map(function(M){C.remove(G,M,c);});});}function h(C,G,K){var I,M;function J(R){C.delete(I,function(H){H?K(H):(delete C.De[M],H=Object.keys(R.resourceIndex),H=u.Promise.all(H.map(function(P){return new u.Promise(function(N,L){C.delete(P,function(Q){Q?L(Q):N(P);});});})).then(function(){K();},function(P){K(P);}),E.$w(H));});}if(x.EN(G))(I=G,M=x.p5(G));else (I=x.tka(G),M=G);(G=C.De[M])?J(G):C.read(I,function(R,H){R?K(R):J(H);});}function k(C,G){var K,J,I;K={};J=C.partitions.reduce(function(M,R){return M + R.capacity;},0);I=G / J;C.partitions.map(function(M){var R;R=M.key;K[R]={};K[R].jw=Math.floor(I * M.capacity);K[R].gzb=M.dailyWriteFactor || 1;K[R].Tbc=M.owner;K[R].ACb=M.evictionPolicy;});return K;}function n(C,G,K){if(K)return z.EAb(C,G).reduce(function(J,I){Object.keys(I).map(function(M){J[M]=I[M];});return J;},{});K={};K[C]=G;return K;}function p(C,G,K,J,I,M,R,H,P,N,L){return function(Q,S){Q?q.isArray(Q)?(S=Q.map(function(U){return U.error;}),S.some(function(U){return U.code === B.EJ.code;}) && !S.some(function(U){return U.code === B.B1.code;})?L(N,Q,function(){P.save(G,K,J,I,M,R);}):(N.delete(H),delete N.De[K],M({error:Q[0].error,Cu:Q[0].Cu,type:Q[0].type,eQa:Q}))):M({error:Q,Cu:G,type:"save"}):(Q=S.items.filter(function(U){return 0 <= Object.keys(C).indexOf(U.key);}).reduce(function(U,ca){return U + ca.H7;},0),N.De[K].j9a(Q),Q={dEb:S.Cn,Z9b:S.lM,Pk:0,items:S},0 < S.Pk && (Q.Pk=S.Pk),0 < S.duration && (Q.duration=S.duration),M(null,Q));};}q=a(10);u=a(127);t=new u.Console("MEDIACACHE","media|asejs");w=a(880);v=a(881);x=a(403);y=a(128);z=a(888);A=a(889);B=a(249);E=a(250);D=a(404).EventEmitter;F={Ybc:[]};f.prototype.cY=function(C,G,K){var J;J=q.jd(K)?K:c;this.Ay(C)?this.Vj[C].query(G,function(I,M){I?(t.error("Failed to query resources",I),J([])):J(M.filter(d));}):J([]);};f.prototype.read=function(C,G,K){var J,I,M,R;J=q.jd(K)?K:c;if(this.Ay(C)){I=this.Vj[C];M=I.De[G];if(!x.EN(G) && this.I.DOb){R=(function(H){I.f$(Object.keys(H),(function(P,N,L){P?J(B.lK.Wq("Failed to read " + G,P)):(l(this,"read",C,G,L),J(null,z.xKb(N)));}).bind(this),H);}).bind(this);M?R(M.resourceIndex):this.QUb(C,G,function(H,P){H?J(B.lK.Wq("Failed to read " + G,H)):R(P.resourceIndex);});}else I.read(G,(function(H,P,N){H?J(B.lK.Wq("Failed to read " + G,H)):(M && M.convertToBinaryData && (P=A.iwb(P)),l(this,"read",C,G,N),J(null,P));}).bind(this));}else J(B.vB);};f.prototype.f$=function(C,G,K){var J,I;J=q.jd(K)?K:c;if(this.Ay(C)){I={};G=u.Promise.all(G.map((function(M){return new u.Promise((function(R,H){this.read(C,M,function(P,N){P?(N={},N[M]=P,H(N)):(I[M]=N,R());});}).bind(this));}).bind(this))).then(function(){J(null,I);},function(M){J(M);});E.$w(G);}else J(B.vB);};f.prototype.o8a=function(C,G,K){var J;J=q.jd(K)?K:c;this.Ay(C)?"[object Object]" !== Object.prototype.toString.call(G)?J(B.A1.Wq("items must be a map of keys to objects")):(K=new u.Promise((function(I){var M,R;M=this.Vj[C].rna();R=Object.keys(G);(M=M.filter(function(H){return -1 === R.indexOf(H);})) && 0 < M.length?this.oUa(C,M,function(){I();}):I();}).bind(this)).then((function(){return u.Promise.all(Object.keys(G).map((function(I){return new u.Promise((function(M,R){this.save(C,I,G[I].Kq,G[I].Gc,function(H,P){H?(t.error("Received an error saving",I,H),R(H)):M(P);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(I){var M,R,H;try{M=Number.MAX_VALUE;R=Number.MAX_VALUE;H=I.reduce(function(P,N){N.Cn && N.Cn < M && (M=N.Cn);N.lM && N.lM < R && (R=N.lM);M < Number.MAX_VALUE && (P.freeSize=M);R < Number.MAX_VALUE && (P.dailyBytesRemaining=R);q.Ca(N.Pk) && (P.bytesWritten+=N.Pk);q.Ca(N.duration) && (P.duration+=N.duration);return P;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:u.time.now(),bytesWritten:0,duration:0});this.Va("mediacache",H);J(null,H);}catch(P){J(err);}}).bind(this),(function(I){q.isArray(I.eQa)?I.eQa.forEach((function(M){this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:M.error,resources:M.resources});}).bind(this)):this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:I});J(I);}).bind(this)),E.$w(K)):(q.jd(K)?K:c)(B.vB);};f.prototype.save=function(C,G,K,J,I,M){var R,H,P,N,L,Q,S,U,ca;R=q.jd(I)?I:c;if(this.Ay(C)){H=this.Vj[C];P=x.tka(G);I=H.rna();I=I.filter(function(ka){return ka !== G;});if(q.ia(J) || q.Gb(J) || !q.Ca(J.lifespan))R(B.Chb);else {N=n(G,K,this.I.DOb);L=H.De[G] || ({});Q=L.resourceIndex;Q && Object.keys(Q).map(function(ka){q.ia(N[ka]) && H.delete(ka);});J.convertToBinaryData && (K=A.jwb(N),N=n(G,K,!1));Q=u.time.now();S={};S.partition=C;S.resourceIndex=Object.keys(N).reduce(function(ka,ya){ka[ya]=y.roa(N[ya]);return ka;},{});S.creationTime=L.creationTime || Q;S.lastRefresh=Q;S.lifespan=J.lifespan;S.lastMetadataUpdate=Q;S.size=L.size;S.convertToBinaryData=J.convertToBinaryData;U=(function(ka,ya,qa){ka.Yzb((function(Y,ua){Y && t.error("Evicting","Failed to delete some orphaned records",Y);ua.Hua?qa():(Y=ka.JFb())?this.delete(ka.Sv,Y,(function(O){O?(M || (q.isArray(ya)?ya.forEach((function(T){m(this,"save",ka.EGb,T.resources,T.error);}).bind(this)):l(this,"save",ka.Sv,G,void 0,ya)),R(ya)):qa();}).bind(this)):R(B.EJ);}).bind(this));}).bind(this);ca=(function(){var ka,ya,qa;ka=this.Vj;ya=0;qa=u.time.now();if(!q.ia(ka))for(var Y in ka){ya+=ka[Y].ZEb(qa);}return ya;}).bind(this);this.oUa(C,I,(function(){H.replace(P,S,(function(ka,ya){ya?(H.De[G]=x.Oma(S),H.$Vb(N,p(N,C,G,K,J,R,M,P,this,H,U),M,ca)):ka.code === B.EJ.code?U(H,ka,(function(){this.save(C,G,K,J,R,M);}).bind(this)):R(ka);}).bind(this),M,ca);}).bind(this));}}else R(B.vB);};f.prototype.delete=function(C,G,K){var J;J=q.jd(K)?K:c;this.Ay(C)?h(this.Vj[C],G,(function(I){l(this,"delete",C,G,void 0,I);J(I);}).bind(this)):J(B.vB);};f.prototype.oUa=function(C,G,K){var J,I;J=q.jd(K)?K:c;if(this.Ay(C)){I=this.Vj[C];K=u.Promise.all(G.map((function(M){return new u.Promise((function(R){h(I,M,(function(H){R({$:q.ia(H),error:H,Kq:M});}).bind(this));}).bind(this));}).bind(this))).then((function(M){var L,Q;for(var R=[],H=[],P=[],N=0;N < M.length;N++){L=M[N];L.$?R.push(L.Kq):L.error && H.push(L);}0 < R.length && m(this,"delete",C,R);if(0 < H.length){P=H.map(function(S){return S.Kq;});M=E.CZa(H);Q=M[0];M.forEach((function(S){t.error("Failed to delete resources ",S.error,S.resources);m(this,"delete",C,S.resources,S.error);}).bind(this));}M={};M.ncc=R;0 < P.length && (M.occ=P);Q?J(Q,M):J(void 0,M);}).bind(this),(function(M){m(this,"delete",C,G,M);J(M);}).bind(this));E.$w(K);}else J(B.vB);};f.prototype.clear=function(C,G){var K;K=q.jd(G)?G:c;this.Ay(C)?this.Vj[C].clear(function(J){K(J.filter(d));}):K(B.vB);};f.prototype.QUb=function(C,G,K){var J,I;J=q.jd(K)?K:c;if(this.Ay(C)){I=this.Vj[C];I.read(x.tka(G),function(M,R){var H;if(M)J(B.Dhb);else {H=x.Oma(R) || ({});I.PYa(Object.keys(H.lva),function(P){H.size=P;(P=I.De[G]) && (H.lastMetadataUpdate && P.lastMetadataUpdate && P.lastMetadataUpdate <= H.lastMetadataUpdate?I.De[G]=H:P.lastMetadataUpdate && (P.lastMetadataUpdate > H.lastMetadataUpdate || q.ia(H.lastMetadataUpdate)) && (H=P));J(null,H);});}});}else J(B.vB);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var m,d;function c(g,h,k,n,p,q){return new l(g,h,k,n,p,q);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function l(g,h,k,n,p,q){this.partition=g;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.qab();}m=a(10);d=a(127);a(128);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.qab();};l.prototype.j9a=function(g){this.size=g;};l.prototype.RSa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};l.prototype.qab=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;r.exports={create:c,Oma:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !m.ia(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!m.ia(h.size) && 0 <= h.size && g.j9a(h.size),g.RSa(),g.convertToBinaryData=h.convertToBinaryData,g);},tka:function(g){return g + ".__metadata__";},p5:function(g){return f(g)?g.slice(0,g.length - 13):g;},EN:f};},function(r,b,a){r.exports={EventEmitter:a(884),Xh:a(885)};},function(r){r.exports="4.1.1828";},function(r,b,a){var p,q,u;function c(t){return t.Fs - t.Gr;}function f(t,w){return Math.exp(-(Math.log(2) / t) * w);}function l(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function m(t,w){var v,x,y,z,A;v=w.Tta;x=w.Sta;y=w.WX;if(0 === w.bh.length)return {i3:!1};z=w.bh[0];w=z.Ue;A=z.gD;z=z.duration;if(!A || 1 === y)return {i3:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(v < x)return {i3:!1};x=v - x;v=y + x / z * (1 - y);z-=x;A=A * (1 - v) / (1 - y);t=w * v / y * f(t,z) + A * l(t,z);q.assert(1 >= t);return {i3:!0,irb:t};}function d(t){var w,v,x,y,z;w=t.Jr;v=t.n$a;x=t.OA;y=t.Fs;z=t.Gr;t=t.AWa;q.assert(void 0 !== v);q.assert(void 0 !== w);x=1 - x;y-=z;t?(z=v - t - y,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?y / v:0,x*=0 < v?v / w:1)):(z=v - y,0 >= z?t=v / w:(v=w - z,t=0 < v?y / v:0,x*=0 < v?v / w:1));q.assert(0 <= t);q.assert(1 >= t);q.assert(0 <= x);q.assert(1 >= x);return 1 - t * x;}function g(t,w){t=Math.log(2) / t.W6a;return h(w) * Math.exp(-t * c(w));}function h(t){var w;return (null !== (w=t.hH) && void 0 !== w?w:1) * t.bh.reduce(function(v,x){var y;y=x.gD;return v * (x.Ue + (void 0 === y?0:y));},1);}function k(t){var w,v,x,y;if(0 === t.bh.length)return 0;v=0;if(1 > t.WX){v=t.Tta;x=t.Sta;y=null !== (w=t.bh[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(y,v - (x - y)));}return t.bh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function n(t){return t.bh.filter(function(w){return !w.gD;}).reduce(function(w,v){return w * v.Ue;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.qja=b.VRa=b.Vtb=b.URa=b.Ztb=void 0;p=a(16);q=a(5);u=a(20);b.Ztb=c;b.URa=function(t,w,v){var x,y,z,A,B,E,D,F;if(!t.X4 || p.Oo(w.Ef))return g(t,w);y=t.W6a;t=c(w);z=k(w);A=n(w);B=m(y,w);E=B.i3;B=B.irb;B=void 0 === B?1:B;D=1 > w.OA?d(w):1;F=(null !== (x=w.hH) && void 0 !== x?x:1) * A * f(y,t - z) * B * D * w.bh.filter(function(C,G){return C.gD && (0 < G || !E);}).reduce(function(C,G){var K,J;K=G.gD;J=G.duration;J=void 0 === J?0:J;K=void 0 === K?0:K;G=G.Ue * f(y,J) + K * l(y,J);return C * G;},1);u.ga && (null === v || void 0 === v?void 0:v.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.OA + ", pssp: ") + (w.WX + ", streamingDuration: ") + (w.n$a + ", duration: ") + (w.Jr + ", seamlessProbability: ") + (A + ", distance: ") + (t + ", immediateDistance: " + z + ", risk:") + (f(y,t - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(w.bh) + " => " + F)));return F;};b.Vtb=g;b.VRa=h;b.qja=n;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;c=a(2);f=a(17);l=a(9);m=a(5);d=a(16);r=(function(){function g(){this.vO=[];this.XB=new l.gr(!1);this.WB=new l.gr(l.T.Ab(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(g.prototype,{ox:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{playbackRate:{get:function(){return this.Ko();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nA:{get:function(){return this.XB;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vW:{get:function(){return this.WB;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{WA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wm:{get:function(){return this.qN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wg:{get:function(){return this.ZM();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rk:{get:function(){var h,k;h=this.Wg;k=this.ls(h);m.assert(k,"Could not find current branch for " + h.W);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nKb:{get:function(){return this.Kb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wH:{get:function(){return this.qN?this.Kb[this.Kb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oi:{get:function(){var h,k;h=this.Wg;k=this.N5(h);m.assert(k,"Could not find presenting branch for " + h.W);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qN:{get:function(){return 0 < this.Kb.length;},enumerable:!1,configurable:!0}});g.prototype.IZa=function(h){return -1 !== this.Kb.indexOf(h);};g.prototype.v3=function(){return void 0 !== this.qa?!1:!0;};g.prototype.Lb=function(){};g.prototype.TV=function(h){var k,n,p;k=this.Kb.filter(function(q){return q.O.id === h.ya;});if(0 !== k.length){n=this.ZM();p=new l.T(Infinity,1);k.forEach(function(q){q=q.gI.add(h.offset);n.zUa(q).lessThan(n.zUa(p)) && (p=q);});return p;}};g.prototype.ls=function(h){var k,n,p;k=this.N5(h);if(k){n=k.O;p=n.id;h=h.Ma(n.Og.add(k.Sf));return {ya:p,offset:h};}};g.prototype.reset=function(){};g.prototype.BY=function(){};g.prototype.pause=function(h){void 0 === h && (h=d.Bf);this.vO=null === h || void 0 === h?void 0:h.reduce(function(k,n){-1 === k.indexOf(n) && k.push(n);return k;},this.vO);};g.prototype.resume=function(h){var k;k=this;void 0 === h && (h=d.Bf);h.forEach(function(n){n=k.vO.indexOf(n);-1 !== n && k.vO.splice(n,1);});};g.prototype.wxa=function(h){var k;m.assert(this.qa);m.assert(h !== this);this.UI();k=h.v3(this.qa,this);k && (h.pause(this.vO),h.Ola.apply(h,c.__spread(this.Kb)),this.hla(this.qa));return k;};g.prototype.ZM=function(){return this.jYa();};g.prototype.jYa=function(){var h,k;m.assert(this.qN,"Attempted to get initial time before any branches were queued");k=c.__read(this.Kb,1)[0];m.assert(k);return null !== (h=k.Kg) && void 0 !== h?h:k.Vr;};g.prototype.Ko=function(){return 1;};g.prototype.N5=function(h){var k;if(this.qN){k=this.jYa();return h.lessThan(k)?this.Kb[0]:l.uWa(this.Kb,h);}};g.prototype.lFb=function(){var h,k,q,u,t,w,v,x;k={};try{for(var n=c.__values(this.Kb),p=n.next();!p.done;p=n.next()){q=p.value;u=void 0;t=void 0;w=q.RC();for(u in w){v=u;x=w[v];x && (k[v]=(null !== (t=k[v]) && void 0 !== t?t:0) + x);}if(!q.xl)break;}}catch(z){var y;y={error:z};}finally{try{p && !p.done && (h=n.return) && h.call(n);}finally{if(y)throw y.error;}}return k;};return g;})();b.oea=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya;Object.defineProperties(b,{__esModule:{value:!0}});b.C_=void 0;c=a(2);f=a(17);l=a(216);m=a(16);d=a(899);g=a(9);h=a(900);k=a(904);n=c.__importDefault(a(6));p=a(5);q=a(905);u=a(25);t=a(68);w=a(99);v=a(54);x=a(411);y=a(252);z=a(253);A=a(906);B=a(118);E=c.__importDefault(a(144));D=a(907);F=a(908);C=a(909);G=a(910);K=a(911);J=a(912);I=a(913);M=a(916);R=a(918);H=a(919);P=a(920);N=a(921);L=a(922);Q=a(924);S=a(925);U=a(926);ca=a(927);ka=a(928);ya=a(414).Dta.Ezb;r=(function(){function qa(Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya){var ab;ab=this;this.lL=Y;this.uPa=ua;this.config=O;this.id=T;this.fha=ma;this.umb=ta;this.Qk=Ka;this.$ub=Ua;this.eG="2.0";this.vo=void 0;this.bd=l.Hj.CLOSED;this.dga=!0;this.JL=!1;this.pya=this.Eia=void 0;this.uRa=new f.Xh();this.MC=0;this.eaa=!1;this.MD=function(ib){var $a,Sa;ib=ab.navigator.sf(ib.position.ya);if((ib=ab.Kna(ib)) && ab.V.wm){Sa=ab.V.oi;null === ($a=ab.V.ox) || void 0 === $a?void 0:$a.iE({O:Sa.O,get Aaa() {return Sa.Qd.Ma(Sa.O.Og);}},ib,ab.Rk.offset,!0,!1);}ab.Pp.start();};this.uX=function(){ab.Qk("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.wi=new B.MB({AD:10,Au:this,source:"AsePlaygraph"});this.e9a(Y);this.Kb=new M.YIa();this.Ni=new ca.$Ia(this.console);this.events=new f.EventEmitter();this.zoa=new G.WCa(this.config,g.T.Ab(this.config.n8),{parent:this.kZa.bind(this)},this.events,this.console);this.Vwa=new k.$Ka(this.console,this.events);this.XT={mH:O.vu || Infinity};this.V=new q.aea(this);this.ks=new t.bS(this.V.xa,this.console,"playgraph");this.Os=new t.bS(new y.p1({lk:!0,currentTime:function(){return g.T.Ab(n.default.time.ea());},speed:1}),this.console,"wallclock");this.Tf=new R.Pza(this.console,O,ja,this.events,this,this.Os);this.G3=new N.Iza(this.ks,this.Os,this.config,this.ti.bind(this),this.Ef,this.console);this.l9=this.Tf.l9.bind(this.Tf);this.xX=this.Tf.xX.bind(this.Tf);this.u9=this.Tf.u9.bind(this.Tf);this.I$=this.I$.bind(this);this.VO=new v.Dea(O);S.oTa({Tf:this.Tf,Os:this.Os},t.Kk.uJ(g.T.Ab(this.config.yA)),function(){ab.V.wm && ab.V.oi && (ab.Tf.state.value === m.Kc.Qf || ab.Tf.state.value === m.Kc.xd) && ab.ur(ab.V.oi);},"buffering");this.VO.Ji(new z.LB(this.Tf.wi));this.VO.Ji(new A.rIa(this.XGb.bind(this)));this.VO.Ji(new z.LB(this.wi));this.VO.Ji(new D.XIa(this.Kb));this.m$a=new U.ZKa(this,this.console,Ya);this.N1a=new F.oFa(this.Os,this.console,this.events);this.Pp=new ka.bJa(this.j$.bind(this));this.S$(w.FC(this.config),w.EC());}Object.defineProperties(qa.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{I6:{get:function(){return !(this.V instanceof q.aea);},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{za:{get:function(){return this.lL;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{weight:{get:function(){return this.uPa;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{D$:{get:function(){p.assert(this.rN,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.vo.position;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{v8a:{get:function(){p.assert(this.rN,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.bD(this.D$).xG;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Ef:{get:function(){return this.Tf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{wf:{get:function(){return this.Tf.wf;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{rN:{get:function(){return void 0 !== this.vo;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Rk:{get:function(){return this.V.wm?this.V.Rk:this.D$;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Wg:{get:function(){return this.V.wm?this.V.Wg:this.v8a;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Cia:{get:function(){return this.nlb;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{gB:{get:function(){return this.dqb;},enumerable:!1,configurable:!0}});qa.prototype.open=function(){this.dga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.bd !== l.Hj.CLOSED)return !1;this.bd=l.Hj.OPEN;return !0;};qa.prototype.Lb=function(){this.Os.Lb();this.ks.Lb();this.bd !== l.Hj.CLOSED && (this.Ff(),this.Pp.Lb(),this.Tf.stop(),this.bd=l.Hj.CLOSED);};qa.prototype.eE=function(Y,ua){var O,T,ja;O=this;this.Eia=Y;this.pya=ua;ua=H.RVa(this.Kb,this.I$.bind(this));Y=ua.Aub;ua=ua.ktb;if(0 === Y.length)return !0;if(1 !== Y.length || 0 !== Y[0])return !1;T=this.Rk;Y.forEach(function(ma){return O.V.BY(ma);});ja=this.bD(T).xG;ua.forEach(function(ma){var ta;ta=ma.eb;ta.eE(ma.wg,T.ya === ta.O.id?ja:void 0,void 0 !== O.Kb.Qna(ta));});this.Tf.yRb(T,ua[0].wg);return !0;};qa.prototype.EC=function(Y){return w.EC(this.config,Y);};qa.prototype.FC=function(Y){return w.FC(this.config,Y);};qa.prototype.eN=function(Y,ua){var O,T;O=this.navigator.sf(Y);T=this.navigator.sf(ua);return {Kbb:O.PIb(ua),PL:ua !== Y && this.Kb.has(ua) && this.Kb.zz(ua)[0].Kh,gd:T.Og.W,gO:this.Kna(O)};};qa.prototype.ti=function(Y,ua,O,T){var ja,ma,ta,Ka;ja=this;void 0 === T && (T=!0);if(!ua)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(T && this.Ni.get(Y))O || this.Ni.set(Y,ua);else {ta=this.bna(Y)[0];Ka=this.navigator.sf(Y);this.Rk.ya === Y && ta && (null === (ma=this.V.ox) || void 0 === ma?void 0:ma.iE({O:ta.O,get Aaa() {return ta.Qd.Ma(ta.O.Og);}},ua,this.Rk.offset,T,O));T || (Y={offset:g.T.Eb,ya:ua},this.vo={position:Y,Kh:!0,Qab:Y});O?this.Ni.UXb(Ka.id,ua):this.Ni.set(Ka.id,ua);this.Pp.start();T && Ka.ex && 0 < Ka.ex.length && (p.assert(ta),ta.Fxa(Ka.ex) && this.bna(ua).forEach(function(Ua){return ja.rx(ta,Ua);}));T || this.Tf.G4a(this.D$);}};qa.prototype.rx=function(Y,ua){var O;O=this;Y=Y.xe.Ma(ua.O.Og);ua.rx(Y);this.Kb.iFb(ua).forEach(function(T){return O.rx(ua,T);});};qa.prototype.yi=function(Y){this.navigator.yi(Y);this.Pp.start();};qa.prototype.S$=function(Y,ua){this.nlb=Y;this.dqb=ua;this.state === l.Hj.dj && this.Qk("setStreamFilters");};qa.prototype.oYb=function(Y){this.fha=Y;};qa.prototype.bE=function(Y,ua){var O,T,ja,ma;O=this;if(C.N0a(this.za,Y)){ma=this.xva(Y);if(void 0 === ma)this.Ph("Invalid seekPosition");else if(void 0 === this.Eia || void 0 === this.pya)this.Ph("No track selectors available");else if(this.I6 && this.V.qN || !C.BZa(null === (T=this.vo) || void 0 === T?void 0:T.Qab,ma)){this.rN && (T=this.navigator.sf(this.Rk.ya),null === (ja=this.V.ox) || void 0 === ja?void 0:ja.iE({O:T,Aaa:T.duration},ma.ya,this.Rk.offset,!1),this.Rk.ya === Y.ya?this.Ni.evb(Y.ya):this.Ni.Mja());Y=this.Kb.map(function(ta){return O.fha(ta.O.X).U7;});try{this.Ff(!0);this.dvb();this.vo={position:ma,Qab:ma,Kh:!1,fTb:ua};this.Tf.G4a();this.bd=l.Hj.dj;this.Pp.start();}finally{Y.forEach(function(ta){return ta.release();});}}}else this.Ph("Invalid seekPosition");};qa.prototype.Ff=function(Y){var ua,O,T;T=this.fIb();this.Kb.reset();if(!Y && (this.Ni.Mja(),T.length))try{for(var ja=c.__values(T),ma=ja.next();!ma.done;ma=ja.next()){ma.value.GVb();}}catch(Ka){var ta;ta={error:Ka};}finally{try{ma && !ma.done && (ua=ja.return) && ua.call(ja);}finally{if(ta)throw ta.error;}}this.ks.reset();this.Os.reset();this.V.reset();this.vo=void 0;this.G3.reset();null === (O=this.uRa) || void 0 === O?void 0:O.clear();this.bd === l.Hj.dj && (this.bd=l.Hj.OPEN);};qa.prototype.bna=function(Y){return this.Kb.zz(Y);};qa.prototype.tk=function(Y){this.Tf.tk(Y);p.assert(this.V.wH,"Must have an appended branch on underflow");this.G3.uxa(this.V.wH,this.Wg);this.Qk("onUnderflow");this.events.emit("underflow");};qa.prototype.Ji=function(Y){this.VO.Ji(Y);};qa.prototype.wia=function(Y){this.Ji(new x.YJa(Y));this.esb(Y);};qa.prototype.esb=function(Y){this.V.wxa(Y)?(this.V=Y,this.ks.OQa(this.V.xa),this.V.events.on("segmentPresenting",this.MD),this.V.events.on("drmReady",this.uX)):this.Ph("player in use");};qa.prototype.bD=function(Y){var ua,O;ua=Y.offset;O=this.navigator.sf(Y.ya);Y=O.X;ua=O.Og.add(ua);return {X:Y,xG:ua};};qa.prototype.ls=function(Y,ua){var O;O=this.V.ls(Y);if(void 0 !== O)return O;O=this.V.wH;return C.ls(Y,{qa:this,oKb:O && ({id:O.O.id,pXb:O.gI})},ua);};qa.prototype.TV=function(Y){return this.V.TV(Y);};qa.prototype.xva=function(Y){var ua;ua=this.za.pa[Y.ya];if(void 0 !== ua)return null === ua.Ob || void 0 === ua.Ob?{ya:Y.ya,offset:g.T.max(g.T.Eb,Y.offset)}:{ya:Y.ya,offset:g.T.max(g.T.Eb,g.T.min(Y.offset,g.T.Ab(ua.Ob - ua.Db)))};};qa.prototype.An=function(Y,ua){return this.umb(this.za.pa[Y].X,ua);};qa.prototype.k6=function(){return L.jXa(this.Kb,this.o7.bind(this));};qa.prototype.o7=function(Y){Y=this.Kb.Qna(Y);return void 0 === Y || Y.xl && this.o7(Y);};qa.prototype.j6=function(){return this.XT.mH;};qa.prototype.FFb=function(Y){return Q.oZa(this.Kb,Y);};qa.prototype.Hh=function(Y){var ua,O,T;ua=this;this.Kb.mV(function(ja){var ma,ta;ma=ja.PV(0);ta=ja.PV(1);if(ja.O.fv || !ua.Kb.Doa(ja) || !ja.xl){if(!O || ma < O)O=ma;if(!T || ta < T)T=ta;}return ja.xl;});return {FZ:O?Math.max(O - Y.W,0):0,GZ:T?Math.max(T - Y.W,0):0};};qa.prototype.yw=function(){var Y,ua,O,T;O=this.rN?this.Hh(this.Wg):{FZ:0,GZ:0};T=E.default.instance().get();return {totalabuflmsecs:O.FZ,totalvbuflmsecs:O.GZ,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ua=Number(0 < T.confidence) && (null === (Y=T.Ra) || void 0 === Y?void 0:Y.Fa)) && void 0 !== ua?ua:0};};qa.prototype.kN=function(){var Y,ua,O,T,ja,ma,ta,Ka;Y=this;if(this.Hn())return (this.wi.Cy({isStreamingFailureReported:!0}),[]);O=this.Kb.size;this.wi.Cy({branchCount:O});if(!this.rN || 0 === O)return [];T=this.Wg;ja=this.Rk;ma=[];O=this.navigator.sf(this.Rk.ya);ta=O.duration;Ka=this.Ni.get(O.id)?1:null !== (ua=O.OA) && void 0 !== ua?ua:1;ua=this.Kb.reduce(function(Ua,Ya,ab){var ib,$a,Ha,Qa,Xa;try{for(var Sa=c.__values(Ya.i6()),Da=Sa.next();!Da.done;Da=Sa.next()){Ha=Da.value;if(!Ha.Wr()){Qa="p" + Y.id + "-" + ab + "-" + (null === ($a=Ya.Kg) || void 0 === $a?void 0:$a.W);Xa=Y.jZa(Ha);Ua.push(Y.Nyb(Ha,Xa.W,Qa,ta.W,Ka,T.W,ja));}!Ha.pD() && Y.wi.enabled && ma.push({segmentId:Ha.ya,isDoneStreaming:Ha.Wr(),isNormalized:Ha.Kh(),needsHeaderRequest:Ha.track.U8});}}catch(wb){var gb;gb={error:wb};}finally{try{Da && !Da.done && (ib=Sa.return) && ib.call(Sa);}finally{if(gb)throw gb.error;}}return Ua;},[]);this.wi.Cy({nonStreamables:ma});return ua;};qa.prototype.jZa=function(Y){var ua;if(Y.Lha)return Y.Lha;ua=this.kZa(Y);return !ua || this.config.X4 && this.navigator.NIb(ua.eb.O,Y.ya)?Y.kU:this.jZa(ua);};qa.prototype.kZa=function(Y){var ua;return null === (ua=this.Kb.Qna(Y.eb)) || void 0 === ua?void 0:ua.dN(Y.mediaType);};qa.prototype.ARb=function(Y){var ua,O;if(!this.Vwa.Hn()){ua=void 0;O=this.V.Rk;O && (ua=this.navigator.sf(O.ya).X);this.Ph("BufferingStateTracker: Temporary failure while buffering",ua,"NFErr_MC_StreamingFailure",null === Y || void 0 === Y?void 0:Y.qh,null === Y || void 0 === Y?void 0:Y.fD,null === Y || void 0 === Y?void 0:Y.tj);}};qa.prototype.Ph=function(Y,ua,O,T,ja,ma,ta){void 0 === ta && (ta=!1);this.Vwa.Ph(Y,ua,O,T,ja,ma,ta);};qa.prototype.LZ=function(Y,ua){ua=this.h6(ua);this.events.emit("logdata",{type:"logdata",target:Y,fields:ua});};qa.prototype.h6=function(Y){var ua;this.N1a.AMb(Y);ua=this.VO.Io(Y);Y === v.de.$p && (Y=this.yw(),ua.vbuflmsec=Y.totalvbuflmsecs,ua.abuflmsec=Y.totalabuflmsecs,ua.vbuflbytes=Y.vbuflbytes,ua.abuflbytes=Y.abuflbytes);return ua;};qa.prototype.Wab=function(Y){this.XT=Y;this.Qk("updateBudget");};qa.prototype.Hn=function(){return this.Vwa.Hn();};qa.prototype.mbb=function(Y){Y !== this.weight && (this.uPa=Y,this.events.emit("weightUpdated"));};qa.prototype.VP=function(Y){var ua,O,T,ja,ma,Ua,Ya,ab,ib,$a,Sa,Da,Ha,Qa,Xa;T=I.QRa(this.za,Y);ja=T.zub;ma=T.d1b;if([T.drb,T.SO,ja].every(function(wb){return !wb.length;}))return {$:!0,reason:m.ay.Xib};if(0 === ja.length && 0 === ma.length)return {$:!1,reason:m.ay.jib};try{for(var ta=c.__values(ja),Ka=ta.next();!Ka.done;Ka=ta.next()){Ua=Ka.value;Ya=this.za.pa[Ua];ab=Ya.Db;ib=Ya.Ob;$a=Ya.X;Sa=Y.pa[Ua];Da=Sa.Ob;Ha=Sa.Db;Qa=Sa.X;if(this.Rk.ya === Ua && Da !== ib){if(!Da)return {$:!1,reason:m.ay.Wjb};Xa=g.T.Ab(Da - Ha);if(null === (O=this.Rk.offset) || void 0 === O?0:O.greaterThan(Xa))return {$:!1,reason:m.ay.wcb};}if(ab !== Ha)return {$:!1,reason:m.ay.Ifb};if($a !== Qa)return {$:!1,reason:m.ay.Jfb};}}catch(wb){var gb;gb={error:wb};}finally{try{Ka && !Ka.done && (ua=ta.return) && ua.call(ta);}finally{if(gb)throw gb.error;}}this.e9a(Y);this.Pp.start();return {$:!0,reason:m.ay.Wib};};qa.prototype.e9a=function(Y){this.lL=Y;this.navigator=new J.gJa(Y);this.kIb=I.YSa(this.navigator);};qa.prototype.Ssa=function(Y,ua){this.s7a(Y);Y.HM.addListener("criticalNetworkError",this.l9);Y.HM.addListener("temporaryNetworkError",this.xX);Y.HM.addListener("updatingLastSuccessEvent",this.u9);this.bd === l.Hj.dj && ua && this.r8a();};qa.prototype.Tsa=function(Y){0 === this.Kb.filter(function(ua){return ua.$V && ua.P === Y;}).length && this.s7a(Y);};qa.prototype.s7a=function(Y){Y.HM.removeListener("criticalNetworkError",this.l9);Y.HM.removeListener("temporaryNetworkError",this.xX);Y.HM.removeListener("updatingLastSuccessEvent",this.u9);};qa.prototype.APa=function(Y){var ua;p.assert(Y.Kh,"expected branch to be normalized on addBranchToPlayer");this.V.qN || (null === (ua=this.vo) || void 0 === ua?0:ua.Kh) || this.HDb(Y);this.Tf.Maa(Y.wg);this.V.Ola(Y);this.G3.uxa(Y,this.Wg);};qa.prototype.HDb=function(Y){p.assert(Y.Xc,"Normalized branch should have a defined content start timestamp");p.assert(this.vo,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.vo.Kh,"Seek position should not already be normalized on first branch normalization");this.vo=c.__assign(c.__assign({},this.vo),{position:{ya:Y.O.id,offset:Y.Xc.Ma(Y.O.Og)},Kh:!0});this.Tf.PXb(this.vo.position,Y.wg.filter(function(ua){return 0 === ua.mediaType;})[0]);};qa.prototype.dvb=function(){var Y;this.G3.reset();this.V.pG();this.vo=void 0;null === (Y=this.uRa) || void 0 === Y?void 0:Y.clear();};qa.prototype.Nyb=function(Y,ua,O,T,ja,ma,ta){var Ka,Ua,Ya,ab;Ka=this;ab=null !== (Ya=null === (Ua=Y.eb.Kg) || void 0 === Ua?void 0:Ua.W) && void 0 !== Ya?Ya:Y.eb.Vr.W;Ua=Y.mE.W;Ya=this.Ni.get(Y.ya)?1:Y.eb.O.OA;return {identifier:Y.ya,mediaType:Y.mediaType,bh:Y.bh,Ef:this.Ef.value,wA:ua,Fs:Ua,Gr:ma,AWa:Y.NM.W,Tta:ta.offset.W,Sta:T,WX:ja,OA:Ya,Jr:Y.eb.QU.W,n$a:Math.max(Ua - ab,0),pD:Y.pD(),Wr:Y.Wr(),groupId:O,P0a:function(ib,$a){ib=Ka.m$a.gub(ib,Y.mediaType,1 > $a || !Ka.o7(Y.eb));1 === $a && "global" === m.Aua(ib.reason) && Ka.Tf.WQb(Y.mediaType,Ka.Hh(Ka.Wg));return ib;},T0a:function(){var ib,$a,Sa,Da,Ha,Qa,Xa,gb,wb;Da=Y.mediaType;Ha=Ka.zoa.uXb(Ka.Ef.value,Ka.Wg,Y.mE,Ka.V.playbackRate,Y,0 === Da?Ka.Cia:Ka.gB,Ka.JL);Qa=Ha.stream;Xa=Ha.zP;gb=Ha.wXb;wb=Ha.Bu;Ha=Ha.reason;if(!Qa)return {ym:!1,reason:Ha || "selectLocationsAndStream"};if(Ka.Ef.value === m.Kc.dj && Y.eb && Y.eb.P.Cw && !Y.eb.P.QW && !Ka.V.Po(Y.eb.P.X)){Ha=Y.mE.W - Ka.Wg.W;if(!Y.eb.P.kf.ue && Ha > Ka.config.nra)return {ym:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Qa.$k && 1 === Qa.mediaType && Ha >= Ka.config.i8)return {ym:!1,reason:"maxFastPlayBufferInMs"};}Ha=1;if(null === (ib=Y.eb) || void 0 === ib?0:ib.wg.every(function(Fb){return 0 === Fb.mediaType;}))Ha=0;Ka.Tf.qg && Da === Ha && Ka.Tf.bYb(Y.ml.kP,Qa.bitrate,gb);Ka.oP(Xa);ib=null === ($a=Y.eb.Tq) || void 0 === $a?void 0:$a.W;$a=Y.Gab(Qa,wb);$a.ym && (Ka.dga && (Ka.bm("firstDriveStreaming"),Ka.dga=!1),0 < Ka.MC && (Qa=null === (Sa=Y.eb.Tq) || void 0 === Sa?void 0:Sa.W,ib && Qa && (Ka.MC-=ib - Qa,0 >= Ka.MC && Ka.r8a())));return $a;}};};qa.prototype.oP=function(Y){var ua;ua=this;Y.forEach(function(O){O.P.VXb(O,function(){var T,ja;p.assert(ua.rN,"Speculative header callback after streaming is cancelled");T=ua.Wg.W;ja=T + ua.config.ZW;return {bh:[],Ef:ua.Tf.state.value,wA:ja,Fs:ja,Gr:T};});});};qa.prototype.r8a=function(){var Y;Y=this;this.Pp.Zaa(ka.RE.Hx,function(){return Y.Pp.start();});};qa.prototype.j$=function(){var Y,ua,O,T,ja;Y=this;if(this.bd === l.Hj.dj){ua=this.Rk;O=this.navigator.sf(ua.ya);T=this.Kb.YHb();ja=this.EEb(ua.ya).map(function(ma){return ma.O.id;});O=K.j$(this.console,this.kIb,O,T,this.Ni,ja,g.T.Ab(this.config.itb),this.config.Tra,g.T.Ab(this.config.Uia));T=O.J7a;this.MC=O.MC || 0;this.Kb.r1b(T,function(ma,ta){var Ka;Ka=Y.navigator.sf(ma);ma=ma === ua.ya?Ka.Og.add(ua.offset):Ka.Og;return Y.V0b(Ka,ma,ta);}).SO.forEach(function(ma){ma.Ff();Y.Ni.clear(ma.O.id);Y.V.IZa(ma) || Y.Pp.Zaa(ka.RE.Hx,function(){return Y.Oga(ma.O.id);});});this.f7a();this.gSa();this.Pp.Zaa(ka.RE.Hx,function(){Y.Qk("reevaluateBranches");Y.Pp.XW(ka.RE.UR);});}};qa.prototype.EEb=function(Y){var ua;ua=!1;return this.V.Kb.filter(function(O){O.O.id === Y && (ua=!0);return ua;});};qa.prototype.fIb=function(){return u.EQa(this.Kb.filter(function(Y){return Y.$V;}).map(function(Y){return Y.P;}));};qa.prototype.f7a=function(){var Y;if(this.bd === l.Hj.dj){if(!this.V.wH){Y=c.__read(this.Kb.zz(this.D$.ya),1)[0];(null === Y || void 0 === Y?0:Y.Kh) && this.APa(Y);}if(this.V.wH)for(;;){Y=this.Kna(this.V.wH.O);if(!Y)break;Y=c.__read(this.Kb.zz(Y),1)[0];if(null === Y || void 0 === Y || !Y.Kh)break;else if(this.V.IZa(Y))break;this.APa(Y);}}};qa.prototype.Kna=function(Y){var ua;ua=this.Ni.get(Y.id);if(void 0 !== ua)return ua;Y=this.navigator.wFb(Y);if(1 === Y.length)return Y[0].id;};qa.prototype.gSa=function(){var Y;Y=0 !== this.zEb();Y || this.eaa?Y && this.eaa && (this.eaa=!1):(this.Tf.qg && (Y=this.Hh(this.Wg),this.Tf.Pe("complete",Y.FZ,Y.GZ)),this.iob(),this.eaa=!0);};qa.prototype.zEb=function(){return this.Kb.filter(function(Y){return !Y.xl;}).length;};qa.prototype.ur=function(Y){this.o7(Y) && this.Tf.Hja(this.Wg,this.V.playbackRate,Y,{Gja:this.zoa.Gja.bind(this.zoa,this.m$a)});};qa.prototype.MQb=function(Y,ua){var O,T;O=this;if(ua.didNormalizeSegment){T=P.vKa.eIb(Y);p.assert(T,"Segment should be normalized");Promise.resolve().then(function(){return O.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Y.O.id,normalizedStart:ua.segmentContentStart,normalizedEnd:ua.branchContentEnd,viewableContentEnd:T.S2b,viewableEarliestContentEnd:T.U2b});});}Promise.resolve().then(function(){O.f7a();});this.Qk("branchNormalized");};qa.prototype.NQb=function(){this.gSa();};qa.prototype.LQb=function(){this.Pp.start();};qa.prototype.V0b=function(Y,ua,O){var T,ja,ma,ta,Ka;T=this;if(this.$ub(Y,ua))throw Error("Not implemented");Ka=new d.Lza(Y.X,this.fha,function(Ua,Ya,ab){T.state !== l.Hj.CLOSED && (T.Ssa(Ya,ab),T.Pp.Zaa(ka.RE.UR,function(){T.t2(Ua.O.id,Ya,Ua.Sf);}));},this.Tsa.bind(this));Y=new h.Hza(this.config,this.console,this.events,Y,this.I$,ua,null !== (ta=null === (ma=null === (ja=this.vo) || void 0 === ja?void 0:ja.fTb) || void 0 === ma?void 0:ma.Ma(this.v8a)) && void 0 !== ta?ta:g.T.Eb,function(){return T.Wg.W;},O,this.Ef,this.ks,Ka);Y.events.on("needsRequest",this.Qk.bind(this,"branchNeedsHeader"));Y.events.on("branchNormalized",this.MQb.bind(this,Y));Y.events.on("lastRequestIssued",this.LQb.bind(this,Y));Y.events.on("branchStreamingComplete",this.NQb.bind(this,Y));Y.events.on("checkBufferingProgress",this.ur.bind(this,Y));void 0 === O && (this.bm("createDlTracksStart"),Y.events.once("requestQueuesCreated",function(){T.bm("createDlTracksEnd");}));Y.xb();return Y;};qa.prototype.XGb=function(Y){if(this.V.wm)return this.V.oi.fb(Y);};qa.prototype.I$=function(Y){return [[0,this.Eia,"audio_tracks"],[1,this.pya,"video_tracks"]].map(function(ua){var O,T;O=c.__read(ua,3);T=O[1];ua=O[2];p.assert(T,"Expected mediaType " + O[0] + " track selector to be defined");O=T.ys(Y.oa,Y.oa[ua]);if(void 0 !== O)return Y.getTrackById(Y.oa[ua][O].RP);}).filter(u.f9);};qa.prototype.t2=function(Y,ua,O){Y={type:"segmentStarting",segmentId:Y,contentOffset:O.W,maxBitrates:{audio:ua.Mw[0],video:ua.Mw[1]}};this.events.emit(Y.type,Y);};qa.prototype.Oga=function(Y){Y={type:"segmentAborted",segmentId:Y};this.events.emit(Y.type,Y);};qa.prototype.iob=function(){var Y;Y={type:"streamerEnd",time:n.default.time.ea()};this.events.emit(Y.type,Y);};qa.prototype.bm=function(Y){Y={type:"startEvent",event:Y,time:n.default.time.ea()};this.events.emit(Y.type,Y);};c.__decorate([c.__param(0,ya.lIb())],qa.prototype,"bE",null);c.__decorate([B.bc({methodName:"getStreamables",rm:!0})],qa.prototype,"kN",null);return qa;})();b.C_=r;},function(r,b,a){var l,m,d;function c(g,h,k,n,p){var q,u;k=null !== (q=h.ie) && void 0 !== q?q:h.track.An(g,k.W,void 0,p);g=null !== (u=h.Jf) && void 0 !== u?u:h.track.vz(g,null === n || void 0 === n?void 0:n.W,h.dh);return [!h.Kh(),k,g];}function f(g,h){var B,E;for(var k=[],n=0,p=g[n],q=null === p || void 0 === p?void 0:p[0],u=null === p || void 0 === p?void 0:p[1],t=h.Jf.index,w=h.track.hp,v=0,x=h.ie.Xc,y=h.ie.Qd.W > p[0],z=y,A=h.ie.index;A <= t;++A){B=!1;if(p){E=w.get(A);y && (E.Xc.W >= u?(y=!1,++n >= g.length?u=q=p=void 0:(p=g[n],q=null === p || void 0 === p?void 0:p[0],u=null === p || void 0 === p?void 0:p[1])):z?z=!1:(k.push(new m.h1(v,x,E.Xc)),x=E.Xc,B=!0));!y && p && E.Qd.W > q && (y=!0,B=E.Xc,(E=h.track.xN.Xk(A).tWa(q)) && 0 !== E.jl && (B=d.T.Ab(E.Ed)),k.push(new m.h1(v,x,B)),x=B,B=!0);}B && ++v;}k.push(new m.h1(v,x,h.Jf.Qd));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.UNb=b.u2a=b.$3a=b.Y3a=b.Wua=void 0;l=a(2);m=a(410);d=a(9);b.Wua=function(g,h,k){var n,p,q;q=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.vz(g,null === k || void 0 === k?void 0:k.W,h.dh);return [null === q || void 0 === q?void 0:q.track.vz(g,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Qd) || void 0 === n?void 0:n.W) && void 0 !== p?p:null === k || void 0 === k?void 0:k.W,q.dh),h];};b.Y3a=function(g,h,k,n,p){var q,u,t,w;q=h.get(0);h=h.get(1);u=l.__read(h?c(g,h,k,n,p):[!1],3);t=u[0];w=u[1];u=u[2];n=l.__read(q?c(g,q,t && void 0 !== (null === w || void 0 === w?void 0:w.Z)?d.T.Ab(w.Z):k,void 0 !== (null === u || void 0 === u?void 0:u.Ga)?d.T.Ab(null === u || void 0 === u?void 0:u.Ga):n,p):[!1],3);g=n[0];k=n[1];n=n[2];g && (null === q || void 0 === q?void 0:q.i7(k,n));t && (null === h || void 0 === h?void 0:h.i7(w,u));return [g,t];};b.$3a=function(g,h,k){return h.track.An(g,k.W,void 0,!0).Xc;};b.u2a=function(g,h,k){var n;n=h.O;if(!n.hq || 0 === n.hq.length)return [];g=n.hq.map(function(p){return [n.Db + p[0],n.Db + p[1]];});return f(g,k.YX);};b.UNb=f;},function(r,b,a){var f,l;function c(m){return "immediate" === m;}Object.defineProperties(b,{__esModule:{value:!0}});b.lJa=b.h1=b.p0a=void 0;f=a(9);l=a(5);b.p0a=c;r=(function(){function m(d,g,h){this.region=d;this.Xc=g;this.Qd=h;}m.prototype.toJSON=function(){return {region:this.region,Z:this.Xc.hI,Ga:this.Qd.hI};};return m;})();b.h1=r;r=(function(){function m(d,g,h){var k,n;k=this;this.id=d;this.O=g;this.kOa=!1;this.nN=function(p){var q,u,t,w;return (null === (q=k.ex) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=k.O.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.ae) && void 0 !== w?w:k.ae;};this.mT=new f.T(g.Db,1E3);this.BS=void 0 !== g.Ob && null !== g.Ob?new f.T(g.Ob,1E3):f.T.iD;this.Tpb=null !== (n=g.ae) && void 0 !== n?n:h;this.W_a();l.assert(this.mT.lessThan(this.BS),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(m.prototype,{X:{get:function(){return this.O.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fs:{get:function(){return this.kOa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Og:{get:function(){return this.mT;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vk:{get:function(){return this.BS;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{duration:{get:function(){return this.BS.Ma(this.mT);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z:{get:function(){return this.mT.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ga:{get:function(){return this.BS.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{TD:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fv:{get:function(){return this.sA.length?!this.O.Qe && 0 === this.iO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{QPb:{get:function(){return this.YB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sA:{get:function(){var d,g;return Object.keys(null !== (g=null === (d=this.O) || void 0 === d?void 0:d.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iO:{get:function(){var d;d=this;return this.sA.filter(function(g){return ! !d.YB[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{axa:{get:function(){var d;return null !== (d=this.fPa) && void 0 !== d?d:this.fPa=this.$tb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gaa:{get:function(){var d;return null !== (d=this.gPa) && void 0 !== d?d:this.gPa=this.aub();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{OA:{get:function(){return this.O.weight?this.O.weight / (this.O.weight + this.gaa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ae:{get:function(){var d;return (null === (d=this.ex) || void 0 === d?0:d.length)?"immediate":this.Tpb;},enumerable:!1,configurable:!0}});m.prototype.normalize=function(d,g,h){this.mT=d;this.BS=g;this.ex=h;this.kOa=!0;this.ecb();};m.prototype.FXa=function(){var d;return this.iO.length?null !== (d=this.iO.map(this.nN).reduce(function(g,h){return g === h?h:void 0;})) && void 0 !== d?d:this.ae:this.ae;};m.prototype.yi=function(d){this.W_a(d);};m.prototype.Qtb=function(d){var g,h;if(this.axa){g=(this.YB[d] || 0) / this.axa;if(void 0 === this.O.weight || 0 === this.gaa)return {Ue:g};h=this.OA;return 1 !== h && c(this.nN(d)) && this.YB[d]?{Ue:h * g,gD:this.YB[d] / this.gaa * (1 - h)}:{Ue:h * g};}return {Ue:(null === (g=this.O.next) || void 0 === g?0:g[d])?1 / this.sA.length:0};};m.prototype.PIb=function(d){return -1 < this.sA.indexOf(d);};m.prototype.W_a=function(d){var g;if(void 0 === this.O.next)this.YB={};else {g=this.O.next;this.YB=Object.keys(g).reduce(function(h,k){var n;n=d?d[k] || 0:g[k].weight;void 0 !== n && null !== n && 0 <= n && (h[k]=n);return h;},{});}this.ecb();};m.prototype.$tb=function(){var d;d=this;return this.iO.reduce(function(g,h){return g + d.YB[h];},0);};m.prototype.aub=function(){var d;d=this;return this.iO.filter(function(g){return c(d.nN(g));}).reduce(function(g,h){return g + d.YB[h];},0);};m.prototype.ecb=function(){this.gPa=this.fPa=void 0;};return m;})();b.lJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kXa=b.QYa=b.ana=b.YJa=void 0;c=a(2);f=a(20);l=a(54);r=(function(){function m(d){this.Ha=d;}Object.defineProperties(m.prototype,{lj:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HD:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.Io=function(d){var g,h,p;d=d.Qi;if(d === l.de.$p || d === l.de.Zn)if(d=this.Ha.Yma()){h={};try{for(var k=c.__values(d.aTb),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.NNb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(q)throw q.error;}}return {branchQueue:b.kXa(d.MUb),playerIterator:h,driftStats:this.Ha.uya};}};m.prototype.NNb=function(d){return null === d || void 0 === d?void 0:d.kYa();};return m;})();b.YJa=r;b.ana=function(m){var d,g;if(m){d=m.O;g={};m.lq().forEach(function(h){g[h.mediaType]=b.QYa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Fh,RM:g};}return m;};b.QYa=function(m){var d;if(m && m.Qa)return c.__assign(c.__assign({},m.Qa.Sna()),{unsentRequests:m.Qa.Js,lastFragmentContentEndPts:null === (d=m.Jf) || void 0 === d?void 0:d.Mc});};b.kXa=function(m){return m.map(function(d){return b.ana(d);});};},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.wMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{wMa:{value:{},configurable:!1,enumerable:!1}})).wMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.yea=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.yea=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BR=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Sha=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.BR=r;0;1;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Dta=void 0;r=a(929);c=a(254);f=a(415);a=a(934);c=c.h8a();r=r.HRa()({s2a:"combinedPlaygraph",i8a:{lIb:c()({ONb:function(l,m,d){return m === f.G0.n1b?d.MVa.o1b(l):d.MVa.QAb(l);},BLb:a.z0a})}});b.Dta=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G0=void 0;r=b.G0 || (b.G0={});r[r.n1b=0]="up";r[r.PAb=1]="down";},function(r,b,a){var f,l,m,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(251));})];case 1:return (g=h.Ic().cH,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.JV=void 0;f=a(2);l=a(944);m=f.__importDefault(a(6));b.JV=function(g){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new l.uJa(function(){return c();},g,h));return d;};},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,l,m,d,g;b=a(60);c=a(419);f=a(970);l=a(417);m=a(257);d=a(975);g=a(422);a=b(c(["filter"],d,function(h,k){return l(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},g(k)):f(h,k);}));r.exports=a;},function(r,b,a){var c,f;c=a(420);f=a(969);r.exports=function(l,m,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var k=0;k < l.length;){if("function" === typeof h[l[k]])return h[l[k]].apply(h,g);k+=1;}if(f(h))return m.apply(null,g)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={xb:function(){return this.k_["@@transducer/init"]();},result:function(b){return this.k_["@@transducer/result"](b);}};},function(r,b,a){var c,f,l,m,d;b=a(130);c=a(256);f=a(976);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,k,n,p;if(Object(g) !== g)return [];h=[];k=d && f(g);for(n in g){!c(n,g) || k && "length" === n || (h[h.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,g)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=Array(f);c < f;){l[c]=b(a[c]);c+=1;}return l;};},function(r,b,a){var c,f,l;c=a(258);f=a(130);b=a(60);l=a(979);a=b(function(m,d){return 1 === m?f(d):c(m,l(m,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iDa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qea="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wDa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GDa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.yz=1536;return m;}c.__extends(l,f);l.Oa=!0;return l;})(a(179).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="ac-3";return l;})(r);b.iba=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="ec-3";return l;})(r);b.nca=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(104);r=a(33);l=f.aF;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Ac();this.fileSize=this.u.Ud();this.S=this.u.Ud();this.duration=this.u.Ud(!1,!0);this.Bsa=this.u.Ud();this.u.Ud();this.Fsa=this.u.Ud();this.hsa=this.u.Aa();this.Csa=this.u.Ud();this.Bma=this.u.Aa();this.u.HA();this.Te={moof:{offset:this.Bsa},sidx:{offset:this.Csa,size:this.Bma}};this.Te[f.ER]={offset:this.Fsa,size:this.hsa};this.u.offset - this.startOffset <= this.length - 24 && (this.Esa=this.u.Ud(),this.bsa=this.u.Aa(),this.Dsa=this.u.Ud(),this.Zra=this.u.Aa(),this.Te[f.Sx]={offset:this.Esa,size:this.bsa},this.Te[f.Rx]={offset:this.Dsa,size:this.Zra});return !0;};d.Wb=l;d.Oa=!1;return d;})(r.Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(104);a=a(33);f=r.bF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.Ac();1 <= this.version && this.u.HA();d=this.u.Aa();this.Te={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Nl();"uuid" === k && (k=this.u.HA());n=this.u.Ud();this.Te[k]={offset:g,size:n};g+=n;}return !0;};m.Wb=f;m.Oa=!1;return m;})(a.Dc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Dk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Dk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Dk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Dk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);l=a(88);r=(function(m){function d(g,h,k,n,p){k=m.call(this,k,n,p) || this;k.Sia=g;k.Qq=h;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,p,q,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Aa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.ko(this.Aa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.HA();}if(0 === h.length && this.Qq.pV(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.Sia[p];u=void 0;if(q){if((u=new q(this,p,k,n,h[0]),(h[0] || this).xt(u),u.parse(g)))this.config.bI && q.Oa?h.unshift(u):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Rn - 8;){u=h.shift();if(!u.Ut(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.Rn;}if(0 === h.length && this.Qq.LU(p,k,n,u))break;}return !this.Qq.done && (g=this.Qq.endOffset?this.Qq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,iX:g}:{done:!0,offset:Math.min(this.Qq.endOffset || Infinity,this.offset)};};d.prototype.xt=function(g){f.Dc.xt(this,g);};return d;})(a(1011).efa);b.CE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(104);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.pV=function(){return this.done;};l.prototype.LU=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.IQ=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Qh=m;this.jz=d;this.uZ=g;this.GX=h;this.done=!1;this.Te={};}l.prototype.pV=function(m,d,g){-1 !== l.Joa.indexOf(m) && (this.Te[m]={offset:d,size:g});if(-1 !== this.uZ.indexOf(m)){if((this.Te[m]={offset:d,size:g},this.GX))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Qh && -1 !== this.Qh.indexOf(m)?(m=1 < this.Qh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.jz.indexOf(m) && (m=this.Qh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.LU=function(m,d,g,h){var k;k=this;if(-1 !== this.uZ.indexOf(m))return this.done=!0;m === f.aF && this.SY(h.Te);m === f.bF && this.SY(h.Te);this.Qh && c(m,this.Qh);c(m,this.jz);return this.Qh && 0 === this.Qh.length && !this.jz.some(function(n){return k.Te[n];})?this.done=!0:this.done;};l.prototype.SY=function(m){var d;d=this;this.Te=m;this.endOffset=(this.Qh || []).concat(this.jz).reduce(function(g,h){return d.Te[h]?(h=d.Te[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.Joa=["moov","sidx"];return l;})();b.Jca=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kDa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uAa="CdnPartitionerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kca=void 0;f=a(45);l=a(110);c.Up=function(){var m;m={};m[f.N.RJ]="avc1.4D401E";m[f.N.IE]="avc1.4D401F";m[f.N.zca]="avc1.4D4028";m[f.N.bgb]="hev1.2.6.L90.B0";m[f.N.cgb]="hev1.2.6.L93.B0";m[f.N.dgb]="hev1.2.6.L120.B0";m[f.N.egb]="hev1.2.6.L123.B0";m[f.N.o0]="hev1.2.6.L90.B0";m[f.N.q0]="hev1.2.6.L93.B0";m[f.N.s0]="hev1.2.6.L120.B0";m[f.N.u0]="hev1.2.6.L123.B0";m[f.N.dR]="hev1.2.6.L150.B0";m[f.N.fR]="hev1.2.6.L153.B0";m[f.N.p0]="hev1.2.6.L90.B0";m[f.N.r0]="hev1.2.6.L93.B0";m[f.N.t0]="hev1.2.6.L120.B0";m[f.N.v0]="hev1.2.6.L123.B0";m[f.N.eR]="hev1.2.6.L150.B0";m[f.N.gR]="hev1.2.6.L153.B0";m[f.N.$Ca]="hev1.2.6.L90.B0";m[f.N.aDa]="hev1.2.6.L93.B0";m[f.N.bDa]="hev1.2.6.L120.B0";m[f.N.cDa]="hev1.2.6.L123.B0";m[f.N.dDa]="hev1.2.6.L150.B0";m[f.N.eDa]="hev1.2.6.L153.B0";m[f.N.TQ]="hev1.2.6.L90.B0";m[f.N.VQ]="hev1.2.6.L93.B0";m[f.N.TJ]="hev1.2.6.L120.B0";m[f.N.YQ]="hev1.2.6.L123.B0";m[f.N.$Q]="hev1.2.6.L150.B0";m[f.N.bR]="hev1.2.6.L153.B0";m[f.N.UQ]="hev1.2.6.L90.B0";m[f.N.WQ]="hev1.2.6.L93.B0";m[f.N.XQ]="hev1.2.6.L120.B0";m[f.N.ZQ]="hev1.2.6.L123.B0";m[f.N.aR]="hev1.2.6.L150.B0";m[f.N.cR]="hev1.2.6.L153.B0";m[f.N.P_]=l.Gd.O_;m[f.N.R_]=l.Gd.bca;m[f.N.FQ]=l.Gd.cca;m[f.N.U_]=l.Gd.dca;m[f.N.W_]=l.Gd.eca;m[f.N.Y_]=l.Gd.fca;m[f.N.Q_]=l.Gd.O_;m[f.N.S_]=l.Gd.bca;m[f.N.T_]=l.Gd.cca;m[f.N.V_]=l.Gd.dca;m[f.N.X_]=l.Gd.eca;m[f.N.Z_]=l.Gd.fca;m[f.N.YCa]="avc1.640016";m[f.N.QQ]="avc1.64001E";m[f.N.RQ]="avc1.64001F";m[f.N.yca]="avc1.640028";m[f.N.x1]=l.Gd.fS;m[f.N.sK]=l.Gd.fS;m[f.N.tK]=l.Gd.fS;m[f.N.gS]=l.Gd.fS;m[f.N.Fya]=l.Gd.Fj;m[f.N.Gya]=l.Gd.Fj;m[f.N.r_]=l.Gd.Fj;m[f.N.s_]=l.Gd.Fj;m[f.N.t_]=l.Gd.Fj;m[f.N.u_]=l.Gd.Fj;m[f.N.v_]=l.Gd.Fj;m[f.N.w_]=l.Gd.Fj;return m;};b.kca=c;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jca=void 0;f=a(45);c.Up=function(){var l;l={};l[f.ze.JE]="mp4a.40.2";l[f.ze.fDa]="mp4a.40.2";l[f.ze.KE]="mp4a.40.2";l[f.ze.uF]="mp4a.40.42";l[f.ze.CQ]="ec-3";l[f.ze.Xba]="ec-3";l[f.ze.DQ]="ec-3";return l;};b.jca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i6b="LogblobBuilderSymbol";b.sR="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tLa="ThroughputTrackerSymbol";b.rLa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nAa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,l,m;function c(d,g,h,k){this.config=d;this.rj=g;this.mediaType=h;this.Ow=k;this.Fra={};this.Fra[f.Oj.Audio]="audio";this.Fra[f.Oj.bMa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.BQ=void 0;f=a(26);r=a(111);l=a(182);m=new r.JB().format;c.prototype.rZa=function(d){return this.nAb(this.YYa(d));};c.prototype.Ty=function(d){return this.rj.isTypeSupported(d);};c.prototype.EXa=function(){return [l.Ye.m_,l.Ye.lDa,l.Ye.PQ];};c.prototype.tpa=function(){this.Sn=[];this.Qu=[];this.config().WRb && this.Qu.push(l.Ye.uF);this.config().X4a && this.Qu.push(l.Ye.gDa);this.config().W4a && this.Qu.push(l.Ye.ZCa);this.config().V4a && this.Qu.push(l.Ye.Ts);this.config().aI && this.Qu.push(l.Ye.lB);this.config().Y4a && this.Qu.push(l.Ye.by);this.config().U4a && this.Qu.push(l.Ye.Fj);this.Qu=this.Qu.concat(this.EXa());!this.config().fCb && this.Sn.push(l.Ye.uF);!this.config().mVa && this.Sn.push(l.Ye.peb);!this.config().lVa && this.Sn.push(l.Ye.qeb);!this.config().UU && this.Sn.push(l.Ye.reb);!this.config().UBb && this.Sn.push(/prk$/);this.config().V4a || this.config().FBb || this.Sn.push(l.Ye.Ts);this.config().X4a || this.config().HBb || this.Sn.push(l.Ye.gDa);this.config().W4a || this.config().Gla || this.Sn.push(l.Ye.ZCa);this.config().aI || this.config().zM || this.Sn.push(l.Ye.lB);this.config().Y4a || this.config().dCb || this.Sn.push(l.Ye.by);this.config().U4a || this.config().BBb || this.Sn.push(l.Ye.Fj);!this.config().bCb && this.Sn.push(l.Ye.rK);};c.prototype.iWa=function(d){var g,h;g=this;h=d.map(function(k){for(var n=aa(g.Qu),p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!0);}n=aa(g.Sn);for(p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!1);}return g.uz(k).catch(function(){return !1;});});return Promise.all(h).then(function(k){return d.filter(function(n,p){return k[p];});});};c.prototype.uz=function(d){return this.config().RBb?this.Ow.uz(d):this.lDb(d);};c.prototype.lDb=function(d){var g;d=this.eua[d];g="";return d?(Array.isArray(d) && (g=1 < d.length?" " + d[1]:"",d=d[0]),d=m("{0}/mp4;codecs={1};{2}",this.Fra[this.mediaType],d,g),d=this.Ty(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.nAb=function(d){var g;g={};this.tpa();return this.iWa(d).then(function(h){return h.map(function(k){return g[k]=1;});}).then(function(){return Object.keys(g);});};Wa.Object.defineProperties(c.prototype,{eua:{configurable:!0,enumerable:!0,get:function(){this.FOa || (this.FOa=this.Up());return this.FOa;}}});b.BQ=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n){n=l.BQ.call(this,h,k,f.Oj.Audio,n) || this;n.config=h;n.rj=k;n.type=f.qv.tv;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.a0=void 0;f=a(26);l=a(449);m=a(110);r=a(111);d=a(442);g=new r.JB().format;na(c,l.BQ);c.prototype.jZ=function(){var h;h=g(c.TP,m.Gd.oeb);return Promise.resolve(this.config().UU && this.rj.isTypeSupported(h));};c.prototype.Up=function(){return d.jca.Up();};c.prototype.YYa=function(h){return h || this.config().rC;};b.a0=c;c.TP="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YFa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bGa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aGa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C0="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pea="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OAa="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZEa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uGa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eza="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cza="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bza="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vza="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="ManifestProviderConfigSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Uea=void 0;f=a(11);c.XYa=function(){var l;l=f.Bv && f.Bv.height;return l?1080 <= l?1080:720:720;};b.Uea=c;},function(r,b){function a(c,f){this.log=c;this.zaa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.AR=void 0;a.prototype.yab=function(c,f){var l,m;l=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);m=c.map(function(d){var g,h,k,n,p,q,u;u=l.zaa(f,f.type,d.Ir,d.bitrate,d.sb,d.size,l.AFb(d.urls),d.yG,d.TWa / d.SWa,d.$k);u.AYb(d.N7a,d.M7a,d.H5a,d.G5a);u.RXb(null !== (g=d.czb) && void 0 !== g?g:void 0,null !== (h=d.dzb) && void 0 !== h?h:void 0,null !== (k=d.bzb) && void 0 !== k?k:void 0,null !== (n=d.azb) && void 0 !== n?n:void 0,null !== (p=d.H5a) && void 0 !== p?p:void 0,null !== (q=d.G5a) && void 0 !== q?q:void 0);f.sm && (u.sm=f.sm);d.yG && (u.oh=d.yG);return u;});m.sort(function(d,g){return d.bitrate - g.bitrate;});m.forEach(function(d,g){d.lower=m[g - 1];d.gJb=m[g + 1];});return m;};a.prototype.AFb=function(c){return c.reduce(function(f,l){f[l.Sp]=l.url;return f;},{});};b.AR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WIa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BLa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JLa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RFa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="PboLinksManagerSymbol";b.PHa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JFa="ManifestEnricherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.mcb=void 0;c=a(8);f=a(19);b.mcb=function(l){var m,d;if((0,f.Xz)(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(g){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var f;function c(l){var m,d,g,h,k,n,p;d={};d[f.hQ]=l.localName;g={};d[f.Gk]=g;h=[];d[f.gQ]=h;k=l.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];g[p.localName]=p.value;}l=l.childNodes;n=l.length;g={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.qcb:k=c(k);p=k[f.hQ];k[f.eba]=d;h.push(k);d[p]?g[p][f.xE]=k:d[p]=k;g[p]=k;break;case b.rcb:case b.ocb:(k=k.text || k.nodeValue,h.push(k),d[f.Ps] || (d[f.Ps]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.pcb=b.ocb=b.rcb=b.t3b=b.qcb=b.u3b=b.ncb=void 0;f=a(158);b.ncb=function(l){return c(l.nodeType == b.pcb?l.documentElement:l);};b.u3b=c;b.qcb=1;b.t3b=2;b.rcb=3;b.ocb=4;b.pcb=9;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.geb=b.kAa=void 0;c=a(12);f=a(24);l=a(19);m=a(90);b.kAa=function(d,g,h,k,n,p,q,u,t,w){var v,x;v=this;x={Type:g,Bitrate:k,DownloadableId:h};(0,f.Zb)(v,{track:d,type:g,Bc:h,bitrate:k,sb:n,oh:u,size:p,pw:q,header:null,AYb:function(y,z,A,B){if((0,l.Zc)(y) || (0,l.Zc)(z))(v.width=y,v.height=z,(0,l.Ca)(A) && (0,l.Ca)(B) && (v.aia=A / B * y),x.Resolution=(v.width || "") + ":" + (v.height || ""));},RXb:function(y,z,A,B,E,D){(0,l.Zc)(y) && (0,l.Zc)(z) && (0,l.Zc)(A) && (0,l.Zc)(B) && (v.Dka=y,v.t4=z,v.s4=A,v.r4=B);(0,l.Zc)(E) && (0,l.Zc)(D) && (v.I5a=E,v.J5a=D);},framerate:t,$k:w,Ri:x,toJSON:function(){return x;}});};b.geb=function(d,g,h,k,n){if(d == c.F0 || d === m.Di.audio)return g;if(d == c.bK || d === m.Di.video)return h;if(d == m.Di.raa)return k;if(d == m.Di.Bxa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zda="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pBa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,l){if(null != l){if(0 < l(c,f))throw a.DTa(c,f);}else if(c.Al && 0 < c.Al(f))throw a.DTa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Cea=void 0;a.DTa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.Cea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sBa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QAa="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BHa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.THa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YLa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oya="AppLogSinkSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F;function c(C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua){var O;O=this;this.j=C;this.wa=G;this.W$a=K;this.Yf=J;this.zra=I;this.ama=M;this.pe=R;this.R4=H;this.jf=P;this.config=N;this.Fd=L;this.xa=Q;this.Ba=S;this.Aq=U;this.bA=ca;this.Vi=ka;this.Mr=ya;this.JH=qa;this.yc=Y;this.BD=ua;this.xZ=[];this.Lra=this.lD=this.vY=0;this.uM=[];this.Vha=!1;this.jE=function(T){var ja,ma,ta,Ka,Ua,Ya,ab;ma={};try{ma={playdelaysdk:(0,n.Vf)(O.j.aU()),applicationPlaydelay:(0,n.Vf)(O.j.mja()),playdelay:(0,n.Vf)(O.j.oja()),trackid:O.j.Dj,bookmark:(0,n.Vf)(O.j.gw || 0),pbnum:O.j.index,endianness:(0,d.VXa)()};O.config().eCb && (ma.transitiontime=O.j.Pm,ma.uiplaystarttime=O.j.bb.NZ,ma.playbackrequestedat=O.j.wk.da(p.ja),ma.clockgettime=O.getTime(),ma.clockgetpreciseepoch=O.xa.gf.da(p.ja),ma.clockgetpreciseappepoch=O.Ba.$z.da(p.ja),ma.absolutestarttime=O.j.WG(),ma.relativetime=O.j.Tna());O.K5(ma,"startplay");}catch(ib){O.log.error("error in startplay log fields",ib);}O.j.ei && (ma.blocked=O.j.ei);O.yc.x_a(ma);O.y_a(ma);if(O.config().Yaa && O.j.bb.bcb){ta={};Object.entries(O.j.bb.bcb).reverse().forEach(function(ib){var $a;$a=aa(ib);ib=$a.next().value;$a=$a.next().value;ta[ib.toLowerCase()]=$a;});ma.vui=ta;}(0,z.Ca)(O.j.tRa) && (ma.bookmarkact=(0,n.Vf)(O.j.tRa));Ka=O.j.Sc.at && O.j.Sc.ats?O.j.Sc.at - O.j.Sc.ats:void 0;Ka && (ma.nccpat=Ka);(Ka=O.j.Sc.lr && O.j.Sc.lc?O.j.Sc.lr - O.j.Sc.lc:void 0) && (ma.nccplt=Ka);(Ka=O.j.Sc.lc && O.j.Sc.lg?O.j.Sc.lc - O.j.Sc.lg:void 0) && (ma.lct=Ka);(Ka=O.bBb()) && (ma.downloadables=Ka);nb._cad_global.device && (0,z.Zc)(nb._cad_global.device.h5) && (ma.esnSource=nb._cad_global.device.h5);(0,n.Zb)(ma,O.Aq,{prefix:"pi_"});O.j.yo && O.j.yo.initBitrate && (ma.initvbitrate=O.j.yo.initBitrate);O.j.yo && O.j.yo.selector && (ma.selector=O.j.yo.selector);ma.fullDlreports=O.xbb;if(O.j.state.value >= y.Rb.re)try{Ua=O.j.Jt();if(Ua){O.maxBitrate=(0,d.nQ)(Ua.map(function(ib){return ib.bitrate;}));O.O2a=(0,d.nQ)(Ua.map(function(ib){return ib.height;}));Ya=0 < Ua.length?(0,A.A2a)(Ua,function(ib){return ib.bitrate;}):void 0;ma.maxbitrate=O.maxBitrate;ma.maxresheight=O.O2a;}}catch(ib){O.log.error("Exception computing max bitrate",ib);}try{ab=(0,d.eH)();ab && (ma.pdltime=ab);}catch(ib){}try{(0,n.Zb)(ma,O.j.Sc,{prefix:"sm_"});(0,n.Zb)(ma,O.j.w6(),{prefix:"vd_"});}catch(ib){}"undefined" !== typeof nrdp && nrdp.device && (ma.firmware_version=nrdp.device.firmwareVersion);T && O.j.Ru && (ma.pssh=O.j.Ru);O.E_a(O.j,ma);ma.avtp=O.cJ.cu().nxa;(null === (ja=O.j.Ka) || void 0 === ja?0:ja.TB) && O.W6(ma);if(O.j.kc.value)try{ma.ttTrackFields=O.j.kc.value.Ri;}catch(ib){}O.yc.t_a(ma,O.j.pc.value);O.yc.wN(ma,O.j.yg.value);O.j.oa && "boolean" === typeof O.j.oa.$b.qD && (ma.isSupplemental=O.j.oa.$b.qD);O.j.oa && (ma.packageId=O.j.oa.$b.Xo);O.j.oa && O.j.oa.$b.Bo && (ma.hasChoiceMap=!0);O.config().HWa && (ma.forceL3WidevineCdm=!0);O.bMb(Ya);O.aMb();T && O.jpa(ma);O.v_a(O.j,ma);O.nH(O.j,ma);O.oH(O.j,ma);O.hD(O.j,ma,O.Vha);O.kpa(ma);O.lpa(ma);O.yc.vN(ma);O.B_a(ma);O.u_a(ma);O.yc.Y6(ma,O.wa);O.C_a(ma);O.Hc(B.dd.jE,T,F.Ae | F.Zs | F.Ai | F.dt | F.DE | F.G_ | F.GE | F.lp,ma);};this.eP=function(T,ja,ma){ja={playdelay:(0,n.Vf)(T),reason:ma,intrplayseq:O.lD - 1,skipped:ja};"repos" === ma && (ja.prstate=!0 === O.j.paused.value?"paused":"playing");O.oH(O.j,ja);O.Hc(B.dd.eP,!1,F.Ae | F.Zs | F.Ai,ja);"rebuffer" !== ma && "force_rebuffer" !== ma || O.j.Ml.Iqb(Number((0,n.Vf)(T)));};this.YL=function(T,ja,ma,ta){T={moff:(0,n.Ho)(ma),moffms:(0,n.Vf)(ma),vbitrate:ja.bitrate,vbitrateold:T.bitrate,vdlid:ja.Bc,vdlidold:T.Bc,vheight:ja.height,vheightold:T.height,vwidth:ja.width,vwidthold:T.width,bw:ta};O.oH(O.j,T);O.hD(O.j,T);O.Hc(B.dd.YL,!1,F.Ai,T);};this.Vua=function(T,ja,ma){T={moff:(0,n.Ho)(ma),moffms:(0,n.Vf)(ma),vdlidold:T.Bc,vbitrateold:T.bitrate};O.oH(O.j,T);O.hD(O.j,T);O.yc.pq(T,ja,O.j.lf.value && O.j.lf.value.stream);O.Hc(B.dd.t7a,!1,F.Ai,T);};this.uta=function(){var T,ja;T={waittime:(0,n.Vf)(O.j.Tna()),abortedevent:"startplay",trackid:O.j.Dj,prstate:O.Dz(),paustate:O.j.paused.value};O.K5(T,"endplay");O.Mr.XU && (T.eventlist_version=1,T.eventlist=O.JH.SYa(O.j));O.j.yo && O.j.yo.initBitrate && (T.initvbitrate=O.j.yo.initBitrate);try{ja=(0,d.eH)();ja && (T.pdltime=ja);(0,n.Zb)(T,O.j.Sc,{prefix:"sm_"});}catch(ma){}O.gpa(T,!0);O.yc.Y6(T,O.wa);O.yc.wN(T,O.j.yg.value);O.jpa(T);O.yc.pq(T,O.j.Xe.value,O.j.mh.value);O.E_a(O.j,T);O.nH(O.j,T);O.Hc(B.dd.N9,!1,F.Ae | F.Ai | F.DE | F.dt | F.lp,T);};this.tta=function(T,ja){T={waittime:(0,n.Vf)(T),abortedevent:"resumeplay",resumeplayreason:ja};O.j.yo && O.j.yo.initBitrate && (T.initvbitrate=O.j.yo.initBitrate);O.yc.pq(T,O.j.Xe.value,O.j.mh.value);O.Hc(B.dd.N9,!1,F.Ae | F.Ai | F.lp,T);};this.Lwa=function(T,ja){T={newstate:ja?"Paused":"Playing",oldstate:T?"Paused":"Playing"};O.oH(O.j,T);O.hD(O.j,T);O.yc.pq(T,O.j.oe.value && O.j.oe.value.stream,O.j.lf.value && O.j.lf.value.stream);O.Hc(B.dd.c$a,!1,F.Ae | F.Ai,T);};this.xpa=function(T,ja,ma){var ta,Ka;T=(0,n.Zb)({vdlid:O.j.Xe.value.Bc,playingms:T,pausedms:ja,intrplayseq:O.lD++,prstate:O.Dz(),paustate:O.j.paused.value},ma);O.K5(T,"intrplay");ja=O.j.tc[f.Tb.Ta.Nb].value;ma=O.j.tc[f.Tb.Ta.Vb].value;T.cdnid=T.vcdnid=ja && ja.id;T.acdnid=ma && ma.id;T.locid=O.wW && O.wW.Jqa;T.loclv=O.wW && O.wW.M1a;T.avtp=O.cJ.cu().nxa;T.mediabuffered=null === (ta=O.j.$f) || void 0 === ta?void 0:ta.P5();if(null === (Ka=O.j.Ka) || void 0 === Ka?0:Ka.TB)(O.gpa(T,!0),O.W6(T),O.A_a(T));try{(0,n.Zb)(T,O.j.w6(),{prefix:"vd_"});}catch(Ua){}O.oH(O.j,T);O.hD(O.j,T);O.yc.pq(T,O.j.oe.value && O.j.oe.value.stream,O.j.lf.value && O.j.lf.value.stream);O.Hc(B.dd.xpa,!1,F.Ae | F.Ai,T);};this.WO=function(T,ja,ma){T={moffold:(0,n.Ho)(T),reposseq:O.vY++,prstate:O.Dz(),paustate:O.j.paused.value};O.hD(O.j,T);O.yc.pq(T,ma && ma.stream,ja && ja.stream);O.Hc(B.dd.WO,!1,F.Ae | F.Ai,T);};this.Dia=function(){var T,ja,ma,ta,Ka;ja=O.j.pc.value;ma=O.j.mh.value.Bc;ja=ja?{trackId:ja.trackId,bcp47:ja.Xd,lang:ja.Xd,downloadableId:ma,rank:ja.jc}:{};ta=O.Yz;Ka=null === (T=O.iqa) || void 0 === T?void 0:T.Bc;T=ta?{trackId:ta.trackId,bcp47:ta.Xd,lang:ta.Xd,downloadableId:Ka,rank:ta.jc}:{};O.Hc(B.dd.XQa,!1,F.Ae | F.Ai,{switchdelay:(0,n.Vf)(O.getTime() - O.jqa),newtrackinfo:ja,oldtrackinfo:T,oldAudioDownloadableId:Ka,newAudioDownloadableId:ma});};this.$Y=function(T){O.Hc(B.dd.S9a,!1,F.Ae | F.Ai,{speedold:Math.floor(1E3 * T.oldValue),speed:Math.floor(1E3 * T.newValue)});};this.MP=function(){O.Hc(B.dd.f0b,!1,F.Ae | F.Ai,{track:O.j.kc.value.Ri});};this.XA=function(T){var ja,ma,ta;ma=O.j.kc.value;if(T.newValue || ma && ma.rq() && !ma.Qo()){ta={};T=null !== (ja=T.newValue) && void 0 !== ja?ja:ma;ta.newtrackinfo=T?{trackId:T.trackId,bcp47:T.Xd,lang:T.Xd,downloadableId:T.Bc,rank:T.jc,isImageBased:T.kk}:{};ja=O.wqa;ta.oldtrackinfo=ja?{trackId:ja.trackId,bcp47:ja.Xd,lang:ja.Xd,downloadableId:ja.Bc,rank:ja.jc,isImageBased:ja.kk}:{};ta.switchDelay=(0,n.Vf)(O.getTime() - O.vqa);O.yc.pq(ta,O.j.oe.value && O.j.oe.value.stream,O.j.lf.value && O.j.lf.value.stream);O.Hc(B.dd.gab,!1,F.Ae | F.Ai,ta);}};this.Op=function(T){O.Hc(B.dd.btb,!1,F.Ae | F.Ai,T.newValue);};this.rub=function(T,ja){var ma,ta;ma=ja.serverid;ta={locid:ja.location,loclv:ja.locationlv,selocaid:ma,selcdnid:ma,selocaname:ja.servername};ta.mediatype=ja.mediatype;ta.selreason=ja.selreason || "unknown";ta.seldetail=ja.seldetail;ta.cdnbwdata=JSON.stringify([{id:ma}]);T && (ta.oldlocid=T.Jqa,ta.oldloclv=T.M1a,ta.oldocaid=T.HXb,ta.oldocaname=T.II);O.Hc(B.dd.ZRa,!1,F.G_,ta);};this.CUa=function(){var T,ja,ma;if(O.j.kj)try{T=!1;O.xbb || (T=!0,O.uM=O.uM.filter(function(ta){return !ta.$;}));if(0 < O.uM.length){ja=O.R4.construct(O.uM,O.j.wk.da(p.ja));O.uM=[];ja.erroronly=T;ma={};(0,n.te)(ja,function(ta,Ka){ma[ta]=JSON.stringify(Ka);});O.Hc(B.dd.JAb,!1,F.Ai,ma);}}catch(ta){O.log.error("Exception in dlreport.",ta);}};this.Dz=function(){var T;T=O.j.yb.value;return T === y.cb.Lc?"playing":T === y.cb.jh?"paused":T === y.cb.Yq?"ended":"waiting";};this.CD=function(){var T,ja,ma;if(O.j.state.value == y.Rb.re){ma=O.OX();O.config().ava && (ma.avtp=O.cJ.cu().nxa,(null === (T=O.j.Ka) || void 0 === T?0:T.TB) && O.W6(ma));ma.mediabuffered=null === (ja=O.j.$f) || void 0 === ja?void 0:ja.P5();ma.midplayseq=O.Lra++;ma.prstate=O.Dz();ma.paustate=O.j.paused.value;O.config().EXb && O.v$a("midplay");O.config().Yw && O.mpa(ma);O.kpa(ma);O.lpa(ma);O.yc.vN(ma);O.Hc(B.dd.CD,!1,F.Ae | F.Ai | F.DE | F.dt,ma);}};this.v$a=function(T){var ja,ma;ja={};ja.trigger=T;try{ma=O.j.Nna();ja.subtitleqoescore=O.j.Sq.MHb(ma);ja.metrics=JSON.stringify(O.j.Sq.hoa(ma));}catch(ta){O.log.error("error getting subtitle qoe data",ta);}O.Hc(B.dd.l_b,!1,F.Ae | F.DE | F.Zs,ja,"info");};this.transition=function(T){O.hD(O.j,T);O.Hc(B.dd.transition,!1,0,T);};this.NG=function(T){var ja,ma,ta,Ka,Ua,Ya,ab,ib;ma=O.OX();O.K5(ma,"endplay");ma.prstate=O.Dz();ma.paustate=O.j.paused.value;ma.muted=O.j.muted.value;O.j.ZA && "downloaded" === O.j.ZA.s6() && (ma.trickplay_ms=O.j.KZ.offset,ma.trickplay_res=O.j.KZ.L7a);O.config().Fbb && (ma.rtinfo=O.j.rHb());O.config().ava && (null === (ja=O.j.Ka) || void 0 === ja?0:ja.TB) && O.W6(ma);O.y_a(ma);ma.endreason=T?"error":O.j.yb.value === y.cb.Yq?"ended":"stopped";ja=O.Aq;O.SJb(ja);ja && (0,n.Zb)(ma,ja,{prefix:"pi_"});ja=O.j.ki;T && ja && (0,q.qca)(ja.errorCode) && (ta="info");try{(0,n.Zb)(ma,O.j.Sc,{prefix:"sm_"});}catch(Da){}O.j.fpa && (ma.inactivityTime=O.j.fpa);O.gpa(ma,"info" !== ta && T);O.A_a(ma);if(O.j.qtb){ja=O.j.qtb;Ka=O.config().OL;Ua=O.j.loadTime;Ya={iv:Ka,seg:[]};ab=function(Da,Ha,Qa){return 0 === Ha || void 0 === Qa[Ha - 1]?Da:Da - Qa[Ha - 1];};ib=ja.JT.map(ab);ab=ja.ZZ.map(ab);for(var $a,Sa=0;Sa < ib.length;Sa++){if(ib[Sa] || ab[Sa])$a?($a.ams.push(ib[Sa]),$a.vms.push(ab[Sa])):$a={ams:[ja.JT[Sa]],vms:[ja.ZZ[Sa]],soffms:ja.startTime + Sa * Ka - Ua};Sa !== ib.length - 1 && ib[Sa] && ab[Sa] || !$a || (Ya.seg.push($a),$a=void 0);}ma.bt=JSON.stringify(Ya);}T && O.jpa(ma);O.v$a("endplay");O.config().Yw && O.mpa(ma);O.yc.wN(ma,O.j.yg.value);O.v_a(O.j,ma);O.nH(O.j,ma);O.oH(O.j,ma);O.hD(O.j,ma,O.Vha);O.kpa(ma);O.lpa(ma);O.yc.vN(ma);O.B_a(ma);O.TJb(ma);O.u_a(ma);O.VJb(ma);O.UJb(ma);O.YJb(ma);O.C_a(ma);O.ZJb(ma);O.Hc(B.dd.NG,T,F.Ae | F.Zs | F.Ai | F.DE | F.dt | F.GE | F.lp,ma,ta);};this.SAb=function(T){O.uM.push(O.R4.kwb(T.response));};this.pla=function(T){var ja,ma,ta,Ka,Ua,Ya;T=T.response;ja=T.request;ma=T.request.oA;ta=ja.track;if(ta){Ka=!T.$ && T.na != q.L.tB;Ua=ta.type;Ya=T.Bm;if(Ka || O.wa.Oqa){ma={dltype:Ua,url1:ja.url,url2:T.url || "",cdnid:ja.tc && ja.tc.id,tresp:(0,n.Vf)(Ya.si - Ya.Iq),brecv:(0,n.KWa)(Ya.mka),trecv:(0,n.Vf)(Ya.$o - Ya.si),sbr:ma && ma.bitrate};T.ps && (ma.range=T.ps);switch(Ua){case g.Di.audio:ma.adlid=ja.stream.Bc;break;case g.Di.video:ma.vdlid=ja.stream.Bc;break;case g.Di.raa:ma.ttdlid=ta.Bc;}(ja=(0,E.Jna)(T.na)) && (ma.nwerr=ja);T.ik && (ma.httperr=T.ik);O.Hc(B.dd.pla,Ka,F.Ai,ma);}}};this.ei=function(){O.Hc(B.dd.qRa,!1,F.Ae | F.DE | F.lp,{});};this.xvb=function(T){var ja,ma;ja=T.response.Bm;T=(0,p.Oc)(ja.si);ma=(0,p.Oc)(ja.$o);ja=(0,t.fa)(ja.mka || 0);ja.Q0a() || ja.Npa() || (T=new w.Cea(T,ma),O.cJ.Bqb(new v.xBa(T,ja)));};this.E9=function(T){var ja;ja=T.newValue;T.qm && T.qm.msa && ja || ja == O.yH || (O.Lwa(O.yH,ja),O.yH=ja);};this.Py=function(T){function ja(ma){var ta;if(O.j.Yb && O.j.Yb.sourceBuffers){ta=O.j.Yb.sourceBuffers.filter(function(Ka){return Ka.type === ma;}).pop();if(ta)return {busy:ta.Ih(),updating:ta.updating(),ranges:ta.Q5()};}}T={cause:T.cause};T.cause && T.cause === m.dea && (T.mediaTime=O.j.mediaTime.value,T.buf_audio=ja(l.F0),T.buf_video=ja(l.bK));O.xpa(O.xZ[y.cb.Lc] || 0,O.xZ[y.cb.jh] || 0,T);};this.sab=function(T){var ja;T=T.oldValue;ja=O.getTime();T === y.cb.Rf?O.xZ=[]:O.xZ[T]=(O.xZ[T] || 0) + (ja - O.lMb);O.lMb=ja;};this.hm=function(T){O.jqa=O.getTime();O.Yz=T.oldValue;};this.Rl=function(T){O.vqa=O.getTime();O.wqa=T.oldValue;};this.LT=function(T){O.iqa=T.oldValue;};this.GW=function(T){function ja(ma,ta){var Ka;if(!ma || ma.Jqa !== ta.location){Ka={Jqa:ta.location,M1a:ta.locationlv,HXb:ta.serverid,II:ta.servername};O.rub(ma,ta);return Ka;}}if("audio" === T.mediatype){if(T=ja(O.hMb,T))O.hMb=T;}else if(T=ja(O.wW,T))O.wW=T;};this.MY=function(T){var ja,ma;ja=T.mediatype;ma=T.reason;"video" === ja?"serverswitchaway" === ma?(O.Cj.summary.Zbb++,O.Cj.R7=O.xa.gf.da(p.ja)):"serverswitchback" === ma && (O.Cj.summary.$bb++,O.Cj.R7 && (O.Cj.summary.acb.push(O.xa.gf.da(p.ja) - O.Cj.R7),O.Cj.R7=void 0)):"audio" === ja && ("serverswitchaway" === ma?(O.Cj.summary.KQa++,O.Cj.M7=O.xa.gf.da(p.ja)):"serverswitchback" === ma && (O.Cj.summary.LQa++,O.Cj.M7 && (O.Cj.summary.MQa.push(O.xa.gf.da(p.ja) - O.Cj.M7),O.Cj.M7=void 0)));O.Hc(B.dd.JXb,!1,F.Ae | F.Ai,{mediatype:T.mediatype,server:T.server,selreason:T.reason,location:T.location,bitrate:T.bitrate,confidence:T.confidence,throughput:T.throughput,oldserver:T.oldserver});};this.HL=function(T){O.Hc(B.dd.Rrb,!1,F.Ai,{strmsel:T.strmsel});};this.HP=function(T){T=(0,u.tP)(T);T.details && (T.details=JSON.stringify(T.details));O.Hc(B.dd.k_b,!0,F.Ae | F.Zs | F.G_,T);};this.Vha=ka.hya || ka.Oaa || ka.IWa;this.cJ=K();this.log=(0,h.Jh)(C,"LogblobBuilder");this.yH=C.paused.value;this.ba=this.wa.ba;this.Cj={summary:{Zbb:0,$bb:0,acb:[],KQa:0,LQa:0,MQa:[]},R7:void 0,M7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;f=a(44);l=a(12);m=a(59);d=a(50);g=a(90);h=a(8);k=a(21);n=a(24);p=a(4);q=a(3);u=a(30);t=a(52);w=a(479);v=a(1105);x=a(11);y=a(15);z=a(19);A=a(1106);B=a(272);E=a(160);D=a(132);c.prototype.E_a=function(C,G){var K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y;if(this.config().Yw)try{K={};J=this.Fd.getStats(void 0,void 0,C.J);I=C.WG();M=J.bJ.Ivb || [];K.attempts=J.V9 || 0;K.num_completed_tasks=M.length;R=this.pe.iDb;H={};P=D.Jk.IP;N=D.Jk.Tt;L=D.Jk.vja;J.El && (H.scheduled=J.El - I);Q=C.oa;Q && (0,z.Ca)(Q.uI) && (H.preauthsent=Q.uI - C.loadTime,H.preauthreceived=Q.ZO - C.loadTime);S=M.filter(function(ua){return "manifest" === ua.type;});K.mf_succ=S.filter(R("status",P)).length;K.mf_fail=S.filter(R("status",N)).length;U=C.Sc;(0,z.Zc)(U.lg) && 0 > U.lg && C.loadTime && (H.ldlsent=U.lc,H.ldlreceived=U.lr);ca=M.filter(function(ua){return "ldl" === ua.type;});K.ldl_succ=ca.filter(R("status",P)).length;K.ldl_fail=ca.filter(R("status",N)).length;J=!0;I=[];"notcached" === C.mG && (J=!1,I.push("Missing cached manifest"));this.config().WU || (J=!1,I.push("LDL prefetch disabled"));ka=ca.filter(R("status",L)).length;this.config().WU && 0 === ka && (!H.ldlreceived || 0 <= H.ldlreceived) && (J=!1,I.push("LDL received after start"));if(this.config().sVa)if(G.isPrefetchItem){ya=G.prefetchedAudioMs / G.bcABufferLevelMs;if(1 > G.prefetchedVideoMs / G.bcVBufferLevelMs || 1 > ya)(J=!1,I.push("Insufficient media fetched"));}else (J=!1,I.push("aseStats not initialized"));qa=M.filter(function(ua){return "getHeaders" === ua.type;});K.header_succ=qa.filter(R("status",P)).length;K.header_fail=qa.filter(R("status",N)).length;Y=M.filter(function(ua){return "getMedia" === ua.type;});K.media_succ=Y.filter(R("status",P)).length;K.media_fail=Y.filter(R("status",N)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,n.Zb)(G,K,{prefix:"pr_"});this.Mr.XU && (G.eventlist_version=1,G.eventlist=this.JH.SYa(C));(G.prefetchCompleted=J) || (G.prefetchFailed=I,(0,n.Zb)(G,H,{prefix:"pe_"}));this.mpa(G);}catch(ua){this.log.warn("error in collecting video prepare data",ua);}};c.prototype.xHb=function(C,G){if(C=C.vV())if(G=C[G])return G.Db;};c.prototype.v_a=function(C,G){C.bb.Hl && (G.isBranching=!0);};c.prototype.nH=function(C,G){var K,J;J=(null === (K=C.oa) || void 0 === K?void 0:K.t0a) || "videopreparer" === C.lG;G.cachedManifest=C.mG;G.cachedLicense=C.lG;G.usedldl=this.config().WU?J.toString():"not_capable";};c.prototype.oH=function(C,G){var K,J;if(this.config().XJb){K=C.Ona();J=C.ha.oa;K && J && (G.segment=K,J=C.WC(),G.segmenttime=J,C=this.xHb(C,K),null !== J && void 0 !== C && (G.segmentoffset=J - C));}};c.prototype.hD=function(C,G,K){G.pxid=C.R9;(void 0 === K?0:K) && (G.playgraph_trace=C.Y5a);};c.prototype.A_a=function(C){var G,K;G=this.j.iac;K=G && G.kcc;G && G.xJb && (C.htwbr=G.xJb,C.pbtwbr=G.hta,C.hptwbr=G.kac);G && G.QWb && (C.rr=G.QWb,C.ra=G.gcc);G && K && 0 < (K.length || 0) && (C.qe=JSON.stringify(K));};c.prototype.jpa=function(C){var G,K,J;try{G=this.pe.createElement("canvas");K=G.getContext("webgl") || G.getContext("experimental-webgl");if(K){J=K.getExtension("WEBGL_debug_renderer_info");J && (C.WebGLRenderer=K.getParameter(J.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=K.getParameter(J.UNMASKED_VENDOR_WEBGL));}}catch(I){}};c.prototype.YJb=function(C){C.switchAwaySummary={vsa:this.Cj.summary.Zbb,vsb:this.Cj.summary.$bb,vsbt:this.Cj.summary.acb,asa:this.Cj.summary.KQa,asb:this.Cj.summary.LQa,asbt:this.Cj.summary.MQa};};c.prototype.rmb=function(C){var G;G=[];return C?Object.keys(C).map(function(K){return +K;}):G;};c.prototype.bBb=function(){var C,G;C=this;if(this.j.jp && this.j.Ki){G=[];this.j.jp.concat(this.j.Ki).forEach(function(K){K.streams.forEach(function(J){G.push({dlid:J.Bc,type:J.type,bitrate:J.bitrate,vmaf:J.sb,cdn_ids:C.rmb(J.pw)});});});return JSON.stringify(G);}};c.prototype.qub=function(){var G,K,J;function C(I,M){var R,H,P;R=I.cdnId + "$" + I.correlationId;H=J[R];H || (H={cdnid:I.cdnId,pbcid:I.correlationId,dls:[]},J[R]=H,K.push(H));(0,k.mM)(I.bitrate);(0,k.mM)(I.duration);R={bitrate:I.bitrate,tm:(0,x.Mj)(I.duration)};P=I.vmaf;P && ((0,k.mM)(I.vmaf),R.vf=P);R[M]=(0,n.He)(I.downloadableId);H.dls.push(R);}G=this.j.Ml.JEb();K=[];J={};G.audio.forEach(function(I){C(I,"adlid");});G.video.forEach(function(I){C(I,"dlid");});return JSON.stringify(K);};c.prototype.OX=function(){var C,G,K,J,I,M,R,H,P,N,L,Q,S;C=this.j.Ml;G={totaltime:(0,n.Ho)(C.mN()),totalcontenttime:(0,n.Ho)(C.poa()),cdndldist:this.qub(),reposcount:this.vY,intrplaycount:this.lD};try{K={numskip:0,numlowqual:0};J=this.j.$f;I=J.TC();(0,z.Ca)(I) && (G.totfr=I,K.numren=I);I=J.YG();(0,z.Ca)(I) && (G.totdfr=I,K.numrendrop=I);I=J.xV();(0,z.Ca)(I) && (G.totcfr=I,K.numrenerr=I);G.playqualvideo=JSON.stringify(K);M=this.j.Xe.value;M && (G.videofr=M.framerate.toFixed(3));R=C.Zma();R && (G.abrdel=R);H=C.TZa() && C.hXa();H && (G.tw_vmaf=H);P=C.fXa();P && (0,n.Zb)(G,P);G.rbfrs=this.lD;G.maxbitrate=this.maxBitrate;G.maxresheight=this.O2a;N=this.j.gH();for(C=0;C < N.length;C++){L=N[C];Q=this.wa.YN.bv(L);if(Q){(0,k.gb)(S);G.maxbitrate=S?S.bitrate:0;G.maxresheight=S?S.height:0;G.bitratefilters=Q.join("|");break;}S=L;}this.j.ZA && (G.trickplay=this.j.ZA.s6());null !== this.j.Sq.gRa && (G.avg_subt_delay=this.j.Sq.gRa);}catch(U){this.log.error("Exception reading some of the endplay fields",U);}(0,n.Zb)(G,this.j.w6(),{prefix:"vd_"});return G;};c.prototype.getTime=function(){return this.Ba.Xb().da(p.ja);};c.prototype.mpa=function(C){var G;try{G=this.Fd.getStats();C.pr_cache_size=JSON.stringify(G.cache);C.pr_stats=JSON.stringify(G.pEb);}catch(K){}};c.prototype.kpa=function(C){this.log.debug("httpstats",this.jf.ec);(0,n.Zb)(C,this.jf.ec,{prefix:"http_"});};c.prototype.gpa=function(C,G){var K,J,I;K=this.config().YTa && !(this.ba % this.config().YTa);J=this.j.Ka;I=null === J || void 0 === J?void 0:J.ai;K && I && (C.ASEstats=JSON.stringify(J.j7(G)));};c.prototype.W6=function(C){Object.assign(C,this.j.Ka.Qb.SHb());};c.prototype.lpa=function(C){var G;try{G=x.Av.memory;(0,z.O0a)(G) && (C.totalJSHeapSize=G.totalJSHeapSize,C.usedJSHeapSize=G.usedJSHeapSize,C.jsHeapSizeLimit=G.jsHeapSizeLimit);}catch(K){}};c.prototype.B_a=function(C){var G;G=this.j.qf;this.config().lub && G && !this.config().ip && (G=this.j.WPb(G.S$b()),C.keystatuses=G,this.log.trace("keystatuses",G));};c.prototype.u_a=function(C){var G;try{if(this.config().dU){G=this.j.TEb();C.battery=G;this.log.trace("batterystatuses",G);}}catch(K){}};c.prototype.TJb=function(C){this.j.z4 && (C.dqec=this.j.z4);};c.prototype.SJb=function(C){this.j.V3 && (0,n.Zb)(C,{cast_interaction_counts:this.j.V3.Z$b()});};c.prototype.C_a=function(C){var G,K,J;(null === (G=this.j.qf) || void 0 === G?0:G.$t)?C.keysys=this.j.qf.$t():(null === (J=null === (K=this.j.qf) || void 0 === K?void 0:K.mediaKeys) || void 0 === J?0:J.keySystem)?C.keysys=this.j.qf.mediaKeys.keySystem:this.BD.e1a && (C.keysys=this.BD.e1a);};c.prototype.UJb=function(C){this.$la && (C.externaldisplay=this.$la.bV);};c.prototype.VJb=function(C){this.uE && this.uE.qc && (C.media_capabilities_smooth=this.uE.qc.smooth,C.media_capabilities_efficient=this.uE.qc.powerEfficient,C.media_capabilities_bitrate=this.uE.qc.bitrate,C.media_capabilities_height=this.uE.qc.height,C.media_capabilities_width=this.uE.qc.width);};c.prototype.y_a=function(C){var G,K;if(this.j.cM){G=this.j.cM;G.k4 && (C.controllerESN=G.k4);G.hwb && (C.controllerUiVer=G.hwb);if(G.gwb)try{K=JSON.parse(G.gwb);C.controllerGroupNames=K;}catch(J){this.log.error("Exception parsing controller group names",J);}}};c.prototype.ZJb=function(C){C.didHydrateTracks=this.j.M4;};c.prototype.aMb=function(){void 0 === this.$la && (this.$la=this.ama.aDb());};c.prototype.bMb=function(C){void 0 === this.uE && void 0 !== C && (this.uE=this.zra.fma(C));};c.prototype.K5=function(C,G){(G=this.j.Cz(G)) && Object.entries(G).forEach(function(K){var J;J=aa(K);K=J.next().value;J=J.next().value;C[K]=J;});};c.prototype.Hc=function(C,G,K,J,I){this.Nha(J,this.j,G,K);C=this.bA.Kt(C,I || (G?"error":"info"),J,this.wa);this.Yf.Hc(C);};c.prototype.Nha=function(C,G,K,J){var I,M,R,H,P;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);this.yc.w_a(C,G);J & F.Ae && ((0,k.gb)(!C || void 0 === C.moff),this.yc.D_a(C,G));J & F.Zs && this.yc.F_a(C,G);J & F.Ai && (null === (I=G.Ka) || void 0 === I?0:I.ai) && (C.abuflbytes=null !== (M=C.abuflbytes) && void 0 !== M?M:G.xia(),C.abuflmsec=null !== (R=C.abuflmsec) && void 0 !== R?R:G.HT(),C.vbuflbytes=null !== (H=C.vbuflbytes) && void 0 !== H?H:G.mya(),C.vbuflmsec=null !== (P=C.vbuflmsec) && void 0 !== P?P:G.WZ());J & F.dt && this.yc.G_a(C,G.Lg);J & F.DE && (I=x.mf.hardwareConcurrency,0 <= I && (C.numcores=I),I=this.wa.zla) && (M=I.OEb(),C.droppedFrames=JSON.stringify(M),I=I.LV(this.config().mBb),(0,n.te)(I,function(N,L){C["droppedFramesP" + N]=JSON.stringify(L);}));if(J & F.G_)try{G.kj && (C.cdninfo=JSON.stringify(G.kj.map(function(N){return {id:N.id,nm:N.name,rk:N.jc,wt:N.location.weight,lv:N.location.level};})));}catch(N){}K && J & F.GE && ((0,k.gb)(G.ki),this.yc.z_a(C,G,G.ki));J & F.lp && this.yc.ipa(C);};Wa.Object.defineProperties(c.prototype,{xbb:{configurable:!0,enumerable:!0,get:function(){return this.j.oz || this.j.yM;}}});b.tR=c;(function(C){C[C.Ae=1]="MOFF";C[C.Zs=2]="PRESENTEDSTREAMS";C[C.Ai=4]="BUFFER";C[C.dt=8]="SCREEN";C[C.DE=16]="CPU";C[C.G_=32]="CDN";C[C.GE=64]="FATALERROR";C[C.lp=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zBa="DownloadReportBuilderSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;r=a(1);f=a(160);l=a(90);m=a(24);d=a(3);g=a(21);h=a(11);k=a(19);n=a(0);a=a(13);c.prototype.construct=function(q,u){var t,w,v;t=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.te)(w,function(x,y){v.push(t.$Hb(y,u));});return {urls:v};};c.prototype.$Hb=function(q,u){var t,w,v,x;t=this;w=q[0];v={url:w.url,bitrate:w.bitrate,cdnid:(0,k.Lh)(w.tc)?w.tc.id:w.tc,dltype:w.LAb,id:w.Bc};x={};q.forEach(function(y){var z;z=t.XKb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.te)(x,function(y,z){"fail" === y?v.failures=t.LFb(z,u):"success" === y && (v.downloads=t.CFb(z,u));});return v;};c.prototype.CFb=function(q,u){var t,w,v;t=this;w={};q.forEach(function(x){var y;y=x.ovb;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.te)(w,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);t.IKb(A) && (v.push(t.JXa(z,u,x)),z=[]);});0 < z.length && v.push(t.JXa(z,u,x));});return v;};c.prototype.JXa=function(q,u,t){var w,v,x,y,A;w=q.sort(function(B,E){return B.Bm.si < E.Bm.si?-1:B.Bm.si > E.Bm.si?1:0;});v=w[0].Bm;x=v.Iq;y=v.si;v=v.$o;for(var z=1;z < q.length;z++){A=q[z].Bm;A.Iq < x && (x=A.Iq);A.si < y && (y=A.si);A.$o > v && (v=A.$o);}z=this.jHb(w);A=w[w.length - 1];return {time:x - u,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.kHb(w,z),dur:v - y,trace:this.YC(q),status:this.s6(A)};};c.prototype.jHb=function(q){var u;u=0;q.forEach(function(t){t.ps && (u=(0,h.op)(u,t.ps[0]));});return u;};c.prototype.kHb=function(q,u){var t;t=[];q.forEach(function(w){w.ps?t.push([w.ps[0] - u,w.ps[1] - u]):t.push([0,-1]);});return t;};c.prototype.YC=function(q){var u,t;u=[];q.forEach(function(w){var v;w=w.Bm;if(t){v=w.Iq - t.$o;0 < v && u.push([v,-2]);v=(0,h.fo)(t.$o,w.Iq);v=w.si - v;0 < v && u.push([v,-3]);}u.push([w.$o - w.si,w.mka || 0]);t=w;});return u;};c.prototype.IKb=function(q){if(q.na === d.L.tB || q.na === d.L.LE)return !0;};c.prototype.s6=function(q){if(q.$)return "complete";if(q.na === d.L.tB)return "abort";if(q.na === d.L.LE)return "stall";(0,g.gb)(!1,"download status should never be: other");return "other";};c.prototype.LFb=function(q,u){var t,w;t=this;w=[];q.forEach(function(v){var x;x=v.Bm;v={time:x.si - u,tresp:x.si - x.Iq,dur:x.$o - x.si,range:v.ps,reason:t.mHb(v),httpcode:v.ik,nwerr:(0,f.Jna)(v.na)};w.push(v);});return w;};c.prototype.mHb=function(q){return q.ik || q.na === d.L.iR?"http":q.na === d.L.kR?"timeout":"network";};c.prototype.XKb=function(q){return q.$ || void 0 === q.$ || q.na === d.L.tB || q.na === d.L.LE?!1:!0;};c.prototype.kwb=function(q){var u,t,w,v,x,y;u=q.request;t=u.stream;w=u.track;v=u.url;x=this.zFb(w,v);switch(x){case l.Di.audio:case l.Di.video:y=u.stream.Bc;break;case l.Di.raa:case l.Di.Bxa:y=w.Bc;}q={bitrate:t && t.bitrate,LAb:x,Bc:y,Bm:q.Bm,tc:u.tc,url:v,rf:q.rf,ik:q.ik,na:q.na,$:q.$,ovb:this.OCb(q)};void 0 !== u.offset && void 0 != u.length && (q.ps=[u.offset,u.offset + u.length - 1]);return q;};c.prototype.zFb=function(q,u){if(q)return q.type;if(0 <= u.indexOf("netflix.com")){if(0 <= u.indexOf("nccp"))return "nccp";if(0 <= u.indexOf("api"))return "api";}return "other";};c.prototype.OCb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(u){return 0 == u.indexOf("port=");}).map(function(u){return u.split("=")[1];})[0])?(0,m.He)(q):q;};p=c;p=r.__decorate([(0,n.R)(),(0,r.__param)(0,(0,n.l)(a.ad))],p);b.yBa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vMa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NGa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LCa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JDa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,g,h,k,n,p;function c(q){var u;q=new h.GQ(q);if(1481462272 != q.Gq())throw Error("Invalid header");u={XMR:{Version:q.Gq(),RightsID:q.dx(16)}};f(q,u.XMR,q.buffer.length);return u;}function f(q,u,t){var w,v,x,y,z;for(;q.position < t;){w=q.vh();v=q.Gq();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(w)};z=u[x];z?(0,p.isArray)(z)?z.push(y):(u[x]=[],u[x].push(z),u[x].push(y)):u[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:f(q,y,q.position + v);break;case 5:y.Reserved1=q.vh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.vh();y.MinimumAnalogVideoOutputProtectionLevel=q.vh();y.Reserved2=q.vh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.vh();break;case 10:y.Reserved=q.dx(16);y.SymmetricCipherType=q.vh();y.AsymmetricCipherType=q.vh();v=q.vh();y.EncryptedKeyLength=v;w=q.dx(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.dx(2);v=q.vh();w=q.dx(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.vh();break;case 18:y.BeginDate=q.Gq();y.EndDate=q.Gq();break;case 42:y.CurveType=q.dx(2);v=q.vh();w=q.dx(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.Gq();break;case 50:y.Sequence=q.Gq();break;case 51:y.LicenseProcessingIndicator=q.vh();break;case 52:y.MinimumSecurityLevel=q.vh();break;case 57:y.PlayEnablerType=m(q.dx(16));break;case 85:break;default:y.OtherData=q.dx(v);}}}function l(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.wzb=b.xzb=b.vzb=b.uzb=b.tzb=void 0;d=a(12);g=a(8);h=a(165);k=a(158);n=a(280);p=a(19);b.tzb=function(q,u,t){switch(u){case d.d0:q && (q=(0,g.iRa)(q),(0,n.Aya)(q,function(w){w.$ && (w=w.object) && (w=(0,k.GXa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.q5a)(w)) && (w=(0,g.Cr)(w)) && (w=c(w)) && t(w);}));}};b.uzb=c;b.vzb=f;b.xzb=l;b.wzb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lIa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DHa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tda={uW:"keepAlive",splice:"splice"};b.JHa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eIa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MBa="DxDisplaySymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.ce=h;this.is=k;this.prefix=n;this.XX=this.isVisible=!1;this.jb=new d.ILa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.aS=b.FJ=b.gAa=b.fAa=b.eAa=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(1136);g=a(11);b.eAa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.fAa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.gAa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.FJ="";c.prototype.show=function(){this.isVisible || (this.Xvb(),this.dM && g.Be.body.appendChild(this.dM),this.Lg && g.Be.body.appendChild(this.Lg),this.UT && g.Be.body.appendChild(this.UT),this.XI && g.Be.getElementsByTagName("head")[0].appendChild(this.XI),this.isVisible=!0,this.refresh());};c.prototype.Sr=function(){this.isVisible && (this.Lg && g.Be.body.removeChild(this.Lg),this.UT && g.Be.body.removeChild(this.UT),this.dM && g.Be.body.removeChild(this.dM),this.XI && g.Be.getElementsByTagName("head")[0].removeChild(this.XI),this.XI=this.rZ=this.dM=this.UT=this.Lg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Sr():this.show();};c.prototype.r0b=function(){(this.XX=!this.XX) || this.refresh();};c.prototype.$Eb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.Xvb=function(){var h;h=this;this.XI=g.Be.createElement("style");this.XI.type="text/css";this.XI.innerHTML=this.$Eb(this.prefix);this.UT=this.ce.createElement("div",b.eAa,void 0,{"class":this.prefix + "-display-blur"});this.Lg=this.ce.createElement("div",b.fAa,void 0,{"class":this.prefix + "-display"});this.dM=this.ce.createElement("div",b.gAa,void 0,{"class":this.prefix + "-display"});this.AXa().forEach(function(k){return h.dM.appendChild(k);});};c.prototype.Zvb=function(h){h=this.ce.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var k=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(p){var q,u;if(p=p.target.parentElement){q=p.classList;if(q.contains("open")){q.remove("open");try{u=p.querySelectorAll(":scope .open");for(p=0;p < u.length;p++){u[p].classList.remove("open");}}catch(t){}}else q.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.XX?Promise.resolve():this.g7a().then(function(k){if(k && (k=h.Zvb(k),h.Lg)){h.rZ && (h.Lg.removeChild(h.rZ),h.rZ=void 0);h.rZ=k;h.Lg.appendChild(h.rZ);k=h.Lg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",h.f8a);}(k=h.Lg.querySelector("#" + h.prefix + "-display-close-btn")) && k.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.eg)),(0,r.__param)(1,(0,f.l)(m.dg)),(0,r.__param)(2,(0,f.pl)())],a);b.aS=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PBa="DxManagerSymbol";b.OBa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eFa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xJa="PreparerManifestFetcherSymbol";b.wJa="PreparerLicenseFetcherSymbol";b.vJa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,l,m,d;function c(g){this.Gm=g;}Object.defineProperty(b,"__esModule",{value:!0});b.qea=b.kJa=void 0;r=a(1);f=a(14);l=a(0);m=a(121);d=a(67);c.prototype.q2a=function(g){var h,k;h=this;if(g.Od.key.za)return Promise.resolve(g.Od.key.za);k=g.Od.key.X;return g.Od.Ej.En(k).Ns.then(function(n){n=n.oa;return n.Bo?(0,d.AC)(n.Bo,{config:f.config}):(0,d.OI)(k,h.Gm.Nr(k));});};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.jK))],a);b.kJa=a;b.qea="PlaygraphResolverSymbol";},function(r,b){function a(){this.tJ=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.gfa=void 0;a.prototype.store=function(c,f){this.aQb(c);this.tJ.set(c,f);};a.prototype.En=function(c){return this.tJ.get(c);};a.prototype.has=function(c){return this.tJ.has(c) && !this.tJ.get(c).St;};a.prototype.clear=function(){this.tJ.clear();};a.prototype.aQb=function(c){var f;this.tJ.has(c) && (c=this.tJ.get(c),null === (f=c.events) || void 0 === f?void 0:f.emit("viewableEvicted",{type:"viewableEvicted"}),c.z$a=!0);};b.gfa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gGa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bHa="OpenConnectSideChannelSymbol";b.nGa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lGa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="TransportFactorySymbol";b.FGa="MslTransportSymbol";b.NKa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.PD && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.Cc);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.L.Eib;case "STREAM_QUOTA_EXCEEDED":return k.L.Iib;case "INSUFFICICENT_MATURITY":return k.L.Lib;case "TITLE_OUT_OF_WINDOW":return k.L.Sib;case "CHOICE_MAP_ERROR":return k.L.Hib;case "BadRequest":return k.L.Nib;case "Invalid_SemVer_Format":return k.L.Mib;case "RESTRICTED_TO_TESTERS":return k.L.Qib;case "AGE_VERIFICATION_REQUIRED":return k.L.Fib;case "BLACKLISTED_IP":return k.L.Gib;case "DEVICE_EOL_WARNING":return k.L.Ida;case "DEVICE_EOL_FINAL":return k.L.dHa;case "INCORRECT_PIN":return k.L.hHa;case "MOBILE_ONLY":return k.L.Pib;case "MDX_CONTROLLER_CTICKET_INVALID":return k.L.Oib;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.L.Tib;case "RESET_DEVICE":return k.L.gHa;case "RELOAD_DEVICE":return k.L.fHa;case "EXIT_DEVICE":return k.L.eHa;case "FREE_PREVIEW_ENDED":return k.L.Kib;case "STREAMING_LOCATION_DISALLOWED":return k.L.Rib;default:return k.L.RCa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.qd(n,m(p.code),"BadRequest" === p.code?k.z0.odb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function g(n,p){return new h.qd(n,p.Cc,p.Kd,void 0,p.qA,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.IRa=b.JRa=b.fEb=b.jEb=b.Dn=b.iEb=b.VKb=b.QKb=b.y0a=void 0;h=a(41);k=a(3);b.y0a=c;b.QKb=f;b.VKb=l;b.iEb=m;b.Dn=function(n,p){return f(p)?g(n,p):c(p)?d(n,p):l(p)?h.qd.Nma(n,p):new h.qd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.jEb=d;b.fEb=g;b.JRa=function(n,p,q,u,t){var w,v,x,y;w=p.J8a[q];if(void 0 === w)throw {PD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {PD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=w.service;if(void 0 === x)throw {PD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {PD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.YGb(u) + "/" + y + "/" + x + "/" + v:n.NGb(u) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === t?"router":t);};b.IRa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.YPa && p && (q["X-Esn"]=p.Wk);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nIa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NLa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xp=void 0;r=b.xp || (b.xp={});r[r.P0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.PE=2]="LOADED";r[r.pR=3]="LOAD_FAILED";r[r.cHa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vza="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XJa="RepositionTraceSymbol";b.VJa="RepositionTraceFactorySymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua;function c(O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa,Da,Ha,Qa,Xa,gb,wb,Fb,Eb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd,qc,ec,hc,Xb){var tb,Vc;function nc(qb){qb.newValue !== Q.cb.Rf && qb.newValue !== Q.cb.jh && (tb.yb.removeListener(nc),tb.qH=tb.xa.LY,tb.Ub.Fc(Q.ca.Cq));}function dc(qb){qb.newValue !== Q.cb.Rf && (tb.yb.removeListener(dc),tb.PX=tb.xa.gf.da(F.ja),tb.Ub.Fc(Q.ca.Bq));}tb=this;this.lb=ta;this.Fk=Ka;this.Mz=Ua;this.Ba=ab;this.pC=ib;this.xa=$a;this.MW=Sa;this.hra=Qa;this.QN=Xa;this.Fd=gb;this.Nh=wb;this.Vi=Fb;this.ML=Eb;this.QX=Nb;this.pk=Cb;this.Axa=Kb;this.Yf=Ub;this.pe=mc;this.vta=Ec;this.Fm=Md;this.z7a=se;this.pia=Nd;this.JH=gd;this.fta=qc;this.GL=ec;this.V3=hc;this.Y5a=[];this.Eu=new Map();this.pc=new u.dc(null);this.yg=new u.dc(null);this.kc=new u.dc(null);this.Ii=new u.dc(null);this.gv=new u.dc(void 0);this.Xe=new u.dc(null);this.mh=new u.dc(null);this.mediaTime=new u.dc(void 0);this.playbackRate=new qa.LIa(1,t.config.rra);this.Pxa=function(qb){return tb.pc.set(qb.newValue);};this.R1b=function(qb){return tb.yg.set(qb.newValue);};this.O1b=function(qb){return tb.kc.set(qb.newValue);};this.p1b=function(qb){return tb.Ii.set(qb.newValue);};this.N1b=function(qb){return tb.gv.set(qb.newValue);};this.Q1b=function(qb){return tb.Xe.set(qb.newValue);};this.q1b=function(qb){return tb.mh.set(qb.newValue);};this.F1b=function(qb){return tb.oe.set(qb.newValue);};this.E1b=function(qb){return tb.lf.set(qb.newValue);};this.B1b=function(qb){return tb.mediaTime.set(qb.newValue);};this.Kaa=function(qb){return tb.playbackRate.set(qb.newValue);};this.nk={};this.mva=this.txa=0;this.Ub=new w.Hk();this.YZ={};this.dZ=this.R5a=!1;this.state=new u.dc(Q.Rb.fK);this.wj=new u.dc(!1);this.paused=new u.dc(!1);this.muted=new u.dc(!1);this.volume=new u.dc(t.config.Rzb / 100);this.yb=new u.dc(Q.cb.Rf);this.Ef=new u.dc(Q.Af.xd);this.Br=new u.dc(Q.Af.xd);this.Om=new u.dc(Q.Af.xd);this.lf=new u.dc(null);this.oe=new u.dc(null);this.hja=new u.dc(null);this.S6=(0,p.HDa)(this);this.tc=[new u.dc(null),new u.dc(null)];this.Qia={};this.yM=!1;this.Ra=this.yj=-1;this.Zna=function(qb,Sb){var bc;qb=void 0 === qb?null:qb;return (0,M.Ca)(qb)?Sb && !tb.Fl(Sb).oa?qb:(null === (bc=tb.Ka) || void 0 === bc?0:bc.ai)?tb.Ka.Ht(qb):qb:null;};this.v4a=function(){tb.Ewa();};this.iM=O;this.addEventListener=this.Ub.addListener;this.removeEventListener=this.Ub.removeListener;this.fireEvent=this.Ub.Fc;this.OPa({X:O,ya:ma,bb:ja || ({})},t.config.Yw?this.Fd.Gz(O):void 0,T);this.log=(0,D.Jh)(this);this.K4=Ya(this);this.Osb=Da(this);this.Lg=(0,N.createElement)("DIV",q.Bea,void 0,{id:this.J});this.hKb();Vc=Ha((0,F.wh)(1));this.pd=this.log.wka("Playback");this.RSb=(0,d.uIa)(this);y.DB.A3a=this;y.DB.xma || (y.DB.xma=this);this.pd.info("Playback created",this.Ri);this.Oqa?this.pd.info("Playback selected for trace playback info logging"):this.pd.trace("Playback not selected for trace playback info logging");t.config.Yw && (this.Fd.zIb(this.J),this.addEventListener(Q.ca.Cq,function(){tb.Fd.AIb(tb.J);tb.kc.addListener(function(){tb.Fd.GZa();});tb.pc.addListener(function(){tb.Fd.GZa();});}),this.addEventListener(Q.ca.mg,function(){tb.Fd.yIb(tb.J);}));this.state.addListener(function(qb){tb.pd.info("Playback state changed",{From:qb.oldValue,To:qb.newValue});(0,G.gb)(qb.newValue > qb.oldValue);});x.ve.addListener(x.Gl,this.v4a,q.V0);this.mediaTime.addListener(function(){tb.FDb();Vc.Pl(function(){return tb.wWa();});});this.yb.addListener(function(qb){tb.pd.info("PresentingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,K.bj)(tb.mediaTime.value)},tb.wu());});this.yb.addListener(function(){tb.wj.set(tb.yb.value === Q.cb.Lc);});this.Ef.addListener(function(qb){tb.pd.info("BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,K.bj)(tb.mediaTime.value)},tb.wu());});this.Br.addListener(function(qb){tb.pd.info("AV BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,K.bj)(tb.mediaTime.value)},tb.wu());});this.Om.addListener(function(qb){tb.pd.info("Text BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,K.bj)(tb.mediaTime.value)},tb.wu());});this.pc.addListener(function(qb){(0,G.gb)(qb.newValue && qb.newValue.mi);tb.pd.info("AudioTrack changed",qb.newValue && ({ToBcp47:qb.newValue.Xd,To:qb.newValue.trackId}),qb.oldValue && ({FromBcp47:qb.oldValue.Xd,From:qb.oldValue.trackId}),{MediaTime:(0,K.bj)(tb.mediaTime.value)});});this.kc.addListener(function(qb){(0,G.gb)(!qb.newValue || qb.newValue.mi);tb.pd.info("TimedTextTrack changed",qb.newValue?{ToBcp47:qb.newValue.Xd,To:qb.newValue.trackId}:{To:"none"},qb.oldValue?{FromBcp47:qb.oldValue.Xd,From:qb.oldValue.trackId}:{From:"none"},{MediaTime:(0,K.bj)(tb.mediaTime.value)});});this.yb.addListener(dc,q.fF);this.yb.addListener(nc);this.addEventListener(Q.ca.Cq,function(){tb.dZ=!0;tb.W9a=tb.aU();tb.Dd("start");tb.h7=tb.oe.value.stream.bitrate;});(0,E.DIa)(this);y.ho.push(this);t.config.sY && (this.K9=this.vta(this),this.M9=new A.NIa(this));y.iea.forEach(function(qb){qb(tb);});this.Sqb=function(){tb.addEventListener(Q.ca.tI,function(qb){var Sb;qb=qb.cause;qb !== Q.Ce.Lx && qb !== Q.Ce.nK && (null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.stop());});tb.addEventListener(Q.ca.xk,function(qb){var Sb,bc,rc,Wc,fc,vc,Od,Xc,hd,te;tb.z7a.xk(qb);rc=qb.cause;Wc=qb.skip;fc=qb.a9;vc=qb.Hsa;Od=qb.J;Xc=qb.ek;tb.ha.Ml.ssa(vc,fc);if(rc !== Q.Ce.nK && (t.config.ODb && rc === Q.Ce.ZR && tb.Ka.P3(),rc !== Q.Ce.Lx))if(Wc){if(null !== (Sb=tb.Ka) && void 0 !== Sb && Sb.Li(fc)){tb.pd.trace("Repositioned. Skipping from " + vc + " to " + fc);qb=function(Yb){tb.log.error("streamingSession.skipped threw an exception",Yb);Yb=S.qd.Nma(C.M.Ccb,Yb);tb.Dq(Yb.code,Yb);};try{tb.Ka.Wn(fc).then(function(Yb){var Yc;Yb.zN || (null === (Yc=tb.Ka) || void 0 === Yc?void 0:Yc.play());}).catch(qb);}catch(Yb){qb(Yb);}}else tb.log.error("can skip returned false");}else {tb.pd.trace("Repositioned. Seeking from " + vc + " to " + fc);try{hd=tb.lb.o6(tb.ha);te=Object.keys(hd.pa).find(function(Yb){var Yc;Yb=hd.pa[Yb];return Yb.X === Od && Yb.Db <= Xc && (null !== (Yc=Yb.Ob) && void 0 !== Yc?Yc:Infinity) > Xc;});null === (bc=tb.Ka) || void 0 === bc?void 0:bc.xs(Xc,te);}catch(Yb){tb.log.error("streamingSession.seekByContentPts threw an exception",Yb);fc=S.qd.Nma(C.M.Acb,Yb);tb.Dq(fc.code,fc);}}});};this.playbackRate.addListener(function(){var qb,Sb;if(null === (qb=tb.Ka) || void 0 === qb?0:qb.ai)null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.xta();});this.addEventListener(Q.ca.Py,function(qb){var Sb;qb.cause == y.eea && (tb.Ef.set(Q.Af.xd),null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.Zn(tb.$f.SXa()));});Xb && (this.ha.oa=Xb,this.pk.gZ(O,Xb));}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;f=a(1);l=a(44);m=a(296);d=a(298);g=a(134);h=a(530);k=a(1184);n=a(1185);p=a(533);q=a(12);u=a(80);t=a(14);w=a(73);v=a(534);x=a(61);y=a(59);z=a(106);A=a(536);B=a(1188);E=a(540);D=a(8);F=a(4);C=a(3);G=a(21);K=a(92);J=a(24);I=a(62);M=a(19);R=a(541);H=a(129);P=a(303);N=a(30);L=a(103);Q=a(15);S=a(41);U=a(299);ca=a(543);ka=a(131);ya=a(1191);qa=a(1192);Y=a(67);ua=a(51);c.prototype.Dd=function(O,T){var ja;T=void 0 === T?this.iM:T;null === (ja=this.Eu.get(T)) || void 0 === ja?void 0:ja.Dd(O);};c.prototype.Nz=function(O){this.ha.Nz(O);};c.prototype.hKb=function(){var O;O=this;this.pc.addListener(function(T){return O.ha.pc.set(T.newValue);});this.yg.addListener(function(T){return O.ha.yg.set(T.newValue);});this.kc.addListener(function(T){return O.ha.kc.set(T.newValue);});this.Ii.addListener(function(T){return O.ha.Ii.set(T.newValue);});this.gv.addListener(function(T){return O.ha.gv.set(T.newValue);});this.Xe.addListener(function(T){return O.ha.Xe.set(T.newValue);});this.mh.addListener(function(T){return O.ha.mh.set(T.newValue);});this.oe.addListener(function(T){return O.ha.oe.set(T.newValue);});this.lf.addListener(function(T){return O.ha.lf.set(T.newValue);});this.tc[l.Tb.Ta.Vb].addListener(function(T){return O.ha.tc[l.Tb.Ta.Vb].set(T.newValue);});this.tc[l.Tb.Ta.Nb].addListener(function(T){return O.ha.tc[l.Tb.Ta.Nb].set(T.newValue);});this.mediaTime.addListener(function(T){return O.ha.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return O.ha.playbackRate.set(T.newValue);});this.d8a();};c.prototype.d8a=function(){var O;O=this;this.ha !== this.Kva && (this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.Vq(function(T){return T.pc;},this.Pxa),this.Vq(function(T){return T.yg;},this.R1b),this.Vq(function(T){return T.gv;},this.N1b),this.Vq(function(T){return T.kc;},this.O1b),this.Vq(function(T){return T.Ii;},this.p1b),this.Vq(function(T){return T.Xe;},this.Q1b),this.Vq(function(T){return T.mh;},this.q1b),this.Vq(function(T){return T.lf;},this.E1b),this.Vq(function(T){return T.oe;},this.F1b),this.Vq(function(T){return T.tc[l.Tb.Ta.Vb];},function(T){return O.tc[l.Tb.Ta.Vb].set(T.newValue);}),this.Vq(function(T){return T.tc[l.Tb.Ta.Nb];},function(T){return O.tc[l.Tb.Ta.Nb].set(T.newValue);}),this.Vq(function(T){return T.mediaTime;},this.B1b),this.Vq(function(T){return T.playbackRate;},this.Kaa),this.kc.set(this.ha.kc.value),this.pc.set(this.ha.pc.value,{kQa:!0}),this.yg.set(this.ha.yg.value),this.Ii.set(this.ha.Ii.value),this.gv.set(this.ha.gv.value),this.Xe.set(this.ha.Xe.value),this.mh.set(this.ha.mh.value),this.Kva=this.ha);};c.prototype.Vq=function(O,T){this.Kva && O(this.Kva).removeListener(T);O(this.ha).addListener(T);};c.prototype.load=function(O){var T,ja;T=this;this.load=function(){};this.a6a=O;if(this.state.value == Q.Rb.fK){this.pd.info("Playback loading",this);this.cQb();this.Dd("asl_load_start");ja=this.pC;O=ja.startTime;ja=ja.endTime;(0,M.Zc)(O)?(0,M.Zc)(ja)?this.Dd("asl_ended"):this.Dd("asl_in_progress"):this.Dd("asl_not_started");this.pC.ON(function(ma){T.Dd("asl_load_complete");ma.$?T.$xb():T.Dq(ma.errorCode || C.M.Mca,ma);});}};c.prototype.sTb=function(){var O;try{if(this.state.value === Q.Rb.LOADING){O={width:1,height:1,aia:1};this.gH().forEach(function(T){O.width * O.height < T.width * T.height && (O.width=T.width,O.height=T.height,O.aia=T.aia);});this.fB=O;this.gw=this.ML.hrb({pJ:(0,F.Oc)(this.Z),J:this.J,J9:this.$y,bb:this.bb}).da(F.ja);this.mia();this.Zyb();}}catch(T){this.Dq(C.M.Rgb,{na:C.L.Jj,ub:(0,J.wd)(T)});}};c.prototype.Tw=function(){var O,T;T=this.lb.o6(this);this.yTa(T);null === (O=this.Ka) || void 0 === O?void 0:O.VP(T);};c.prototype.WH=function(O){var T,ja;(0,G.gb)(this.Ka,"ASE should be initialized");ja=this.lb.IV(O);ja?O === this.lb.Xg?this.Ka.Er(ja,!0,!0) || this.SV(ja,{}):null === (T=this.Ka) || void 0 === T?void 0:T.ti(O,ja,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.SV=function(O,T,ja){var ma,ta,Ka,Ua,Ya;ma=this;ja=void 0 === ja?!0:ja;Ua=this.lb.sf(O);if(this.Vi.Oaa && this.lb.ha.X === Ua.X)return Promise.resolve(this.$f.seek(Ua.Db,Q.Ce.GB,void 0));Ua=this.Fk.oN(Ua.X);T=(0,H.A8)(Ua.Hb,T);if(null === (ta=this.Ka) || void 0 === ta || !ta.ai)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.lb.Xg + " -> " + O);this.cG("Transition " + this.lb.Xg + "->" + O);Ya=this.Fl(O);Ya.Pm=this.Ba.Xb().da(F.ja);Ya.bb=T;return "seamless" !== (null !== (Ka=this.lb.sf(O).ae) && void 0 !== Ka?Ka:"seamless") || ja?(this.Ka.eN(O).PL?this.jIb(O,Ya.J):this.GY(O,Ya.J)).then(function(){ma.XDb(Ya.J);}):Promise.resolve();};c.prototype.GY=function(O,T){var ja;ja=this.lb.gl.pa[O].Db;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.cG("NO DATA " + O + ", SEEKING " + ja + ", viewableId: " + T);return Promise.resolve(this.$f.seek(ja,Q.Ce.GB,O,!0));};c.prototype.jIb=function(O,T){var ja,ma,ta,Ka,Ua;ja=this;ma=this.Ka;if(null === ma || void 0 === ma || !ma.ai)throw Error("No streaming session");ta=new Promise(function(Ya){function ab(){ja.log.debug("Stopped ASE");ma.removeEventListener("stop",ab);Ya();}ma.addEventListener("stop",ab);});Ka=!1;Ua=new Promise(function(Ya){function ab($a){ja.log.debug("Repositioned");ja.removeEventListener(Q.ca.xk,ab);Ka=$a.skip;Ya();}function ib(){ja.log.debug("Repositioning");ja.removeEventListener(Q.ca.tI,ib);ma.stop();}ja.addEventListener(Q.ca.tI,ib);ja.addEventListener(Q.ca.xk,ab);});ta=Promise.all([ta,Ua]).then(function(){var Ya;Ya=!1;Ka && (Ya=ma.Er(O,!1,!0));if(!Ya)return (ja.cG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ja.GY(O,T));});Ua=ma.eM(O,this.lb.gl.pa[O].Db);this.log.debug("Calling seek on internal player to " + Ua);this.$f.seek(Ua,Q.Ce.nK,O,!0);return ta;};c.prototype.OPa=function(O,T,ja){var ma,ta,Ka,Ua;T=void 0 === T?this.Mz.bz():T;ja=void 0 === ja?this.Ba.Xb():ja;ta=! !t.config.Mbb && !(T % t.config.Mbb);Ka=O.X;Ua=O.ya;O=O.bb;this.Eu.has(Ka)?this.Eu.get(Ka):(T=this.QX(y.DB.index++,Ka,Ua,O,T,ja,ta,this.ha,this.Zna),this.Eu.set(Ka,T),1 < this.Eu.size && (T.HW=this.QN.create(this,T,!1)),T.YN=new z.qGa(this,T),null === (ma=this.Ka) || void 0 === ma?void 0:ma.tU(T.ya,{ba:T.ba,gs:T.Gg}));};c.prototype.gN=function(O){if(!this.Eu.has(O))throw Error("Playback segment not found: " + O);return this.Eu.get(O);};c.prototype.Fl=function(O){for(var T=aa(this.CO),ja=T.next();!ja.done;ja=T.next()){if((ja=ja.value,ja.ya === O))return ja;}return this.ha;};c.prototype.bHb=function(O){for(var T,ja,ma=aa(this.CO),ta=ma.next();!ta.done;ta=ma.next()){if((ta=ta.value,(null === (ja=null === (T=ta.qf) || void 0 === T?void 0:T.Jb) || void 0 === ja?void 0:ja.sessionId) === O))return ta;}return this.ha;};c.prototype.JUb=function(O){var T,ja;T=this;ja=O.J;this.Fk.$Xb(ja);return this.KY(O).then(function(ma){T.$ta(ma,O);return (O.rD?T.Yb.Il.A7a(O):Promise.resolve()).then(function(){return T.Fk.U8a(ja);});}).catch(function(ma){T.log.error("queueManifest failed",ma);T.Fk.ZXb(ja,ma);throw T.Nh(ma.code,ma);});};c.prototype.LEb=function(){if((0,M.Ca)(this.Sc.ats) && (0,M.Ca)(this.Sc.at))return this.Sc.at - this.Sc.ats;};c.prototype.mXa=function(){var O,T;O=this.WZ();T=this.HT();return Math.min(O,T);};c.prototype.CP=function(){this.background || (this.pd.info("Starting inactivity monitor for movie " + this.J),new v.kEa(this));};c.prototype.close=function(O){O && (this.state.value == Q.Rb.CLOSED?O():this.addEventListener(Q.ca.closed,function(){O();}));this.Ewa();};c.prototype.Yd=function(O,T,ja){O=this.Nh(O,T,ja);this.rG(O,void 0);};c.prototype.rG=function(O,T){var ja,ma,ta,Ka;ja=this;if(this.state.value == Q.Rb.fK)this.ki || (this.ki=O,this.load());else {T && (this.state.value == Q.Rb.CLOSED?T():this.addEventListener(Q.ca.closed,function(){T();}));ma=function(){ja.Ewa(O);};ta=t.config.mUa && O && t.config.mUa[O.errorCode];Ka=-1;(0,M.Xz)(ta) && (Ka=(0,J.He)(ta));this.pd.error("Fatal playback error",{Error:"" + O,HandleDelay:"" + ta});0 <= Ka?setTimeout(ma,Ka):ma();}};c.prototype.cG=function(O){var T;T=void 0 === T?this.ya:T;this.Y5a.push(this.Ba.Xb().da(F.ja) + "-" + T + "-" + O);};c.prototype.PDb=function(){this.wWa();};c.prototype.Ona=function(){var O;if(null === (O=this.Ka) || void 0 === O?0:O.ai)if((O=this.Ka.Lo().id,void 0 !== O))return O;return null;};c.prototype.WC=function(){var O,T;T=null === (O=this.Ka) || void 0 === O?void 0:O.ai;return void 0 === this.ha.nU || T?this.Zna(this.mediaTime.value):this.ha.nU;};c.prototype.Nna=function(){var O;O=this.Zna(this.$f.SXa());return null === O?null:Math.min(this.$y.da(F.ja),Math.max(0,O));};c.prototype.vV=function(){var O,T;return null === (T=null === (O=this.oa) || void 0 === O?void 0:O.$b.Bo) || void 0 === T?void 0:T.pa;};c.prototype.Jaa=function(O){this.bb=(0,H.A8)(this.bb,O);this.mia();};c.prototype.GEb=function(){return this.pc.value?this.pc.value.streams:[];};c.prototype.gH=function(O){O=void 0 === O?this.J:O;return (O=this.gN(O).yg) && O.value?O.value.streams:[];};c.prototype.GIb=function(O){for(var T=aa(this.CO),ja=T.next();!ja.done;ja=T.next()){if(ja=(ja=ja.value.kj) && ja.find(function(ma){return ma.id === O;}))return ja;}};c.prototype.FTb=function(O){O=void 0 === O?this.ha:O;O.kc.value?this.Sq.CTb(O.kc.value):Promise.resolve();};c.prototype.HZa=function(O){for(var T=aa(this.CO),ja=T.next();!ja.done;ja=T.next()){ja=aa(ja.value.Ki);for(var ma=ja.next();!ma.done;ma=ja.next()){if(ma=ma.value.streams.find(function(ta){return ta.Bc === O;}))return ma;}}};c.prototype.SZa=function(O){for(var T=aa(this.CO),ja=T.next();!ja.done;ja=T.next()){ja=aa(ja.value.jp);for(var ma=ja.next();!ma.done;ma=ja.next()){if(ma=(ma=ma.value) && ma.streams.find(function(ta){return ta.Bc === O;}))return ma;}}};c.prototype.Jt=function(){var O,T,ja;return null !== (ja=null === (T=null === (O=this.M9) || void 0 === O?void 0:O.pU) || void 0 === T?void 0:T.call(O)) && void 0 !== ja?ja:this.jyb().OC;};c.prototype.l9a=function(O){var T,ja;null !== (T=this.Ka) && void 0 !== T && T.ai && this.Eu.has(O) && ((null === (ja=this.M9) || void 0 === ja?0:ja.pU)?this.M9.Uab():(T=this.Cka(O),this.Ka.Mq(T,O)));};c.prototype.CLb=function(){return "trailer" === this.ye;};c.prototype.NKb=function(){return ! !this.ye && 0 <= this.ye.indexOf("billboard");};c.prototype.ILb=function(){return ! !this.ye && 0 <= this.ye.indexOf("video-merch");};c.prototype.hLb=function(){return ! !this.ye && 0 <= this.ye.indexOf("mini-modal");};c.prototype.qD=function(){return this.CLb() || this.NKb() || this.ILb() || this.hLb();};c.prototype.U5=function(){var ta,Ka,Ua;if(this.jp){for(var O,T=0;T < this.jp.length;T++){for(var ja=this.jp[T],ma=0;ma < ja.streams.length;ma++){ta=ja.streams[ma];if((0,M.Ca)(ta.Dka) && (0,M.Ca)(ta.t4) && (0,M.Ca)(ta.s4) && (0,M.Ca)(ta.r4) && (0 < ta.Dka || 0 < ta.t4)){Ka=1;Ua=1;(0,M.Ca)(ta.I5a) && (0,M.Ca)(ta.J5a) && (Ka=ta.I5a,Ua=ta.J5a);ta=ta.r4 * Ua / (ta.s4 * Ka);O=(0,M.Ca)(O)?Math.min(O,ta):ta;}}}return O;}};c.prototype.rHb=function(){return {tr:this.txa,rt:this.mva};};c.prototype.Cz=function(O){return this.nk[O];};c.prototype.mja=function(){return this.Pm?this.Ba.Xb().da(F.ja) - this.Pm:this.xa.gf.da(F.ja) - this.WG();};c.prototype.aU=function(){var O;if(this.Pm)return this.Ba.Xb().da(F.ja) - this.Pm;O=this.Ba.$z;return this.PX - (this.wk.da(F.ja) + O.da(F.ja));};c.prototype.oja=function(){return this.Pm?this.Ba.Xb().da(F.ja) - this.Pm:this.PX - this.WG();};c.prototype.WPb=function(O){var T,ja;T=this.loadTime;ja={};(0,J.te)(O,function(ma,ta){ja[ma]=ta.map(function(Ka){return Ka - T;});});return ja;};c.prototype.TEb=function(){var O,T;O=this.loadTime;T={};(0,J.te)(this.Qia,function(ja,ma){T[ja]=ma.map(function(ta){return ta - O;});});return h.fw?{level:h.fw.oYa(),charging:h.fw.ena(),statuses:T}:null;};c.prototype.w6=function(){this.vWa();return this.YZ;};c.prototype.WG=function(){var O;O=this.bb.NZ;O=(0,M.Ca)(O)?O:this.wk.da(F.ja) + this.Ba.$z.da(F.ja);(0,G.gb)((0,M.Wz)(O));return O;};c.prototype.Tna=function(){return this.Ba.Xb().da(F.ja) - this.wk.da(F.ja);};c.prototype.m9a=function(O,T){this.YZ[O]=T;};c.prototype.Y2b=function(){this.$Yb=!0;};c.prototype.i9=function(){this.i7a();};c.prototype.WZ=function(){var O;O=this.t3();return O && O.vbuflmsec || 0;};c.prototype.HT=function(){var O;O=this.t3();return O && O.abuflmsec || 0;};c.prototype.mya=function(){var O;O=this.t3();return O && O.vbuflbytes || 0;};c.prototype.xia=function(){var O;O=this.t3();return O && O.abuflbytes || 0;};c.prototype.KY=function(O,T,ja){var ma,ta,Ka,Ua;ma=this;O=void 0 === O?this.ha:O;ja=void 0 === ja?!0:ja;ta=! !T;Ka=!ta && O !== this.ha;Ua=t.config.c$.enabled?L.Ym.Gjb:Ka?L.Ym.hF:this.qD()?L.Ym.l1:L.Ym.up;ta=this.qD() || ta?void 0:this.Yb.Il.g6(Ka);return this.pk.bN({ba:O.ba,bb:O.bb,X:O.J,Xt:Ua,Xf:ta,xaa:T},ja).then(function(Ya){Ya.s0a && ma.fireEvent(Q.ca.NN,{J:O.J});return Ya;});};c.prototype.$ta=function(O,T,ja){var ma;T=void 0 === T?this.ha:T;ja=void 0 === ja?!1:ja;ma=this.MW.create(this);ja?(ma=ma.BJb(T.oa,T.Tc,O),O=ma.oa,ma=ma.Tc):ma=ma.p5a(O);T.oa=O;T.Tc=ma;ja || (T.yg.set(ma.G4),T.pc.set(ma.AU),T.kc.set(ma.CU));};c.prototype.XDb=function(O){this.FI(O,!1);};c.prototype.KZa=function(O,T){if(!this.Vi.hya)return !0;O=this.Gu.da(F.ja) - O;return 0 > O || O > T;};c.prototype.GWb=function(){this.$f.seek(this.WC() || 0,Q.Ce.i0);};c.prototype.m_a=function(O,T){var ja,ma;ja=this;ma=this.ha;ma.M4=!0;return this.KY(ma,{NRb:ma.Ti,sWb:O,vWb:T},!1).then(function(ta){var Ka;ja.$ta(ta,ma,!0);ja.pk.gZ(ma.J,ma.oa);return null === (Ka=ja.Ka) || void 0 === Ka?void 0:Ka.sx(ja.X5a);}).then(function(){var ta,Ka;ta=ma.Ki.find(function(Ua){return Ua.trackId === O;});Ka=ma.Sh.find(function(Ua){return Ua.trackId === T;});if(!(ta && ta.mi && Ka && Ka.mi))throw Error("Track hydration failed: requiredAudioTrackId=" + O + " requiredTextTrackId=" + T);ja.fireEvent(Q.ca.wab);return {pc:ta,vZ:Ka};});};c.prototype.FI=function(O,T){var ja,ma;if(this.IO){if(O === this.iM){this.IO=O;return;}ja=this.gN(O);ma=ja.oa;ma && (0,M.Zc)(ma.uI) && (0,M.Zc)(ma.ZO) && ja.Nz({pr_ats:ma.uI,pr_at:ma.ZO});this.fireEvent(Q.ca.fra,{J:this.iM});this.iM=O;this.mia();T || this.d8a();this.qH=this.xa.LY;this.ha.Pm || (this.ha.Pm=this.Ba.Xb().da(F.ja));}("boolean" === typeof this.bb.CM?this.bb.CM:t.config.CM) && !T && this.Axa.CM(this);T={J:O,t7:T,IO:this.IO};this.IO=O;this.fireEvent(Q.ca.CH,T);};c.prototype.$xb=function(){try{this.Yb=new k.eGa(this);this.j4=new U.LAa(this);this.HW=this.QN.create(this,this.ha,!0);t.config.mub && new ca.zCa(this,this.Yf,this.log);t.config.dU && this.dU(this);this.z2b();}catch(O){this.Dq(C.M.Qgb,{na:C.L.Jj,ub:(0,J.wd)(O)});}};c.prototype.z2b=function(){this.ki?this.rG(this.ki):(0,M.Tpa)(this.J)?this.Lub():this.Dq(C.M.Cgb,{ub:"" + this.J});};c.prototype.Lub=function(){var O;O=m.VI.M8a;O?O.$?this.Uja():this.Dq(C.M.gEa,O):((0,G.gb)(!t.config.b5),this.Iha());};c.prototype.Uja=function(){var O;O=this;!this.background && t.config.Uja?(0,y.hea)(function(){O.Iha();},this):this.Iha();};c.prototype.Iha=function(){var O;O=this;this.state.value == Q.Rb.LOADING && (t.config.Nla && !this.qD()?m.VI.By(y.CIa,function(T){T.$?(O.a8=T.a8,t.config.J$?O.Fia():O.Qva()):O.Dq(C.M.fEa);},!0):t.config.J$?this.Fia():this.Qva());};c.prototype.Qva=function(){var O;O=this;this.state.value == Q.Rb.LOADING && (this.Dd("ic"),this.RSb.AXb(function(T){T.error && O.log.error("Error sending persisted playdata",(0,C.Ws)(T));try{O.Fia();}catch(ja){O.log.error("playback.authorize threw an exception",ja);O.Dq(C.M.Mcb,{na:C.L.Jj,ub:(0,J.wd)(ja)});}}));};c.prototype.Fia=function(){var O,T,ja;O=this;if(this.state.value == Q.Rb.LOADING){this.log.info("Authorizing",this);T=this.Ba.Xb().da(F.ja);this.Dd("ats");(0,G.mM)(this.J);(0,G.mM)(this.Dj);ja=this.pUb.bind(this,T);Promise.all([this.oa,t.config.Yw && this.pk.Coa(this.J)?this.pk.R5(this.J).catch(function(){}):void 0]).then(function(ma){var ta,Ka;ta=aa(ma);ma=ta.next().value;ta=ta.next().value;ma && ta?Ka=ta.$b.expiration > ma.$b.expiration?ta:ma:ma?Ka=ma:ta && (Ka=ta);Ka && 18E5 > Ka.$b.expiration - (0,ua.a4)() && (Ka=void 0);return Ka?(O.mG=Ka === ma?"ui":"videopreparer",Ka):O.KY();}).then(function(ma){try{O.$ta(ma);ja(q.Ze);O.R5a || (O.R5a=!0,O.fta.cp(O));}catch(ta){O.log.error("Exception processing authorization response",ta);ja({$:!1,na:C.L.qjb});}}).catch(ja);}};c.prototype.pUb=function(O,T){var ja,ma;ja=this;if(this.state.value == Q.Rb.LOADING){this.Dd("at");ma=this.oa;this.Nz({pr_ats:ma && (0,M.Zc)(ma.uI)?ma.uI:O,pr_at:ma && (0,M.Zc)(ma.ZO)?ma.ZO:this.Ba.Xb().da(F.ja)});T.$?0 < this.Tc.kj.length && this.Tc.AU && this.Tc.G4 && this.Tc.CU?this.a6a?(this.log.info("Processing post-authorize",this),this.a6a(this,function(ta){ta.$?ja.Yab():ja.Dq(C.M.Vgb,ta);})):this.Yab():this.Dq(C.M.xhb,this.hra(this.Tc)):this.Dq(C.M.xR,T);}};c.prototype.Yab=function(){var O,T;(0,f.__awaiter)(this,void 0,void 0,function ma(){var ta;ta=this;return Ja(ma,function(Ka){if(ta.state.value != Q.Rb.LOADING)return Ka.return();(null === (O=ta.ha.oa) || void 0 === O?0:O.$b.Bo) && ta.lb.reset((0,Y.AC)(null === (T=ta.ha.oa) || void 0 === T?void 0:T.$b.Bo,{config:t.config}));ta.Ka=ta.pia(ta.lb,ta);ta.Ka.DYb({qn:g.qn,config:t.config,pe:ta.pe,pd:ta.pd,wu:ta.wu.bind(ta),Oi:D.Oi,PY:ta.PY.bind(ta),FI:ta.FI.bind(ta)});ta.sTb();Ka.SH=0;});});};c.prototype.Zyb=function(){var O,T,ja,ma,ta,Ka,Ua;O=this;try{if(this.state.value === Q.Rb.LOADING){this.Yb.open();T=new Promise(function(Ya){O.Yb.addEventListener(P.Nj.R9a,Ya);});this.$f=new R.jGa(this);ja=this.Tc.AU.ol === ka.wp.NONE;ma={ue:!1,JW:!1,hi:!this.rD,GO:! !this.bb.A7,Ga:this.bb.Ga,vE:this.Tc.AU.rq || ja};ta={ba:this.ba,gs:this.Gg,oz:this.oz};try{if(this.state.value !== Q.Rb.LOADING)return;Ka=this.Ka;Ka.i7({flags:ma,nw:ta,ya:this.X5a,Cka:this.Cka.bind(this)});Ua=this.lb.o6(this);this.yTa(Ua);Ka.VP(Ua);this.Sqb();Ka.$sb({nk:this.nk,loadTime:this.loadTime});}catch(Ya){throw (this.log.error("Failed to initialize ASE streaming",{error:Ya,startPts:this.Z,flags:ma}),Ya);}T.then(function(){var Ya;O.state.value !== Q.Rb.CLOSING && O.state.value !== Q.Rb.CLOSED && (null === (Ya=O.Ka) || void 0 === Ya?void 0:Ya.open());});this.mediaTime.set(this.Z);this.Sq=new n.wLa(this);if("boolean" === typeof this.bb.l$?this.bb.l$:t.config.l$)this.yZ=new B.xLa(this);this.CP();y.jea.forEach(function(Ya){Ya(O);});this.bQb();}}catch(Ya){this.Dq(C.M.Sgb,{na:C.L.Jj,ub:(0,J.wd)(Ya)});}};c.prototype.cQb=function(){(0,G.gb)(this.state.value == Q.Rb.fK);this.loadTime=this.Ba.Xb().da(F.ja);this.state.set(Q.Rb.LOADING);};c.prototype.Dq=function(O,T){this.done || (this.done=!0,T instanceof S.qd?this.Yd(T.code,T):this.Yd(O,T));};c.prototype.dU=function(O){var ja,ma;function T(){var ta,Ka;ta=h.fw.ena() + "";Ka=O.Qia[ta];Ka || (Ka=O.Qia[ta]=[]);Ka.push(ja.Ba.Xb().da(F.ja));ja.log.trace("charging change event",{level:h.fw.oYa(),charging:h.fw.ena()});}ja=this;ma=h.fw.Pdb;h.fw.addEventListener(ma,T);O.addEventListener(Q.ca.mg,function(){h.fw.removeEventListener(ma,T);});};c.prototype.Ewa=function(O){var T,ja;T=this;if(this.state.value == Q.Rb.fK || this.state.value == Q.Rb.LOADING || this.state.value == Q.Rb.re){this.pd.info("Playback closing",this,O?{ErrorCode:O.O4}:void 0);this.cG("Closing");x.ve.removeListener(x.Gl,this.v4a);this.ki=O;this.ha.nU=this.WC();this.vWa();(null === (ja=this.Ka) || void 0 === ja?0:ja.ai) && this.Ka.flush();try{this.Ub.Fc(Q.ca.mg,{movieId:this.iM});}catch(ma){this.pd.error("Unable to fire playback closing event",ma);}this.state.set(Q.Rb.CLOSING);this.zcb();this.$Yb || (0,I.Uf)(function(){return T.i7a();});}};c.prototype.FDb=function(){this.Ub.Fc(Q.ca.Sab);};c.prototype.wWa=function(){var O;O=this.mediaTime.value;this.pMb != O && (!1,this.pMb=O,this.Ub.Fc(Q.ca.lxa));};c.prototype.i7a=function(){var O,T;O=this;(0,G.gb)(this.state.value == Q.Rb.CLOSING);T=this.a8;this.a8=void 0;T?m.VI.release(T,function(ja){(0,G.gb)(ja.$);O.aka();}):this.aka();};c.prototype.zcb=function(){var O;null === (O=this.Ka) || void 0 === O?void 0:O.fd();delete this.Ka;delete this.Wcc;delete this.Vcc;};c.prototype.aka=function(){var O;this.aka=q.rl;(0,G.gb)(this.state.value == Q.Rb.CLOSING);O=y.ho.indexOf(this);(0,G.gb)(0 <= O);y.ho.splice(O,1);this.state.set(Q.Rb.CLOSED);this.Ub.Fc(Q.ca.closed,void 0,!0);this.Ub.Gh();delete this.qf;this.ha.i9();};c.prototype.mia=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set((0,K.pp)(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.vWa=function(){this.Ub.Fc(Q.ca.A9a,{YZ:this.YZ});};c.prototype.PY=function(O,T,ja){var ma;O=this.Fl(O);ma=O.kj.filter(function(ta){return ta.id === T;})[0];ma && O.tc[ja].set(ma);};c.prototype.wu=function(){return {AudioBufferLength:this.HT(),VideoBufferLength:this.WZ()};};c.prototype.t3=function(){var O;if(null === (O=this.Ka) || void 0 === O?0:O.ai)return this.Ka.j7(!1);};c.prototype.bQb=function(){this.state.value == Q.Rb.LOADING && this.state.set(Q.Rb.re);};c.prototype.jyb=function(){var O,T,ja;O=void 0 === O?this.J:O;T=this.gH(O);ja=this.gN(O);return (0,ya.Jt)(T,function(ma){return ja.YN.bv(ma);});};c.prototype.Cka=function(O){var T,ja;O=void 0 === O?this.J:O;T=this.gH(O);ja=this.gN(O);return (0,ya.yZa)(T,function(ma){return ja.YN.bv(ma);});};c.prototype.yTa=function(O){var T;T=this;Object.keys(O.pa).filter(function(ja){return !T.Eu.has(O.pa[ja].X);}).forEach(function(ja){var ma,ta,Ka;ta=O.pa[ja];Ka=ta.X;ta=Object.assign(null !== (ma=T.Fk.oN(Ka).Hb) && void 0 !== ma?ma:{},{Z:ta.Db,Ga:ta.Ob,Hl:!1,NZ:Date.now(),A7:!0});T.OPa({X:Ka,ya:ja,bb:ta});});};Wa.Object.defineProperties(c.prototype,{CO:{configurable:!0,enumerable:!0,get:function(){return this.Eu.values();}},ha:{configurable:!0,enumerable:!0,get:function(){return this.Eu.get(this.iM);}},Z:{configurable:!0,enumerable:!0,get:function(){var O,T;return void 0 !== this.gw?this.gw:null !== (T=null === (O=this.CO.next()) || void 0 === O?void 0:O.value.bb.Z) && void 0 !== T?T:0;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tc;},set:function(O){this.ha.Tc=O;}},B5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.B5;}},C5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.C5;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},ya:{configurable:!0,enumerable:!0,get:function(){return this.ha.ya;}},X5a:{configurable:!0,enumerable:!0,get:function(){return this.lb.iya?this.lb.Xg:this.ha.ya;}},qf:{configurable:!0,enumerable:!0,get:function(){return this.ha.qf;},set:function(O){this.ha.qf=O;}},Pm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Pm;},set:function(O){this.ha.Pm=O;}},mG:{configurable:!0,enumerable:!0,get:function(){return this.ha.mG;},set:function(O){this.ha.mG=O;}},lG:{configurable:!0,enumerable:!0,get:function(){return this.ha.lG;},set:function(O){this.ha.lG=O;}},h7:{configurable:!0,enumerable:!0,get:function(){return this.ha.h7;},set:function(O){this.ha.h7=O;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa;},set:function(O){this.ha.oa=O;}},gw:{configurable:!0,enumerable:!0,get:function(){return this.ha.gw;},set:function(O){this.ha.gw=O;}},pZ:{configurable:!0,enumerable:!0,get:function(){return this.ha.pZ;},set:function(O){this.ha.pZ=O;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb;},set:function(O){this.ha.bb=O;}},HW:{configurable:!0,enumerable:!0,get:function(){return this.ha.HW;},set:function(O){this.ha.HW=O;}},Ml:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ml;}},J:{configurable:!0,enumerable:!0,get:function(){return this.ha.J;}},ye:{configurable:!0,enumerable:!0,get:function(){return this.ha.ye;}},Ki:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ki;}},jp:{configurable:!0,enumerable:!0,get:function(){return this.ha.jp;}},$A:{configurable:!0,enumerable:!0,get:function(){return this.ha.$A;}},Sh:{configurable:!0,enumerable:!0,get:function(){return this.ha.Sh;}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ti;}},rD:{configurable:!0,enumerable:!0,get:function(){return this.ha.rD;}},Ru:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ru;}},sm:{configurable:!0,enumerable:!0,get:function(){return this.ha.sm;}},kj:{configurable:!0,enumerable:!0,get:function(){return this.ha.kj;}},$y:{configurable:!0,enumerable:!0,get:function(){return this.ha.$y;},set:function(O){this.ha.$y=O;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.ba;}},Dj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dj;}},wk:{configurable:!0,enumerable:!0,get:function(){return this.ha.wk;}},qH:{configurable:!0,enumerable:!0,get:function(){return this.ha.qH;},set:function(O){this.ha.qH=O;}},Gg:{configurable:!0,enumerable:!0,get:function(){return this.ha.Gg;}},JI:{configurable:!0,enumerable:!0,get:function(){return this.ha.JI;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(O){this.ha.background=O;}},Hka:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hka;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Sc;}},Op:{configurable:!0,enumerable:!0,get:function(){return this.ha.Op;}},zla:{configurable:!0,enumerable:!0,get:function(){return this.ha.zla;}},YN:{configurable:!0,enumerable:!0,get:function(){return this.ha.YN;}},oz:{configurable:!0,enumerable:!0,get:function(){return 0 !== t.config.S4 && 0 === this.ha.ba % t.config.S4;}},M4:{configurable:!0,enumerable:!0,get:function(){return this.ha.M4;}},Ri:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.J,TrackingId:this.Dj,Xid:this.ba};}},R9:{configurable:!0,enumerable:!0,get:function(){return this.lb.R9;}}});b.GIa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.h$a=void 0;c=a(12);f=a(8);l=a(3);a(24);b.h$a=function(m){var d;(0,f.Oi)("Storage");d={};m({$:!0,storage:{load:function(g,h){var k;if(d.hasOwnProperty(g)){k=d[g];!1;h({$:!0,data:k,baa:g});}else (!1,h({na:l.L.IB}));},save:function(g,h,k,n){k && d.hasOwnProperty(g)?n({$:!1}):(d[g]=h,!1,n && n({$:!0,baa:g}));},remove:function(g,h){delete d[g];!1;h && h(c.Ze);}}});};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.f$a=void 0;c=a(8);f=a(79);l=a(29);m=a(528);b.f$a=function(d){c.ka.get(f.mB).create().then(function(g){d({$:!0,storage:new m.Zca(g,c.ka.get(l.eg))});}).catch(function(g){d(g);});};},function(r,b){function a(c,f){this.dw=c;this.pe=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Zca=void 0;a.prototype.load=function(c,f){var l;l=this;this.dw.load(c).then(function(m){f && f(a.x$a(m));}).catch(function(m){f && f(l.Tla(c,m));});};a.prototype.save=function(c,f,l,m){var d;d=this;this.dw.save(c,f,l).then(function(){m && m(a.x$a({key:c,value:f}));}).catch(function(g){m && m(d.Tla(c,g));});};a.prototype.remove=function(c,f){var l;l=this;this.dw.remove(c).then(function(){f && f({$:!0,baa:c});}).catch(function(m){f && f(l.Tla(c,m));});};a.x$a=function(c){return {$:!0,data:c.value,baa:c.key};};a.prototype.Tla=function(c,f){return {$:!1,baa:c,na:f.na,ub:f.cause?this.pe.wd(f.cause):void 0};};b.Zca=a;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.g$a=void 0;c=a(528);f=a(8);l=a(458);m=a(29);b.g$a=function(d){d({$:!0,storage:new c.Zca(f.ka.get(l.ZEa),f.ka.get(m.eg))});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.fw=void 0;c=a(12);f=a(14);r=a(3);l=a(8);m=a(30);d=a(11);g=a(31);h=a(19);k=a(64);n=a(4);a=l.ka.get(g.ih);p=l.ka.get(k.Wx);a.register(r.M.QDa,function(q){var v,x;function u(){q(c.Ze);u=m.rl;}function t(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!(0,h.jd)(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.mf.getBattery();if(!(0,h.jd)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,l.Oi)("BatteryManager");b.fw={Pdb:"chargingchange",oYa:function(){return x?x.level:null;},ena:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.dU && (0,h.jd)(d.mf.getBattery)?p.Jq((0,n.Oc)(f.config.SEb),w()).then(function(y){t(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(u):u();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var l;l=this;this.CYa=c;this.t4a=f;this.rxa=!1;this.rO=function(){l.fp=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;a.prototype.update=function(c){var f,l,m,d,g;m=this.CYa();if(this.obb !== m){d=null === (l=null === (f=this.Uo) || void 0 === f?void 0:f.XG(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){g=d;this.cbb(d.endTime - m);}else this.cbb(d.startTime - m);this.obb=m;this.Kha !== g && (this.Kha=g,!c && this.t4a && this.t4a());}};a.prototype.start=function(){this.rxa=!0;this.update();};a.prototype.$8a=function(c){this.Uo=c;this.Kha=this.obb=void 0;c || this.stop();};a.prototype.stop=function(){this.rxa=!1;this.Es();};a.prototype.AEb=function(){this.update(!0);return this.Kha;};a.prototype.cbb=function(c){this.Es();this.rxa && 0 < c && (this.fp=setTimeout(this.rO,c + a.eib));};a.prototype.Es=function(){this.fp && (clearTimeout(this.fp),this.fp=void 0);};b.yLa=a;a.eib=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;c=a(15);f=a(74);b.HDa=function(l){function m(d){l.fireEvent(c.ca.HG,{response:d,J:l.ha.J});}return {download:function(d,g){d.j=l;d=f.jf.download(d,g);d.Mha(m);return d;}};};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;c=a(14);f=a(51);l=a(3);m=a(535);d=a(11);g=a(19);h=a(15);k=a(8);n=a(207);b.kEa=function(p){var u,t,w,v;function q(){p.state.value !== h.Rb.re || p.yb.value !== h.cb.jh && p.yb.value !== h.cb.Yq?t.Es():t.OG();}u=c.config.rSb;if(!p.qD() && u){t=k.ka.get(n.t1)(u,function(){p.fireEvent(h.ca.uN,l.M.W0);});p.yb.addListener(q);p.state.addListener(q);if(c.config.epa){w=(0,f.dk)();v=new m.NJa(c.config.epa,function(){var x,y;x=(0,f.dk)();y=x - w;y > u && (p.fireEvent(h.ca.uN,l.M.A0),v.uSa());y > 2 * c.config.epa && (p.fpa=(0,d.fo)(y,p.fpa || 0));w=x;});v.wYb();}p.addEventListener(h.ca.mg,function(){t.Es();(0,g.Zc)(v) && v.uSa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;b.NJa=function(a,c){var f;this.wYb=function(){f || (f=setInterval(c,a));};this.uSa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n){var p,q,u,t;p=this;this.j=n;this.pU=void 0;this.Tfa=(0,m.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Ifa=(0,m.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.yfa=(0,m.createElement)("DIV","width:100%;text-align:center");this.mlb=this.Kfa("Audio Bitrate");this.Cha=this.Kfa("Video Bitrate");this.Bfa=this.Kfa("CDN");this.XS={};this.z6=d.ka.get(g.Wm);this.Tfa.appendChild(this.Ifa);this.Ifa.appendChild(this.yfa);q=(0,m.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.glb.bind(this),!1);this.yfa.appendChild(q);q=(0,m.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.opb.bind(this),!1);this.yfa.appendChild(q);u=this.xob.bind(this);l.ve.addListener(l.aD,u);n.addEventListener(k.ca.CH,function(){p.XS={};});n.addEventListener(k.ca.mg,function(){l.ve.removeListener(l.aD,u);});t=this.bpb.bind(this);n.tc.forEach(function(w){w.addListener(t);});n.pc.addListener(t);n.yg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;f=a(44);l=a(61);m=a(30);d=a(8);g=a(40);h=a(133);k=a(15);c.prototype.show=function(){this.sT || (this.OOa(),document.body.appendChild(this.Tfa),this.sT=!0);};c.prototype.Sr=function(){this.sT && (document.body.removeChild(this.Tfa),this.sT=!1);};c.prototype.toggle=function(){this.sT?this.Sr():this.show();};c.prototype.Uab=function(){var q,u,t,w;function n(v,x,y){var z,A,B;A=[];x.filter(function(E){return E.oh === v;}).forEach(function(E){0 <= y.indexOf(E)?(void 0 === B?B=E.bitrate:z=E.bitrate,void 0 === z && (z=E.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,x,y){var z;z=[];x.filter(function(A){return A.oh === v;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Jt();t=this.j.gH().sort(function(v,x){return v.bitrate - x.bitrate;});w=t.reduce(function(v,x){0 > v.indexOf(x.oh) && v.push(x.oh);return v;},[]).map(function(v){return {profile:v,ranges:n(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.Ka) || void 0 === q?void 0:q.Mq(w,this.j.J);};c.prototype.glb=function(){var q,u;this.XS={};for(var n=this.Cha.options,p=n.length;p--;){q=n[p];q.selected && (this.XS[q.value]=1);}this.pU=this.Llb.bind(this);this.Uab();if(n=this.j.kj){u=this.Bfa.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.tc[f.Tb.Ta.Nb].value;n && n != p && (n.ZRa={testreason:"streammanager",selreason:"userselection"},this.j.tc[f.Tb.Ta.Nb].set(n));}this.Sr();};c.prototype.opb=function(){this.pU=void 0;this.j.l9a(this.j.J);this.Sr();};c.prototype.Llb=function(){var n;n=this;return this.j.gH().filter(function(p){return n.XS[p.bitrate];});};c.prototype.OOa=function(){var n,p,q,u;n=this;p=this.j.pc.value;q=this.j.yg.value;u=this.j.kj;p && (u=u.slice(),u.sort(function(t,w){return t.jc - w.jc;}),this.mha(this.mlb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.mh.value};})));q && (this.mha(this.Cha,q.streams.map(function(t){var w,v;w=n.j.YN.bv(t);t=t.bitrate;v="" + t;w && (v+=" (" + w.join("|") + ")");return {value:t,caption:v,selected:n.pU?n.XS[t]:!w};})),this.Cha.removeAttribute("disabled"));u && (this.mha(this.Bfa,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.tc[f.Tb.Ta.Nb].value};})),this.Bfa.removeAttribute("disabled"));};c.prototype.bpb=function(){this.sT && this.OOa();};c.prototype.Kfa=function(n){var p,q;p=(0,m.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,m.createElement)("DIV",void 0,n);q=(0,m.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Ifa.appendChild(p);return q;};c.prototype.mha=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,m.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.xob=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.wv.Rjb && this.z6.$pa && this.toggle();};b.NIa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.Cma=h;this.KG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,f.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.V8a(k);this.EWa=this.PFb(this.Cma);}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;f=a(30);l=a(538);m=a(539);d=a(11);g=a(24);c.prototype.Fn=function(){return this.element;};c.prototype.MXb=function(h){this.ria=h;};c.prototype.WXb=function(h){this.entry=h;this.TO();};c.prototype.cYb=function(h){this.V8a(h);this.TO();};c.prototype.TO=function(){var h,k,n,p,q,u,t,w,v,x,y,A,B,E;h=this;k=this.Fn();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;u=n=0;t={width:p,height:q};if(0 < p && 0 < q && this.entry){this.ria && (t=(0,f.OM)(p,q,this.ria),n=Math.round((p - t.width) / 2),u=Math.round((q - t.height) / 2));v=this.Xtb(t);x=(0,f.OM)(v.width,v.height,this.ria);v=(w=this.entry.blocks) && w.map(function(D){var F;F=(0,m.Pla)(D,x,h.Cma,h.EWa);D=(0,m.HVa)(D) + ";position:absolute";return (0,f.createElement)("div",D,F,c.Yba);});}Object.assign(this.KG,{left:n + "px",right:n + "px",top:u + "px",bottom:u + "px"});k.style.display="none";k.style.direction=this.KG.direction;k.innerHTML="";if(v && v.length){p=t.width;n=t.height;y=t;this.VT && (y=this.qqb(t,this.VT,q,u));this.KG.margin=this.cs?this.R3(t,"top") + "px " + this.R3(t,"right") + "px " + this.R3(t,"bottom") + "px " + this.R3(t,"left") + "px ":void 0;v.forEach(function(D){return k.appendChild(D);});q=(0,f.zG)(this.KG);k.style.cssText=q + ";visibility:hidden;z-index:-1";u=[];for(var z=v.length - 1;0 <= z;z--){A=v[z];B=w[z];E=this.X3a(A,B,p,n);E.width > p && (A.innerHTML=(0,m.Pla)(B,t,this.Cma,this.EWa,p / E.width),E=this.X3a(A,B,p,n));u[z]=E;}u=(0,l.Mab)(u,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),t=(0,m.JVa)(w,u,A,y,t),t=(0,f.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Yba),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=u.length - 1;0 <= t;t--){z=u[t];y=v[t].style;A=w[t].region;z=(0,m.IVa)(A,z,p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.jwa=function(h){this.VT=h;this.TO();};c.prototype.moa=function(){return this.VT;};c.prototype.kwa=function(h){this.cs=h;this.TO();};c.prototype.noa=function(){return this.cs;};c.prototype.ooa=function(){return "block" === this.KG.display;};c.prototype.lwa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.KG.display=k;h && this.TO();};c.prototype.PFb=function(h){var k,n;k=this;n={};(0,g.te)(h,function(p,q){n[p]=k.BOb(q);});return n;};c.prototype.V8a=function(h){this.KG.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.R3=function(h,k){if(this.cs){if("left" === k || "right" === k)return h.width * (this.cs[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.cs[k] || 0);}return 0;};c.prototype.Xtb=function(h){return this.cs?{height:h.height * (1 - (this.cs.top || 0) - (this.cs.bottom || 0)),width:h.width * (1 - (this.cs.left || 0) - (this.cs.right || 0))}:h;};c.prototype.BOb=function(h){var k;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,f.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Yba);d.Be.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Be.body.removeChild(h);return k;};c.prototype.X3a=function(h,k,n,p){var q,u,t,w,v;q=k.region;u=(q.marginTop || 0) * p;t=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * n;v=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=u;break;case "center":p=(u + p - t - h) / 2;break;default:p=p - t - h;}switch(q.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - k;break;default:n=(w + n - v - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.qqb=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.vLa=c;c.Yba={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mab=void 0;c=a(11);b.Mab=function(f,l){function m(h,k,n){var t,v,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],u=0;u < h.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < h.length;u++){for(var w=u + 1;w < h.length;w++){v=h[u];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=(0,c.fo)(v.left,x.left);z=(0,c.fo)(v.top,x.top);y={width:(0,c.fo)((0,c.op)(v.left + v.width,x.left + x.width) - y,0),height:(0,c.fo)((0,c.op)(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[u]),x=d(h[w]),z && k || !z && !k))(y=(0,c.fo)(y.width / 2,.25),v.x <= x.x?(q[u]-=y,q[w]+=y):(q[w]-=y,q[u]+=y));else if(z && !k || !z && k)(v=(0,c.fo)(y.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < h.length;u++){if(-.25 > q[u] && 0 <= h[u].left + q[u] || .25 < q[u] && h[u].left + h[u].width + q[u] <= n.width)(h[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= h[u].top + p[u] || .25 < p[u] && h[u].top + h[u].height + p[u] <= n.height)(h[u].top+=p[u],t=!0);}return t;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=(0,c.op)(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=(0,c.op)(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=(0,c.op)(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=(0,c.op)(n.top + n.height - k.height,n.top));});})(f,l);for(var g=0;50 > g && m(f,!0,l);g++){;}for(g=0;50 > g && m(f,!1,l);g++){;}return f;};},function(r,b,a){var g,h,k;function c(n,p,q,u,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (u - p.top - p.height - t) / u + "%":w.top=100 * (p.top - t) / u + "%";return w;}function f(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function l(n,p,q,u,t){var w,v;w=n.style;v=(0,h.bW)(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return m(v,w,p,q,u,t);}function m(n,p,q,u,t,w){var v;v=p.characterStyle;t=t[v];v=0 <= v.indexOf("MONOSPACE")?f(t,p.cellResolution) || t.lineHeight:t.lineHeight;u=p.characterSize * u.height / (v || 1);u=0 < w?(0,k.xB)(u * w):(0,k.Mj)(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));u=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,g.zG)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.HVa=b.sCb=b.qCb=b.tCb=b.rCb=b.IVa=b.JVa=b.Pla=void 0;g=a(50);h=a(24);k=a(11);b.Pla=function(n,p,q,u,t){var w;w="";n.textNodes.forEach(function(v){w+=l(v,q,p,u,t);});return w;};b.JVa=function(n,p,q,u,t){var w,v,y,z,A;w="";v=t.width;t=t.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + u + ";width:" + (0,k.Mj)(y.width + 2 * q) + "px;height:" + (0,k.Mj)(y.height + 2 * q) + "px;";y=c(z,y,v,t,q);(0,h.te)(y,function(B,E){A+=B + ":" + E + ";";});w+='<div style="' + A + '"></div>';}return w;};b.IVa=c;b.rCb=f;b.tCb=l;b.qCb=m;b.sCb=d;b.HVa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,g.zG)(p);};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.DIa=void 0;c=a(12);f=a(14);l=a(51);m=a(92);d=a(11);g=a(62);h=a(19);k=a(15);b.DIa=function(n){var t,w,v,x,y,z;function p(){return n.state.value === k.Rb.LOADING || n.state.value === k.Rb.re && n.yb.value === k.cb.Rf;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Uf)(u));}function u(){var A,B,E,D,F,C,G,K;A=(0,l.dk)();B=t.value;E=B?B.progress:0;D=n.state.value == k.Rb.LOADING || p() && A - w > f.config.ztb;if(D && n.state.value == k.Rb.re){if(n.Ef.value === k.Af.hKa)(F=E,C=!0);else {G=A;v=v || A;x=x || v + f.config.dPb + 1;(0,h.Ca)(G) && (G=(0,d.fo)(G,x),F=(0,d.Mj)(1E3 * (0,m.pp)((A - v) / (G - v),0,.99)) / 1E3);}if(F < E)if(E - F < f.config.wUb / 100)(F=E,y=void 0);else if(y){if(A - y > f.config.vUb){K=!0;y=void 0;}else F=E;}else (y=A,F=E);}else y=x=v=void 0;A=D?{Ds:C,progress:F,xUb:K}:null;(!A || !t || !B || (0,h.Ca)(A.progress) && !(0,h.Ca)(B.progress) || (0,h.Ca)(A.progress) && (0,h.Ca)(B.progress) && .01 < (0,d.VE)(A.progress - B.progress) || A.Ds !== B.Ds) && t.set(A);}t=n.hja;w=0;n.state.addListener(function(){q();u();},c.V0);n.yb.addListener(function(A){if(A.oldValue !== k.cb.Rf || A.newValue !== k.cb.Rf)w=(0,l.dk)();q();});n.Ef.addListener(function(){q();});n.Br.addListener(function(){q();});n.Om.addListener(function(){q();});z || (z=setInterval(u,100));};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I;function c(M){var R;R=this;this.j=M;this.Yb=this.j.Yb;this.log=(0,n.Jh)(this.j,"MediaPresenterASE");this.X8=this.y4=0;this.Y=this.Yb.Y;this.L5a=this.C5a=this.C7=this.wta=!1;this.C_b=n.ka.get(E.pK)((0,B.Oc)(z.j1));this.GL=void 0;this.ap=n.ka.get(F.pKa)(this.j);this.ux={};this.$2a={};this.RV={};this.sg=new G.WFa(this.j);this.A_b=function(){var H,P,N;R.j.pZ=(0,k.dk)();if(!R.jk() && R.Gn){H=R.Yb.fZa();H || (R.BSb(),R.sg.Dxa(R.mediaTime));R.j.paused.value || !R.sg.Vka(R.mediaTime) || !R.eja() || H || R.ap.Qpa?R.rva():R.wta || R.sva();R.ASb();if(!R.Yb.fZa() && !R.C7){H=R.Yb.yV(!0);P=R.j.yb.value;N=R.Kvb();P !== N && !1;N === x.cb.Yq?(R.mediaTime=R.j.Gu.da(B.ja),R.rva()):N !== x.cb.Rf && R.C1b(H);R.gbb();R.sg.Cja(R.mediaTime);R.j.yb.set(N);N !== x.cb.Rf || P !== x.cb.Lc && P !== x.cb.jh || R.mRb();}}};this.Ql=(0,C.x6a)(this.A_b);this.mediaTime=M.Z;this.j.ei=!1;this.Yb.addEventListener(A.Nj.Q9a,function(){R.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{R.xb();}catch(H){R.log.error("Exception while initializing",H);R.Yd(p.M.Yib);}});}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;f=a(44);l=a(12);m=a(14);d=a(59);g=a(61);h=a(50);k=a(51);n=a(8);a(98);p=a(3);q=a(332);u=a(21);t=a(92);w=a(30);v=a(62);x=a(15);y=a(19);z=a(185);A=a(303);B=a(4);E=a(112);D=a(207);F=a(542);C=a(1189);G=a(1190);K=a(262);J=a(206);I=a(11);c.prototype.SXa=function(){return this.Yb.yV(!1);};c.prototype.Y5=function(){return this.Yb.Y5();};c.prototype.TC=function(){return this.Yb.TC();};c.prototype.YG=function(){return this.Yb.YG();};c.prototype.xV=function(){return this.Yb.xV();};c.prototype.xb=function(){var M;M=this;this.log.trace("Video element initializing");this.Yb.sourceBuffers.forEach(function(R){return M.sg.rYb(R);});this.iKb(this.j.rD);};c.prototype.iKb=function(M){var R,H;R=this;M?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.J}),null === (H=this.j.Ka) || void 0 === H?void 0:H.mz(this.j.J));this.log.trace("Waiting for loadedmetadata");this.Yb.addEventListener(A.Nj.x1a,function(P){var N;P=P.X;R.j.Dd("ld",P);null === (N=R.j.Ka) || void 0 === N?void 0:N.mz(P);R.j.fireEvent(x.ca.u1a);});(0,h.VPa)(this.Y,"loadedmetadata",function(){R.log.trace("Video element event: loadedmetadata");R.j.Dd("md");});g.ve.addListener(g.Gl,this.RV[g.Gl]=function(){return R.close();},l.fF);this.j.addEventListener(x.ca.mg,function(){return R.close();},l.fF);this.j.addEventListener(x.ca.n8a,function(){return R.sva();});this.j.addEventListener(x.ca.CH,function(){return R.$Qb();});this.j.paused.addListener(function(){return R.Ql();});this.j.muted.addListener(function(){return R.$xa();});this.j.volume.addListener(function(){return R.$xa();});this.j.playbackRate.addListener(function(){return R.Kaa();});this.j.Br.addListener(function(){return R.Ql();});this.j.Om.addListener(function(){return R.Ql();});this.$xa();this.Kaa();this.sg.P$(function(){return R.u8();});this.u8();this.U0b();};c.prototype.o3=function(M){var R;R=this;!1;this.sg.Grb(M);this.xub(M).then(function(){R.u8();R.j.fireEvent(x.ca.t8);}).catch(function(H){R.Yd(p.M.bjb,{ub:(0,w.wd)(H)});});};c.prototype.iia=function(M,R,H){H=void 0 === H?{}:H;R=this.rBb(M,R);this.sg.Erb(M,R,H);this.u8();this.C5a || M.type !== f.Tb.ql.Nb || (this.ap.Qpa || this.seek(this.j.Z,x.Ce.Lx),this.C5a=!0);};c.prototype.U0b=function(){var M;M=this;this.Yb.addEventListener(A.Nj.HY,this.ux[A.Nj.HY]=function(){return M.rRb();});this.Yb.addEventListener(A.Nj.Wp,this.ux[A.Nj.Wp]=function(){return M.m9();});this.Y.addEventListener("ended",this.ux.ended=function(){return M.VQb();});this.Y.addEventListener("play",this.ux.play=function(){return M.dRb();});this.Y.addEventListener("pause",this.ux.pause=function(){return M.bRb();});this.Y.addEventListener("playing",this.ux.playing=function(){return M.jRb();});this.Gn=!0;this.sg.Dxa(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Dd("vi");m.config.nUa?setTimeout(function(){M.Gsa=!0;M.Ql();},m.config.nUa):this.Gsa=!0;this.xZb();(0,v.Uf)(function(){return M.Ql();});};c.prototype.xZb=function(){var H;function M(){var P;H.j.yb.value !== x.cb.Lc || 0 !== (null === (P=H.j.$f) || void 0 === P?void 0:P.Y5()) || I.Be.hidden?(H.W3a.Es(),P="stopTimer"):(H.W3a.OG(),P="ensureTimer");H.log.trace("No render timer update: " + P,{presentingState:x.cb[H.j.yb.value],hidden:I.Be.hidden});}function R(P){var N,L;P=void 0 === P?!0:P;N=H.j.Ka;L=(null === N || void 0 === N?void 0:N.ai) && N.H6();H.j.yb.value == x.cb.Rf && H.j.state.value == x.Rb.re && H.j.Br.value == x.Af.re && H.j.Om.value == x.Af.re && !H.j.ei && L?(P && H.A4.Es(),H.A4.OG(),N="ensureTimer"):(H.A4.Es(),N="stopTimer");H.log.trace("Timer update: " + N,{presentingState:x.cb[H.j.yb.value],playbackState:x.Rb[H.j.state.value],avBufferingState:x.Af[H.j.Br.value],textBufferingState:x.Af[H.j.Om.value],autoplayWasBlocked:H.j.ei,hasLicense:L,restartTimer:P});}H=this;m.config.cUa && ((0,u.gb)(!this.A4),this.A4=n.ka.get(D.t1)(m.config.cUa,function(){var P;P=n.ka.get(q.ica).wUa(H.j);H.Yd(P.code,P);}),this.j.yb.addListener(function(){return R();}),this.j.Br.addListener(function(){return R();}),this.j.Om.addListener(function(){return R();}),this.j.state.addListener(function(){return R();}),this.j.addEventListener(x.ca.u1a,function(){return R();}),this.j.addEventListener(x.ca.ei,function(){return R();}),this.j.addEventListener(x.ca.Hia,function(){return R();}),this.j.addEventListener(x.ca.tI,function(){return R(!0);}),R());m.config.V3a && (this.W3a=n.ka.get(D.t1)(m.config.V3a,function(){var P;0 === (null === (P=H.j.$f) || void 0 === P?void 0:P.TC()) && (P=n.ka.get(q.ica).wUa(H.j),H.Yd(P.code,P));H.j.yb.removeListener(M);g.ve.removeListener(g.Pr,H.RV[g.Pr]);}),this.j.yb.addListener(M),g.ve.addListener(g.Pr,this.RV[g.Pr]=M),M());};c.prototype.rBb=function(M,R){var H;H=this.j.qf;(H=(0,J.Cpa)(H)?H.aN():void 0) && M.type === f.Tb.ql.Nb && ((M=new K.XJ(this.log,{mediaType:K.Oj.Nb,url:"http://some-url"},R).va(H))?R=M:!1);return R;};c.prototype.u8=function(){this.Gn?this.Ql():m.config.Frb && this.sg.Dxa(this.mediaTime);this.sg.fSa();};c.prototype.DZb=function(){!1;this.j.yb.set(x.cb.Rf);this.C7=!0;this.Ql();};c.prototype.Gvb=function(){var M;M=this;this.C7 && (!1,this.C7=!1,(0,v.Uf)(function(){return M.nQb();}));};c.prototype.P5=function(){return this.sg.P5();};c.prototype.nQb=function(){var M,R;M=this.j.WC() || 0;if(this.j.bb.Hl){if(m.config.ltb){M=M - (this.Yb.Hva + 1) - m.config.Gva;R=this.j.Ka.Lo().gd;M=Math.max(M,R);}}else (M-=m.config.kXb,M=Math.max(M,this.ap.qqa));this.seek(M,x.Ce.ZR);};c.prototype.j9=function(M){var R;R=this;this.sg.tYb(M);(0,v.Uf)(function(){return R.Ql();});};c.prototype.hGb=function(){return {y4:this.y4,X8:this.X8};};c.prototype.xub=function(M){var R;R=this.Yb && this.Yb.BYa();this.j.Gu && R && Infinity !== M.w8a && (M=M.w8a + M.Su,M > this.j.Gu.d6a(B.ja) && (this.j.Gu=(0,B.Oc)(M)));return Promise.resolve();};c.prototype.ASb=function(){var M;M=this;this.ap.F9 && (!1,this.eja() && this.sg.Vka(this.mediaTime) && (this.Yb.seek(this.mediaTime),this.ap.F9=!1,(0,v.Uf)(function(){return M.Ql();})));};c.prototype.C1b=function(M){var R;if(M < this.mediaTime){R=this.mediaTime - M;m.config.CSb && M && R > z.j1 && (M={ElementTime:(0,t.bj)(M),MediaTime:(0,t.bj)(this.mediaTime)},R > z.JJa?this.Yd(p.M.ljb,{ub:Object.assign({Trace:this.Yb.YC()},M)}):this.log.warn("VIDEO.currentTime became smaller",M));}else this.mediaTime=(0,t.pp)(M,0,this.j.Gu.da(B.ja));};c.prototype.eja=function(){return this.j.Br.value === x.Af.re && this.j.Om.value === x.Af.re;};c.prototype.Kvb=function(){var M,R,H;M=this;R=this.j.yb.value;H=R;this.ap.Qpa?H=x.cb.Rf:this.Y && this.Y.ended?R === x.cb.Lc && (H=x.cb.Yq):this.eja() && this.sg.Vka(this.mediaTime)?this.Yb.qAb()?H=this.Y && this.Y.paused?x.cb.jh:x.cb.Lc:this.C_b.Pl(function(){return M.B_b();}):H=this.j.Gu?this.j.KZa(this.mediaTime,this.sg.x4())?x.cb.Rf:x.cb.Yq:x.cb.Rf;return H;};c.prototype.mRb=function(){var M;if(this.j.yb.value === x.cb.Rf){M=this.sg.j0b() > this.sg.x4();this.j.Om.value !== x.Af.re?this.j.Ii.value?(this.j.fireEvent(x.ca.Py,{cause:d.BIa}),this.log.warn("rebuffer due to timed text",this.j.Ii.value.Ri)):this.j.fireEvent(x.ca.MP):M?(this.y4++,this.j.fireEvent(x.ca.Py,{cause:d.dea})):(this.X8++,this.j.fireEvent(x.ca.Py,{cause:d.eea}));}};c.prototype.B_b=function(){this.jk() || (m.config.rQb && this.sg.qQb(),this.Ql());};c.prototype.rRb=function(){this.Ql();};c.prototype.m9=function(){this.Ql();this.j.fireEvent(x.ca.Wp);};c.prototype.VQb=function(){this.log.trace("Video element event: ended");this.Ql();};c.prototype.dRb=function(){this.log.trace("Video element event: play");this.Ql();};c.prototype.bRb=function(){this.log.trace("Video element event: pause");this.Ql();};c.prototype.jRb=function(){this.log.trace("Video element event: playing");this.Ql();};c.prototype.$xa=function(){this.jk() || (this.Y && this.Y.volume !== this.j.volume.value && (this.Y.volume=this.j.volume.value),this.Y && this.Y.muted !== this.j.muted.value && (this.Y.muted=this.j.muted.value));};c.prototype.Kaa=function(){!this.jk() && this.Y && (this.Y.playbackRate=this.j.playbackRate.value);};c.prototype.sva=function(){var M;M=this;this.jk() || !(0,y.Zc)(this.Y) || this.Y.ended || !this.Gsa || !this.YP && void 0 !== this.YP || (this.log.trace("Calling play on element"),Promise.resolve(this.Y.play()).then(function(){M.closed || (M.YP=!1,M.wta=!1,M.Y.style.display=null,M.j.ei=!1,M.j.fireEvent(x.ca.Hia,{j:M.j}));}).catch(function(R){"NotAllowedError" === R.name?(M.log.warn("Playback is blocked by the browser settings",R),M.j.ei=!0,M.closed || (M.wta=!0,M.Y.style.display="none",M.j.fireEvent(x.ca.ei,{player:{play:function(){return M.sva();}}}))):M.closed || (M.YP=!1,M.L5a || (M.L5a=!0,M.log.error("Play promise rejected",R)));}));};c.prototype.$Qb=function(){this.ap.qqa=this.j.WC() || 0;};c.prototype.rva=function(){this.jk() || !(0,y.Zc)(this.Y) || this.Y.ended || !this.Gsa || this.YP && void 0 !== this.YP || (this.log.trace("Calling pause on element"),this.Y.pause(),this.YP=!0);};c.prototype.gbb=function(M){this.j.mediaTime.set(this.mediaTime);M && this.j.PDb();};c.prototype.seek=function(M,R,H,P){var N,L;H=void 0 === H?this.j.ya:H;P=void 0 === P?!1:P;L=null === (N=this.j.Ka) || void 0 === N?void 0:N.ai;!this.jk() && L && (this.j.fireEvent(x.ca.tI,{cause:R}),this.ap.KX={time:M,cause:R,ya:H,VDb:P},this.j.yb.set(x.cb.Rf),this.Ql());};c.prototype.BSb=function(){var M,R,H,P,N,L,Q,S;if(this.ap.KX){M=this.ap.KX;R=M.time;H=M.cause;P=M.ya;N=M.VDb;if(!this.sg.Ih() || H === x.Ce.Lx){M=this.j.Fl(P).J;L=this.sg.Ih()?void 0:this.sg.XEb();L=this.ap.GGb(R,H,P,N,L);P=L.a9;N=L.ek;Q=L.dTb;L=L.Li;this.sg.Cja(this.mediaTime);S=this.mediaTime;R=(0,t.bj)(R);this.j.cG("SEEKING: Requested: (" + M + ":" + H + ":" + R + ") - Actual: (contentPts: " + N + ",playerPts: " + (Q + ", newMediaTime: " + P + ")"));this.log.info("Seeking",{Requested:R,Actual:(0,t.bj)(P),Cause:H,Skip:L});H === x.Ce.Lx || L || (this.sg.Q7a(),this.sg.nYb());this.mediaTime=P;this.ap.qqa=N;R=this.j.lf.value;Q=this.j.oe.value;this.j.lf.set(null);this.j.oe.set(null);this.gbb(!0);this.ap.KX=void 0;this.ap.F9=!0;this.j.fireEvent(x.ca.xk,{Hsa:S,a9:P,ek:N,cause:H,skip:L,lf:R,oe:Q,J:M});L && this.sg.skip(P);}}};c.prototype.Yd=function(M,R,H){this.closed || this.j.Yd(M,R,H);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.sg.close();this.Yb.removeEventListener(A.Nj.HY,this.$2a[A.Nj.HY]);this.Yb.removeEventListener(A.Nj.Wp,this.$2a[A.Nj.Wp]);this.Y.removeEventListener("ended",this.ux.ended);this.Y.removeEventListener("play",this.ux.play);this.Y.removeEventListener("pause",this.ux.pause);this.Y.removeEventListener("playing",this.ux.playing);g.ve.removeListener(g.Gl,this.RV[g.Gl]);g.ve.removeListener(g.Pr,this.RV[g.Pr]);this.closed=!0;try{m.config.FPb && (this.Y.volume=0,this.Y.muted=!0);this.rva();this.Yb.close();}catch(M){}this.Y=void 0;this.sg.Q7a();}};c.prototype.jk=function(){return this.closed?!0:(0,y.Zc)(this.Y)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.jGa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pKa="SeekManagerFactorySymbol";},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;c=a(14);f=a(61);l=a(24);m=a(3);d=a(15);b.zCa=function(g,h,k){function n(q){var u,t;u=q.error || q;t=(0,l.wd)(u);k.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Oab && c.config.e1b?0 <= u.indexOf(c.config.Oab):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.Yd(m.M.RLa));}function p(){f.ve.removeListener(f.A6,n);g.removeEventListener(d.ca.mg,p);g.removeEventListener(d.ca.Cq,p);}try{f.ve.addListener(f.A6,n);g.addEventListener(d.ca.mg,p);c.config.OJb && g.addEventListener(d.ca.Cq,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.c2a=void 0;c=a(14);f=a(12);l=a(51);r=a(3);m=a(11);d=a(19);g=a(8);a=a(31);g.ka.get(a.ih).register(r.M.UDa,function(h){var p,q,u,t,w;function k(){return (0,m.xB)((0,l.dk)() / u);}function n(){var v;v=k();if(v != w){for(var x=(0,m.op)(v - w,30);x--;){t.push(0);}(x=(0,m.fo)(t.length - 31,0)) && t.splice(0,x);w=v;}t[t.length - 1]++;}p=c.config.zNb;q=-6 / (p - 2 - 2);u=f.Ul;t=[];w=k();(0,d.Tpa)(p) && (setInterval(n,1E3 / p),b.c2a={ZFb:function(){var y;for(var v=[],x=t.length - 1;x--;){y=t[x];v.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,m.Mj)((y - 2) * q + 7));}return v;}});h(f.Ze);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lea="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VHa="PboManifestRequestTransformerSymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k){this.Yb=h;this.j=k;this.BW=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tQ=void 0;r=a(1);f=a(3);l=a(0);m=a(19);d=a(30);g=a(8);c.prototype.x5=function(h){this.BW.forEach(function(k){return k(h);});};c.prototype.Yd=function(h,k,n){this.j.Yd(h,k,n);};c.prototype.Kqb=function(h){-1 === this.BW.indexOf(h) && this.BW.push(h);};c.prototype.OVb=function(h){h=this.BW.indexOf(h);0 <= h && this.BW.splice(h,1);};c.prototype.xZa=function(h){var k,n;k={};(0,m.Zc)(h.code)?k.na=(0,f.wCa)(h.code):k.na=f.L.Jj;try{n=h.message.match(/\((\d*)\)/)[1];k.rf=(0,g.Pia)(n,4);}catch(p){}k.ub=(0,d.wd)(h);return k;};a=c;a=r.__decorate([(0,l.R)()],a);b.tQ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PEa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var f;function c(l,m,d,g,h){var k;k=this;this.lb=l;this.Fk=m;this.$u=d;this.Ub=g;this.Gm=h;this.W9=new Map();this.FYb();this.Ub.addListener(f.Da.loaded,function(){return k.j6a();});}Object.defineProperty(b,"__esModule",{value:!0});b.ZE=void 0;f=a(15);c.prototype.XPa=function(l){var m,d;m=this;d=Object.keys(this.lb.gl.pa).find(function(g){return m.lb.gl.pa[g].X === l.J;});l.id || (l.id=null !== d && void 0 !== d?d:this.Gm.Nr(l.J));d || (this.lb.gl=this.Gm.Irb(this.lb.gl,l));d=this.jI(l.id);l.qj && this.lb.I1b(l.id,l.qj);return d;};c.prototype.Iab=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.yoa=function(l,m){var d;d=this;m=void 0 === m?{}:m;return this.$u.transition(l,m).then(function(){d.lb.Xg=l;});};c.prototype.close=function(l){return this.$u.close(l);};c.prototype.isReady=function(){return this.$u.lHb();};c.prototype.Fn=function(){return this.$u.Fn();};c.prototype.dH=function(){return this.$u.dH();};c.prototype.jI=function(l){this.W9.has(l) || this.W9.set(l,this.$u.Ok(this.ytb(l)));return this.W9.get(l);};c.prototype.FYb=function(){var l;l=this;this.$u.addListener(f.lF.IY,function(){return l.Ub.Fc(f.lF.IY);});Object.values(f.Da).forEach(function(m){l.$u.addListener(m,function(d){return l.Ub.Fc(m,d);});});};c.prototype.Tw=function(){this.j6a();};c.prototype.Psa=function(l){this.$u.G1b({id:l,J:this.lb.sf(l).X,qj:this.lb.DHb(l)});};c.prototype.WH=function(){};c.prototype.j6a=function(){var l,m;if(this.isReady()){l=this.lb.Xg;m=this.lb.IV(l);m && !this.W9.has(m) && (this.Psa(l),this.jI(m));}};c.prototype.ytb=function(l){var m,d,g,h;d=this.lb.sf(l);g=this.Fk.oN(d.X);h=null === g || void 0 === g?void 0:g.Hb;g=null === g || void 0 === g?void 0:g.oa;return {id:l,J:d.X,Z:d.Db,qj:null !== (m=null === h || void 0 === h?void 0:h.qj) && void 0 !== m?m:d.Ob,Hb:h,oa:g};};b.ZE=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mea=void 0;a.prototype.ira=function(c){c=void 0 === c?{}:c;return {Dj:c.trackingId,B3:c.authParams,Lm:c.sessionParams,ye:c.uiLabel,Qaa:c.uxLabels,nla:c.disableTrackStickiness,NZ:c.uiPlayStartTime,B5:c.forceAudioTrackId,C5:c.forceTimedTextTrackId,Hl:c.isBranching,bcb:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,CM:c.enableTrickPlay,Moa:c.heartbeatCooldown,A7:c.isPlaygraph,W7:c.loadImmediately || !1,E5a:c.pin,SX:c.preciseSeeking,Z:c.startPts,Ga:c.endPts,qj:c.logicalEnd,l$:c.renderTimedText,WVa:c.extraManifestParams,tia:c.assetId,psb:c.audioLanguages,Q_b:c.textLanguages,Qbb:c.videoLanguage,Xo:c.packageId,sUa:c.desiredDownloadables,dva:c.requestReference};};b.mea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;b.QCa=function(a){var l,m,d,g;function c(){if(d)for(var h;h=l.pop();){h(g);}}function f(h){d=!0;g=h;c();}l=[];return function(h){l.push(h);m || (m=!0,a(f));c();};};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.tab=void 0;c=a(74);f=a(12);l=a(14);m=a(50);d=a(51);g=a(8);h=a(3);k=a(24);n=a(72);p=a(11);q=a(123);u=a(31);t=a(39);w=a(34);v=a(18);b.tab=(function(){var z,A,B,E;function x(D){var F,C,G;F="info";C="";G=g.ka.get(n.pF).sYa();D.$ || (F="error",C+="&errorcode=" + (D.errorCode || ""),C+="&errorsubcode=" + (D.na || ""));C="type=startup&sev=" + F + C + "&" + (0,m.oO)((0,k.Zb)({},G,{prefix:"m_"}));!1;y("startup",C,z);}function y(D,F,C){C && A && l.config.vab[D] && (D=B + "&jsoffms=" + (0,d.dk)() + "&do=" + p.mf.onLine + "&" + F + "&" + (0,m.oO)((0,k.Zb)({},E.Sc,{prefix:"im_"})),!1,c.jf.download({url:C,Kta:D,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},HC:"track"},f.rl));}A=!1;B="";(0,g.Oi)("TrackingLog");E=g.ka.get(u.ih);E.register(h.M.ZDa,function(D){var F,C,G;if(A=l.config.uab && ! !l.config.vxa){z=g.ka.get(q.AJ).host + l.config.vxa;F=g.ka.get(w.Ik);C=g.ka.get(w.CB);G=g.ka.get(v.kd).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.lz) + "&ep=" + encodeURIComponent(C.g0) + "&ver=" + encodeURIComponent("6.0033.572.911") + "&jssid=" + G + "&browserua=" + p.BB;l.config.Iz && (B+="&groupname=" + encodeURIComponent(l.config.Iz));l.config.nJ && (B+="&uigroupname=" + encodeURIComponent(l.config.nJ));F=B;C=g.ka.get(t.PR);C=(0,k.Zb)({},C,{prefix:"pi_"});C="&" + (0,m.oO)(C);B=F + C;E.ON(x);}D(f.Ze);});return y;})();},function(r,b,a){var f,l,m,d,g;function c(h){var k;(0,f.Oi)("MediaSourceASE").trace("Inside MediaSourceASE");k=h.GV();this.readyState=g.Uc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.g3=function(n){return k.g3(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.Yp=function(n){return k.Yp(n);};this.ZY=d++;this.duration=void 0;k.LXb(this.ZY);this.readyState=g.Uc.OPEN;this.qc=l.ka.get(m.eg).LH(g.qc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;f=a(8);l=a(8);m=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Sj;},set:function(h){var k;this.Sj=h || Infinity;k=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.Sj=k;});}});g={Uc:{CLOSED:0,OPEN:1,Yq:2,name:["CLOSED","OPEN","ENDED"]},qc:{ASa:!0,F3a:!0}};b.oGa=Object.assign(c,g);},function(r,b,a){var h,k,n,p,q,u,t,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function l(v,x,y){var z;if("string" === typeof v)return l.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(A){var B,E,D;B=q[A];E=v[A];if(B){if(D=u[A] || w[typeof h[B]])try{E=D(E);}catch(F){y && y.error("Failed to convert value '" + E + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=E;p[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + f(D) + " (" + typeof D + ") to " + f(E) + " (" + typeof E + ")"),++z);}else x?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,E]),t[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(v,x){var y,z;y=q[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(A,B){return B.length - A.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?f(v[x]):void 0;}function g(v,x){return "undefined" === typeof v?x:v;}b=a(86);a=a(1273).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(x){var y,z,A,B;y=v[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(E){var D;if(q.hasOwnProperty(E))throw Error("The configuration value '" + E + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);q[E]=x;"function" === typeof B && (u[E]=B);if(D=t[E])(D.forEach(function(F){var C,G;C=F[0];G={};G[E]=F[1];l.call(C,G,!1);}),delete t[E]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=l.bind(k);p.CX=l.bind(n);p.dump=function(v,x){var z,A,B,E;function y(){E && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=m();x=g(x,!0);Object.keys(q).sort().forEach(function(D){var F,C,G;D=q[D];if(!A[D]){A[D]=!0;F=d(k,D);C=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=B[D].join(",");G+=" = " + f(p[D]) + " (" + typeof p[D] + ") [";G+=g(C,"<unset>") + ",";G+=g(F,"<unset>") + ",";G+=d(h,D) + "]";E || (E=!0,v && v.log("Current config values"),y());v && v.log(G);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};p.It=function(v){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});v && l.call(x,v);return x;};p.D5a=function(){var v;v=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[v[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};p.Ad={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var f;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].X + "|";}return m;}f=a(308);r.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},sac:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},mFb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.oR.feb){m=l[d].list;break;}}return m;},UEb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.oR.Xcb){m=l[d].list;break;}}return m;},lAb:function(l,m){for(var d=0,g,h,k,n=0,p=l.length - 1;n < p;n++){g=c(l[n].list || []);k=!1;for(var q=0,u=m.length;q < u;q++){if((h=c(m[q].list || []),h == g)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},GQb:function(l,m,d){for(var g=[],h,k=0;k < Math.min(m,l.length);k++){h=l[k].list || [];g=g.concat(h.slice(0,d));}return g;},FQb:function(l,m){for(var d=[],g,h=0;h < l.length && (g=l[h].list || [],g=g.slice(0,Math.min(g.length,m)),m-=g.length,d=d.concat(g),0 !== m);h++){;}return d;},EQb:function(l,m,d){var g;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (g=l[d]));return g;},qWa:function(l){for(var m={},d=l.length,g,h=0;h < d;h++){g=l[h].list || [];for(var k=0;k < g.length;k++){if(g[k].property === f.WJ.KR || g[k].property === f.WJ.VAa){m.yk=h;m.lm=k;break;}}}void 0 === m.yk && void 0 === m.lm && (m.yk=0,m.lm=0);return m;}};},function(r,b,a){var m;function c(d,g,h,k,n,p,q){this.VZ=k;this.scb=d;this.T3a=g;this.Vra=h;this.KLb=p;this.aE=q;this.split=n;}function f(){this.K={};this.K["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.K["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.K["3"]=new c("7","8","7","10","1.5",0,0);this.K["7"]=new c("15","16","15","9","4.5",0,0);this.K["15"]=new c("31","32","31","2","5.5",0,0);this.K["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.K["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.K["123"]=new c("123","124","123","0","0",1,.207298);this.K["124"]=new c("123","124","123","0","0",1,.49076);this.K["64"]=new c("125","126","125","4","40.5",0,0);this.K["125"]=new c("125","126","125","0","0",1,-.00157835);this.K["126"]=new c("125","126","125","0","0",1,.934205);this.K["32"]=new c("65","66","65","135","5.5",0,0);this.K["65"]=new c("127","128","128","4","1272.5",0,0);this.K["127"]=new c("127","128","128","0","0",1,-.510333);this.K["128"]=new c("127","128","128","0","0",1,.18363);this.K["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.K["129"]=new c("129","130","129","0","0",1,-.0464542);this.K["130"]=new c("129","130","129","0","0",1,.458833);this.K["16"]=new c("33","34","34","10","2.00001",0,0);this.K["33"]=new c("67","68","67","0","29.5",0,0);this.K["67"]=new c("131","132","131","2","39.5",0,0);this.K["131"]=new c("131","132","131","0","0",1,-.37577);this.K["132"]=new c("131","132","131","0","0",1,.512087);this.K["68"]=new c("133","134","134","140","1.5",0,0);this.K["133"]=new c("133","134","134","0","0",1,.321272);this.K["134"]=new c("133","134","134","0","0",1,-.675396);this.K["34"]=new c("69","70","70","2","24.5",0,0);this.K["69"]=new c("135","136","136","9","28.5",0,0);this.K["135"]=new c("135","136","136","0","0",1,-.0573845);this.K["136"]=new c("135","136","136","0","0",1,-.507455);this.K["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.K["137"]=new c("137","138","137","0","0",1,-.503909);this.K["138"]=new c("137","138","137","0","0",1,.450886);this.K["8"]=new c("17","18","17","4","44189.5",0,0);this.K["17"]=new c("35","36","35","2","21.5",0,0);this.K["35"]=new c("71","72","72","0","19.5",0,0);this.K["71"]=new c("139","140","140","9","2.5",0,0);this.K["139"]=new c("139","140","140","0","0",1,.00403497);this.K["140"]=new c("139","140","140","0","0",1,-.312656);this.K["72"]=new c("141","142","141","135","96",0,0);this.K["141"]=new c("141","142","141","0","0",1,-.465786);this.K["142"]=new c("141","142","141","0","0",1,.159633);this.K["36"]=new c("73","74","73","130","89.5",0,0);this.K["73"]=new c("143","144","144","10","4.5",0,0);this.K["143"]=new c("143","144","144","0","0",1,-.76265);this.K["144"]=new c("143","144","144","0","0",1,-.580804);this.K["74"]=new c("145","146","146","10","16.5",0,0);this.K["145"]=new c("145","146","146","0","0",1,.296357);this.K["146"]=new c("145","146","146","0","0",1,-.691659);this.K["18"]=new c("37","38","38","9","1.5",0,0);this.K["37"]=new c("37","38","38","0","0",1,.993951);this.K["38"]=new c("75","76","75","0","19",0,0);this.K["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.K["147"]=new c("147","148","147","0","0",1,-.346535);this.K["148"]=new c("147","148","147","0","0",1,-.995745);this.K["76"]=new c("147","148","147","0","0",1,-.99978);this.K["4"]=new c("9","10","9","5","4.5",0,0);this.K["9"]=new c("19","20","19","2","4.5",0,0);this.K["19"]=new c("39","40","39","140","7.5",0,0);this.K["39"]=new c("77","78","78","134","6.5",0,0);this.K["77"]=new c("149","150","150","7","11.5",0,0);this.K["149"]=new c("149","150","150","0","0",1,.729843);this.K["150"]=new c("149","150","150","0","0",1,.383857);this.K["78"]=new c("151","152","151","133","4.5",0,0);this.K["151"]=new c("151","152","151","0","0",1,.39017);this.K["152"]=new c("151","152","151","0","0",1,.0434342);this.K["40"]=new c("79","80","79","133","3.5",0,0);this.K["79"]=new c("153","154","154","8","4.5",0,0);this.K["153"]=new c("153","154","154","0","0",1,-.99536);this.K["154"]=new c("153","154","154","0","0",1,-.00943396);this.K["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.K["155"]=new c("155","156","155","0","0",1,.266272);this.K["156"]=new c("155","156","155","0","0",1,.959904);this.K["20"]=new c("41","42","42","10","65.5",0,0);this.K["41"]=new c("81","82","82","7","10.5",0,0);this.K["81"]=new c("157","158","158","2","37.5",0,0);this.K["157"]=new c("157","158","158","0","0",1,-.701873);this.K["158"]=new c("157","158","158","0","0",1,.224649);this.K["82"]=new c("159","160","159","133","9.5",0,0);this.K["159"]=new c("159","160","159","0","0",1,.0955181);this.K["160"]=new c("159","160","159","0","0",1,-.58962);this.K["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.K["83"]=new c("161","162","161","135","31",0,0);this.K["161"]=new c("161","162","161","0","0",1,-.229692);this.K["162"]=new c("161","162","161","0","0",1,.88595);this.K["84"]=new c("163","164","164","1","13.5",0,0);this.K["163"]=new c("163","164","164","0","0",1,-.992157);this.K["164"]=new c("163","164","164","0","0",1,.922159);this.K["10"]=new c("21","22","22","4","486",0,0);this.K["21"]=new c("43","44","44","133","4.5",0,0);this.K["43"]=new c("85","86","86","10","4.5",0,0);this.K["85"]=new c("165","166","166","4","158.5",0,0);this.K["165"]=new c("165","166","166","0","0",1,-.127778);this.K["166"]=new c("165","166","166","0","0",1,.955189);this.K["86"]=new c("165","166","166","0","0",1,-.994012);this.K["44"]=new c("87","88","88","1","3.5",0,0);this.K["87"]=new c("167","168","168","135","7",0,0);this.K["167"]=new c("167","168","168","0","0",1,-.997015);this.K["168"]=new c("167","168","168","0","0",1,.400821);this.K["88"]=new c("169","170","169","130","36",0,0);this.K["169"]=new c("169","170","169","0","0",1,-.898638);this.K["170"]=new c("169","170","169","0","0",1,.56129);this.K["22"]=new c("45","46","45","9","2.5",0,0);this.K["45"]=new c("89","90","90","9","1.5",0,0);this.K["89"]=new c("171","172","171","10","10.5",0,0);this.K["171"]=new c("171","172","171","0","0",1,.573986);this.K["172"]=new c("171","172","171","0","0",1,-.627266);this.K["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.K["173"]=new c("173","174","173","0","0",1,.925273);this.K["174"]=new c("173","174","173","0","0",1,-.994805);this.K["46"]=new c("91","92","91","136","5.5",0,0);this.K["91"]=new c("175","176","175","10","10.5",0,0);this.K["175"]=new c("175","176","175","0","0",1,.548352);this.K["176"]=new c("175","176","175","0","0",1,-.879195);this.K["92"]=new c("177","178","178","8","14.5",0,0);this.K["177"]=new c("177","178","178","0","0",1,.457305);this.K["178"]=new c("177","178","178","0","0",1,-.998992);this.K["2"]=new c("5","6","5","10","2.5",0,0);this.K["5"]=new c("11","12","11","9","4.5",0,0);this.K["11"]=new c("23","24","24","10","4.00001",0,0);this.K["23"]=new c("47","48","48","133","5.5",0,0);this.K["47"]=new c("93","94","93","3","13.5",0,0);this.K["93"]=new c("179","180","179","138","15.5",0,0);this.K["179"]=new c("179","180","179","0","0",1,.658398);this.K["180"]=new c("179","180","179","0","0",1,-.927007);this.K["94"]=new c("181","182","182","3","15.5",0,0);this.K["181"]=new c("181","182","182","0","0",1,-.111351);this.K["182"]=new c("181","182","182","0","0",1,-.99827);this.K["48"]=new c("95","96","95","7","167",0,0);this.K["95"]=new c("183","184","183","132","36.5",0,0);this.K["183"]=new c("183","184","183","0","0",1,.895161);this.K["184"]=new c("183","184","183","0","0",1,-.765217);this.K["96"]=new c("185","186","186","137","6.00001",0,0);this.K["185"]=new c("185","186","186","0","0",1,-.851095);this.K["186"]=new c("185","186","186","0","0",1,.674286);this.K["24"]=new c("49","50","49","137","5.5",0,0);this.K["49"]=new c("97","98","97","5","23.5",0,0);this.K["97"]=new c("187","188","187","3","28.5",0,0);this.K["187"]=new c("187","188","187","0","0",1,.951654);this.K["188"]=new c("187","188","187","0","0",1,-.993808);this.K["98"]=new c("187","188","187","0","0",1,-.99705);this.K["50"]=new c("187","188","187","0","0",1,-.997525);this.K["12"]=new c("25","26","25","8","8.5",0,0);this.K["25"]=new c("51","52","52","10","4.00001",0,0);this.K["51"]=new c("99","100","100","133","5.5",0,0);this.K["99"]=new c("189","190","190","7","40.5",0,0);this.K["189"]=new c("189","190","190","0","0",1,.151839);this.K["190"]=new c("189","190","190","0","0",1,-.855517);this.K["100"]=new c("191","192","192","133","14.5",0,0);this.K["191"]=new c("191","192","192","0","0",1,.86223);this.K["192"]=new c("191","192","192","0","0",1,.544394);this.K["52"]=new c("101","102","101","135","47.5",0,0);this.K["101"]=new c("193","194","194","4","24.5",0,0);this.K["193"]=new c("193","194","194","0","0",1,.946185);this.K["194"]=new c("193","194","194","0","0",1,.811859);this.K["102"]=new c("193","194","194","0","0",1,-.991561);this.K["26"]=new c("53","54","54","132","6.5",0,0);this.K["53"]=new c("103","104","103","131","85",0,0);this.K["103"]=new c("195","196","196","134","16.5",0,0);this.K["195"]=new c("195","196","196","0","0",1,.0473538);this.K["196"]=new c("195","196","196","0","0",1,-.999401);this.K["104"]=new c("197","198","198","8","15.5",0,0);this.K["197"]=new c("197","198","198","0","0",1,.816129);this.K["198"]=new c("197","198","198","0","0",1,-.99322);this.K["54"]=new c("105","106","105","133","3.5",0,0);this.K["105"]=new c("105","106","105","0","0",1,-.998783);this.K["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.K["199"]=new c("199","200","199","0","0",1,.528588);this.K["200"]=new c("199","200","199","0","0",1,-.998599);this.K["6"]=new c("13","14","14","10","7.5",0,0);this.K["13"]=new c("27","28","28","133","7.5",0,0);this.K["27"]=new c("55","56","56","10","4.5",0,0);this.K["55"]=new c("107","108","107","3","3.5",0,0);this.K["107"]=new c("201","202","201","4","17.5",0,0);this.K["201"]=new c("201","202","201","0","0",1,-.379512);this.K["202"]=new c("201","202","201","0","0",1,.15165);this.K["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.K["203"]=new c("203","204","203","0","0",1,-.884606);this.K["204"]=new c("203","204","203","0","0",1,.265406);this.K["56"]=new c("109","110","109","136","6.5",0,0);this.K["109"]=new c("205","206","205","4","157.5",0,0);this.K["205"]=new c("205","206","205","0","0",1,-.0142737);this.K["206"]=new c("205","206","205","0","0",1,.691279);this.K["110"]=new c("205","206","205","0","0",1,-.998086);this.K["28"]=new c("57","58","58","138","11.5",0,0);this.K["57"]=new c("111","112","112","2","6.5",0,0);this.K["111"]=new c("207","208","208","7","67.5",0,0);this.K["207"]=new c("207","208","208","0","0",1,.763925);this.K["208"]=new c("207","208","208","0","0",1,-.309645);this.K["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.K["209"]=new c("209","210","209","0","0",1,-.306635);this.K["210"]=new c("209","210","209","0","0",1,.556696);this.K["58"]=new c("113","114","113","138","50.5",0,0);this.K["113"]=new c("211","212","212","8","25.5",0,0);this.K["211"]=new c("211","212","212","0","0",1,.508234);this.K["212"]=new c("211","212","212","0","0",1,.793551);this.K["114"]=new c("211","212","212","0","0",1,-.998438);this.K["14"]=new c("29","30","29","134","27.5",0,0);this.K["29"]=new c("59","60","60","7","17.5",0,0);this.K["59"]=new c("115","116","115","135","5.5",0,0);this.K["115"]=new c("213","214","214","137","5.5",0,0);this.K["213"]=new c("213","214","214","0","0",1,.401747);this.K["214"]=new c("213","214","214","0","0",1,.0367503);this.K["116"]=new c("215","216","216","8","5.5",0,0);this.K["215"]=new c("215","216","216","0","0",1,-.0241984);this.K["216"]=new c("215","216","216","0","0",1,-.999046);this.K["60"]=new c("117","118","117","0","12.5",0,0);this.K["117"]=new c("217","218","218","132","5.5",0,0);this.K["217"]=new c("217","218","218","0","0",1,-.997294);this.K["218"]=new c("217","218","218","0","0",1,.210398);this.K["118"]=new c("219","220","219","137","1.5",0,0);this.K["219"]=new c("219","220","219","0","0",1,-.55763);this.K["220"]=new c("219","220","219","0","0",1,.074493);this.K["30"]=new c("61","62","62","133","42.5",0,0);this.K["61"]=new c("119","120","119","135","5.5",0,0);this.K["119"]=new c("221","222","222","4","473.5",0,0);this.K["221"]=new c("221","222","222","0","0",1,-.920213);this.K["222"]=new c("221","222","222","0","0",1,-.17615);this.K["120"]=new c("223","224","224","5","144",0,0);this.K["223"]=new c("223","224","224","0","0",1,-.954295);this.K["224"]=new c("223","224","224","0","0",1,-.382538);this.K["62"]=new c("121","122","121","133","50",0,0);this.K["121"]=new c("225","226","226","10","18.5",0,0);this.K["225"]=new c("225","226","226","0","0",1,-.0731343);this.K["226"]=new c("225","226","226","0","0",1,.755454);this.K["122"]=new c("227","228","228","0","30",0,0);this.K["227"]=new c("227","228","228","0","0",1,.25);this.K["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,g,h,k,n,p){this.x$=n;this.d4=p;}b=a(556);m=a(307);a={};a.jsb=new (function(){this.xmb=m();this.G=0;this.update=function(){this.G=m() - this.xmb;};this.getValue=function(){return this.G;};this.type="num";})();a.EMb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.Ya[d].context || null;};this.type="cat";})();a.FMb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.Ya[d].context || null;};this.type="cat";})();a.HMb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.Ya[d].context || null;};this.type="cat";})();a.IMb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.Ya[d].context || null;};this.type="cat";})();a.GMb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.Ya[d].context || null;};this.type="cat";})();a.JMb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.Ya[d].context || null;};this.type="cat";})();a.KMb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.Ya[d].context || null;};this.type="cat";})();a.LMb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.Ya[d].context || null;};this.type="cat";})();a.MMb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.Ya[d].context || null;};this.type="cat";})();a.NMb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.Ya[d].context || null;};this.type="cat";})();a.OMb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.Ya[d].context || null;};this.type="cat";})();a.PMb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.Ya[d].context || null;};this.type="cat";})();a.RMb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.Ya[d].context || null;};this.type="cat";})();a.SMb=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.Ya[d].context || null;};this.type="cat";})();a.TMb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.Ya[d].context || null;};this.type="cat";})();a.QMb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.Ya[d].context || null;};this.type="cat";})();a.Usb=new (function(){this.update=function(d){for(var g in d.Ya){if("becauseYouAdded" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Vsb=new (function(){this.update=function(d){for(var g in d.Ya){if("becauseYouLiked" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Ysb=new (function(){this.update=function(d){for(var g in d.Ya){if("billboard" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.fwb=new (function(){this.update=function(d){for(var g in d.Ya){if("continueWatching" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Xsb=new (function(){this.update=function(d){for(var g in d.Ya){if("bigRow" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xEb=new (function(){this.update=function(d){for(var g in d.Ya){if("genre" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.IPb=new (function(){this.update=function(d){for(var g in d.Ya){if("netflixOriginals" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.KPb=new (function(){this.update=function(d){for(var g in d.Ya){if("newRelease" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.qTb=new (function(){this.update=function(d){for(var g in d.Ya){if("popularTitles" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ns=new (function(){this.update=function(d){for(var g in d.Ya){if("queue" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.aVb=new (function(){this.update=function(d){for(var g in d.Ya){if("recentlyAdded" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gZb=new (function(){this.update=function(d){for(var g in d.Ya){if("similars" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.L0b=new (function(){this.update=function(d){for(var g in d.Ya){if("trendingNow" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.c1b=new (function(){this.update=function(d){for(var g in d.Ya){if("ultraHD" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.c3b=new (function(){this.update=function(d){for(var g in d.Ya){if("watchAgain" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.u0b=new (function(){this.update=function(d){for(var g in d.Ya){if("topTen" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.qwb=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.Xa || null;};this.type="cat";})();a.rwb=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.Xa || null;};this.type="cat";})();a.swb=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.Xa || null;};this.type="cat";})();a.twb=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.Xa || null;};this.type="cat";})();a.uwb=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.Xa || null;};this.type="cat";})();a.vwb=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.Xa || null;};this.type="cat";})();a.wwb=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.Xa || null;};this.type="cat";})();a.xwb=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.Xa || null;};this.type="cat";})();a.ywb=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.Xa || null;};this.type="cat";})();a.zwb=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.Xa || null;};this.type="cat";})();a.Awb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.Xa || null;};this.type="cat";})();a.Bwb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.Xa || null;};this.type="cat";})();a.Cwb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.Xa || null;};this.type="cat";})();a.Dwb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.Xa || null;};this.type="cat";})();a.Ewb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.Xa || null;};this.type="cat";})();a.Fwb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.Xa || null;};this.type="cat";})();a.Gwb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.Xa || null;};this.type="cat";})();a.Hwb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.Xa || null;};this.type="cat";})();a.Iwb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.Xa || null;};this.type="cat";})();a.Jwb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.Xa || null;};this.type="cat";})();a.Kwb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.Xa || null;};this.type="cat";})();a.Lwb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.Xa || null;};this.type="cat";})();a.Mwb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.Xa || null;};this.type="cat";})();a.Nwb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.Xa || null;};this.type="cat";})();a.Owb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.Xa || null;};this.type="cat";})();a.Pwb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.Xa || null;};this.type="cat";})();a.Qwb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.Xa || null;};this.type="cat";})();a.Rwb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.Xa || null;};this.type="cat";})();a.Swb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.Xa || null;};this.type="cat";})();a.Twb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.Xa || null;};this.type="cat";})();a.Uwb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.Xa || null;};this.type="cat";})();a.Vwb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.Xa || null;};this.type="cat";})();a.Wwb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.Xa || null;};this.type="cat";})();a.Xwb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.Xa || null;};this.type="cat";})();a.Ywb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.Xa || null;};this.type="cat";})();a.Zwb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.Xa || null;};this.type="cat";})();a.$wb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.Xa || null;};this.type="cat";})();a.axb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.Xa || null;};this.type="cat";})();a.bxb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.Xa || null;};this.type="cat";})();a.cxb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.Xa || null;};this.type="cat";})();a.dxb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.Xa || null;};this.type="cat";})();a.exb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.Xa || null;};this.type="cat";})();a.fxb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.Xa || null;};this.type="cat";})();a.gxb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.Xa || null;};this.type="cat";})();a.hxb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.Xa || null;};this.type="cat";})();a.ixb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.Xa || null;};this.type="cat";})();a.jxb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.Xa || null;};this.type="cat";})();a.kxb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.Xa || null;};this.type="cat";})();a.lxb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.Xa || null;};this.type="cat";})();a.mxb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.Xa || null;};this.type="cat";})();a.nxb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.Xa || null;};this.type="cat";})();a.oxb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.Xa || null;};this.type="cat";})();a.pxb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.Xa || null;};this.type="cat";})();a.qxb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.Xa || null;};this.type="cat";})();a.rxb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.Xa || null;};this.type="cat";})();a.sxb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.Xa || null;};this.type="cat";})();a.txb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.Xa || null;};this.type="cat";})();a.uxb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.Xa || null;};this.type="cat";})();a.vxb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.Xa || null;};this.type="cat";})();a.wxb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.Xa || null;};this.type="cat";})();a.xxb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.Xa || null;};this.type="cat";})();a.yxb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.Xa || null;};this.type="cat";})();a.zxb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.Xa || null;};this.type="cat";})();a.Axb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.Xa || null;};this.type="cat";})();a.Bxb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.Xa || null;};this.type="cat";})();a.Cxb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.Xa || null;};this.type="cat";})();a.Dxb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.Xa || null;};this.type="cat";})();a.Exb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.Xa || null;};this.type="cat";})();a.Fxb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.Xa || null;};this.type="cat";})();a.Gxb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.Xa || null;};this.type="cat";})();a.Hxb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.Xa || null;};this.type="cat";})();a.Ixb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.Xa || null;};this.type="cat";})();a.Jxb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.Xa || null;};this.type="cat";})();a.Kxb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.Xa || null;};this.type="cat";})();a.Lxb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.Xa || null;};this.type="cat";})();a.Mxb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.Xa || null;};this.type="cat";})();a.Nxb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.Xa || null;};this.type="cat";})();a.Oxb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.Xa || null;};this.type="cat";})();a.Pxb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.Xa || null;};this.type="cat";})();a.cVb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.ri || null;};this.type="cat";})();a.dVb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.ri || null;};this.type="cat";})();a.eVb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.ri || null;};this.type="cat";})();a.fVb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.ri || null;};this.type="cat";})();a.gVb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.ri || null;};this.type="cat";})();a.hVb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.ri || null;};this.type="cat";})();a.iVb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.ri || null;};this.type="cat";})();a.jVb=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.ri || null;};this.type="cat";})();a.kVb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.ri || null;};this.type="cat";})();a.lVb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.ri || null;};this.type="cat";})();a.mVb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.ri || null;};this.type="cat";})();a.nVb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.ri || null;};this.type="cat";})();a.oVb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.ri || null;};this.type="cat";})();a.pVb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.ri || null;};this.type="cat";})();a.qVb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.ri || null;};this.type="cat";})();a.rVb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.ri || null;};this.type="cat";})();a.sVb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.ri || null;};this.type="cat";})();a.tVb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.ri || null;};this.type="cat";})();a.uVb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.ri || null;};this.type="cat";})();a.vVb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.ri || null;};this.type="cat";})();a.wVb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.ri || null;};this.type="cat";})();a.xVb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.ri || null;};this.type="cat";})();a.yVb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.ri || null;};this.type="cat";})();a.m_b=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.o_b=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.n_b=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.p_b=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.rOb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.sOb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Xja);};this.getValue=function(){return this.G;};this.type="num";})();a.zOb=new (function(){this.vS=this.G=0;this.update=function(d){this.vS++;this.G=1 * (this.G + d.rowIndex) / this.vS;};this.getValue=function(){return this.G;};this.type="num";})();a.AOb=new (function(){this.vS=this.G=0;this.update=function(d){this.vS++;return this.G=1 * (this.G + d.Xja) / this.vS;};this.getValue=function(){return this.G;};this.type="num";})();a.WTb=new (function(){this.getValue=function(d,g,h){return this.G=h.Xja + g;};this.type="num";})();a.XTb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.aE=function(d){return this.VOa(this.K["0"].s8a(d),d);};f.prototype.VOa=function(d,g){return "string" == typeof d?this.VOa(this.K[d].s8a(g),g):d;};c.prototype.s8a=function(d){switch(this.KLb){case 0:switch(d.features[this.VZ].type){case "cat":return null === d.features[this.VZ].value?this.T3a:"missing" == d.features[this.VZ].value?this.Vra:this.scb;case "num":return null === d.features[this.VZ].value?this.Vra:d.features[this.VZ].value < this.split?this.scb:this.T3a;default:return this.Vra;}case 1:return this.aE;default:return this.aE;}};b.declare({eX:["modelSelector","modelone"],wvb:["colEpisodeList",5],mJb:["holdDuration",15E3],e8a:["rowFirst",2],CSa:["colFirst",5],g8a:["rowScroll",2],DSa:["colScroll",6],PWb:["rowScrollHorizontal",6],hXb:["searchTop",3],UTa:["cwFirst",2],aW:["horizontalItemsFocusedMode",3],MLb:["itemsPerRank",1],iOb:["maxNumberPayloadsStored",10],J2a:["maxNumberTitlesScheduled",5],u$b:["enableDetailedLogging",!0],scc:["rowStep",20],T9b:["colStep",15],Vbc:["pageRows",100],Ubc:["pageColumns",75],lra:["maskParamsList",new (function(){var d,g;this.lra=[];this.Te={};this.x$=20;this.d4=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.x$) + "_" + Math.floor(g / this.d4) in this.Te) || (this.Te[Math.floor(d / this.x$) + "_" + Math.floor(g / this.d4)]=1,this.lra.push(new l("grid",10,5,5,Math.floor(d / this.x$),Math.floor(g / this.d4))));}}})().lra],K:["nodes",new f().K],mapping:["mapping",{sOb:"0",AOb:"1",rOb:"2",zOb:"3",jsb:"4",p_b:"5",n_b:"6",o_b:"7",m_b:"8",XTb:"9",WTb:"10",EMb:"11",FMb:"12",HMb:"13",IMb:"14",GMb:"15",JMb:"16",KMb:"17",LMb:"18",MMb:"19",NMb:"20",OMb:"21",PMb:"22",QMb:"23",RMb:"24",SMb:"25",TMb:"26",cVb:"27",dVb:"28",eVb:"29",fVb:"30",gVb:"31",hVb:"32",iVb:"33",jVb:"34",kVb:"35",lVb:"36",mVb:"37",nVb:"38",oVb:"39",pVb:"40",qVb:"41",rVb:"42",sVb:"43",tVb:"44",uVb:"45",vVb:"46",wVb:"47",xVb:"48",yVb:"49",qwb:"50",rwb:"51",swb:"52",twb:"53",uwb:"54",vwb:"55",wwb:"56",xwb:"57",ywb:"58",zwb:"59",Awb:"60",Bwb:"61",Cwb:"62",Dwb:"63",Ewb:"64",Fwb:"65",Gwb:"66",Hwb:"67",Iwb:"68",Jwb:"69",Kwb:"70",Lwb:"71",Mwb:"72",Nwb:"73",Owb:"74",Pwb:"75",Qwb:"76",Rwb:"77",Swb:"78",Twb:"79",Uwb:"80",Vwb:"81",Wwb:"82",Xwb:"83",Ywb:"84",Zwb:"85",$wb:"86",axb:"87",bxb:"88",cxb:"89",dxb:"90",exb:"91",fxb:"92",gxb:"93",hxb:"94",ixb:"95",jxb:"96",kxb:"97",lxb:"98",mxb:"99",nxb:"100",oxb:"101",pxb:"102",qxb:"103",rxb:"104",sxb:"105",txb:"106",uxb:"107",vxb:"108",wxb:"109",xxb:"110",yxb:"111",zxb:"112",Axb:"113",Bxb:"114",Cxb:"115",Dxb:"116",Exb:"117",Fxb:"118",Gxb:"119",Hxb:"120",Ixb:"121",Jxb:"122",Kxb:"123",Lxb:"124",Mxb:"125",Nxb:"126",Oxb:"127",Pxb:"128",c3b:"129",aVb:"130",gZb:"131",ns:"132",fwb:"133",xEb:"134",L0b:"135",u0b:"136",Ysb:"137",KPb:"138",c1b:"139",qTb:"140",Usb:"141",Xsb:"142",Vsb:"143",IPb:"144"}],features:["features",a],b9b:["_modelName","tree"],X8b:["_format","xgboost"],a9b:["_itemsToKeep",5],$8b:["_itemsThreshold",null],E9b:["cacheLimit",20]});r.exports={config:b,Qac:l,Y9b:c};},function(r,b,a){r.exports=a(560);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(561);nb._cad_global={};nb.DEBUG=!1;a(12);a(11);a(19);a(24);a(50);a(92);a(1259);a(553);a(62);a(51);a(21);a(73);a(61);a(1260);a(302);a(336);a(1261);a(535);a(1262);a(532);a(539);a(537);a(538);a(554);a(526);a(527);a(529);a(297);a(296);a(1263);a(14);a(544);a(1264);a(192);a(74);a(533);a(158);a(473);a(474);a(280);a(1265);a(1266);a(497);a(1267);a(490);a(299);a(488);a(298);a(525);a(1268);a(301);a(541);a(190);a(555);a(134);a(1269);a(106);a(1276);a(1277);a(1278);a(1279);a(1281);a(1283);a(540);a(59);a(1284);a(536);a(476);a(534);a(543);a(1285);a(1286);a(306);a(163);a(1287);a(1288);a(1289);a(1291);a(1292);a(530);},function(r,b,a){(function(c){var f;(function(l){var C,G,K,J,I,M,R,H,P;function m(N,L,Q){var S;S=P.get(N);if(!S){if(!Q)return;S=new R();P.set(N,S);}N=S.get(L);if(!N){if(!Q)return;N=new R();S.set(L,N);}return N;}function d(N,L,Q){if(g(N,L,Q))return !0;L=v(L);return null !== L?d(N,L,Q):!1;}function g(N,L,Q){L=m(L,Q,!1);return void 0 !== L && ! !L.has(N);}function h(N,L,Q){if(g(N,L,Q))return k(N,L,Q);L=v(L);return null !== L?h(N,L,Q):void 0;}function k(N,L,Q){L=m(L,Q,!1);return void 0 === L?void 0:L.get(N);}function n(N,L){var Q,U;Q=p(N,L);N=v(N);if(null === N)return Q;L=n(N,L);if(0 >= L.length)return Q;if(0 >= Q.length)return L;N=new H();for(var S=0;S < Q.length;S++){U=Q[S];N.add(U);}for(Q=0;Q < L.length;Q++){U=L[Q];N.add(U);}return z(N);}function p(N,L){var Q;N=m(N,L,!1);Q=[];N && y(N,function(S,U){return Q.push(U);});return Q;}function q(N){return void 0 === N;}function u(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function v(N){var L,Q;L=Object.getPrototypeOf(N);if("function" !== typeof N || N === M || L !== M)return L;Q=N.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return L;Q=Q.constructor;return "function" !== typeof Q || Q === N?L:Q;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,L,Q){var S,U,ca;S=N.entries;if("function" === typeof S){S=S.call(N);try{for(;U=x(S);){ca=U.value;L.call(Q,ca[1],ca[0],N);}}finally{U && (N=S["return"]) && N.call(S);}}else (S=N.forEach,"function" === typeof S && S.call(N,L,Q));}function z(N){var L;L=[];y(N,function(Q,S){L.push(S);});return L;}function A(N,L,Q){var S;S=0;return {next:function(){var U;if((N || L) && S < (N || L).length){U=S++;switch(Q){case "key":return {value:N[U],done:!1};case "value":return {value:L[U],done:!1};case "key+value":return {value:[N[U],L[U]],done:!1};}}L=N=void 0;return {value:void 0,done:!0};},"throw":function(U){if(N || L)L=N=void 0;throw U;},"return":function(U){if(N || L)L=N=void 0;return {value:U,done:!0};}};}function B(){var N;N={};return (function(){function L(){this.cf=[];this.Df=[];this.Hv=N;this.ht=-2;}Object.defineProperty(L.prototype,"size",{get:function(){return this.cf.length;},enumerable:!0,configurable:!0});L.prototype.has=function(Q){return 0 <= this.ly(Q,!1);};L.prototype.get=function(Q){Q=this.ly(Q,!1);return 0 <= Q?this.Df[Q]:void 0;};L.prototype.set=function(Q,S){Q=this.ly(Q,!0);this.Df[Q]=S;return this;};L.prototype.delete=function(Q){var S;S=this.ly(Q,!1);if(0 <= S){Q=this.cf.length;for(S+=1;S < Q;S++){this.cf[S - 1]=this.cf[S];this.Df[S - 1]=this.Df[S];}this.cf.length--;this.Df.length--;this.Hv=N;this.ht=-2;return !0;}return !1;};L.prototype.clear=function(){this.cf.length=0;this.Df.length=0;this.Hv=N;this.ht=-2;};L.prototype.keys=function(){return A(this.cf,void 0,"key");};L.prototype.values=function(){return A(void 0,this.Df,"value");};L.prototype.entries=function(){return A(this.cf,this.Df,"key+value");};L.prototype.ly=function(Q,S){var U;if(this.Hv === Q)return this.ht;U=this.cf.indexOf(Q);0 > U && S && (U=this.cf.length,this.cf.push(Q),this.Df.push(void 0));return (this.Hv=Q,this.ht=U);};return L;})();}function E(){return (function(){function N(){this.Tg=new R();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Tg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(L){return this.Tg.has(L);};N.prototype.add=function(L){return (this.Tg.set(L,L),this);};N.prototype.delete=function(L){return this.Tg.delete(L);};N.prototype.clear=function(){this.Tg.clear();};N.prototype.keys=function(){return this.Tg.keys();};N.prototype.values=function(){return this.Tg.values();};N.prototype.entries=function(){return this.Tg.entries();};return N;})();}function D(){var S,U;function N(ca,ka){for(var ya=0;ya < ka;++ya){ca[ya]=255 * Math.random() | 0;}return ca;}function L(){var ca,qa;do {ca="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);ca[6]=ca[6] & 79 | 64;ca[8]=ca[8] & 191 | 128;for(var ka="",ya=0;16 > ya;++ya){qa=ca[ya];if(4 === ya || 6 === ya || 8 === ya)ka+="-";16 > qa && (ka+="0");ka+=qa.toString(16).toLowerCase();}ca="@@WeakMap@@" + ka;}while(I.has(S,ca));S[ca]=!0;return ca;}function Q(ca,ka){if(!C.call(ca,U)){if(!ka)return;Object.defineProperty(ca,U,{value:J()});}return ca[U];}S=J();U=L();return (function(){function ca(){this.pt=L();}ca.prototype.has=function(ka){ka=Q(ka,!1);return void 0 !== ka?I.has(ka,this.pt):!1;};ca.prototype.get=function(ka){ka=Q(ka,!1);return void 0 !== ka?I.get(ka,this.pt):void 0;};ca.prototype.set=function(ka,ya){Q(ka,!0)[this.pt]=ya;return this;};ca.prototype.delete=function(ka){ka=Q(ka,!1);return void 0 !== ka?delete ka[this.pt]:!1;};ca.prototype.clear=function(){this.pt=L();};return ca;})();}function F(N){N.U8b=1;delete N.V8b;return N;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;K=(function(){var L;function N(){}L={};N.prototype=L;return new N().__proto__ === L;})();J=G?function(){return F(Object.create(null));}:K?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var L;L=!G && !K;N.has=L?function(Q,S){return C.call(Q,S);}:function(Q,S){return (S in Q);};N.get=L?function(Q,S){return C.call(Q,S)?Q[S]:void 0;}:function(Q,S){return Q[S];};})(I || (I={}));M=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();H="function" === typeof Set?Set:E();P=new ("function" === typeof WeakMap?WeakMap:D())();l.Hr=function(N,L,Q,S){var ca;if(q(S)){if(q(Q)){if(!u(N))throw new TypeError();if("function" !== typeof L)throw new TypeError();for(Q=N.length - 1;0 <= Q;--Q){if((S=(0,N[Q])(L),!q(S))){if("function" !== typeof S)throw new TypeError();L=S;}}return L;}if(!u(N))throw new TypeError();if(!t(L))throw new TypeError();Q=w(Q);for(S=N.length - 1;0 <= S;--S){(0,N[S])(L,Q);}}else {if(!u(N))throw new TypeError();if(!t(L))throw new TypeError();if(q(Q))throw new TypeError();if(!t(S))throw new TypeError();Q=w(Q);for(var U=N.length - 1;0 <= U;--U){ca=(0,N[U])(L,Q,S);if(!q(ca)){if(!t(ca))throw new TypeError();S=ca;}}return S;}};l.Gc=function(N,L){return function(Q,S){if(q(S)){if("function" !== typeof Q)throw new TypeError();m(Q,void 0,!0).set(N,L);}else {if(!t(Q))throw new TypeError();S=w(S);m(Q,S,!0).set(N,L);}};};l.H4=function(N,L,Q,S){if(!t(Q))throw new TypeError();q(S) || (S=w(S));m(Q,S,!0).set(N,L);};l.OIb=function(N,L){var Q;if(!t(L))throw new TypeError();q(Q) || (Q=w(Q));return d(N,L,Q);};l.Hoa=function(N,L){var Q;if(!t(L))throw new TypeError();q(Q) || (Q=w(Q));return g(N,L,Q);};l.getMetadata=function(N,L,Q){if(!t(L))throw new TypeError();q(Q) || (Q=w(Q));return h(N,L,Q);};l.OYa=function(N,L,Q){if(!t(L))throw new TypeError();q(Q) || (Q=w(Q));return k(N,L,Q);};l.T$b=function(N,L){if(!t(N))throw new TypeError();q(L) || (L=w(L));return n(N,L);};l.V$b=function(N,L){if(!t(N))throw new TypeError();q(L) || (L=w(L));return p(N,L);};l.a$b=function(N,L,Q){var S;if(!t(L))throw new TypeError();q(Q) || (Q=w(Q));S=m(L,Q,!1);if(q(S) || !S.delete(N))return !1;if(0 < S.size)return !0;N=P.get(L);N.delete(Q);if(0 < N.size)return !0;P.delete(L);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== l)for(var L in l){C.call(l,L) && (N.Reflect[L]=l[L]);}}else N.Reflect=l;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(193));},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u;c=this && this.__awaiter || (function(t,w,v,x){return new (v || (v=Promise))(function(y,z){function A(D){try{E(x.next(D));}catch(F){z(F);}}function B(D){try{E(x["throw"](D));}catch(F){z(F);}}function E(D){D.done?y(D.value):new v(function(F){F(D.value);}).then(A,B);}E((x=x.apply(t,w || [])).next());});});f=this && this.__generator || (function(t,w){var y,z,A,B,E;function v(D){return function(F){return x([D,F]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;A=D[1];D=[0];continue;case 7:D=y.Pn.pop();y.Qm.pop();continue;default:if(!(B=y.Qm,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))y.label=D[1];else if(6 === D[0] && y.label < B[1])(y.label=B[1],B=D);else if(B && y.label < B[2])(y.label=B[2],y.Pn.push(D));else {B[2] && y.Pn.pop();y.Qm.pop();continue;}}D=w.call(t,y);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,Ic:function(){if(B[0] & 1)throw B[1];return B[1];},Qm:[],Pn:[]};return (E={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (E[Symbol.iterator]=function(){return this;}),E);});Object.defineProperty(b,"__esModule",{value:!0});l=a(563);m=a(55);d=a(76);a(43);g=a(309);h=a(564);k=a(571);n=a(573);p=a(107);q=a(135);a(576);u=a(577);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.eeb);if(void 0 === w.EG)w.EG=d.Ss.v1;else if(w.EG !== d.Ss.Nea && w.EG !== d.Ss.v1 && w.EG !== d.Ss.Request)throw Error("" + m.ceb);if(void 0 === w.PT)w.PT=!1;else if("boolean" !== typeof w.PT)throw Error("" + m.beb);if(void 0 === w.QI)w.QI=!1;else if("boolean" !== typeof w.QI)throw Error("" + m.deb);this.options={PT:w.PT,EG:w.EG,QI:w.QI};this.id=p.id();this.FK=new u.vhb();this.Gpb=[];this.parent=this.Kga=null;this.xnb=new g.vda();}t.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.qNa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.Kua(z.kRa,z.Lab,z.R0a,z.T6a);}};t.prototype.ON=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,A,B;return f(this,function(E){switch(E.label){case 0:(x=this.qNa(),y=0,z=w,E.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Kua(B.kRa,B.Lab,B.R0a,B.T6a)];case 2:(E.Ic(),E.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.bind=function(w){var v;v=new l.qdb(w,this.options.EG || d.Ss.v1);this.FK.add(w,v);return new n.sdb(v);};t.prototype.XUb=function(w){this.Kab(w);return this.bind(w);};t.prototype.Kab=function(w){try{this.FK.remove(w);}catch(v){throw Error(m.Odb + " " + q.jN(w));}};t.prototype.h0a=function(w){var v;v=this.FK.LZa(w);!v && this.parent && (v=this.parent.h0a(w));return v;};t.prototype.restore=function(){var w;w=this.Gpb.pop();if(void 0 === w)throw Error(m.kib);this.FK=w.TT;this.Kga=w.ZOb;};t.prototype.Wxb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.pNa(!1,!1,d.$x.dfa,w);};t.prototype.getAll=function(w){return this.pNa(!0,!0,d.$x.dfa,w);};t.prototype.resolve=function(w){var v;v=this.Wxb();v.bind(w).mab();return v.get(w);};t.prototype.qNa=function(){var z;function w(A){return function(B){B=z.XUb.bind(z)(B);B.Ec.uPb=A;return B;};}function v(){return function(A){return z.h0a.bind(z)(A);};}function x(){return function(A){z.Kab.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Ec.uPb=A;return B;};}z=this;return function(A){return {kRa:y(A),R0a:v(A),T6a:w(A),Lab:x(A)};};};t.prototype.pNa=function(w,v,x,y){var z;z=null;w={Isb:w,ewb:function(A){return A;},iLb:v,key:void 0,Ng:y,J_b:x,value:void 0};if(this.Kga){if((z=this.Kga(w),void 0 === z || null === z))throw Error(m.bhb);}else z=this.Job()(w);return z;};t.prototype.Job=function(){var w;w=this;return function(v){var x;x=h.AO(w.xnb,w,v.iLb,v.J_b,v.Ng,v.key,v.value,v.Isb);x=v.ewb(x);return k.resolve(x);};};return t;})();b.M_=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(107);r=(function(){function l(m,d){this.id=f.id();this.Jha=!1;this.Ng=m;this.scope=d;this.type=c.Ij.nhb;this.vG=function(){return !0;};this.wM=this.Sw=this.CA=this.JM=this.cache=this.xm=null;}l.prototype.clone=function(){var m;m=new l(this.Ng,this.scope);m.Jha=!1;m.xm=this.xm;m.wM=this.wM;m.scope=this.scope;m.type=this.type;m.JM=this.JM;m.CA=this.CA;m.vG=this.vG;m.Sw=this.Sw;m.cache=this.cache;return m;};return l;})();b.qdb=r;},function(r,b,a){var d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A,B,E){var D,F;D=m(A.$a,E.Ng);F=[];D.length === d.Mba.OGa && A.$a.options.PT && "function" === typeof E.Ng && y.zXa(E.Ng).JSa && (A.$a.bind(E.Ng).mab(),D=m(A.$a,E.Ng));F=z?D:D.filter(function(C){var G;G=new v.Request(C.Ng,A,B,C,E);return C.vG(G);});f(E.Ng,F,E,A.$a);return F;}function f(y,z,A,B){switch(z.length){case d.Mba.OGa:if(A.x0a())return z;y=p.jN(y);z=g.iib;z+=p.DMb(y,A);z+=p.A1a(B,y,m);throw Error(z);case d.Mba.Aib:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.jN(y);z=g.vcb + " " + y;z+=p.A1a(B,y,m);throw Error(z);}}function l(y,z,A,B,E,D){var F;if(null === E){z=c(y,z,B,null,D);F=new v.Request(A,B,null,z,D);A=new t.xjb(B,F);B.Rqb(A);}else (z=c(y,z,B,E,D),F=E.BPa(D.Ng,z,D));z.forEach(function(C){var G,K,J;G=null;if(D.isArray())G=F.BPa(C.Ng,C,D);else {if(C.cache)return;G=F;}if(C.type === h.Ij.Instance && null !== C.xm){K=w.sFb(y,C.xm);if(!B.$a.options.QI){J=w.QEb(y,C.xm);if(K.length < J)throw (C=g.xcb(w.getFunctionName(C.xm)),Error(C));}K.forEach(function(I){l(y,!1,I.Ng,B,G,I);});}});}function m(y,z){var A,B;A=[];B=y.FK;B.LZa(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(565);g=a(55);h=a(76);k=a(43);n=a(310);p=a(135);q=a(566);u=a(65);t=a(567);w=a(568);v=a(570);x=a(312);b.O$b=function(y){return y.FK;};b.AO=function(y,z,A,B,E,D,F,C){void 0 === C && (C=!1);z=new q.JAa(z);A=new u.Metadata(A?k.TE:k.mR,E);B=new x.s1(B,"",E,A);void 0 !== D && (D=new u.Metadata(D,F),B.Gc.push(D));try{return (l(y,C,E,z,null,B),z);}catch(G){throw (n.F0a(G) && z.AO && p.Xub(z.AO.qva),G);}};b.U9b=function(y,z,A,B){A=new x.s1(h.$x.dfa,"",z,new u.Metadata(A,B));y=new q.JAa(y);return new v.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mba={v6b:2,OGa:0,Aib:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function f(l){this.id=c.id();this.$a=l;}f.prototype.Rqb=function(l){this.AO=l;};return f;})();b.JAa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xjb=(function(){return function(a,c){this.tO=a;this.qva=c;};})();},function(r,b,a){var d,g,h,k,n,p;function c(q,u,t,w){var v,x,y,z,B,E,D,F,C,G,K,J;v=q.zXa(t);x=v.JSa;if(void 0 === x)throw Error(g.Ghb + " " + u + ".");v=v.q2b;y=Object.keys(v);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var A=0;A < z;A++){B=A;E=w;D=u;F=x;C=v[B.toString()] || [];G=m(C);K=!0 !== G.pl;F=F[B];J=G.l || G.OH;F=J?J:F;F instanceof d.Yca && (F=F.m1b());if(K){K=F === Function;K=F === Object || K || void 0 === F;if(!E && K)throw Error(g.Hhb + " argument " + B + " in class " + D + ".");B=new p.s1(h.$x.HAa,G.tZ,F);B.Gc=C;C=B;}else C=null;null !== C && y.push(C);}q=f(q,t);return y.concat(q);}function f(q,u){var y,z,A;for(var t=q.gHb(u),w=[],v=0,x=Object.keys(t);v < x.length;v++){y=x[v];z=t[y];A=m(t[y]);y=new p.s1(h.$x.yAa,A.tZ || y,A.l || A.OH);y.Gc=z;w.push(y);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=f(q,u),w=w.concat(q));return w;}function l(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Gc.filter(function(x){return x.key === k.dS;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:l(q,u);}return 0;}function m(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[k.mR],OH:u[k.TE],tZ:u[k.K0],pl:u[k.dS]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(311);g=a(55);h=a(76);k=a(43);n=a(135);b.getFunctionName=n.getFunctionName;p=a(312);b.sFb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.QEb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.FP=c;}a.prototype.startsWith=function(c){return 0 === this.FP.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.FP.split("").reverse().join("");return this.startsWith.call({FP:c},f);};a.prototype.contains=function(c){return -1 !== this.FP.indexOf(c);};a.prototype.equals=function(c){return this.FP === c;};a.prototype.value=function(){return this.FP;};return a;})();b.Hjb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function f(l,m,d,g,h){this.id=c.id();this.Ng=l;this.tO=m;this.vA=d;this.target=h;this.Jja=[];this.TT=Array.isArray(g)?g:[g];this.nWb=null === d?new Map():null;}f.prototype.BPa=function(l,m,d){l=new f(l,this.tO,this,m,d);this.Jja.push(l);return l;};return f;})();b.Request=r;},function(r,b,a){var l,m,d,g,h;function c(k){return function(n){var p,q,u,t,w;p=n.TT;q=n.Jja;u=n.target && n.target.isArray();t=!n.vA || !n.vA.target || !n.target || !n.vA.target.XNb(n.target.Ng);if(u && t)return q.map(function(v){return c(k)(v);});u=null;if(!n.target.x0a() || 0 !== p.length){w=p[0];p=w.scope === m.Ss.Nea;t=w.scope === m.Ss.Request;if(p && w.Jha)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === m.Ij.FAa)u=w.cache;else if(w.type === m.Ij.Function)u=w.cache;else if(w.type === m.Ij.GAa)u=w.xm;else if(w.type === m.Ij.QBa && null !== w.wM)u=f("toDynamicValue",w.Ng,function(){return w.wM(n.tO);});else if(w.type === m.Ij.vca && null !== w.JM)u=f("toFactory",w.Ng,function(){return w.JM(n.tO);});else if(w.type === m.Ij.FJa && null !== w.CA)u=f("toProvider",w.Ng,function(){return w.CA(n.tO);});else if(w.type === m.Ij.Instance && null !== w.xm)u=h.zWb(w.xm,q,c(k));else throw (q=g.jN(n.Ng),Error(l.Ygb + " " + q));"function" === typeof w.Sw && (u=w.Sw(n.tO,u));p && (w.cache=u,w.Jha=!0);t && null !== k && !k.has(w.id) && k.set(w.id,u);return u;}};}function f(k,n,p){try{return p();}catch(q){if(d.F0a(q))throw Error(l.Rdb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(76);d=a(310);g=a(135);h=a(572);b.resolve=function(k){return c(k.AO.qva.nWb)(k.AO.qva);};},function(r,b,a){var l,m,d;function c(g,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.$x.yAa;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function f(g,h){var k;if(Reflect.OIb(d.MR,g)){k=Reflect.getMetadata(d.MR,g);try{h[k.value]();}catch(n){throw Error(l.ojb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(76);d=a(43);b.zWb=function(g,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.$x.HAa;}).map(k),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,k)):n=new g();f(g,n);return n;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(76);l=a(574);m=a(313);r=(function(){function d(g){this.Ec=g;}d.prototype.to=function(g){this.Ec.type=f.Ij.Instance;this.Ec.xm=g;return new l.yza(this.Ec);};d.prototype.mab=function(){if("function" !== typeof this.Ec.Ng)throw Error("" + c.dhb);this.to(this.Ec.Ng);};d.prototype.$i=function(g){this.Ec.type=f.Ij.FAa;this.Ec.cache=g;this.Ec.wM=null;this.Ec.xm=null;new m.AE(this.Ec);};d.prototype.qE=function(g){this.Ec.type=f.Ij.QBa;this.Ec.cache=null;this.Ec.wM=g;this.Ec.xm=null;return new l.yza(this.Ec);};d.prototype.n0b=function(g){this.Ec.type=f.Ij.GAa;this.Ec.xm=g;new m.AE(this.Ec);};d.prototype.yf=function(g){this.Ec.type=f.Ij.vca;this.Ec.JM=g;new m.AE(this.Ec);};d.prototype.o0b=function(g){if("function" !== typeof g)throw Error(c.ahb);this.$i(g);this.Ec.type=f.Ij.Function;};d.prototype.kab=function(g){this.Ec.type=f.Ij.vca;this.Ec.JM=function(h){return function(){return h.$a.get(g);};};new m.AE(this.Ec);};d.prototype.CZ=function(g){this.Ec.type=f.Ij.FJa;this.Ec.CA=g;new m.AE(this.Ec);};d.prototype.p0b=function(g){this.qE(function(h){return h.$a.get(g);});};return d;})();b.sdb=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(575);f=a(196);l=a(197);r=(function(){function m(d){this.Ec=d;this.mS=new l.Nba(this.Ec);this.ufa=new f.E_(this.Ec);this.HMa=new c.rdb(d);}m.prototype.aa=function(){return this.HMa.aa();};m.prototype.dpa=function(){return this.HMa.dpa();};m.prototype.when=function(d){return this.mS.when(d);};m.prototype.f_=function(){return this.mS.f_();};m.prototype.Sw=function(d){return this.ufa.Sw(d);};return m;})();b.yza=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(313);r=(function(){function l(m){this.Ec=m;}l.prototype.aa=function(){this.Ec.scope=c.Ss.Nea;return new f.AE(this.Ec);};l.prototype.dpa=function(){this.Ec.scope=c.Ss.v1;return new f.AE(this.Ec);};return l;})();b.rdb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v4b=(function(){function a(){}a.of=function(c,f){var l;l=new a();l.TT=c;l.ZOb=f;return l;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function f(){this.Tg=new Map();}f.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.GR);if(null === m || void 0 === m)throw Error(c.GR);d=this.Tg.get(l);void 0 !== d?(d.push(m),this.Tg.set(l,d)):this.Tg.set(l,[m]);};f.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.GR);l=this.Tg.get(l);if(void 0 !== l)return l;throw Error(c.BEa);};f.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.GR);if(!this.Tg.delete(l))throw Error(c.BEa);};f.prototype.LZa=function(l){if(null === l || void 0 === l)throw Error(c.GR);return this.Tg.has(l);};f.prototype.clone=function(){var l;l=new f();this.Tg.forEach(function(m,d){m.forEach(function(g){return l.add(d,g.clone());});});return l;};return f;})();b.vhb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);b.rd=(function(){return function(f){this.id=c.id();this.Kua=f;};})();b.mza=(function(){return function(f){this.id=c.id();this.Kua=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);b.R=function(){return function(l){var m;if(Reflect.Hoa(f.Hda,l))throw Error(c.kfb);m=Reflect.getMetadata(f.Jeb,l) || [];Reflect.H4(f.Hda,m,l);return l;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);f=a(93);b.J$a=function(l,m){return function(d,g,h){var k;k=new c.Metadata(l,m);"number" === typeof h?f.$I(d,g,h,k):f.sZ(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.I3a=function(m){return function(d,g,h){var k;k=new f.Metadata(c.zB,m);"number" === typeof h?l.$I(d,g,h,k):l.sZ(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.optional=function(){return function(m,d,g){var h;h=new f.Metadata(c.XGa,!0);"number" === typeof g?l.$I(m,d,g,h):l.sZ(m,d,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.pl=function(){return function(m,d,g){var h;h=new f.Metadata(c.dS,!0);l.$I(m,d,g,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.OH=function(m){return function(d,g,h){var k;k=new f.Metadata(c.TE,m);"number" === typeof h?l.$I(d,g,h,k):l.sZ(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.tZ=function(m){return function(d,g,h){var k;k=new f.Metadata(c.K0,m);l.$I(d,g,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);b.b6a=function(){return function(m,d){d=new l.Metadata(f.MR,d);if(Reflect.Hoa(f.MR,m.constructor))throw Error(c.Uhb);Reflect.H4(f.MR,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E3a=function(a){return function(c){return function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.forEach(function(m){return a.bind(m).p0b(c);});};};};},function(r,b,a){var d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E;function c(D,F){D=D.Dw || D.BN?(0,t.PXa)(F):D.nW?(0,v.ZXa)(F):D.y7?(0,w.KYa)(F):D.GN?(0,x.bZa)(F):(0,u.vXa)(F);this.g0=D.g0;this.Zba=D.Zba;}function f(D){this.he=D;}function l(D){var F;F=k.bea.call(this) || this;D.DN?Object.assign(F,(0,x.iYa)()):D.nW?Object.assign(F,(0,v.YXa)()):D.y7?Object.assign(F,(0,w.JYa)()):D.Dw || D.BN?Object.assign(F,(0,t.OXa)()):D.GN?Object.assign(F,(0,x.aZa)()):Object.assign(F,(0,u.uXa)(D));return F;}function m(D){this.data=D.nW?(0,v.aYa)(D):D.y7?(0,w.MYa)(D):D.Dw || D.BN?(0,t.RXa)(D):D.GN?(0,x.dZa)(D):(0,u.xXa)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Kdb=b.Jdb=b.Idb=b.Hdb=void 0;r=a(1);d=a(0);g=a(34);h=a(108);k=a(589);n=a(164);p=a(316);q=a(199);u=a(590);t=a(591);w=a(592);v=a(593);x=a(594);y=a(595);z=a(596);Wa.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},S8:{configurable:!0,enumerable:!0,get:function(){return this.data.S8;}},bq:{configurable:!0,enumerable:!0,get:function(){return this.data.bq;}},Go:{configurable:!0,enumerable:!0,get:function(){return this.data.Go;}},TM:{configurable:!0,enumerable:!0,get:function(){return this.data.TM;}},lz:{configurable:!0,enumerable:!0,get:function(){return this.data.lz;}},jla:{configurable:!0,enumerable:!0,get:function(){return this.data.jla;}},iUa:{configurable:!0,enumerable:!0,get:function(){return this.data.iUa;}},Pqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Pqa;}},GU:{configurable:!0,enumerable:!0,get:function(){return this.data.GU;}},kya:{configurable:!0,enumerable:!0,get:function(){return this.data.kya;}},l3:{configurable:!0,enumerable:!0,get:function(){return this.data.l3;}},oY:{configurable:!0,enumerable:!0,get:function(){return this.data.oY;}}});A=m;A=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(n.pB))],A);b.Hdb=A;na(l,k.bea);B=l;B=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(n.pB))],B);b.Idb=B;f.prototype.apply=function(){this.he.nW?Object.assign(this,(0,v.$Xa)(this.he)):this.he.y7?Object.assign(this,(0,w.LYa)(this.he)):this.he.Dw || this.he.BN?Object.assign(this,(0,t.QXa)(this.he)):this.he.GN?Object.assign(this,(0,x.cZa)(this.he)):Object.assign(this,(0,u.wXa)(this.he));return this;};E=f;E=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(n.pB))],E);b.Jdb=E;c=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(n.pB)),(0,r.__param)(1,(0,d.l)(g.Ik))],c);b.Kdb=c;b.platform=new d.rd(function(D){D(g.Ik).to(A).aa();D(h.iF).to(B).aa();D(p.sIa).to(E).aa();D(g.CB).to(c).aa();D(q.cea).yf(function(F){return function(){var C;C=F.$a.get(n.pB);return C.Dw || C.BN?{ac:function(G,K,J){return new z.jfa(G,K,J);},request:y.sMa}:C.GN?{ac:function(G,K,J){return new (a(597))(G,K,J);},request:a(598)}:{};};});});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.bea=void 0;c=a(4);f=a(52);l=a(198);m=a(45);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.bea=function(){this.bRa=this.LL=l.yx.D0;this.Tva=!0;this.rC=[];this.mv=[];this.aI=this.zM=!1;this.hv=[m.cn.$ba,m.cn.$jb,m.cn.eK];this.zm=void 0;this.Nla=!0;this.b5=!1;this.ET=(0,f.fa)(288E4);this.FT=(0,f.fa)(335544320);this.hA=(0,c.Oc)(15E3);this.fOb=(0,f.fa)(6291456);this.PN=1E3;this.sja=!0;this.pxa=d;this.NP=(0,f.fa)(0);this.taa=(0,c.Oc)(0);this.eW=!0;this.Naa=!1;this.Dra=this.I5=!0;this.LG=!1;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.vXa=b.wXa=b.uXa=b.xXa=void 0;c=a(26);f=a(45);l=a(136);b.xXa=function(m){return Object.assign(Object.assign({},(0,l.YM)()),{bq:m.J0a?"T":m.AN?"C":"M",Go:m.J0a?"NFCDTS-01-":m.E7?"NFCDCH-02-":m.Kpa?"NFCDCH-MC-":m.AN?"NFCDCH-01-":m.m7?"NFCDCH-AP-":m.l7?"NFCDCH-AT-":m.DN?"NFCDCH-PH-":"NFCDCH-LX-",lz:m.AN?"chromeos-cadmium":"chrome-cadmium",oY:m.AN});};b.uXa=function(m){var d;d=Object.assign(Object.assign({},(0,l.WM)()),{zM:!0,aI:!0});m.AN && (d.mv=[].concat(ea(f.N.xca),ea(f.N.vba),ea(f.N.ZLa),ea(f.N.$ea),ea(f.N.afa),ea(f.N.Bca),ea(f.N.Aca)));return d;};b.wXa=function(m){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.fj.GJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0};80 <= m.Ct && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));m.AN && 89 <= m.Ct && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= m.Ct && m.E7 && (d=Object.assign(Object.assign({},d),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));return d;};b.vXa=function(m){return (0,l.XM)(m);};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.PXa=b.QXa=b.OXa=b.RXa=void 0;c=a(26);f=a(109);l=a(45);m=a(198);d=a(136);g=a(110);b.RXa=function(h){return Object.assign(Object.assign({},(0,d.YM)()),{bq:h.Dw?"D":"H",Go:h.Dw?h.Kpa?"NFCDIE-04-":h.m7?"NFCDIE-AP-":h.l7?"NFCDIE-AT-":h.DN?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",lz:"edge-cadmium",l3:!1,oY:!1});};b.OXa=function(){return Object.assign(Object.assign({},(0,d.WM)()),{LL:nb.crypto?m.yx.D0:m.yx.AEa,bRa:nb.crypto?m.yx.D0:m.yx.AEa,rC:[l.ze.JE,l.ze.KE,l.ze.CQ,l.ze.DQ],mv:[].concat(ea(l.N.xca),ea(l.N.vba),ea(l.N.ZLa),ea(l.N.$ea),ea(l.N.afa),ea(l.N.Bca),ea(l.N.Aca),ea(l.N.cBa),ea(l.N.bBa),ea(l.N.Fj)),zm:void 0,eW:!1});};b.QXa=function(h){var k,n,p,q,u,t,w;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.qv.Qx,videoCapabilityDetectorType:c.fj.Qx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};q=h.BN;u=h.Dw;t=h.E7;w=null === (k=nb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(f.Ib.Vd,g.Gd.Nra);k=w || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.Ib.jF,g.Gd.Nra));n={prepareCadmium:!0,enableLdlPrefetch:!k || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:c.qv.tv,videoCapabilityDetectorType:c.fj.GJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Ib.oMa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[l.ze.JE,l.ze.KE],videoProfiles:[l.N.RJ,l.N.IE,l.N.QQ,l.N.RQ],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};q && (14 <= h.Ct && (p=Object.assign(Object.assign(Object.assign({},p),n),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Ct && (p=Object.assign(Object.assign({},p),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Ct && (p=Object.assign(Object.assign({},p),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Ct && (p=Object.assign(Object.assign({},p),{enableDDPlusAtmos:!0})));u && (p=Object.assign(Object.assign({},p),n),t && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),k?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.Ib.zjb,f.Ib.yIa]}),94 === h.Ct && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1})),95 <= h.Ct && (p=Object.assign(Object.assign({},p),{enableHWDRM:!0}))):p=Object.assign(Object.assign({},p),w));return p;};b.PXa=function(h){return (0,d.XM)(h);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.KYa=b.LYa=b.JYa=b.MYa=void 0;c=a(26);f=a(136);b.MYa=function(l){return Object.assign(Object.assign({},(0,f.YM)()),{bq:"O",Go:l.m7?"NFCDOP-AP-":l.l7?"NFCDOP-AT-":l.DN?"NFCDOP-PH-":"NFCDOP-01-",lz:"opera-cadmium"});};b.JYa=function(){return Object.assign(Object.assign({},(0,f.WM)()),{zM:!0,aI:!0});};b.LYa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.fj.GJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Ct && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.KYa=function(l){return (0,f.XM)(l);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.ZXa=b.$Xa=b.YXa=b.aYa=void 0;c=a(26);f=a(136);b.aYa=function(l){return Object.assign(Object.assign({},(0,f.YM)()),{bq:"F",Go:l.Kpa?"NFCDFF-MC-":l.E7?"NFCDFF-02-":l.m7?"NFCDFF-AP-":l.l7?"NFCDFF-AT-":l.DN?"NFCDFF-PH-":"NFCDFF-LX-",lz:"firefox-cadmium"});};b.YXa=function(){return Object.assign(Object.assign({},(0,f.WM)()),{zM:!0,aI:!0});};b.$Xa=function(){return {droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.fj.GJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0};};b.ZXa=function(l){return (0,f.XM)(l);};},function(r,b,a){var f,l,m,d,g;function c(){return Object.assign(Object.assign({},(0,g.WM)()),{rC:[d.ze.JE,d.ze.KE,d.ze.uF],mv:[].concat(ea(d.N.xca),ea(d.N.vba),ea(d.N.$ea),ea(d.N.afa),ea(d.N.Bca),ea(d.N.Aca),ea(d.N.cBa),ea(d.N.bBa)),zm:m.Ib.Tfb,hA:(0,f.Oc)(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.bZa=b.cZa=b.aZa=b.iYa=b.dZa=void 0;f=a(4);l=a(26);m=a(109);d=a(45);g=a(136);b.dZa=function(h){return Object.assign(Object.assign({},(0,g.YM)()),{bq:"S",Go:h.DN?"NFCDSF-PH-":"NFCDSF-01-",lz:"safari-cadmium"});};b.iYa=function(){return Object.assign(Object.assign({},c()),{Naa:!0,LG:!1,hv:[d.cn.z1]});};b.aZa=c;b.cZa=function(h){var k;k={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:l.fj.tv,enableSeamless:!0};(0,g.pW)(h,10,12,2) && (k=Object.assign(Object.assign({},k),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,g.pW)(h,10,13,6) && (k=Object.assign(Object.assign({},k),{enableLdlPrefetch:!0}));(0,g.pW)(h,10,15,5) && (k=Object.assign(Object.assign({},k),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,g.pW)(h,10,15,6) && (k=Object.assign(Object.assign({},k),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,g.i0a)(h,9) && (k=Object.assign(Object.assign({},k),{maxDecoderBufferMilliseconds:31E3}));return k;};b.bZa=function(h){return (0,g.XM)(h);};},function(r,b,a){var f;function c(l,m,d,g){this.log=l;this.bH=m;this.IA=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;f=a(3);c.prototype.Ig=function(l){var m;m=this;(this.context.tf || this.context.Zk) && this.log.trace("Requesting license",{drmType:l.Fo});return this.bH(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.qdc)throw d;throw {$:!1,code:f.M.YJ,Cc:d.Cc,Kd:d.Kd,xn:d.xn,hk:d.message || d.hk,GM:d.data,message:"Unable to send the Playready license request. " + (d.message || d.hk)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.IA(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Cc,extCode:d.Kd,edgeCode:d.xn,message:d.message || d.hk});throw {$:!1,code:f.M.Aea,Cc:d.Cc,Kd:d.Kd,xn:d.xn,hk:d.message || d.hk,message:"Unable to release the PlayReady license. " + (d.message || d.hk)};});};b.sMa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.jfa=void 0;c=a(3);f=a(195);l=a(200);m=a(29);d=a(77);g=a(36);h=a(26);k=a(63);(function(){var z;function n(A,B,E){var D;D=this;this.log=A;this.On=B || y.bind(this);this.context=E;this.IX=this.challenge=this.keySystem=this.keySessionId=this.Jb=this.mediaKeys=void 0;this.Sc={};this.Dqa=this.Owa=!1;this.vX=t.bind(this);this.IX=void 0;this.rya=new Promise(function(F,C){D.jva=F;D.Mua=C;});this.rya.catch(function(F){D.log.error("wait for license rejected",F);});f.cc.get(h.Ex).Z5().then(function(F){(D.context.tf || D.context.Zk) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Nn=function(F,C){D.Mua(F,C);D.context.onerror(F,C);};this.Msa=function(){D.jva();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return f.cc.get(g.Bi);}function q(){return f.cc.get(m.eg);}function u(A){var B,E;B=f.cc.get(l.Tea);E="";A.forEach(function(D){E+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + E + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.q$a(A));(this.context.tf || this.context.Zk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Jb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.cg.hr,z.KB.Vs,B);this.Jb=void 0;}function w(A,B,E){var F,C,G;for(var D=2;D < arguments.length;++D){;}D="";C=A.length;for(F=0;F < C;F++){G=A[F];0 < G && (D+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > D.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(D=D.match(new RegExp(C)))return D[1];}function v(A,B,E,D){var F,C;F=A.target && A.target.sessionId;C=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));E.state=12;E.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(E.context.tf || E.context.Zk || E.context.eB) && E.log.debug("LICENSE: License challenge",p().encode(C));E.keySessionId=F;A={Xf:B,messageType:"license-request",Fo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready",ck:[{data:C,sessionId:F}]};12 === E.state && (E.On("lc"),C={data:C,Fo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready"},E.context.dI || (E.IX=C));E.context.Ol.Ig(A).then(function(G){if(12 === E.state && (E.On("lr"),E.Msa(),!E.context.dI))(E.JX=G.oj[0].data,E.state=13,D({$:!0,state:E.state}));else if(E.Jb)return x(E,G.oj[0].data,E.Jb).then(function(){E.state=30;D({$:!0,state:E.state});});}).catch(function(G){D(q().LH(G,{state:E.state}));});}function x(A,B,E){A.q7() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:E.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Jb.update(B);D(void 0);A.q7() && A.log.trace("LICENSE: Update succeeded",{sessionId:E.sessionId});}catch(C){F({$:!1,code:z.cg.X0,message:"Unable to update the EME.",ub:q().wd(C)});}});}function y(A){this.context.xa && (this.Sc[A]=this.context.xa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Sc[A]));}z={};z.cg=c.M;z.KB=c.L;n.prototype.$t=function(){return this.keySystem;};n.prototype.hbb=function(A,B){A.log && (this.log=A.log);A.On && (this.On=A.On);B.Ol && (this.context.Ol=B.Ol);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):f.cc.get(h.Ex).$t()).then(function(E){B.On("lg");B.log.trace("Creating the media keys",{keySystem:E});B.keySystem=E;if(B.context.ZX)E=Promise.reject({$:!1,code:z.cg.LQ,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(E);}catch(D){E=Promise.reject({$:!1,code:z.cg.iHa,message:"create MSMediaKeys(" + E + ") failed",ub:q().wd(D)});break a;}try{B.context.Y && B.context.Y.msSetMediaKeys(B.mediaKeys);}catch(D){E=Promise.reject({$:!1,code:z.cg.hK,message:"set MSMediaKeys failed",ub:q().wd(D)});break a;}E=Promise.resolve({$:!0,mediaKeys:B.mediaKeys});}return E;});};n.prototype.close=function(){if(this.Jb){this.log.info("Closing the session",{sessionId:this.Jb.sessionId});this.Jb.removeEventListener("mskeyerror",this.vX);try{this.Jb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Jb=void 0;}};n.prototype.Ig=function(A,B,E){var D;if(1 < B.length)return Promise.reject({code:z.cg.nHa});if(0 === B.length)return Promise.reject({code:z.cg.mHa});B=B[0];D=this;D.context.tf && D.log.trace("LICENSE: Setting license");return D.context.ZX?Promise.reject({$:!1,code:z.cg.XBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,K,J,I,M,R,H;try{K=function(P){D.Jb && (D.Jb.removeEventListener("mskeymessage",I),D.Jb.removeEventListener("mskeyadded",M),D.Jb.removeEventListener("mskeyerror",R),D.Jb.addEventListener("mskeyerror",D.vX));P.state=11;P.$?F(P):(D.close(),C(P));};J=function(P){var N,L;N=[];L=Array.prototype.map.call(P,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(L)N.push(L[1]);else {P=w(P,"KIDS");L=/VALUE="(.+?)">/g;for(var Q=L.exec(P);null != Q;){N.push(Q[1]);Q=L.exec(P);}}return N;};I=function(P){G && clearTimeout(G);v(P,A,D,K);};M=function(P){(D.context.tf || D.context.Zk) && D.log.trace("LICENSE: Received " + P.type + " event",{keySystem:P.target.keySystem,sessionId:P.target.sessionId});K({$:!0});};R=function(P){var N,L;G && clearTimeout(G);if(P.target && P.target.error)(N=P.target.error.systemCode,L=P.target.error.code);N={code:z.cg.hr,Cc:z.KB.Vs,Kd:N?f.cc.get(d.zx).VG(N,4):L,details:q().wd(P),cause:P.target && P.target.error,laa:N,l5:L};D.log.error("LICENSE: Received " + P.type + " event",{sessionId:D.Jb && D.Jb.sessionId,keySystem:P.target.keySystem,systemCode:N.laa,code:N.l5});D.On("le");D.Nn && D.Nn(z.cg.hr,N);K({$:!1,code:z.cg.hr,Cc:z.KB.Vs,Kd:N.Kd,message:"Received a key error.",ub:N.details,cause:N.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.tf || D.context.Zk) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Ew || (D.Ew=J(B));if(E){H=u.call(D,D.Ew);D.Jb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Jb=D.mediaKeys.createSession("video/mp4",B,null);(D.context.tf || D.context.Zk) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Jb.keySystem,sessionId:D.Jb.sessionId});D.Jb.addEventListener("mskeymessage",I);D.Jb.addEventListener("mskeyadded",M);D.Jb.addEventListener("mskeyerror",R);D.context.xMb && (G=setTimeout(function(){K({$:!1,code:z.cg.LR,Cc:z.KB.Gfb});},D.context.xMb));}catch(P){C({code:z.cg.LR,Cc:z.KB.Jj});}});})();};n.prototype.rI=function(){var A;(this.context.tf || this.context.Zk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Ig(k.co.Xca.up,A,!0);};n.prototype.p3=function(A){this.JX || this.log.error("pending license must exist at this point");this.context.dI=!0;try{A && (this.context.Y=A,this.context.Y.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({$:!1,code:z.cg.hK,message:"setMediaKeys failed",ub:q().wd(B)});}return x(this,this.JX,this.Jb);};n.prototype.VVa=function(A){var B,E;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));E={ba:A.ba,we:A.we};return new Promise(function(D,F){(function(){B.context.Ol.release.call(B.context.Ol,E).then(function(){var C;B.log.trace("successfully released the license",JSON.stringify(A));C={$:!0};B.close();C.$?D(C):F(C);}).catch(function(C){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:C.code,subCode:C.Cc,extCode:C.Kd,edgeCode:C.xn,message:C.hk});B.close();C.$?D(C):F(C);});})();});};n.prototype.q7=function(){return this.context.tf || this.context.Zk;};b.jfa=n;nb._cad_global.WindowsEmeSession=b.jfa;})();},function(r,b,a){var v,x,y,z,A,B,E,D,F,C,G,K;function c(J,I,M){var R;R=this;this.log=J;this.On=I || w.bind(this);this.context=M;this.IX=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Sc={};this.rj=void 0;this.url="";this.Dqa=this.Owa=!1;this.vX=k.bind(this);this.Lg=this.IX=void 0;this.rya=new Promise(function(H,P){R.jva=H;R.Mua=P;});this.Nn=function(H,P){R.Mua(H,P);R.context.onerror(H,P);};this.Msa=function(){R.jva();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return v.ka.get(A.Fv);}function l(){return v.ka.get(z.Bi);}function m(){return v.ka.get(x.eg);}function d(J){return (/com.apple.fps/).test(J) && !(/com.apple.fps.2_0/).test(J);}function g(J){var I;J=(function(M){var H,P;function R(N,L,Q,S){var U,ca;U=new Uint8Array("piff" == L?88:72);ca=new C.GQ(U);ca.kB(12);ca.jB("frma");ca.jB(N);ca.kB(20);ca.jB("schm");ca.j_(0);ca.j_(0);ca.jB(L);ca.kB(Q);"piff" == L?(ca.kB(56),ca.jB("schi"),ca.kB(48),ca.jB("uuid"),ca.i_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ca.kB(40),ca.jB("schi"),ca.kB(32),ca.jB("tenc"));ca.j_(0);ca.j_(0);ca.kB(264);ca.i_(S);return U;}H=R("avc1","piff",65537,M);H=f().decode(l().encode(H));M=R("avc1",G.Cx,65536,M);M=f().decode(l().encode(M));P=new Uint8Array(7 + H.length + 8 + M.length + 5);P.set([91,10,32,32,32,32,34],0);P.set(H,7);P.set([34,44,10,32,32,32,32,34],7 + H.length);P.set(M,7 + H.length + 8);P.set([34,10,32,32,93],7 + H.length + 8 + M.length);return P;})(J);I=new Uint8Array(13 + J.length + 2);I.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);I.set(J,13);I.set([10,125],13 + J.length);return I;}function h(J){var I;J=J.subarray(14,30);J=String.fromCharCode.apply(null,J);J=l().decode(J);J=J.subarray(4);I=new Uint8Array(16);I.set(J);return I;}function k(J){var I;I=n(J);this.log.error("LICENSE Error: Received event: " + J.type,{sessionId:this.Jb?this.Jb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:I.laa,code:I.l5});this.Nn && this.Nn(K.cg.hr,I);this.Jb=void 0;}function n(J){var I,M;if(J.target.error)(I=J.target.error.systemCode,M=J.target.error.code);return {code:K.cg.hr,Cc:K.KB.Vs,Kd:I?v.ka.get(y.zx).VG(I,4):M,details:m().wd(J),cause:J.target.error,laa:I,l5:M};}function p(J,I,M,R){var H,P,N;H=J.target.sessionId;P=J.message;N=m().Ft(P,f().decode("certificate"));M.Dqa=I === F.co.Xca.eo;M.state=N?2:12;M.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:H});(M.context.tf || M.context.Zk || M.context.eB) && M.log.debug("LICENSE: License challenge",l().encode(P));M.keySessionId=H;J={nj:M.nj,Xf:I,messageType:"license-request",Fo:(/clearkey/i).test(M.keySystem)?"clearkey":"fps",ck:[{data:P,sessionId:H}]};12 === M.state && (M.On("lc"),P={data:P,Fo:(/clearkey/i).test(M.keySystem)?"clearkey":"fps"},M.context.dI || (M.IX=P));M.context.Ol.Ig(J).then(function(L){if(12 === M.state && (M.On("lr"),M.Msa(),!M.context.dI))(M.JX=L.oj[0].data,M.state=13,R({$:!0,state:M.state}));else if(M.Jb)return (L=t(M,N,L.oj[0].data,M.Jb),2 === M.state?L:L.then(function(){M.state=30;R({$:!0,state:M.state});}));}).catch(function(L){R(m().LH(L,{state:M.state}));});}function q(J,I,M){I.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:J.target.sessionId});M({$:!0});}function u(J,I,M){var R;R=n(J);I.Nn && I.Nn(K.cg.hr,R);I.log.error("LICENSE Error: Received event: " + J.type,{sessionId:I.Jb?I.Jb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:R.laa,code:R.l5});M({$:!1,code:K.cg.hr,Cc:K.KB.Vs,Kd:R.Kd,message:"Received a key error.",ub:R.details,cause:R.cause});}function t(J,I,M,R){R={sessionId:R.sessionId};J.q7() && (R.license=l().encode(M));J.log.trace("calling keysession update",R);return new Promise(function(H,P){function N(){J.Jb.removeEventListener("webkitkeyadded",N);H(void 0);}try{I || J.Jb.addEventListener("webkitkeyadded",N);J.Jb.update(M);I && H(void 0);}catch(L){P({$:!1,code:K.cg.X0,message:"Unable to update the EME.",e:L});}});}function w(J){this.Sc[J]=v.ka.get(B.kd).Xb().da(E.ja);this.log.trace("Milestone: " + J + ", " + this.Sc[J]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(8);b=a(3);x=a(29);y=a(77);z=a(36);A=a(78);B=a(18);E=a(4);D=a(11);F=a(63);C=a(165);G=a(57);K={};K.cg=b.M;K.KB=b.L;c.prototype.$t=function(){return this.keySystem;};c.prototype.hbb=function(J,I){J.log && (this.log=J.log);J.On && (this.On=J.On);I.Ol && (this.context.Ol=I.Ol);I.onerror && (this.context.onerror=I.onerror);};c.prototype.create=function(J){var I;I=this;I.On("lg");I.log.trace("CREATE: Creating the media keys",{keySystem:J});I.keySystem=J;return I.context.ZX?Promise.reject({$:!1,code:K.cg.LQ,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function M(){var R,H;R=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=R.lastChild;I.Lg=R;I.context.Y=D.Be.createElement("VIDEO");H?I.Lg.insertBefore(I.context.Y,H):I.Lg.appendChild(I.context.Y);}return new Promise(function(R,H){function P(N){(I.context.tf || I.context.Zk || I.context.eB) && I.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{I.mediaKeys=new nb.WebKitMediaKeys(J);I.context.Y.webkitSetMediaKeys(I.mediaKeys);R({$:!0,mediaKeys:I.mediaKeys});}catch(L){I.log.error("CREATE: Exception on webkitSetMediaKeys",L);H({$:!1,code:K.cg.LR,ub:m().wd(L)});}}if(d(I.keySystem))try{I.mediaKeys=new nb.WebKitMediaKeys(J);I.context.Y && (I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.Y.webkitSetMediaKeys(I.mediaKeys));R({$:!0,mediaKeys:I.mediaKeys});}catch(N){H({$:!1,code:K.cg.LR,ub:m().wd(N)});}else (I.mediaKeys=new nb.WebKitMediaKeys(J),I.context.Y?(I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.Y.webkitSetMediaKeys(I.mediaKeys)):(M(),I.rj=new D.cF(),I.rj.addEventListener("sourceopen",P),I.url=URL.createObjectURL(I.rj),I.context.Y.src=I.url),R({$:!0,mediaKeys:I.mediaKeys}));});})();};c.prototype.close=function(){this.Jb && (this.log.info("Closing the session",{sessionId:this.Jb.sessionId}),this.Jb.removeEventListener("webkitkeyerror",this.vX),this.Jb.close(),this.Jb=void 0);};c.prototype.Ig=function(J,I){var M;if(1 < I.length)return Promise.reject({code:K.cg.nHa});if(0 === I.length)return Promise.reject({code:K.cg.mHa});I=I[0];M=this;M.context.tf && M.log.trace("LICENSE: Setting license",{initData:l().encode(I)});return M.context.ZX?Promise.reject({$:!1,code:K.cg.XBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,H){var N,L,Q;function P(S){M.Jb && (M.Jb.removeEventListener("webkitkeymessage",N),M.Jb.removeEventListener("webkitkeyadded",L),M.Jb.removeEventListener("webkitkeyerror",Q),M.Jb.addEventListener("webkitkeyerror",M.vX));S.$?R(S):(M.close(),H(S));}N=function(S){p(S,J,M,P);};L=function(S){q(S,M,P);};Q=function(S){u(S,M,P);};d(M.keySystem) && (M.nj=h(I),I=g(M.nj));M.log.trace("LICENSE: Executing prefix based EME");M.context.tf | M.context.Zk && M.log.debug("LICENSE: PSSH",l().encode(I));M.Jb=M.mediaKeys.createSession("video/mp4",I,null);(M.context.tf || M.context.Zk) && M.log.debug("LICENSE: Created the media keys sessions",{keySystem:M.Jb.keySystem,sessionId:M.Jb.sessionId});M.Jb.addEventListener("webkitkeymessage",N);M.Jb.addEventListener("webkitkeyadded",L);M.Jb.addEventListener("webkitkeyerror",Q);});})();};c.prototype.rI=function(){var J;J=this;return J.Owa?Promise.resolve({$:!0}):new Promise(function(I,M){var H,P,N;function R(L){J.Jb && (J.Jb.removeEventListener("webkitkeymessage",H),J.Jb.removeEventListener("webkitkeyadded",P),J.Jb.removeEventListener("webkitkeyerror",N));L.$?I(L):(M(L),J.close());}H=function(L){p(L,F.co.Xca.up,J,R);};P=function(L){q(L,J,R);I({$:!0});};N=function(L){u(L,J,R);};J.Dqa=!1;J.Jb.addEventListener("webkitkeymessage",H);J.Jb.addEventListener("webkitkeyadded",P);J.Jb.addEventListener("webkitkeyerror",N);J.Jb.update(f().decode("renew"));});};c.prototype.p3=function(J){this.JX || this.log.error("pending license must exist at this point");this.context.dI=!0;try{J && (this.context.Y=J,this.log.trace("calling setmediakeys on video element"),this.context.Y.webkitSetMediaKeys(this.mediaKeys));}catch(I){return new Promise(function(M,R){R({$:!1,code:K.cg.hK,message:"setMediaKeys failed",ub:m().wd(I)});});}return t(this,!1,this.JX,this.Jb);};c.prototype.VVa=function(J){var I,M;I=this;I.log.trace("Releasing the license of the current session",JSON.stringify(J));I.Owa=!0;M={ba:J.ba,we:J.we};return new Promise(function(R,H){(function(){I.context.Ol.release.call(I.context.Ol,M).then(function(){var P;I.log.trace("successfully released the license",JSON.stringify(J));P={$:!0};P.$?R(P):(I.close(),H(P));}).catch(function(P){I.log.error("RELEASE: Unable to get the release the license",{sessionId:I.Jb?I.Jb.sessionId:void 0,code:P.code,subCode:P.Cc,extCode:P.Kd,edgeCode:P.xn,message:P.hk});P.$?R(P):(I.close(),H(P));});})();});};c.prototype.q7=function(){return this.context.tf || this.context.Zk;};r.exports=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){this.log=k;this.bH=n;this.IA=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);l=a(8);m=a(29);d=a(78);g=a(36);h=a(57);c.prototype.Ig=function(k){var n,p;n=this;(this.context.tf || this.context.Zk) && this.log.debug("Requesting a license",k);if(l.ka.get(m.eg).Ft(l.ka.get(d.Fv).decode("certificate"),k.ck[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({oj:[{sessionId:k.ck[0].sessionId,data:l.ka.get(g.Bi).decode(h.h0)}]});}else p=l.ka.get(m.eg).Ft(l.ka.get(d.Fv).decode("content"),k.ck[0].data)?Promise.resolve({oj:[{sessionId:k.ck[0].sessionId,data:k.nj}]}):(function(){n.log.trace("Requesting license",{drmType:k.Fo});return n.bH(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:f.M.YJ,Cc:q.Cc,Kd:q.Kd,xn:q.xn,hk:q.message || q.hk,GM:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.hk),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.IA(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Cc,extCode:p.Kd,edgeCode:p.xn,message:p.message || p.hk});throw {$:!1,code:f.M.Aea,Cc:p.Cc,Kd:p.Kd,xn:p.xn,hk:p.message || p.hk,message:"Unable to release the FairPlay license. " + (p.message || p.hk),cause:p};});};r.exports=c;},function(r,b,a){var m,d,g,h,k,n,p,q;function c(u,t,w){var v;v=this;this.is=u;this.Xn=t;this.config=w;this.nx=function(){return {version:v.version,drmData:v.U4.map(function(x){return x.nx();})};};this.Pma=function(x){var y;v.is.pn(x) && (x=f(x));1 === x.version && (x=l(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.b0(z);});}catch(z){throw new k.qd(g.M.VJ,g.L.qB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.Hi(x.version))throw new k.qd(g.M.VJ,g.L.qB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.qd(g.M.VJ,g.L.Qza,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.As=new n.Pca(2,this.config.OU,this.is.pn(this.config.OU),this.Xn,this.nx);}function f(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new k.qd(g.M.VJ,g.L.qB);return {version:1,drmData:[u]};}function l(u,t){if(u.Hy(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.b0({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).nx();})};throw new k.qd(g.M.VJ,g.L.qB);}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;r=a(1);m=a(0);d=a(70);g=a(3);h=a(27);k=a(41);n=a(318);p=a(79);q=a(202);c.prototype.N6a=function(){return this.BZb();};c.prototype.EPa=function(u){return this.As.add(u);};c.prototype.qY=function(u){return this.As.remove(u,function(t,w){return t.ba === w.ba;});};c.prototype.toString=function(){return JSON.stringify(this.nx(),null,"  ");};c.prototype.BZb=function(){var u;u=this;this.R6a || (this.R6a=new Promise(function(t,w){u.As.load(u.Pma).then(function(){t();}).catch(function(v){v.na && v.cause?w(new k.qd(g.M.VJ,v.na,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.R6a;};Wa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.As.version;}},U4:{configurable:!0,enumerable:!0,get:function(){return this.As.hw;}}});a=c;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(h.dg)),(0,r.__param)(1,(0,m.l)(p.mB)),(0,r.__param)(2,(0,m.l)(d.vv))],a);b.jAa=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.y6a=void 0;c=a(3);f=a(95);l=a(122);m=a(201);b.y6a=function(g){m.xM.parent=g.$a;return function(){d || (d=new Promise(function(h,k){try{h(m.xM.get(l.JBa));}catch(n){k(new f.Pg(c.M.Fgb,c.L.$gb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;a.prototype.NZa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.PVb=function(){this.NZa() && (this.mediaKeys=void 0);};b.iGa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t,w){this.JG=p;this.Wc=q;this.XN=t;this.qk=w;this.log=u.hb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;r=a(1);f=a(0);l=a(122);m=a(36);d=a(7);g=a(138);h=a(71);k=a(137);n=a(603);c.prototype.aoa=function(p){var q;q=this;return Promise.all([this.JG(),this.aGb()]).then(function(u){var t;t=aa(u);u=t.next().value;t=t.next().value;return u.rEb({type:p,initData:t},q.XN());}).then(function(u){var t;t=aa(u);u=t.next().value;t=t.next().value;t=q.Wc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {ac:u,zja:t};});};c.prototype.aGb=function(){var p;p=this;return this.qk.Zt().then(function(q){switch(q){case k.bo.QG:return n.Ufb;case k.bo.UD:return n.yjb;default:return n.Okb;}}).then(function(q){return q.map(p.Wc.decode);});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.c0)),(0,r.__param)(1,(0,f.l)(m.Bi)),(0,r.__param)(2,(0,f.l)(d.qb)),(0,r.__param)(3,(0,f.l)(g.zR)),(0,r.__param)(4,(0,f.l)(h.Ys))],a);b.lAa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Okb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Ufb=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.yjb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(13);f=a(605);l=a(37);m=a(40);d=a(606);g=a(320);h=a(608);k=a(167);n=a(609);p=a(70);q=a(610);b.config=new r.rd(function(u){u(c.ad).yf(function(){return function(){return nb._cad_global.config;};});u(l.Wba).to(f.EAa).aa();u(l.Xl).to(f.$La).aa();u(l.nR).to(f.qEa).aa();u(m.Wm).to(d.TCa).aa();u(g.LGa).to(h.KGa).aa();u(k.NCa).to(n.MCa).aa();u(p.vv).to(q.hCa).aa();});},function(r,b,a){var m,d,g,h,k;function c(){this.dz={};this.c8a=0;}function f(n,p,q,u,t){this.debug=n;this.Oz=p;this.pX=q;this.Zf=u;this.d$=t;}function l(n,p,q){this.Oz=n;this.pX=p;this.d$=q;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=b.$La=b.EAa=void 0;r=a(1);m=a(0);d=a(96);g=a(7);h=a(139);k=a(319);a=a(37);l=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(a.nR)),(0,r.__param)(1,(0,m.l)(h.r1)),(0,r.__param)(2,(0,m.l)(k.xea))],l);b.EAa=l;f=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.sv)),(0,r.__param)(1,(0,m.l)(a.nR)),(0,r.__param)(2,(0,m.l)(h.r1)),(0,r.__param)(3,(0,m.l)(g.qb)),(0,r.__param)(4,(0,m.l)(k.xea))],f);b.$La=f;c.prototype.OOb=function(n){this.dz=Object.assign({},this.dz,n);this.c8a++;};Wa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.dz;}},w$:{configurable:!0,enumerable:!0,get:function(){return this.c8a;}}});a=c;a=r.__decorate([(0,m.R)()],a);b.qEa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u){p=d.$e.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.mj=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=b.FM=void 0;r=a(1);f=a(4);l=a(0);m=a(46);d=a(47);g=a(40);h=a(37);a=a(108);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.FM=function(p,q){return p.O6a(k[q] || q,g.Ix);};na(c,d.$e);Wa.Object.defineProperties(c.prototype,{FM:{configurable:!0,enumerable:!0,get:function(){return g.Ix.Fjb;}},Pwa:{configurable:!0,enumerable:!0,get:function(){return (0,f.wh)(8);}},Iz:{configurable:!0,enumerable:!0,get:function(){return "";}},UL:{configurable:!0,enumerable:!0,get:function(){return "";}},nJ:{configurable:!0,enumerable:!0,get:function(){return "";}},O$a:{configurable:!0,enumerable:!0,get:function(){return !1;}},q3:{configurable:!0,enumerable:!0,get:function(){return !0;}},eW:{configurable:!0,enumerable:!0,get:function(){return this.mj.eW;}},DCb:{configurable:!0,enumerable:!0,get:function(){return !1;}},he:{configurable:!0,enumerable:!0,get:function(){return {};}},a8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},$pa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Yaa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ls:{configurable:!0,enumerable:!0,get:function(){return !1;}},XU:{configurable:!0,enumerable:!0,get:function(){return !0;}},lE:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},tw:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Ix.mLa,g.Ix.vEa].indexOf(this.FM);}}});n=c;r.__decorate([m.config(b.FM,"environment")],n.prototype,"FM",null);r.__decorate([m.config(m.al,"storageTimeout")],n.prototype,"Pwa",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"Iz",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"UL",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"nJ",null);r.__decorate([m.config(m.ed,"testIndexDBForCorruptedDatabase")],n.prototype,"O$a",null);r.__decorate([m.config(m.ed,"applyIndexedDbOpenWorkaround")],n.prototype,"q3",null);r.__decorate([m.config(m.ed,"ignoreIdbOpenError")],n.prototype,"eW",null);r.__decorate([m.config(m.ed,"executeStorageMigration")],n.prototype,"DCb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"he",null);r.__decorate([m.config(m.ed,"retryAllMslRequestsOnError")],n.prototype,"a8a",null);r.__decorate([m.config(m.ed,"isTestAccount")],n.prototype,"$pa",null);r.__decorate([m.config(m.ed,"vuiCommandLogging")],n.prototype,"Yaa",null);r.__decorate([m.config(m.ed,"useRangeHeader")],n.prototype,"Ls",null);r.__decorate([m.config(m.ed,"enableMilestoneEventList")],n.prototype,"XU",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"lE",null);n=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(h.Xl)),(0,r.__param)(1,(0,l.l)(a.iF)),(0,r.__param)(2,(0,l.l)(h.L_)),(0,r.__param)(2,(0,l.optional)())],n);b.TCa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Gda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Gda=a;},function(r,b,a){var f,l,m,d;function c(g,h){return m.$e.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(1);f=a(0);l=a(46);m=a(47);a=a(37);na(c,m.$e);Wa.Object.defineProperties(c.prototype,{Bbb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([l.config(l.ed,"useNetworkMonitor")],d.prototype,"Bbb",null);d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Xl)),(0,r.__param)(1,(0,f.l)(a.L_)),(0,r.__param)(1,(0,f.optional)())],d);b.KGa=d;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t){p=d.$e.call(this,p,"FtlProbeConfigImpl") || this;p.Dh=q;p.xa=u;p.mj=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;r=a(1);f=a(38);l=a(0);m=a(4);d=a(47);g=a(123);h=a(46);k=a(37);a=a(108);na(c,d.$e);Wa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.mj.I5;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Rma + (-1 === this.Rma.indexOf("?")?"?":"&") + "monotonic=" + this.xa.z3a + "&device=web";}},V9a:{configurable:!0,enumerable:!0,get:function(){return m.Eb;}},Hma:{configurable:!0,enumerable:!0,get:function(){return "";}},Rma:{configurable:!0,enumerable:!0,get:function(){return this.Dh.endpoint + "/ftl/probe" + (this.Hma?"?force=" + this.Hma:"");}}});n=c;r.__decorate([h.config(h.ed,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([h.config(h.al,"ftlStartDelay")],n.prototype,"V9a",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"Hma",null);r.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"Rma",null);n=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(k.Xl)),(0,r.__param)(1,(0,l.l)(g.AJ)),(0,r.__param)(2,(0,l.l)(f.Vh)),(0,r.__param)(3,(0,l.l)(a.iF))],n);b.MCa=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){k=l.$e.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.he=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(4);g=a(46);a=a(164);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{V_a:{configurable:!0,enumerable:!0,get:function(){return this.he.k0a || this.he.nW || this.he.GN?!0:!1;}},uD:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(5);}},pta:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(10);}},OU:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},nV:{configurable:!0,enumerable:!0,get:function(){return !1;}},Yw:{configurable:!0,enumerable:!0,get:function(){return !0;}},pQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(30);}},qQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(30);}},tQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(30);}},rQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(30);}},uQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.wh)(30);}},Uva:{configurable:!0,enumerable:!0,get:function(){return "";}},R4a:{configurable:!0,enumerable:!0,get:function(){return this.he.Dw?!1:!0;}},S4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([g.config(g.ed,"initializeKeySystemAtStartup")],h.prototype,"V_a",null);r.__decorate([g.config(g.al,"licenseRenewalRequestDelay")],h.prototype,"uD",null);r.__decorate([g.config(g.al,"persistedReleaseDelay")],h.prototype,"pta",null);r.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"OU",null);r.__decorate([g.config(g.ed,"forceLimitedDurationLicense")],h.prototype,"nV",null);r.__decorate([g.config(g.ed,"prepareCadmium")],h.prototype,"Yw",null);r.__decorate([g.config(g.al,"apiCloseTimeout")],h.prototype,"pQa",null);r.__decorate([g.config(g.al,"apiCreateMediaKeysTimeout")],h.prototype,"qQa",null);r.__decorate([g.config(g.al,"apiSetServerCertificateTimeout")],h.prototype,"tQa",null);r.__decorate([g.config(g.al,"apiGenerateRequestTimeout")],h.prototype,"rQa",null);r.__decorate([g.config(g.al,"apiUpdateTimeout")],h.prototype,"uQa",null);r.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"Uva",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatal")],h.prototype,"R4a",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatalForUhd")],h.prototype,"S4a",null);h=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl)),(0,r.__param)(1,(0,f.l)(a.pB)),(0,r.__param)(2,(0,f.l)(m.L_)),(0,r.__param)(2,(0,f.optional)())],h);b.hCa=h;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.fVa=void 0;r=a(0);c=a(122);f=a(612);l=a(71);m=a(613);d=a(322);g=a(621);b.fVa=new r.rd(function(h){h(c.JBa).to(f.IBa).aa();h(l.Ys).to(m.hGa).aa();h(d.jCa).to(g.iCa);});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v;function c(x,y,z,A,B,E,D,F,C,G){var K;K=this;this.Pc=y;this.CA=z;this.config=A;this.Mr=B;this.uBb=E;this.TL=D;this.qk=F;this.XN=C;this.Fm=G;this.d_b=function(J,I){var M;K.Fm.mark(v.Ia.l0,J.Si.ba,"generate-challenge");M=!1;I.dYb(function(R){M || (M=!0,K.Fm.mark(v.Ia.k0,J.Si.ba,"generate-challenge"));K.bH(J,I,R).then(function(H){I.IPa(H);K.Ctb(I);}).catch(function(H){return I.Lqb(H);});});};this.log=x.hb("DrmServices");this.Mr().ip && this.TL.N6a().then(function(){K.CVb();}).catch(function(J){K.log.error("Unable to load the persisted DRM data",J);});this.config.V_a && this.qk.Aw().then(function(J){return K.uTa(C(),J,h.Yh.up).then(function(I){return I.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;r=a(1);f=a(0);l=a(7);m=a(48);d=a(321);g=a(72);h=a(58);k=a(70);n=a(203);p=a(202);q=a(322);u=a(13);t=a(71);w=a(138);v=a(63);c.prototype.rEb=function(x,y){return this.AG(y,x.type,x.context).then(function(z){return z.uEb(x.initData).then(function(A){return [z,{Fo:z.Zt(),data:A.ck}];});});};c.prototype.Ig=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.pYa(x,x.type));return this.AG(y,x.type,x.context).then(function(A){z.x3a(x,A);return A.vEb(x.initData).then(function(){return A;});});};c.prototype.x3a=function(x,y){y.kYb(x.Si);this.d_b(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.iZa(x));return this.nHb(x).then(function(){var A;A=Object.assign({active:!1,we:[]},x.Si);z.TL.qY(A);y.PVb();return x;});};c.prototype.pYa=function(x,y){return {movieId:x.Si.J,xid:x.Si.ba,type:(0,h.Bqa)(y)};};c.prototype.iZa=function(x){return {movieId:x.Si?x.Si.J:void 0,xid:x.Si?x.Si.ba:void 0,keySessionId:x.Bz()};};c.prototype.bH=function(x,y,z){this.log.info("Sending license request",this.pYa(x,z.Xf));return this.CA.Ig({ba:x.Si.ba,Ti:x.Si.Ti,T4:[x.Si.sm],ck:[{sessionId:y.Bz() || "session",data:z.ck}],Xf:z.Xf,Fo:y.Zt(),aSa:z.aSa,SW:x.Si.SW,mk:x.Si.mk});};c.prototype.nHb=function(x){this.log.info("Sending release request",this.iZa(x));return this.CA.release({ba:x.Si.ba,we:x.we});};c.prototype.AG=function(x,y,z){var A;A=this;return this.qk.Aw().then(function(B){return A.uTa(x,B,y,z);});};c.prototype.uTa=function(x,y,z,A){return this.uBb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.BVb=function(x){var y;y=this;return this.CA.release({ba:x.ba,we:x.we}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.CVb=function(){var x;x=this;this.Pc.Ak(this.config.pta,function(){x.log.trace("Removing cached sessions",{"count:":x.TL.U4.length});x.TL.U4.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.BVb(z);}).then(function(){return x.TL.qY(z);});},Promise.resolve(void 0));});};c.prototype.Ctb=function(x){var y;if(x.Bz() && x.Si){y=new p.b0();y.we=x.we;y.ba=x.Si.ba;y.J=x.Si.J;this.TL.EPa(y);}};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.Pj)),(0,r.__param)(2,(0,f.l)(d.HBa)),(0,r.__param)(3,(0,f.l)(k.vv)),(0,r.__param)(4,(0,f.l)(u.ad)),(0,r.__param)(5,(0,f.l)(q.jCa)),(0,r.__param)(6,(0,f.l)(n.Tba)),(0,r.__param)(7,(0,f.l)(t.Ys)),(0,r.__param)(8,(0,f.l)(w.zR)),(0,r.__param)(9,(0,f.l)(g.CR))],a);b.IBa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F;function c(C,G,K,J,I,M,R,H,P,N){this.Zr=C;this.pe=G;this.Uh=K;this.jj=J;this.Wc=I;this.is=M;this.gX=R;this.config=H;this.Zp=P;this.$g=N;this.log=this.Zr.hb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(1);f=a(0);l=a(3);m=a(7);d=a(95);g=a(137);h=a(614);k=a(615);n=a(616);p=a(205);q=a(29);u=a(77);t=a(36);w=a(27);v=a(39);x=a(617);y=a(619);z=a(78);A=a(13);B=a(109);E=a(70);D=a(66);F=a(57);c.prototype.Aw=function(){this.promise || (this.promise=this.TWb());return this.promise;};c.prototype.qyb=function(C){var G;G=this;return new Promise(function(K,J){var I,M;I=B.Ib.ona(C);M=G.TXa(I);I=G.MXa(I);M.iWb(C,I.Vna()).then(function(R){G.log.trace("Created the media keys system access",{keySystem:C,supportedconfig:R.getConfiguration?JSON.stringify(R.getConfiguration()):void 0});G.keySystem=(0,F.yna)(R);K(R);}).catch(function(R){G.log.error("Unable to create the media key system access object",{keySystem:C,error:R.message});J(new d.Pg(l.M.SBa,l.L.Jj,void 0,"Unable to create media keys system access. " + R.message,R));});});};c.prototype.Zt=function(){var C;C=this;return this.Aw().then(function(G){return C.NXa(G);});};c.prototype.DFb=function(){var C,G;C=this;G=this.config().f1a || [this.config().zm];if(1 < G.length)return this.Aw().then(function(K){return C.NXa(K);}).then(function(K){return B.Ib.LXa(K);});G=B.Ib.ona(G[0]);return Promise.resolve(B.Ib.LXa(G));};c.prototype.EFb=function(){var C;C=this;return this.Zt().then(function(G){return C.MXa(G);});};c.prototype.GFb=function(){var C;C=this;return this.Zt().then(function(G){return C.TXa(G);});};c.prototype.NXa=function(C){return B.Ib.ona(C.keySystem);};c.prototype.MXa=function(C){switch(C){case g.bo.UD:return new h.fCa(this.jj,this.Wc);case g.bo.QG:return new y.mKa(this.jj,this.Wc,this.Uh,this.$g);default:return new n.wAa(this.jj,this.Zp,this.config);}};c.prototype.TXa=function(C){switch(C){case g.bo.UD:return new k.qJa(this.gX,this.is,this.Wc,this.pe,this.Zp,this.Uh);case g.bo.QG:return new x.HCa(this.gX,this.is,this.Wc,this.pe,this.Zp,this.Uh);default:return new p.Dv(this.gX,this.is,this.Wc,this.pe,this.Zp,this.Uh);}};c.prototype.TWb=function(){var C,G;C=this;G=(this.config().f1a || [this.config().zm]).map(function(K){return function(){return C.qyb(K);};});return this.UWb(G);};c.prototype.UWb=function(C){return C.reduce(function(G,K){return G.then(function(J){return Promise.resolve(J);}).catch(function(){return K();});},Promise.reject(Error("keySystem missing")));};Wa.Object.defineProperties(c.prototype,{e1a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(q.eg)),(0,r.__param)(2,(0,f.l)(z.Fv)),(0,r.__param)(3,(0,f.l)(u.zx)),(0,r.__param)(4,(0,f.l)(t.Bi)),(0,r.__param)(5,(0,f.l)(w.dg)),(0,r.__param)(6,(0,f.l)(v.gK)),(0,r.__param)(7,(0,f.l)(A.ad)),(0,r.__param)(8,(0,f.l)(E.vv)),(0,r.__param)(9,(0,f.l)(D.$s))],a);b.hGa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u){this.jj=q;this.Wc=u;}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(36);g=a(204);h=a(95);k=a(64);n=a(41);p=a(57);c.prototype.f4=function(){return !0;};c.prototype.Gia=function(){return !1;};c.prototype.tja=function(){return !1;};c.prototype.DV=function(){return p.Cx;};c.prototype.dna=function(){return p.Lda;};c.prototype.Vna=function(){return [{initDataTypes:[this.DV()],audioCapabilities:[{contentType:g.aK}],videoCapabilities:[{contentType:g.Px}],sessionTypes:["temporary"]}];};c.prototype.vpa=function(){Promise.reject(new n.qd(l.M.oca));};c.prototype.pka=function(q){var u;u=new Uint8Array(q.message);u=this.bma(u,"PlayReadyKeyMessage","Challenge");u=this.Wc.decode(u);return {type:q.type,sessionId:q.target.sessionId,HH:[u],messageType:q.messageType};};c.prototype.az=function(q){var u,t,w;u=new h.Pg(l.M.hr);t=q.code;null != t && void 0 !== t?(t=parseInt(t,10),u.Cc=1 <= t && 9 >= t?l.L.Vs + t:l.L.Vs):u.Cc=q instanceof k.kr?l.L.MQ:l.L.Jj;try{w=(/\((\d+)\)/).exec(q.message);u.Kd=this.jj.VG(Number(w && w[1]),4);}catch(v){}u.FU(q);return u;};c.prototype.bma=function(q,u){var w,v,x;for(var t=1;t < arguments.length;++t){;}for(t=1;t < arguments.length;t++){;}t="";v=q.length;for(w=0;w < v;w++){x=q[w];0 < x && (t+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > t.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (t=t.match(new RegExp(v)))?t[1]:"";};c.prototype.aN=function(){};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.zx)),(0,r.__param)(1,(0,f.l)(d.Bi))],a);b.fCa=a;},function(r,b,a){var f,l,m,d;function c(){return l.Dv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(1);f=a(0);l=a(205);m=a(95);d=a(3);na(c,l.Dv);c.prototype.p4=function(g,h,k,n,p){this.o7a(k);this.m7a(n);this.k7a(p);this.hnb=this.rb;this.rb=g.createSession(h);this.MPa(k);this.HPa(n);this.FPa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}h=this;this.Vja=void 0;return this.rb?g(this.rb).then(function(){g(h.hnb);}):Promise.reject(new m.Pg(d.M.RBa,d.L.NJ,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return l.Dv.prototype.generateRequest.call(this,g,h);};a=c;a=r.__decorate([(0,f.R)()],a);b.qJa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w){this.jj=u;this.Zp=t;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(204);g=a(95);h=a(64);k=a(70);n=a(13);p=a(41);q=a(57);c.prototype.f4=function(){return !0;};c.prototype.Gia=function(){return !0;};c.prototype.tja=function(){return !0;};c.prototype.DV=function(){return q.Cx;};c.prototype.dna=function(){return this.Zp.Uva?this.Zp.Uva:q.mMa;};c.prototype.Vna=function(){var u,t;u=[{contentType:d.Px,robustness:q.UJ},{contentType:d.Px,robustness:q.Jea},{contentType:d.Px,robustness:q.m1}];t=[{contentType:d.Px,robustness:q.m1}];return [{initDataTypes:[this.DV()],persistentState:"required",videoCapabilities:this.config().HWa?t:u}];};c.prototype.vpa=function(){Promise.reject(new p.qd(l.M.oca));};c.prototype.pka=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,HH:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.az=function(u){var t,w,v;t=new g.Pg(l.M.hr);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.Cc=1 <= w && 9 >= w?l.L.Vs + w:l.L.Vs):t.Cc=u instanceof h.kr?l.L.MQ:l.L.Jj;try{v=u.message.match(/\((\d*)\)/)[1];t.Kd=this.jj.VG(v,4);}catch(x){}t.FU(u);return t;};c.prototype.aN=function(){};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.zx)),(0,r.__param)(1,(0,f.l)(k.vv)),(0,r.__param)(2,(0,f.l)(n.ad))],a);b.wAa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x,y,z){t=l.Dv.call(this,t,w,v,x,y,z) || this;t.Wc=v;t.ce=x;t.Zp=y;t.Uh=z;t.d_a=new m.GCa(t.Wc,t.ce,t.Uh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;r=a(1);f=a(0);l=a(205);m=a(618);d=a(39);g=a(27);h=a(36);k=a(29);n=a(70);p=a(78);q=a(323);u=a(324);na(c,l.Dv);c.prototype.generateRequest=function(t,w){var v,x,y;v=this;try{x=w.map(function(z){return v.d_a.mGb(z);});this.K_a=x.map(function(z){return v.Wc.encode(z);});y=this.d_a.Yvb(x);return l.Dv.prototype.generateRequest.call(this,t,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(t,w,v){var x,y,z,A,B;x=this;if(v)try{y=this.Uh.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(E){var D;D=u.n1.r$a(E.ID);return {keyID:w === q.rF.PJa?x.K_a[x.K_a.length - 1]:v[D],payload:E.PAYLOAD};});if(w === q.rF.Request){A=z.map(function(E){return E.keyID;});v.forEach(function(E){-1 === A.indexOf(E) && z.push({keyID:E,error:1});});}B=JSON.stringify(z);t=[this.Uh.decode(B)];}catch(E){return Promise.reject(E);}return l.Dv.prototype.update.call(this,t,w);};c.prototype.rI=function(){return l.Dv.prototype.update.call(this,[this.Uh.decode("renew")],q.rF.Request);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(d.gK)),(0,r.__param)(1,(0,f.l)(g.dg)),(0,r.__param)(2,(0,f.l)(h.Bi)),(0,r.__param)(3,(0,f.l)(k.eg)),(0,r.__param)(4,(0,f.l)(n.vv)),(0,r.__param)(5,(0,f.l)(p.Fv))],a);b.HCa=a;},function(r,b){function a(c,f,l){var m;m=this;this.Wc=c;this.ce=f;this.Uh=l;this.mGb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Wc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.Vfb={Cx:1667591779,n4b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;a.prototype.Yvb=function(c){var f;f=this.Vfb.Cx;c=c.map(function(l){return {Bac:"",$Lb:l,tia:l,tZb:l,F2b:[1]};});return this.CNb(f,c);};a.prototype.BNb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.bra("fpsi",[f]);};a.prototype.ANb=function(c,f,l,m){c=[this.bra("fkri",[c])];f.byteLength && c.push(this.LW("fkai",[f]));l.byteLength && c.push(this.LW("fkcx",[l]));m.length && c.push(this.LW("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.LW("fpsk",c);};a.prototype.CNb=function(c,f){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.BNb(c)];for(var m in f){d=f[m];c.push(this.ANb(d.$Lb,d.tia,d.tZb,d.F2b));}f=this.LW("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,f.byteLength);return this.bra("pssh",[l,m,f]);};a.prototype.bra=function(c,f){var l,m,d;l=0;for(d in f){l+=f[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.Uh.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var g in f){c=f[g];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.LW=function(c,f){var l,m;l=0;for(m in f){l+=f[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.Uh.decode(c),m);m+=4;for(var d in f){c=f[d];l.set(c,m);m+=c.byteLength;}return l;};b.GCa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t;function c(w,v,x,y){this.jj=w;this.Wc=v;this.Uh=x;this.$g=y;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(78);g=a(95);h=a(64);k=a(36);n=a(57);p=a(325);q=a(41);u=a(66);t=a(324);c.prototype.f4=function(){return !1;};c.prototype.Gia=function(){return !1;};c.prototype.tja=function(){return !0;};c.prototype.DV=function(){return n.Cx;};c.prototype.dna=function(){return n.h0;};c.prototype.Vna=function(){return [{initDataTypes:[n.Cx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.vpa=function(w){w.rI();};c.prototype.pka=function(w){var v,x;v=[];if(w.messageType === p.lda || w.messageType === p.kda){if(w.messageType === p.lda){x=this.Uh.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.Wc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new q.qd(l.M.WBa);v=this.l0b(v);v=this.Uh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,HH:[v],messageType:w.messageType,Ew:x};};c.prototype.az=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new g.Pg(l.M.hr,w instanceof h.kr?l.L.MQ:l.L.Vs,y?this.jj.VG(y,4):z,"",x);v.FU(w);return v;};c.prototype.l0b=function(w){w=w.map(function(v,x){return {ID:t.n1.eKb(x),PAYLOAD:v};});return {VERSION:this.$g.e4?3:1,CHALLENGES:w};};c.prototype.aN=function(w,v){var x,y;x=this;if(v && this.$g.e4)try{y=this.Uh.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.n1.r$a(z.ID);z=x.Wc.decode(z.DHB).subarray(4,12);A=x.Wc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Pg(l.M.cjb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.zx)),(0,r.__param)(1,(0,f.l)(k.Bi)),(0,r.__param)(2,(0,f.l)(d.Fv)),(0,r.__param)(3,(0,f.l)(u.$s))],a);b.mKa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$0=void 0;b.$0=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t,w,v){this.Zr=p;this.Ba=q;this.Wc=u;this.config=t;this.Zo=w;this.qk=v;}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(1);f=a(0);l=a(7);m=a(18);d=a(36);g=a(70);h=a(64);k=a(325);a=a(71);c.prototype.create=function(){var p;p=this;return Promise.all([this.qk.GFb(),this.qk.EFb(),this.qk.Zt()]).then(function(q){var u,t;u=aa(q);q=u.next().value;t=u.next().value;u=u.next().value;return new k.kCa(p.Zr,p.Ba,p.Wc,p.config,q,t,u,p.Zo);});};n=c;n=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.kd)),(0,r.__param)(2,(0,f.l)(d.Bi)),(0,r.__param)(3,(0,f.l)(g.vv)),(0,r.__param)(4,(0,f.l)(h.Wx)),(0,r.__param)(5,(0,f.l)(a.Ys))],n);b.iCa=n;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L;Object.defineProperty(b,"__esModule",{value:!0});b.C1a=void 0;c=a(623);f=a(648);l=a(657);m=a(660);d=a(666);g=a(989);h=a(1027);k=a(1030);n=a(1042);p=a(1052);q=a(1056);u=a(1058);t=a(1089);w=a(1091);v=a(1095);x=a(1110);y=a(1118);z=a(1124);A=a(1127);B=a(1134);E=a(201);D=a(1142);F=a(1143);C=a(1150);G=a(1164);K=a(1170);J=a(1172);I=a(1179);M=a(1208);R=a(1230);H=a(1234);P=a(1238);N=a(1252);L=a(1255);b.C1a=function(Q){Q.load(c.Yy,h.cJ,f.S1a,k.vn,l.w3a,m.pa,d.Rbb,g.h_a,n.storage,p.ML,q.MRa,u.l2a,t.GD,w.gk,v.R1a,x.L3a,y.UWa,z.z6a,A.fI,B.bVa,E.eme,D.crypto,F.pe,C.Fd,G.Ka,K.C3a,J.x5a,I.j,M.GSa,R.transports,H.Il,P.ah,N.SQa,L.oa);};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa,Da,Ha,Qa,Xa,gb,wb,Fb,Eb,Nb;Object.defineProperty(b,"__esModule",{value:!0});b.Yy=void 0;r=a(0);c=a(39);f=a(38);l=a(48);m=a(81);d=a(140);g=a(624);h=a(625);k=a(626);n=a(627);p=a(78);q=a(77);u=a(36);t=a(29);w=a(27);v=a(97);x=a(64);y=a(328);z=a(628);A=a(329);B=a(629);E=a(630);D=a(631);F=a(194);C=a(330);G=a(632);K=a(200);J=a(111);I=a(633);M=a(18);R=a(331);H=a(634);P=a(635);N=a(96);L=a(636);Q=a(7);S=a(327);U=a(637);ca=a(72);ka=a(638);ya=a(332);qa=a(639);Y=a(640);ua=a(112);O=a(11);T=a(641);ja=a(334);ma=a(335);ta=a(642);Ka=a(336);Ua=a(13);Ya=a(34);ab=a(141);ib=a(337);$a=a(164);Sa=a(643);Da=a(338);Ha=a(339);Qa=a(207);Xa=a(644);gb=a(340);wb=a(645);Fb=a(208);Eb=a(646);Nb=a(647);b.Yy=new r.rd(function(Cb){Cb(c.PR).qE(function(){return {};}).aa();Cb(c.OE).$i(JSON);Cb(c.pMa).$i(nb);Cb(d.dLa).$i(Math);Cb(c.$Ea).$i(O.N0);Cb(c.Yda).$i(O.Av);Cb(c.ULa).$i(O.BB);Cb(c.dBa).$i(Date);Cb(c.gK).$i(O.mf);Cb(c.Xhb).$i(O.cF);Cb(S.AAa).to(U.zAa).aa();Cb(M.kd).to(I.Qya).aa();Cb(f.Vh).to(n.BAa).aa();Cb(l.Pj).to(g.nKa).aa();Cb(m.Mx).to(h.jEa).aa();Cb(x.Wx).to(D.EJa).aa();Cb(d.g1).to(k.LJa).aa();Cb(ib.sda).to(Nb.dGa).aa();Cb(N.sv).to(P.jBa).aa();Cb(N.hBa).to(L.gBa).aa();Cb(p.Fv).to(z.VLa).aa();Cb(q.zx).to(A.Lba).aa();Cb(u.Bi).to(B.xza).aa();Cb(t.eg).to(E.WLa).aa();Cb(w.dg).$i(F.NE);Cb(Da.OQ).to(Ha.yCa).aa();Cb(v.tca).to(C.Hk).dpa();Cb(v.$_).to(C.Hk).aa();Cb(v.tBa).to(C.Hk).aa();Cb(v.wca).to(C.Hk).aa();Cb(K.Tea).to(J.JB).aa();Cb(R.SAa).to(H.RAa).aa();Cb(ca.pF).to(ka.Yea).aa();Cb(ca.CR).to(ka.Yea).aa();Cb("Factory<LoggerFactory>").kab(Q.qb);Cb(ya.ica).to(qa.kBa).aa();Cb(ua.pK).yf(function(Kb){return function(Ub){return new Y.oLa(Kb.$a.get(M.kd),Kb.$a.get(l.Pj),Ub);};});Cb(gb.eBa).yf(function(Kb){return function(Ub){return new wb.fBa(Kb.$a.get(l.Pj),Ub);};});Cb(T.vea).n0b(ja.uea);Cb(T.Djb).yf(function(Kb){var Ub;Ub=Kb.$a.get(T.vea);return function(){return new Ub(!1);};});Cb(T.Ejb).yf(function(Kb){var Ub;Ub=Kb.$a.get(T.vea);return function(){return new Ub(!0);};});Cb(ma.SLa).yf(function(){return function(Kb){return new ta.TLa(Kb);};});Cb(ab.QR).yf(function(Kb){return function(Ub,mc,Ec){return new Ka.TIa(Kb.$a.get(N.sv),Kb.$a.get(Ua.ad),Kb.$a.get(Ya.Ik),Kb.$a.get(ib.sda),Ub,mc,Ec);};});Cb(y.ZGa).yf(function(){return function(Kb){return new G.$Ga(Kb);};});Cb($a.pB).to(Sa.Nza);Cb(Qa.t1).yf(function(Kb){return function(Ub,mc){return new Xa.zLa(Kb.$a.get(l.Pj),Ub,mc);};});Cb(Fb.rCa).to(Eb.qCa).aa();});},function(r,b,a){var l,m,d,g;function c(h){this.PP=h;(0,m.So)(this,"timers");}function f(h,k){this.PP=h;this.jub=k;}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(1);l=a(0);m=a(56);d=a(39);g=a(4);f.prototype.cancel=function(){this.jub(this.PP);};c.prototype.Pl=function(h){return this.Ak(g.Eb,h);};c.prototype.Ak=function(h,k){var n;n=this.PP.setTimeout(k,h.da(g.ja));return new f(this.PP,function(p){p.clearTimeout(n);});};c.prototype.A$=function(h,k){var n;n=this.PP.setInterval(k,h.da(g.ja));return new f(this.PP,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(d.pMa))],a);b.nKa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.xa=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;r=a(1);l=a(0);m=a(4);d=a(38);a=a(140);c.prototype.bz=function(){return this.xa.gf.da(m.io) * f.cAa + Math.floor(this.random.random() * f.cAa);};g=f=c;g.cAa=1E8;g=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(d.Vh)),(0,r.__param)(1,(0,l.l)(a.g1))],g);b.jEa=g;},function(r,b,a){var f,l;function c(m){this.E_b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;r=a(1);f=a(0);a=a(140);c.prototype.random=function(){return this.E_b.random();};c.prototype.H6a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.dLa))],l);b.LJa=l;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u){var t;t=this;this.config=n;this.izb=p;this.Ub=q;this.performance=u;this.tRb=function(w){t.F8a=w.Ma(t.gf);};(0,f.So)(this,"date");(0,f.So)(this,"performance");this.Brb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.F8a=l.Eb;this.Ub.addListener(k.Rca.I8a,this.tRb);}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;r=a(1);f=a(56);l=a(4);m=a(0);d=a(39);g=a(327);h=a(97);k=a(15);Wa.Object.defineProperties(c.prototype,{gf:{configurable:!0,enumerable:!0,get:function(){return this.z3a?(0,l.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,l.Oc)(this.izb.now());}},LY:{configurable:!0,enumerable:!0,get:function(){return this.gf.add(this.F8a);}},z3a:{configurable:!0,enumerable:!0,get:function(){return this.config.Dbb && this.Brb;}}});a=c;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(g.AAa)),(0,r.__param)(1,(0,m.l)(d.dBa)),(0,r.__param)(2,(0,m.l)(h.wca)),(0,r.__param)(3,(0,m.l)(d.Yda)),(0,r.__param)(3,(0,m.optional)())],a);b.BAa=a;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(1);a=a(0);c.prototype.encode=function(m){return f.Jla(m);};c.prototype.decode=function(m){return f.Uka(m);};c.Jla=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,g,h=m.length,k="";d < h;){g=m[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (m[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(g);}return k;};c.Uka=function(m){var d,g,h,k,n;d=m.length;g=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?g[k++]=n:(2048 > n?g[k++]=192 | n >>> 6:(g[k++]=224 | n >>> 12,g[k++]=128 | n >>> 6 & 63),g[k++]=128 | n & 63);}return g;};l=f=c;l=f=r.__decorate([(0,a.R)()],l);b.VLa=l;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;r=a(1);a=a(0);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};k={};n=/\s+/g;[m,l].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;h[u]=q << 6;k[u]=q;}});c.prototype.encode=function(p){return f.Jla(p,m,"=");};c.prototype.decode=function(p){return f.Uka(p);};c.Uka=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,x;v < u;){x=d[p[w++]] + g[p[w++]] + h[p[w++]] + k[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[v++]=x >>> 16;q[v++]=x >>> 8 & 255;q[v++]=x & 255;}if(0 < t && (x=d[p[w++]] + g[p[w++]],q[v++]=x >>> 16,1 < t && (x+=h[p[w++]],q[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Jla=function(p,q,u){for(var t="",w=0,v=p.length,x=v - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + u;}else if(w == v - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=q[y >>> 2] + q[y << 4 & 63] + u + u;}return t;};l=f=c;l=f=r.__decorate([(0,a.R)()],l);b.xza=l;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.jj=h;}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;r=a(1);f=a(0);a(3);l=a(27);m=a(77);d=a(11);c.prototype.LH=function(g,h,k){var n,p,q,u;n=this;if(h)if(k){p=k.RN;q=k.prefix;u=k.tA;this.NC(h,function(t,w){if(!u || n.is.Hg(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.NC(h,function(t,w){g[t]=w;});return g;};c.prototype.NC=function(g,h){for(var k in g){g.hasOwnProperty(k) && h(k,g[k]);}};c.prototype.Ft=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};c.prototype.aTa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var k=g.length;k--;){if(g[k] !== h[k])return !1;}return !0;};c.prototype.wd=function(g){var h,k,n;if(g){h=g.stack;k=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;k && (g+="\nnumber:" + k);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.fna=function(g){return this.getFunctionName(g.constructor);};c.prototype.zsa=function(g){var h,k;h=this;k="";this.is.Hy(g) || this.is.mQa(g)?k=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Jp(g)?k=g:this.NC(g,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.d3(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.fna(g) + " " + k + "]";};c.prototype.createElement=function(g,h,k,n){var p;p=d.Be.createElement(g);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.NC(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.iDb=function(g,h){return function(k){return k[g] === h;};};c.prototype.FX=function(g){var h;h={};(g || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.dg)),(0,r.__param)(1,(0,f.l)(m.zx))],a);b.WLa=a;},function(r,b,a){var f,l,m;function c(d){this.Pc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(1);f=a(0);l=a(48);m=a(64);c.prototype.Jq=function(d,g){var h;h=this;return new Promise(function(k,n){var p;p=h.Pc.Ak(d,function(){n(new m.kr(d));});g.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.Pj))],a);b.EJa=a;},function(r,b,a){var f;function c(l){this.BEb=l;this.D6=!1;this.U6=this.bg=this.KP=0;this.fW=!1;this.V6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;f=a(19);c.prototype.Pqb=function(l){l < this.KP && (this.bg+=this.KP);this.KP=l;this.D6=!0;};c.prototype.nFb=function(){if(this.D6)return this.fW?this.V6 - this.U6:this.bg + this.KP - this.U6;};c.prototype.refresh=function(){var l;l=this.BEb();(0,f.Ca)(l) && this.Pqb(l);};c.prototype.vZb=function(){this.fW || (this.D6 && (this.V6=this.bg + this.KP),this.fW=!0);};c.prototype.IZb=function(){this.fW && (this.D6 && (this.U6+=this.bg + this.KP - this.V6),this.V6=0,this.fW=!1);};b.$Ga=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.xa=g;this.J5=this.xa.gf.da(m.ja) - 1;this.pNb=this.Q7=0;this.id="" + h.bz();}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;r=a(1);f=a(0);l=a(38);m=a(4);a=a(81);c.prototype.Xb=function(){var g,h;g=this.xa.gf.da(m.ja) - this.J5;if(g < this.Q7){h=this.Q7 + 1;this.J5-=h - g;g=h;}this.Q7=g;return (0,m.Oc)(this.Q7);};c.prototype.uGb=function(){return this.pNb++;};Wa.Object.defineProperties(c.prototype,{$z:{configurable:!0,enumerable:!0,get:function(){return (0,m.Oc)(this.J5);}}});d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.Vh)),(0,r.__param)(1,(0,f.l)(a.Mx))],d);b.Qya=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.pe=h;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;r=a(1);l=a(0);m=a(27);a=a(29);c.prototype.encode=function(g){var h,k;h=this;k="";this.pe.NC(g,function(n,p){n=h.zVa(n) + "=" + h.zVa(p);k=k?k + ("," + n):n;});return k;};c.prototype.zVa=function(g){return this.is.FG(g)?this.is.Hi(g)?"" + g:this.is.Jp(g)?(g=g.replace(f.Iua,this.jra.bind(this)),!f.NUb.test(g) && f.GPb.test(g) && (g='"' + g + '"'),g):this.is.tT(g)?"" + g:this.is.Eha(g)?"NaN":"":"";};c.prototype.jra=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.Iua=/(?!^.+)["\r\n](?=.+$)/g;d.NUb=/["].*["]/g;d.GPb=/[", ]/;d=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.dg)),(0,r.__param)(1,(0,l.l)(a.eg))],d);b.RAa=d;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.ib=h;this.ta=k.hb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;r=a(1);f=a(0);l=a(27);m=a(96);a=a(7);c.prototype.assert=function(){};c.prototype.Trb=function(g,h){this.assert(this.ib.FG(g),h);};c.prototype.Urb=function(g,h){this.assert(this.ib.Hg(g),h);};c.prototype.u3=function(g,h){this.assert(this.ib.Jp(g),h);};c.prototype.$rb=function(g,h){this.assert(this.ib.pn(g),h);};c.prototype.Yrb=function(g,h){this.assert(this.ib.Jp(g) || null === g || void 0 === g,h);};c.prototype.sia=function(g,h){this.assert(this.ib.Hi(g),h);};c.prototype.Wrb=function(g,h){this.assert(this.ib.fia(g),h);};c.prototype.Zrb=function(g,h){this.assert(this.ib.CT(g),h);};c.prototype.Xrb=function(g,h){this.assert(this.ib.uT(g),h);};c.prototype.Srb=function(g,h){this.assert(this.ib.tT(g),h);};c.prototype.Vrb=function(g,h){this.assert(this.ib.d3(g),h);};c.prototype.EKb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.hBa)),(0,r.__param)(1,(0,f.l)(l.dg)),(0,r.__param)(2,(0,f.l)(a.qb))],d);b.jBa=d;},function(r,b,a){var f,l,m,d;function c(g){g=l.sQ.call(this,g,"DebugConfigImpl") || this;g.$9b=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(1);f=a(46);l=a(47);m=a(0);a=a(37);na(c,l.sQ);Wa.Object.defineProperties(c.prototype,{mtb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.ed,"breakOnError")],d.prototype,"mtb",null);d=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(a.Wba))],d);b.gBa=d;},function(r,b,a){var f,l,m,d;function c(g){return l.sQ.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;r=a(1);f=a(46);l=a(47);m=a(0);a=a(37);na(c,l.sQ);Wa.Object.defineProperties(c.prototype,{Dbb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.ed,"usePerformanceApi")],d.prototype,"Dbb",null);d=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(a.Wba))],d);b.zAa=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.Ba=g;this.entries=new Set();this.ta=h.hb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Yea=void 0;r=a(1);f=a(0);l=a(18);m=a(4);a=a(7);c.prototype.mark=function(g,h,k){g={name:g,Gs:this.Ba.Xb()};h && (g.ba=h);k && (g.Gg=k);this.entries.add(g);return g;};c.prototype.Ana=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.vYa=function(g){return this.Ana().filter(function(h){return h.ba === g;});};c.prototype.sYa=function(){var g;g={};try{g=this.Ana().filter(function(h){return !h.ba;}).reduce(function(h,k){h[k.name]=k.Gs.da(m.ja);return h;},{});}catch(h){this.ta.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.n7a=function(g){var h;h=this;this.Ana().forEach(function(k){k.ba === g && h.entries.delete(k);});};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kd)),(0,r.__param)(1,(0,f.l)(a.qb))],d);b.Yea=d;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u){this.Ba=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;r=a(1);l=a(0);m=a(18);d=a(41);g=a(3);h=a(15);k=a(4);n=a(11);a=a(333);c.prototype.wUa=function(q){var u,t,w,v,x,y,z,A,B,E;u=this;v=q.mediaTime.value;x=q.Br.value;y=q.yb.value;z=q.state.value;A={segmentId:q.Ona(),mediaTime:v,segmentTime:q.WC(),bufferingState:f.ttb[x],presentingState:f.ZTb[y],playbackState:f.YSb[z],mseBuffersBusy:this.EHb(q),intBuffersBusy:this.gGb(q),tabVisible:this.F_b(),decodedFrameCount:this.Czb(q),videoElementInDom:this.P2b(q),lastVideoSync:this.Ba.Xb().Ma((0,k.Oc)(q.pZ)).da(k.ja)};B=y === h.cb.Rf?q.bb.Hl?this.config.L4a:this.config.K4a:this.config.u3a;if(x !== h.Af.re){if((x=g.L.seb,this.vRa(A.mseBuffersBusy,A.intBuffersBusy)))E=f.uza;}else (y !== h.cb.Lc?x=g.L.ueb:(x=g.L.teb,(y=q.$f) && 0 === y.Y5() && (E=f.Skb)),(y=q.$f) && y.Yb.sourceBuffers.forEach(function(D){var F,C;F=f.Bd[D.mediaType];A[F + "Ranges"]=D.Q5();try{C=D.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(D=1E3 * C.end(0) - v,A[F + "Undecoded"]=D,1 < C.length && (E=f.jdb),v < 1E3 * C.start(0) || v > 1E3 * C.end(0)?E=f.kdb:D < B.da(k.ja)?E=f.ldb:u.vRa(A.mseBuffersBusy,A.intBuffersBusy) && (E=f.uza)):(A[F + "Undecoded"]=0,E=f.hdb);}));y=q.z7a.pZa();z=v === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.Ka) || void 0 === w?void 0:w.jJ;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.qd(g.M.jHa,x,E,void 0,void 0,void 0,q,void 0);};c.prototype.EHb=function(q){var u;if(q.Yb){u={};q.Yb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.gGb=function(q){var u;if(q.Yb){u={};q.Yb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.Ih()};});return u;}};c.prototype.F_b=function(){return !n.Be.hidden;};c.prototype.Czb=function(q){return (q=q.$f) && (q=q.Yb.Y) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.P2b=function(q){if(q=q.$f)if(q=q.Yb.Y)return n.Be.body.contains(q);return !1;};c.prototype.vRa=function(q,u){var t,w,v,x;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (x=u.video) || void 0 === x?void 0:x.updating));};p=f=c;p.hdb="1";p.jdb="2";p.kdb="3";p.uza="4";p.ldb="5";p.Skb="6";p.Bd=["Audio","Video"];p.ttb=["","NORMAL","BUFFERING","STALLED"];p.ZTb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.YSb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.kd)),(0,r.__param)(1,(0,l.l)(a.yda))],p);b.kBa=p;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n;n=this;this.jg=g;this.Pc=h;this.l4=k;this.rO=function(p){n.zj=void 0;n.W0b(p || n.l4);};this.h1a=(0,m.Oc)(-this.l4.da(m.ja));}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;r=a(1);f=a(0);l=a(18);m=a(4);a=a(48);c.prototype.Pl=function(g){this.Bva=g;this.zj=this.zj || this.Uf(this.rO);};c.prototype.Gh=function(){this.zj && this.zj.cancel();this.zj=void 0;};c.prototype.W0b=function(g){var h,k;h=this.jg.Xb();if(this.Bva){k=g.Ma(h.Ma(this.h1a));0 >= k.Al(m.Eb)?(g=this.Bva,this.Bva=void 0,this.h1a=h,g()):this.zj=this.zj || this.Pc.Ak(k,this.rO.bind(this,g));}};c.prototype.Uf=function(g){return this.Pc.Ak(m.Eb,g);};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kd)),(0,r.__param)(1,(0,f.l)(a.Pj))],d);b.oLa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vea="PrioritizedSetOfListsSymbol";b.Djb="PrioritizedSetOfListsFactorySymbol";b.Ejb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.yl=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;c.prototype.toString=function(){return this.href;};Wa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.yl + this.searchParams.toString();}}});b.TLa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,l){this.searchParams[f]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,l,m){var d;d=aa(l);l=d.next().value;d=d.next().value;return "" + f + (0 == m?"?":"&") + l + "=" + d;},"");};},function(r,b,a){var f,l,m,d,g;function c(h,k){this.he=this.NCb(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=b.Nza=void 0;r=a(1);f=a(0);l=a(13);m=a(37);a=a(39);c.prototype.v6=function(h,k){var n;if(k=this.bIb(k))switch(h){case g.fA:n=0 < k.length?Number(k[0]):0;break;case g.bO:n=1 < k.length?Number(k[1]):0;break;case g.uO:n=2 < k.length?Number(k[2]):0;break;case g.w$:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.bIb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.sH=function(h){return this.he.name === h;};c.prototype.FN=function(h){return this.he.w9.name === h;};c.prototype.bLb=function(h){return this.he.FIb === h;};c.prototype.NCb=function(h,k){return Object.assign(Object.assign({FIb:this.PCb(h,k)},this.MCb(h,k)),{w9:this.QCb(h,k)});};c.prototype.PCb=function(h,k){return k && k.hardware?k.hardware:(/Mobile|iPhone/).test(h)?l.y0.phone:(/Android/).test(h)?l.y0.G_b:l.y0.Mvb;};c.prototype.MCb=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:l.Vm.opera,version:""}:(/Tesla/).test(h)?{name:l.Vm.N$a,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:l.Vm.Kr,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:l.Vm.cVa,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:l.Vm.Lja,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:l.Vm.zWa,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.Vm.l8a,version:h[1]}:{name:l.Vm.Lja,version:""};};c.prototype.QCb=function(h,k){return k && k.os && k.os.name && k.os.version?{name:k.os.name,version:k.os.version}:(/CrOS/).test(h)?{name:l.rp.lSa,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.rp.b2a,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:l.rp.wya,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:l.rp.n3,version:""}:(/Linux/).test(h)?{name:l.rp.CMb,version:""}:(/iPhone/).test(h)?{name:l.rp.e0a,version:""}:{name:l.rp.wya,version:""};};Wa.Object.defineProperties(c.prototype,{k0a:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.Lja);}},BN:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.Kr);}},Dw:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.cVa);}},nW:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.zWa);}},y7:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.opera);}},GN:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.l8a);}},J0a:{configurable:!0,enumerable:!0,get:function(){return this.sH(l.Vm.N$a);}},l7:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.n3);}},DN:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.e0a);}},m7:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.n3) && this.bLb(l.y0.phone);}},AN:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.lSa);}},Kpa:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.b2a);}},E7:{configurable:!0,enumerable:!0,get:function(){return this.FN(l.rp.wya);}},Ct:{configurable:!0,enumerable:!0,get:function(){return this.v6(g.fA,this.he.version);}},PRb:{configurable:!0,enumerable:!0,get:function(){return this.v6(g.fA,this.he.w9.version);}},QRb:{configurable:!0,enumerable:!0,get:function(){return this.v6(g.bO,this.he.w9.version);}},RRb:{configurable:!0,enumerable:!0,get:function(){return this.v6(g.uO,this.he.w9.version);}}});d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.ULa)),(0,r.__param)(1,(0,f.l)(m.nR))],d);b.Nza=d;(function(h){h[h.fA=0]="major";h[h.bO=1]="minor";h[h.uO=2]="patch";h[h.w$=3]="revision";})(g=b.aMa || (b.aMa={}));},function(r,b,a){var f,l,m;function c(d,g,h){this.Pc=d;this.g0b=g;this.iH=h;}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;r=a(1);f=a(48);l=a(0);m=a(4);c.prototype.OG=function(){this.zj || (this.zj=this.Pc.Ak((0,m.Oc)(this.g0b),this.iH));};c.prototype.Es=function(){this.zj && this.zj.cancel();this.zj=void 0;};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(f.Pj))],a);b.zLa=a;},function(r,b,a){var f,l;function c(m,d){this.Pc=m;this.l4=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;r=a(1);f=a(0);a=a(48);c.prototype.Pl=function(m){this.Gh();this.zj=this.Pc.Ak(this.l4,m);};c.prototype.Gh=function(){this.zj && this.zj.cancel();this.zj=void 0;};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Pj))],l);b.fBa=l;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;r=a(1);f=a(0);l=a(208);c.prototype.EM=function(m,d){var g;g=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=aa(h);h=k.next().value;k=k.next().value;if(g.SKb(k)){n=aa(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(g.cla(m,h,k),n.forEach(function(q){g.EM(q,p);})):k === l.dn?Object.values(m).forEach(function(q){g.EM(q,p);}):(g.cla(m,h,k),"object" === typeof n && g.EM(n,p));}else g.cla(m,h,k);});};c.prototype.SKb=function(m){return Array.isArray(m);};c.prototype.cla=function(m,d,g){m.hasOwnProperty(d) || d === g || Object.defineProperty(m,d,{get:function(){return m[g];},set:function(h){return m[g]=h;},enumerable:!1});};a=c;a=r.__decorate([(0,f.R)()],a);b.qCa=a;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;r=a(1);f=a(13);l=a(12);a=a(0);c.prototype.Zt=function(){return this.RKb()?l.KBa:(/widevine/i).test(this.config().zm)?l.mca:(/fps/i).test(this.config().zm)?"fairplay":l.d0;};c.prototype.RKb=function(){return (/clearkey/i).test(this.config().zm);};m=c;m=r.__decorate([(0,a.R)(),(0,r.__param)(0,(0,a.l)(f.ad))],m);b.dGa=m;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.S1a=void 0;c=a(649);f=a(650);r=a(0);l=a(113);m=a(7);d=a(655);b.S1a=new r.rd(function(g){g(m.qb).to(f.rFa).aa();g(l.$J).to(c.sFa).aa();g(m.cda).to(d.gFa).aa();});},function(r,b,a){var f;function c(){this.H9a={};this.Vn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(1);a=a(0);c.prototype.k$=function(l,m){m && (this.H9a[l]=m,this.Vn=Object.values(this.H9a));};f=c;f=r.__decorate([(0,a.R)()],f);b.sFa=f;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q){this.Ba=n;this.Vn=p;this.Lqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(1);f=a(209);l=a(0);m=a(652);d=a(18);g=a(113);h=a(7);k=a(653);c.prototype.hb=function(n,p,q,u,t){q=void 0 === q?this.Vn:q;return p?new m.JIa(this.Ba,this.Lqa,q,p,n):t?new k.Zya(this.Ba,this.Lqa,q,n,u || "",t):new f.ZJ(this.Ba,this.Lqa,q,n);};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(d.kd)),(0,r.__param)(1,(0,l.l)(g.$J)),(0,r.__param)(2,(0,l.l)(h.cda))],a);b.rFa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GRa=void 0;b.GRa=function(a,c){var l;a=a.sGb();for(var f=0;f < c.length;++f){l=c[f];void 0 != l && null != l && (l.Ri && (l=l.Ri),l.constructor === Uint8Array?a.arb(l):"MediaRequest" === l.constructor.name?a.Nqb(l):"string" === typeof l?a.Zqb(l):"function" === typeof l?a.Hqb(l):l instanceof Error?a.Eqb(l):l instanceof Object?a.Oqb(l):a.brb(l));}return a.gi();};},function(r,b,a){var f,l,m;function c(d,g,h,k,n){d=m.ZJ.call(this,d,g,h,n) || this;d.j=k;(0,f.So)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;f=a(56);l=a(341);m=a(209);na(c,m.ZJ);c.prototype.wka=function(d){return new c(this.Ba,this.M3,this.Vn,this.j,d);};c.prototype.lC=function(d,g,h){d=new l.bda(d,this.Ao,this.Ba.Xb(),g,h,this.j.index);g=aa(this.Vn.Vn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.JIa=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n){m=f.ZJ.call(this,m,d,g,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;f=a(209);l=a(654);na(c,f.ZJ);c.prototype.lC=function(m,d,g){m=new l.Yya(m,this.Ao,this.Ba.Xb(),d,g,this.prefix);d=aa(this.Vn.Vn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(m);}};c.prototype.wka=function(m){return new c(this.Ba,this.M3,this.Vn,m,this.groups,this.prefix);};b.Zya=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p){this.level=m;this.Ao=d;this.timestamp=g;this.message=h;this.ic=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;f=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.saa=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.a_b(! !m));return (this.timestamp.da(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.Ao + "| " + m;};c.prototype.a_b=function(m){var k;for(var d=this.ic.length,g="",h=0;h < d;++h){k=this.ic[h].Tu;h && g.length && (g+=" ");if("object" === typeof k){if(null === k)g+="null";else if(k instanceof Error)g+=this.$Zb(k,m);else try{g+=JSON.stringify(k);}catch(n){g+=this.ZZb(k);}}else g+=k;}return g;};c.prototype.$Zb=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.ZZb=function(m){var d;d=[];return JSON.stringify(m,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.Yya=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.Wc=g;this.pe=h;}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(1);f=a(0);l=a(656);m=a(36);a=a(29);c.prototype.sGb=function(){return new l.hFa(this.Wc,this.pe);};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Bi)),(0,r.__param)(1,(0,f.l)(a.eg))],d);b.gFa=d;},function(r,b,a){var p,q,u;function c(t,w){this.Wc=t;this.pe=w;this.ic=[];}function f(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function l(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function m(t,w){w=n.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.Wc=t;return w;}function d(t,w){w=n.call(this,w,function(v){return v();}) || this;w.pe=t;return w;}function g(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(t,w,v){w=n.call(this,w,v) || this;w.pe=t;return w;}function k(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.Tu=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.hFa=void 0;r=a(1);p=a(0);q=a(29);a=a(36);n.prototype.$U=function(t){return this.Tu === t;};na(k,n);k.prototype.gJ=function(t,w){return w?"":"\r\n" + this.Tu;};na(h,n);h.prototype.gJ=function(){var t;t="";this.pe.NC(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(x){try{t+=", " + w + ": " + JSON.stringify(v);}catch(y){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};na(g,n);g.prototype.gJ=function(t){var w;w="\r\n" + this.Tu.message;t || (w+="\r\n" + this.Tu.stack);return w;};na(d,n);d.prototype.gJ=function(){var t;t="";this.pe.NC(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};na(m,n);m.prototype.gJ=function(t,w){return this.Tu && !w?"\r\n" + this.Wc.encode(this.Tu):"";};na(l,n);l.prototype.gJ=function(){return this.Tu?this.Tu.toJSON():"";};na(f,n);f.prototype.gJ=function(){return ", " + (this.Tu.toString?"" + this.Tu.toString():"");};c.prototype.Zqb=function(t){this.ic.push(new k(t));};c.prototype.Oqb=function(t){this.ic.push(new h(this.pe,t));};c.prototype.Eqb=function(t){this.ic.push(new g(t));};c.prototype.Hqb=function(t){this.ic.push(new d(this.pe,t));};c.prototype.arb=function(t){this.ic.push(new m(this.Wc,t));};c.prototype.Nqb=function(t){this.ic.push(new l(t));};c.prototype.brb=function(t){this.ic.push(new f(t));};c.prototype.gi=function(){return this.ic;};u=c;u=r.__decorate([(0,p.R)(),(0,r.__param)(0,(0,p.l)(a.Bi)),(0,r.__param)(1,(0,p.l)(q.eg))],u);b.hFa=u;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.w3a=void 0;r=a(0);c=a(342);f=a(658);b.w3a=new r.rd(function(l){l(c.AGa).to(f.zGa).aa();});},function(r,b,a){var f,l,m;function c(d){this.Pc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;r=a(1);f=a(0);l=a(659);a=a(48);c.prototype.vTa=function(d,g){return new l.BGa(this.Pc,d,g);};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Pj))],m);b.zGa=m;},function(r,b){function a(c,f,l){this.Pc=c;this.config=f;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;a.prototype.observe=function(c,f){var l;l=this;this.cancel();this.zj=this.Pc.A$(this.config.WYa(),function(){l.getTime() >= c && (l.cancel(),f());});};a.prototype.cancel=function(){this.zj && (this.zj.cancel(),this.zj=void 0);};b.BGa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.pa=void 0;r=a(0);c=a(210);f=a(343);l=a(661);m=a(664);d=a(346);g=a(665);b.pa=new r.rd(function(h){h(c.Lea).to(l.wKa).aa();h(f.uKa).to(m.tKa).aa();h(d.DLa).to(g.CLa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w;function c(v,x,y,z,A,B,E,D,F,C){this.Ba=v;this.Zf=x;this.cO=y;this.oya=z;this.NX=A;this.Pc=B;this.GL=E;this.Nh=D;this.Xla=F;this.ce=C;}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(342);g=a(141);h=a(344);k=a(345);n=a(662);p=a(663);q=a(98);u=a(48);t=a(339);a=a(29);c.prototype.uyb=function(v,x,y){return new n.xKa(this.Ba,this.Zf,this.cO,this.oya,x,v,this.Nh,this.NX,this.ce,this.Xla,y);};c.prototype.Sxb=function(v,x){return new p.Mza(this.Zf,v,x,this.cO,this.Pc,this.GL);};w=c;w=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kd)),(0,r.__param)(1,(0,f.l)(m.qb)),(0,r.__param)(2,(0,f.l)(d.AGa)),(0,r.__param)(3,(0,f.l)(k.eMa)),(0,r.__param)(4,(0,f.l)(h.FIa)),(0,r.__param)(5,(0,f.l)(u.Pj)),(0,r.__param)(6,(0,f.l)(q.oQ)),(0,r.__param)(7,(0,f.l)(g.QR)),(0,r.__param)(8,(0,f.l)(t.OQ)),(0,r.__param)(9,(0,f.l)(a.eg))],w);b.wKa=w;},function(r,b,a){var d,g,h;function c(k,n,p,q,u,t,w,v,x,y,z){var A;A=this;this.Ba=k;this.cO=p;this.zta=q;this.config=u;this.lb=t;this.Nh=w;this.NX=v;this.ce=x;this.Fk=z;this.zCb=Object.values(d.Da).map(function(B){return {event:B,iH:function(E){return A.Ub.Fc(B,E);}};});this.Ub=y.create();this.YD=[];this.log=n.hb("SegmentManager");this.zma=!0;this.Lg=this.ce.createElement("div",h.Bea);}function f(k,n,p,q,u,t,w,v,x,y,z){var A;A=this;this.log=k;this.config=n;this.DQb=p;this.zta=q;this.Nh=u;this.NX=t;this.$u=w;this.O=v;this.Lg=x;this.lb=y;this.Fk=z;this.VL=function(){A.KD && (A.KD.cancel(),A.KD=void 0);};this.Boa=function(B){A.log.trace("Received the transition event",{movieId:B.J});A.UUb();};this.Eqa=function(){};this.log.debug("Constructing session data",l(v));this.i0b=new Promise(function(B){A.UUb=B;});}function l(k){return {movieId:k.J};}function m(k){return JSON.stringify({movieId:k.J,startPts:k.Z,logicalEnd:k.qj,params:k.Hb?{trackingId:k.Hb.Dj,authParams:k.Hb.B3,sessionParams:k.Hb.Lm,disableTrackStickiness:k.Hb.nla,uiPlayStartTime:k.Hb.NZ,loadImmediately:k.Hb.W7,playbackState:k.Hb.playbackState?{currentTime:k.Hb.playbackState.currentTime,volume:k.Hb.playbackState.volume,muted:k.Hb.playbackState.muted,playbackRate:k.Hb.playbackState.playbackRate}:void 0,pin:k.Hb.E5a,heartbeatCooldown:k.Hb.Moa,uiLabel:k.Hb.ye,uxLabels:k.Hb.Qaa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;d=a(15);g=a(4);h=a(12);f.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",l(this.O));this.V=this.zta.xka(this.config,this.NX,this.Nh,this.O,this.lb,this.Fk);this.V.addEventListener(d.Da.uN,function(q){n.log.trace("Segment is inactive",l(n.O));n.$u.close(n.Nh(q.errorCode));});this.V.addEventListener(d.Da.closed,this.VL);if(k)(this.log.debug("Pausing background segment",l(this.O)),this.V.addEventListener(d.Da.Wpa,this.Boa),this.V.pause());else {this.Lg.appendChild(this.V.Fn());p=function(q){n.Boa(q);n.V.removeEventListener(d.Da.loaded,p);};this.V.addEventListener(d.Da.loaded,p);}};f.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.O));if(this.KD)this.log.trace("Segment is currently observing",l(this.O));else if(this.O.Hb && this.O.Hb.W7)this.Eqa(this);else {n=this.DQb.vTa(this.config,function(){var q;if(k.V){q=k.V.bu();if(q)return q;}return 0;});p=this.Ntb(this.O);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",l(k.O));k.Eqa(k);k.VL();});}};f.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.O),error:k});return this.V?(this.V.removeEventListener(d.Da.Wpa,this.Boa),this.V.close(k)):Promise.resolve();};f.prototype.wRb=function(k){this.Eqa=k;};f.prototype.Ntb=function(k){var n,p;n=k.qj;k=k.Hb?k.Hb.W7:!1;p=0;n && !k && (p=n - this.config.rYa(),p < this.config.uYa() && (k=n - this.config.uYa(),p=n - k / 2));return p;};c.prototype.lHb=function(){return this.ph && this.ph.V?this.ph.V.isReady():!1;};c.prototype.Fn=function(){return this.Lg;};c.prototype.dH=function(){if(!this.ph || !this.ph.V)throw Error("Player not ready");return this.ph.V;};c.prototype.G1b=function(k){var n,p;p=this.nma(k);p?this.ibb(p,k):this.lb.sf(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.ph.O.J,queuedMovieIds:this.YD.map(function(q){return q.O.J;}),xid:null === (n=this.ph.V) || void 0 === n?void 0:n.Gz()});};c.prototype.Ok=function(k){var n;this.log.info("Adding segment",m(k));if(this.zma){this.log.trace("First segment, loading",l(k));n=this.F1a(k);this.zma=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.nma(k))?this.ibb(n,k):(n=this.createSession(k),this.YD.push(n),this.ph.observe()));return n?n.i0b:null;};c.prototype.transition=function(k,n){var p,q,u;q=this.TH;u=null === q || void 0 === q?void 0:q.V;if(q && u)return (this.TH=void 0,this.log.info("Transitioning segment",m(q.O)),u.mwa(this.Ba.Xb().da(g.ja)),this.Aab(q,n));n=null === q || void 0 === q?void 0:q.O;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.ph.O.J,xid:null === (p=this.ph.V) || void 0 === p?void 0:p.Gz(),nextSegmentId:k,currentSegment:m(this.ph.O),nextSegment:n?m(n):void 0,queuedMovieIds:this.YD.map(function(t){return t.O.J;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.ph.O)),nextSession:this.TH?JSON.stringify(l(this.TH.O)):void 0});k=[this.ph.close(k)];this.TH && k.push(this.TH.close());return Promise.all(k).then(function(){n.TH=void 0;n.YD=[];n.zma=!0;});};c.prototype.addListener=function(k,n,p){this.Ub.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Ub.removeListener(k,n);};c.prototype.ibb=function(k,n){this.XRb(k.O,n);this.log.trace("Overwrote existing segment data",m(k.O));};c.prototype.F1a=function(k){var n,p;n=this;this.log.info("Loading the next episode",l(k));if(this.ph){this.config.$ma()[k.J]=k.Z;p=this.nma(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",l(k)),p.wRb(function(q){n.$$a(q);}),this.ph?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.TH=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),p.load(!1),this.Aab(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.Aab=function(k,n){var p,q,u,t,w;n=void 0 === n?{}:n;t=k.V?null === (p=k.V) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.V) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.ph.O.J,mid:k.O.J,error:t,xid:null === (u=k.V) || void 0 === u?void 0:u.Gz()}),Promise.reject());this.log.trace("Playing episode",l(k.O));p=this.ph;this.ph=k;k=this.ph.V;k.Xva(!1);this.vJ(k,p?p.V:void 0);if(p && p.V){w=p.V.Fn();q=k.Fn();w.style.display="none";p=p.close();this.Lg.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.Jaa(n);k.CP();k.play();}return Promise.resolve();};c.prototype.$$a=function(k){var n,p,q,u,t;if(this.YD.length && k.V){n=k.V.bu();p=this.YD[0];q=this.ph.O.qj;u=this.ph.O.Hb?this.ph.O.Hb.W7:!1;if(q || u){u?t=0:q && (t=q - this.config.rYa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",l(p.O)),this.F1a(p.O),this.YD.splice(0,1),this.$$a(k));}}};c.prototype.nma=function(k){return this.ph.O.J === k.J?this.ph:this.YD.find(function(n){return n.O.J === k.J;});};c.prototype.XRb=function(k,n){k.Z=n.Z || k.Z;k.qj=n.qj || k.qj;k.Hb=n.Hb || k.Hb;k.oa=n.oa || k.oa;};c.prototype.createSession=function(k){return new f(this.log,this.config,this.cO,this.zta,this.Nh,this.NX,this,k,this.Lg,this.lb,this.Fk);};c.prototype.vJ=function(k,n){this.zCb.forEach(function(p){n && n.removeEventListener(p.event,p.iH);k.addEventListener(p.event,p.iH);});this.Ub.Fc(d.lF.IY);};b.xKa=c;},function(r,b,a){var m,d,g,h;function c(k,n,p,q,u,t){var w;w=this;this.V=n;this.j=p;this.cO=q;this.Pc=u;this.GL=t;this.VL=function(){w.KD && (w.KD.cancel(),w.KD=void 0);};this.log=k.hb("SegmentManager",this.j);this.pa=new Map();this.j.bb.Hl && (this.j.addEventListener(g.ca.EI,function(v){return w.MD(v);}),this.j.addEventListener(g.ca.closed,this.VL));}function f(k,n){this.id=k;this.Kja=n;}function l(k,n,p,q){return d.qd.call(this,k,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;m=a(3);d=a(41);g=a(15);h=a(4);na(l,d.qd);l.prototype.toString=function(){return this.code + "-" + this.Cc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Db,contentEndPts:this.Ob};};Wa.Object.defineProperties(f.prototype,{Db:{configurable:!0,enumerable:!0,get:function(){return this.Kja.startTimeMs;}},Ob:{configurable:!0,enumerable:!0,get:function(){return this.Kja.endTimeMs;}},sA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Kja.next);}}});c.prototype.MD=function(k){var n;n=this;!1;k=k.position.segmentId;0 === this.pa.size && Object.entries(this.j.vV()).forEach(function(p){var q;q=aa(p);p=q.next().value;q=q.next().value;n.pa.set(p,new f(p,q));});this.ha=this.pa.get(k);};c.prototype.play=function(k){this.bx && (this.bx=void 0);this.VL();this.log.trace("Playing segment",k);return this.w0a(k)?this.USb(k):this.LX(k);};c.prototype.ns=function(k){this.log.trace("Queueing segment",k);return this.w0a(k)?this.KUb(k):this.LUb(k);};c.prototype.yi=function(k,n){var p,q;p=this;q=this.j.Ka;if(null === q || void 0 === q || !q.ai)return Promise.reject(this.getError(m.M.tza,"ASE session manager is not yet initialized",m.L.Kba,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(u,t){try{q.UP(k,n);p.j.fireEvent(g.ca.Vxa,{ya:k,S1b:n});u();}catch(w){t(p.getError(m.M.tza,"updateNextSegmentWeights threw an exception",m.L.gdb,{segmentId:k,updates:n,error:w}));}});};c.prototype.w0a=function(k){return this.ha?void 0 !== this.j.vV()[this.ha.id].next[k]:!1;};c.prototype.Rna=function(){var k;k=this.j.Ka;if(null === k || void 0 === k?0:k.ai)return k.Lo().me;};c.prototype.eHb=function(){var k;k=this.j.Ka;if(null === k || void 0 === k?0:k.ai)return k.Lo().id;};c.prototype.hFb=function(k){var n;n=this.j.Ka;if(null === n || void 0 === n?0:n.ai)return (k=n.S5(k)) && k.Fe;};c.prototype.USb=function(k){var n,p;n=this;p=this.j.Ka;return null !== p && void 0 !== p && p.ai?this.ha && 1 === this.ha.sA.length?this.LX(k):this.j.$f?void 0 === this.hFb(k)?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.LX(k)):new Promise(function(q,u){var y,z,A,B,E,D;function t(){!A && z && y && (D.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:z,repositioned:y,completed:A}),p.Er(k,!1,!0)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.LX(k).then(q).catch(u)));}function w(){y=!0;n.log.trace("Player is repositioned",{id:k,stopped:z,repositioned:y,completed:A});n.j.removeEventListener(g.ca.xk,w);t();}function v(){n.j.removeEventListener(g.ca.tI,v);p.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:k,stopped:z,repositioned:y,completed:A});p.removeEventListener("stop",x);t();}y=!1;z=!1;A=!1;B=n.pa.get(k);E=n.Rna();if(void 0 === E)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.LX(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:E,currentSegment:n.ha,nextSegment:B},null,"  "));n.j.fireEvent(g.ca.b9,{Xg:n.ha && n.ha.id,hO:k});p.addEventListener("stop",x);n.j.addEventListener(g.ca.tI,v);n.j.addEventListener(g.ca.xk,w);D=n.Pc.Ak((0,h.wh)(10),function(){A=!0;D.cancel();u(n.getError(m.M.rQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.L.cdb,{id:k,stopped:z,repositioned:y,completed:A}));});n.V.seek(E,g.Ce.nK);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(m.M.rQ,"MediaPresenter is not initialized",m.L.ddb,{id:k}))):Promise.reject(this.getError(m.M.rQ,"ASE session manager is not yet initialized",m.L.Kba,{id:k}));};c.prototype.LX=function(k){var n;n=this.pa.get(k);return n?this.GY(n,m.M.rQ):Promise.reject(this.getError(m.M.rQ,"Unable to find the separated segment",m.L.sza,{id:k}));};c.prototype.KUb=function(k){var n;n=this.j.Ka;if(null === n || void 0 === n || !n.ai)return Promise.reject(this.getError(m.M.CJ,"ASE session manager is not yet initialized",m.L.Kba,{id:k}));this.j.fireEvent(g.ca.b9,{Xg:this.ha && this.ha.id,hO:k});if(n.Er(k,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:k});return Promise.reject(this.getError(m.M.CJ,"ASE chooseNextSegment failed",m.L.adb,{id:k}));};c.prototype.LUb=function(k){var n,p;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.J,srcsegment:this.eHb()});if(this.bx)return Promise.reject(this.getError(m.M.CJ,"Unable to queue a non-next segment because there is currently already a segment queued",m.L.fdb,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.bx.id,failedSegment:k}));if(!this.ha)return Promise.reject(this.getError(m.M.CJ,"Unable to queue a non-next segment because there is no currently playing segment",m.L.bdb,{nextSegmentid:k}));p=this.pa.get(k);if(!p)return Promise.reject(this.getError(m.M.CJ,"Unable to find the separated segment",m.L.sza,{nextSegmentid:k,currentSegmentId:this.ha.id}));this.bx={id:k,promise:new Promise(function(q,u){var t;n.KD=n.cO.vTa({WYa:function(){return (0,h.Oc)(100);}},function(){return n.V.bu() || 0;});t=n.Rna() - 500;n.log.trace("Adding moment for queued segment",{segment:k,pts:t});n.KD.observe(t,function(){n.log.trace("Moment has arrived",{segment:k,currentSegment:n.ha.id,playerEndPts:n.Rna(),pts:t});n.bx=void 0;n.VL();n.GY(p,m.M.CJ).then(q).catch(u);});})};this.bx.promise.catch(function(q){n.j.Yd(q.code,q);});return Promise.resolve();};c.prototype.GY=function(k,n){var p;p=this;return new Promise(function(q,u){var t;try{t=k.Db;!1;p.V.seek(t,g.Ce.GB);q();}catch(w){u(p.getError(n,"Seek threw an exception",m.L.edb,{id:k.id,error:w}));}});};c.prototype.getError=function(k,n,p,q){this.log.warn(n,q);return new l(k,n,p,q);};b.Mza=c;},function(r,b,a){var l,m;function c(){}function f(d,g,h,k,n){this.debug=d;this.version=g;this.TLb=h;this.QSb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;r=a(1);l=a(0);m=a(4);f.prototype.UFb=function(){return this.config().Iz;};f.prototype.$ma=function(){return this.config().rRa;};f.prototype.WYa=function(){return (0,m.Oc)(this.config().pTb);};f.prototype.rYa=function(){return this.config().cNb;};f.prototype.uYa=function(){return this.config().PNb;};c.prototype.SC=function(d,g,h,k,n){return new f(d,g,h,k,n);};a=c;a=r.__decorate([(0,l.R)()],a);b.tKa=a;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(1);f=a(0);a=a(13);c.prototype.rUb=function(m,d,g,h){var k;if(this.config().FXb){k=m.metrics;void 0 !== k && k.segment !== k.srcsegment && d.HW.jb.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.J,xid:d.ba,srcxid:g.ba,srcmid:g.J,segment:m.position.segmentId,srcsegment:k.srcsegment,srcsegmentduration:k.srcsegmentduration,srcoffset:k.srcoffset,seamlessRequested:k.seamlessRequested,transitionType:k.transitionType,transitionTypeAtRequest:k.transitionTypeAtRequest,nextExitPositionAtRequest:k.nextExitPositionAtRequest,delayToTransition:k.delayToTransition,durationOfTransition:k.durationOfTransition,atRequest:k.atRequest,atTransition:k.atTransition,discard:k.discard});}};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.ad))],l);b.CLa=l;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Rbb=void 0;r=a(0);c=a(345);f=a(667);b.Rbb=new r.rd(function(l){l(c.eMa).to(f.dMa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I;function c(M){this.cc=M;}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;r=a(1);f=a(0);l=a(94);m=a(29);d=a(27);g=a(7);h=a(97);k=a(210);n=a(347);p=a(668);q=a(211);u=a(82);t=a(348);w=a(669);v=a(259);x=a(81);y=a(18);z=a(119);A=a(260);B=a(425);E=a(13);D=a(426);F=a(427);C=a(38);G=a(261);K=a(428);J=a(66);I=a(31);c.prototype.xka=function(M,R,H,P,N,L){return this.cc.get(E.ad)().Naa?new w.fMa(this.cc.get(g.qb),this.cc.get(v.nea),this.cc.get(x.Mx),this.cc.get(y.kd),this.cc.get(z.UE),this.cc.get(h.tca),this.cc.get(A.qda),this.cc.get(B.iDa),this.cc.get(D.VIa),this.cc.get(F.Qea),this.cc.get(F.Qea),this.cc.get(C.Vh),this.cc.get(K.vR),this.cc.get(G.Dca),this.cc.get(I.ih),P,H):new p.wEa(this.cc.get(m.eg),this.cc.get(d.dg),this.cc.get(g.qb),this.cc.get(h.tca),this.cc.get(k.Lea),this.cc.get(q.Wda),this.cc.get(u.sca),this.cc.get(t.LHa),this.cc.get(n.uBa),M,R,H,P,N,L,this.cc.get(J.$s).LG);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.tEa))],a);b.dMa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F){var C;C=this;this.pe=k;this.ib=n;this.Ub=q;this.Fu=t;this.jU=w;this.XWa=v;this.config=y;this.Nh=A;this.O=B;this.qLb=F;this.j=z.create(B.J,B.wk,x,E,D,B.Hb,B.id,B.oa);this.j.background=!0;this.log=p.hb("VideoPlayer",this.j);this.A5a=[];this.ended=!1;this.vJ();this.j.state.addListener(function(G){G.newValue === l.Rb.re && C.Fb(l.Da.Wpa,{movieId:B.J});});this.j.bb.Hl && (this.NL=u.Sxb(this,this.j),this.j.addEventListener(l.ca.EI,function(G){G=G.position.segmentId;C.nMb !== G && (C.nMb=G,C.Fb(l.Da.rXb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;f=a(3);l=a(15);m=a(4);d=a(11);g=a(82);h=a(24);c.prototype.isReady=function(){return this.j.state.value === l.Rb.re;};c.prototype.FYa=function(){return this.j.J;};c.prototype.Gz=function(){return this.j.ba;};c.prototype.Fn=function(){return this.j.Lg;};c.prototype.sq=function(){return this.j.wj.value;};c.prototype.qW=function(){return this.j.paused.value;};c.prototype.Dpa=function(){return this.ended;};c.prototype.Ih=function(){var k;k=this.j.hja.value;return k?{networkStalled:! !k.Ds,stalled:! !k.Ds,progress:k.progress,progressRollback:! !k.xUb}:null;};c.prototype.getError=function(){var k;k=this.j.ki;return k?k.DZ():null;};c.prototype.bu=function(){return this.j.mediaTime.value;};c.prototype.nXa=function(){var k;k=(this.T5() || 0) + this.j.mXa();return Math.min(k,this.gna());};c.prototype.T5=function(){return this.j.WC();};c.prototype.gna=function(){return this.j.$y.da(m.ja);};c.prototype.zZa=function(){return this.j.fB?{width:this.j.fB.width,height:this.j.fB.height}:null;};c.prototype.U5=function(){var u;if(this.j.jp){for(var k,n=0;n < this.j.jp.length;n++){for(var p=this.j.jp[n],q=0;q < p.streams.length;q++){u=p.streams[q];this.ib.Hi(u.Dka) && this.ib.Hi(u.t4) && this.ib.Hi(u.s4) && this.ib.Hi(u.r4) && 0 < u.t4 && (u=u.r4 / u.s4,k=this.ib.Hi(k)?Math.min(k,u):u);}}return k;}};c.prototype.BXa=function(){return this.j.U5();};c.prototype.WWa=function(k){var n,p;return (null === (n=this.j.oa) || void 0 === n?0:n.mk.EV("generateScreenshots"))?this.XWa.gq(this.log,this.j.oa.mk,k):(n=null === (p=this.j.bb) || void 0 === p?void 0:p.Xo)?this.XWa.pg(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.HXa=function(){return this.vFb(this.j.K4);};c.prototype.eXa=function(){var k;k=this;return this.j.Ki.map(function(n){return k.mq(n);});};c.prototype.yYa=function(){var k;return this.FV(this.j.Ki,null === (k=this.j.oa) || void 0 === k?void 0:k.$b.L2a);};c.prototype.loa=function(k){var n;n=this;return this.MV(k).map(function(p){return n.mq(p);});};c.prototype.Bna=function(k){var n;return this.FV(this.MV(k),null === (n=this.j.oa) || void 0 === n?void 0:n.$b.M2a);};c.prototype.B9a=function(){return this.qLb;};c.prototype.Lpa=function(){return this.j.muted.value;};c.prototype.AZa=function(){return this.j.volume.value;};c.prototype.dXa=function(){var k,n;n=(null === (k=this.Ww) || void 0 === k?void 0:k.pc) || this.j.pc.value;return n && this.mq(n);};c.prototype.koa=function(){var k,n;n=(null === (k=this.Ww) || void 0 === k?void 0:k.vZ) || this.j.kc.value;return n && this.mq(n);};c.prototype.g0a=function(){return ! !this.j.background;};c.prototype.c9a=function(k){this.j.muted.set(! !k);};c.prototype.o9a=function(k){this.j.volume.set(this.uQb(k));};c.prototype.d9a=function(k){this.j.playbackRate.set(k);};c.prototype.Ko=function(){return this.j.playbackRate.value;};c.prototype.P8a=function(k){var n,p,q,u,t;n=this;q=this.gV(k);if(q){if(q.mi)return (this.j.pc.set(q),Promise.resolve());u=(k=(null === (p=this.Ww) || void 0 === p?void 0:p.vZ) || this.j.kc.value) && this.K0a(q,k)?k:q.Sh[0];p=q.trackId;t=u.trackId;this.Ww={pc:q,vZ:u};this.Fb(l.Da.hm);this.Fb(l.Da.jv);u !== k && this.Fb(l.Da.Rl);return this.j.m_a(p,t).then(function(w){w=w.pc;n.Ww=void 0;n.j.pc.set(w);}).catch(function(w){n.Ww=void 0;w=n.pe.wd(w);n.log.error(w);n.close(n.Nh(f.M.xR,{na:f.L.ida,ub:w,kH:{CJb:q.trackId,n_a:q.Xd,DJb:u.trackId,o_a:u.Xd}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.iwa=function(k){var n,p,q,u;n=this;q=(null === (p=this.Ww) || void 0 === p?void 0:p.pc) || this.j.pc.value;if(null !== q){u=q.Sh;p={};for(var t=0;t < u.length;(p={Qs:p.Qs},t++)){p.Qs=u[t];if(!k && null === p.Qs)return (this.j.kc.set(null),Promise.resolve());if(this.mq(p.Qs) === k){if(p.Qs.mi)return (this.log.info("Setting Timed Text, profile: " + p.Qs.profile),this.j.kc.set(p.Qs),Promise.resolve());k=q.trackId;u=p.Qs.trackId;this.Ww={pc:q,vZ:p.Qs};this.Fb(l.Da.Rl);return this.j.m_a(k,u).then(function(w){w=w.vZ;n.Ww=void 0;n.j.kc.set(w);}).catch((function(w){return function(v){n.Ww=void 0;v=n.pe.wd(v);n.log.error(v);n.close(n.Nh(f.M.xR,{na:f.L.ida,ub:v,kH:{CJb:q.trackId,n_a:q.Xd,DJb:w.Qs.trackId,o_a:w.Qs.Xd}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Xva=function(k){this.j.background=k;};c.prototype.CP=function(){this.j.CP();};c.prototype.Jaa=function(k){this.j.Jaa(k);};c.prototype.Fl=function(k){return this.j.Fl(k);};c.prototype.TYa=function(){return this.j.bb;};c.prototype.Tw=function(){this.j.Tw();};c.prototype.WH=function(k){this.j.WH(k);};c.prototype.SV=function(k,n,p){return this.j.SV(k,n,p);};c.prototype.Uha=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Ub.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Ub.removeListener(k,n);};c.prototype.iI=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.Fb(l.Da.H1a,void 0,!0);n.oa && (n.oa.$b.dcb && k.Fb(l.Da.e3b,n.oa.$b.dcb,!0),n.oa.$b.Bo && k.Fb(l.Da.qXb,{segmentMap:n.oa.$b.Bo},!0));p({$:!0});}catch(q){p({na:f.L.Jj,ub:k.pe.wd(q)});}}));};c.prototype.close=function(k){var n;n=this;this.ySa || (this.ySa=new Promise(function(p){k?n.j.rG(k,p):n.j.close(p);}));return this.ySa;};c.prototype.play=function(){this.j.ei?this.j.fireEvent(l.ca.n8a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.ca.Jbb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.ca.s2b));};c.prototype.seek=function(k,n,p,q){n=void 0 === n?l.Ce.GB:n;this.j.$f?this.j.$f.seek(k,n,p,q):this.j.gw=k;};c.prototype.M5a=function(k){return this.NL?(this.log.trace("Playing a segment",k),this.NL.play(k)):Promise.resolve();};c.prototype.F6a=function(k){return this.NL?(this.log.trace("Queueing a segment",k),this.NL.ns(k)):Promise.resolve();};c.prototype.yi=function(k,n){return this.NL?(this.log.trace("Updating next segment weights",k,n),this.NL.yi(k,n)):Promise.resolve();};c.prototype.QV=function(){var k;k=this.j.Sq.QV();return {bounds:k.VT,margins:k.cs,size:k.size,visibility:k.visibility};};c.prototype.sP=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.yZ && (n && this.j.yZ.jwa(n),p && this.j.yZ.kwa(p),"boolean" === typeof k && this.j.yZ.lwa(k));this.j.Sq && q && this.j.Sq.vYb(q);};c.prototype.mwa=function(k){this.j.Pm=k;};c.prototype.wZa=function(k){return this.j.ZA && this.j.ZA.SFb(k) || null;};c.prototype.aXa=function(){return this.pe.LH({playerver:this.config.version,jssid:this.config.TLb,groupName:this.config.UFb(),xid:this.j.ba,pbi:this.j.index},this.config.QSb,{prefix:"pi_"});};c.prototype.J_a=function(k){this.j.Yd(f.M.eCa,f.L.Wl,k);};c.prototype.D1a=function(k,n,p,q){if(!this.ib.nQa(k))throw Error("invalid url");this.A5a.push({url:k,name:n,Dsb:p,options:q});this.t6a();};c.prototype.boa=function(){var k,n,p,q,u,t,w,v;k={};n=this.j.dZ;try{if((this.j.ki && (k.errorCode=this.j.ki.O4,k.errorType=n?"endplay":"startplay"),k.playdelay=(0,h.Vf)(this.j.aU()),k.xid=this.j.ba,this.j.oa && this.ib.Jp(this.j.oa.$b.Xo) && (k.packageId=Number(this.j.oa.$b.Xo)),k.auth=this.j.LEb(),n)){k.totaltime=this.j.Ml?this.Ho(this.j.Ml.mN()):0;k.abrdel=this.j.Ml?this.j.Ml.Zma():0;p=this.j.$f;q=p?p.YG():null;this.ib.Hi(q) && (k.totdfr=q);q=p?p.xV():null;this.ib.Hi(q) && (k.totcfr=q);u=p?p.hGb():null;u && (k.rbfrs_decoder=u.y4,k.rbfrs_network=u.X8);k.rbfrs_delay=this.j.Ml?this.j.Ml.ypa:0;k.init_vbr=this.j.h7;t=this.eH();this.ib.FG(t) && (k.pdltime=t);w=this.j.oe.value;v=w && w.stream;v && (k.vbr=v.bitrate,k.vdlid=v.Bc);k.bufferedTime=this.j.mXa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.DM=function(k){this.j.bb.Lm && (this.j.bb.Lm.userEngageAction=1);return this.ib.Hi(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Fu.create(this.j)),{action:k}),this.jU(g.np.DM).gq(this.log,this.j.oa.mk,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Cc,errorExternalCode:n.Kd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.vFb=function(k){return {register:k.register.bind(k),notifyUpdated:k.j4a.bind(k),getModel:k.BGb.bind(k),getGroups:k.CV.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.mq=function(k){var n;n=k.jua=k.jua || ({trackId:k.trackId,bcp47:k.Xd,displayName:k.displayName,trackType:k.ol,rawTrackType:k.oI,channels:k.channels});this.Rpa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.nZ);this.Spa(k) && (n.isNoneTrack=k.rq(),n.isForcedNarrative=k.Qo(),n.isImageBased=k.kk);n.subType=k.YI;n.variant=k.variant;return n;};c.prototype.Rpa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.Spa=function(k){return "undefined" !== typeof k.rq && "undefined" !== typeof k.Qo;};c.prototype.gV=function(k){var n;n=this;return k && this.j.Ki.find(function(p){return n.mq(p) === k;});};c.prototype.MV=function(k){var n,p;k=this.gV(k) || (null === (n=this.Ww) || void 0 === n?void 0:n.pc) || this.j.pc.value;return null !== (p=null === k || void 0 === k?void 0:k.Sh) && void 0 !== p?p:[];};c.prototype.FV=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.jc > n;});return -1 === k?p:k - 1;};c.prototype.K0a=function(k,n){return 0 <= k.Sh.indexOf(n);};c.prototype.uQb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Ho=function(k){return this.ib.Hi(k)?(k / 1E3).toFixed(0):"";};c.prototype.Fb=function(k,n,p){n=n || ({});n.target=this;this.Ub.Fc(k,n,!p);};c.prototype.vJ=function(){var k;k=this;this.j.addEventListener(l.ca.lxa,function(){k.Fb(l.Da.Wp);});this.j.addEventListener(l.ca.Sab,function(){k.Fb(l.Da.Rab);});this.j.addEventListener(l.ca.t8,function(){k.Fb(l.Da.bja);});this.j.addEventListener(l.ca.xk,function(){k.Fb(l.Da.bja);});this.j.addEventListener(l.ca.uN,function(n){k.Fb(l.Da.uN,{errorCode:n});});this.j.addEventListener(l.ca.Hia,function(n){k.Fb(l.Da.dRa,n.j);});this.j.addEventListener(l.ca.ei,function(n){k.Fb(l.Da.C3,n);});this.j.addEventListener(l.ca.wab,function(){k.Fb(l.Da.z3);k.Fb(l.Da.jv);});this.j.wj.addListener(function(){k.Fb(l.Da.Hta);});this.j.paused.addListener(function(){k.Fb(l.Da.u5a);});this.j.muted.addListener(function(){k.Fb(l.Da.G3a);});this.j.volume.addListener(function(){k.Fb(l.Da.Xbb);});this.j.yb.addListener(function(){k.$ab();});this.j.state.addListener(function(){k.$ab();});this.j.hja.addListener(function(n){k.dNb || k.j.state.value != l.Rb.re || n.newValue || (k.dNb=!0,k.Fb(l.Da.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.boa());}));k.Fb(l.Da.QL);});this.j.pc.addListener(function(){k.Fb(l.Da.hm);k.Fb(l.Da.jv);setTimeout(function(){var n,p;n=k.j.pc.value;p=k.j.kc.value;null === n || null === p || k.K0a(n,p) || (k.log.info("Changing timed text track to match audio track"),k.j.kc.set(n.Sh[0]));},0);});this.j.kc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Fb(l.Da.Rl);});this.j.addEventListener(l.ca.jv,function(){k.Fb(l.Da.jv);});this.j.addEventListener(l.ca.JZ,function(){k.Fb(l.Da.JZ);});this.j.state.addListener(function(n){switch(n.newValue){case l.Rb.re:k.Fb(l.Da.$Ua);k.Fb(l.Da.Sbb);k.Fb(l.Da.z3);k.Fb(l.Da.jv);k.Fb(l.Da.G1a);k.t6a();k.k3b();break;case l.Rb.CLOSING:k.j.ki && k.Fb(l.Da.c0a,k.j.ki);break;case l.Rb.CLOSED:(k.Fb(l.Da.closed),k.Ub.Gh());}});};c.prototype.k3b=function(){var k;k=this;this.j.Sq.addEventListener("showsubtitle",function(n){k.Fb(l.Da.rwa,n,!0);});this.j.Sq.addEventListener("removesubtitle",function(n){k.Fb(l.Da.Sua,n,!0);});};c.prototype.t6a=function(){if(this.j.state.value == l.Rb.re){for(var k,n,p;n=this.A5a.shift();){k=this.j.Sq.Oha(n.url,n.name,n.options);n.Dsb && (p=k);}p && this.j.kc.set(p);}};c.prototype.$ab=function(){var k;k=this.j.state.value == l.Rb.re && this.j.yb.value == l.cb.Yq;this.ended !== k && (this.ended=k,this.j.cG("Ended changed: " + k),(k || this.j.state.value === l.Rb.CLOSING) && this.Fb(l.Da.EVa));};c.prototype.eH=function(){var k,n;try{k=/playercore.*js/;n=d.Av.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.wEa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w;function c(v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H){var P,N,L;P=this;this.QX=x;this.Mz=y;this.Ba=z;this.pk=A;this.Ub=B;this.MW=E;this.mTb=D;this.Q5a=F;this.Vaa=C;this.y3=G;this.xa=K;this.QN=J;this.config=I;this.pC=M;this.O=R;this.Nh=H;this.X7=new p.dc(!0);this.wj=new p.dc(!1);this.Ds=new p.dc(!1);this.ended=new p.dc(!1);this.N3=new p.dc(0);this.yb=new p.dc(l.cb.Rf);this.XO=new p.dc(void 0);this.loaded=this.dZ=this.closed=!1;this.m6a=function(Q,S){return function(U){var ca,ka,ya,qa,Y;ca=U.newValue;ka=ca.zC;U=ca.jm;ya=ca.stream;ca=Q.value;qa=ca.streams.find(function(ua){return ua.bitrate === ya.stream.bitrate;});Y=P.wa.kj.find(function(ua){return ua.id === ka;});P.log.info("Presenting " + qa.type + " request with bitrate " + qa.bitrate + ", track " + (ca.trackId + " [" + U.startTime + "..." + U.endTime + "]"));S.set({stream:qa,jm:U,tc:Y});};};this.o$a=function(Q,S,U){return function(ca){var ka,ya;ka=Q.value;ya=ka.streams.find(function(qa){return qa.bitrate === ca.newValue.stream.bitrate;});P.log.info("Streaming " + ya.type + " stream with bitrate " + ya.bitrate + ", track " + ka.trackId);S.set(ya,{oG:ca.qm.oG,RT:void 0});ka=P.wa.kj.filter(function(qa){return qa.id === ca.qm.zC;})[0];U.set(ka);};};this.yWa=new Set();this.log=v.hb("HLSVideoPlayer");this.Y=(0,m.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Y.playsInline=this.config.$5a;this.wa=this.QX(d.DB.index++,R.J,R.id,null !== (N=R.Hb) && void 0 !== N?N:{},this.Mz.bz(),this.Ba.Xb(),!1,void 0,function(){return P.bu();});this.wa.mediaTime.set(null !== (L=this.wa.gw) && void 0 !== L?L:0);this.vJ();this.nnb=this.QN.create(this);this.nnb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;f=a(44);l=a(15);m=a(30);d=a(59);g=a(103);h=a(58);k=a(3);n=a(63);p=a(80);q=a(4);u=a(19);t=a(129);w=a(24);c.prototype.v_b=function(){return ! !this.Y.canPlayType && ("" !== this.Y.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Y.canPlayType("audio/mpegurl"));};c.prototype.vJ=function(){var v;v=this;this.Y.addEventListener("loadedmetadata",function(){v.Fb(l.Da.H1a);v.Fb(l.Da.G1a);v.Fb(l.Da.hm);v.Fb(l.Da.z3);v.Fb(l.Da.Rl);v.Fb(l.Da.jv);});this.Y.addEventListener("error",function(x){x=v.Nh(k.M.oHa,x);v.close(x);});this.Y.addEventListener("timeupdate",function(){v.ended.set(!1);v.wa.mediaTime.set(v.bu());v.ila();v.Fb(l.Da.Wp);v.Fb(l.Da.Rab);});this.Y.addEventListener("durationchange",function(){v.Fb(l.Da.$Ua);});this.Y.addEventListener("resize",function(){v.Fb(l.Da.Sbb);});this.Y.addEventListener("playing",function(){v.ila();v.Ds.set(!1);v.wj.set(!0);v.ended.set(!1);v.yb.set(l.cb.Lc);});this.Y.addEventListener("pause",function(){v.wj.set(!1);v.Ds.set(!1);v.yb.set(l.cb.jh);});this.Y.addEventListener("waiting",function(){v.yb.set(l.cb.Rf);});this.Y.addEventListener("stalled",function(){v.Ds.set(!0);});this.Y.addEventListener("seeking",function(){v.Ds.set(!1);v.XO.set(v.wa.mediaTime.value);v.yb.set(l.cb.Rf);});this.Y.addEventListener("seeked",function(){void 0 !== v.XO.value && (v.wa.Ml.ssa(v.XO.value,v.bu()),v.XO.set(void 0));v.yb.set(v.sq()?l.cb.Lc:l.cb.jh);});this.Y.addEventListener("progress",function(){v.Fb(l.Da.bja);v.s1b();});this.Y.addEventListener("ended",function(){v.yb.set(l.cb.Yq);v.Ds.set(!1);v.wj.set(!1);v.ended.set(!0);});this.Y.addEventListener("volumechange",function(){v.Fb(l.Da.Xbb);v.Fb(l.Da.G3a);});this.wj.addListener(function(){v.Fb(l.Da.Hta);v.Fb(l.Da.u5a);v.WL();});this.N3.addListener(function(){v.Fb(l.Da.QL);});this.Ds.addListener(function(){v.Fb(l.Da.QL);});this.X7.addListener(function(){v.WL();});this.ended.addListener(function(){v.Fb(l.Da.EVa);});this.wa.playbackRate.addListener(function(x){v.Y.playbackRate=x.newValue;});};c.prototype.WL=function(){!this.sq() || this.X7.value || this.dZ || this.cRa || (this.dZ=!0,this.wa.qH=this.xa.LY,this.Q5a.cp(this,this.wa));};c.prototype.aU=function(){return this.PX - (this.wa.wk.da(q.ja) + this.Ba.$z.da(q.ja));};c.prototype.WG=function(){var v;v=this.wa.bb.NZ;return (0,u.Ca)(v)?v:this.wa.wk.da(q.ja) + this.Ba.$z.da(q.ja);};c.prototype.mja=function(){return this.xa.gf.da(q.ja) - this.WG();};c.prototype.oja=function(){return this.PX - this.WG();};c.prototype.s1b=function(){var v;v=this.Y.readyState <= n.co.w0.HAVE_METADATA?0:this.Y.readyState <= n.co.w0.HAVE_CURRENT_DATA?.5:1;1 === v && (this.PX=this.xa.gf.da(q.ja),this.X7.set(!1),this.qma(l.Da.loaded));this.N3.set(v);};c.prototype.ila=function(){var v;v=this.bu();this.Vaa.S8a(v);this.y3.S8a(v);};c.prototype.KY=function(){var v;v=this;this.wa.Dd("ats");return this.pk.bN({ba:this.wa.ba,bb:this.wa.bb,X:this.wa.J,Xt:g.Ym.l1,Xf:h.Yh.up}).then(function(x){var z;function y(A){var B;B=A;A && A.rq() && !A.Qo() && (B=null);v.wa.Ii.set(B);}v.wa.Dd("at");z=v.MW.create({}).p5a(x);v.wa.oa=x;v.wa.Tc=z;v.Y.audioTracks.addEventListener("addtrack",function(){v.kbb(v.wa.pc.value);});v.Y.audioTracks.addEventListener("change",function(){for(var A,B,E={},D=aa(v.Y.audioTracks),F=D.next();!F.done;(E={jQ:E.jQ},F=D.next())){E.jQ=F.value;E.jQ.enabled && E.jQ.label !== (null === (A=v.wa.pc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.wa.Ki.find((function(C){return function(G){return G.displayName === C.jQ.label;};})(E))) && void 0 !== B?B:null,v.wa.pc.set(F));}});v.wa.pc.addListener(function(A){v.kbb(A.newValue);v.Fb(l.Da.hm);v.Fb(l.Da.jv);});v.Y.textTracks.addEventListener("addtrack",function(){v.lbb(v.wa.kc.value);});v.Y.textTracks.addEventListener("change",function(){var C;for(var A,B,E=v.Y.textTracks,D={},F=0;F < E.length;(D={kQ:D.kQ},F++)){if((D.kQ=E[F],"showing" === D.kQ.mode && D.kQ.label !== (null === (A=v.wa.kc.value) || void 0 === A?void 0:A.displayName))){!1;C=null !== (B=v.wa.Sh.find((function(G){return function(K){return K.displayName === G.kQ.label;};})(D))) && void 0 !== B?B:null;v.wa.kc.set(C);y(C);}}});v.wa.kc.set(z.CU);y(z.CU);v.wa.kc.addListener(function(A){v.lbb(A.newValue);v.Fb(l.Da.Rl);});return v.mTb.gi(x,function(A){return v.wa.Dd(A);});}).then(function(x){var y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P;y=x.MNb;z=x.tub;x=x.PZb;A=x.audio;B=x.fUa;E=x.video;D=v.wa;F=D.mh;C=D.pc;G=D.Ki;K=D.Xe;J=D.yg;x=D.gw;I=D.oe;M=D.lf;R=D.Ml;D=D.Tc;D.Ki=G.filter(function(N){return A.find(function(L){return L.track.tg === N.trackId;});});J.set(D.G4);C.set(G.find(function(N){return N.trackId === B;}));D=E[0];H=D.stream;G=A.find(function(N){return N.track.tg === B;});P=G.stream;v.jW=H.bitrate;v.Vaa.Rta.addListener(v.m6a(J,I));v.Vaa.Ywa.addListener(v.o$a(J,K,v.wa.tc[f.Tb.Ta.Nb]));K=z.get(H.Ir).KO.Sp;v.Vaa.xb(E,D,K);v.y3.Rta.addListener(v.m6a(C,M));v.y3.Ywa.addListener(v.o$a(C,F,v.wa.tc[f.Tb.Ta.Vb]));z=z.get(P.Ir).KO.Sp;v.y3.xb(A,G,z);v.Y.src=y;v.Y.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;v.Y.load();R.ssa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,w.wd)(x);v.log.error("uncaught exception",x,z);}v.close(v.Nh(null !== (y=x.code) && void 0 !== y?y:k.M.RLa,x));});};c.prototype.lbb=function(v){var z;for(var x=this.Y.textTracks,y=0;y < x.length;y++){z=x[y];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.kbb=function(v){for(var x=aa(this.Y.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== v.displayName || y.enabled || (!1,y.enabled=!0);y.label !== v.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.bu=function(){return Math.floor(1E3 * this.Y.currentTime);};c.prototype.T5=function(){return this.bu();};c.prototype.gna=function(){return Math.floor(1E3 * this.Y.duration);};c.prototype.FYa=function(){return this.O.J;};c.prototype.Gz=function(){return this.wa.ba;};c.prototype.Fn=function(){return this.Y;};c.prototype.isReady=function(){return null === this.Ih();};c.prototype.sq=function(){return this.wj.value;};c.prototype.qW=function(){return !this.wj.value;};c.prototype.Dpa=function(){return this.Y.ended;};c.prototype.Ih=function(){return 1 !== this.N3.value?{stalled:this.Ds.value,progress:this.N3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,x;return null !== (x=null === (v=this.ki) || void 0 === v?void 0:v.DZ()) && void 0 !== x?x:null;};c.prototype.nXa=function(){return 1 === this.Y.buffered.length?1E3 * this.Y.buffered.end(0):null;};c.prototype.zZa=function(){return {width:this.Y.videoWidth,height:this.Y.videoHeight};};c.prototype.Lpa=function(){return this.Y.muted;};c.prototype.AZa=function(){return this.Y.volume;};c.prototype.c9a=function(v){this.Y.muted=v;};c.prototype.o9a=function(v){this.Y.volume=v;};c.prototype.addEventListener=function(v,x,y){this.Ub.addListener(v,x,y);};c.prototype.removeEventListener=function(v,x){this.Ub.removeListener(v,x);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.pC.ON(function(x){v.v_b()?x.$?v.KY():v.close(v.Nh(x.errorCode || k.M.Mca,x)):v.close(v.Nh(k.M.fgb));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.wa.mediaTime.set(this.bu());this.ila();this.wa.nU=this.T5();this.closed=!0;this.Y.removeAttribute("src");this.Y.load();(this.ki=v) && this.Fb(l.Da.error,v.DZ());this.Fb(l.Da.closed);return this.Q5a.fZ(this.wa);};c.prototype.play=function(){var v,x;v=this;x=this.Y.play();this.cRa=!1;x && x.then(function(){v.qma(l.Da.dRa);}).catch(function(y){v.Fb(l.Da.QL);"NotAllowedError" === y.name && (v.log.warn("Playback is blocked by the browser settings",y),v.cRa=!0,v.ei=!0,v.qma(l.Da.C3,{player:{play:function(){return v.play();}}}));});};c.prototype.Fb=function(v,x,y){x=x || ({});x.target=this;this.Ub.Fc(v,x,!y);};c.prototype.qma=function(v,x){this.yWa.has(v) || (this.yWa.add(v),this.Fb(v,x,void 0));};c.prototype.pause=function(){this.Y.pause();};c.prototype.seek=function(v){this.Y.currentTime=v / 1E3;};c.prototype.J_a=function(v){this.close(this.Nh(k.M.eCa,k.L.Wl,v));};c.prototype.Ko=function(){return this.wa.playbackRate.value;};c.prototype.d9a=function(v){this.wa.playbackRate.set(v);};c.prototype.eXa=function(){var v;v=this;return this.wa.Ki.map(function(x){return v.mq(x);});};c.prototype.loa=function(v){var x;x=this;return this.MV(v).map(function(y){return x.mq(y);});};c.prototype.dXa=function(){var v;v=this.wa.pc.value;return v && this.mq(v);};c.prototype.koa=function(){var v;v=this.wa.kc.value;return v && this.mq(v);};c.prototype.P8a=function(v){if((v=this.gV(v)) && v.mi)return (this.wa.pc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.iwa=function(v){var x,y;x=this;y=this.wa.Sh.find(function(z){return x.mq(z) === v;});if(y && y.mi)return (this.wa.kc.set(y),this.wa.Ii.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.yYa=function(){var v;return this.FV(this.wa.Ki,null === (v=this.wa.oa) || void 0 === v?void 0:v.$b.L2a);};c.prototype.Bna=function(v){var x;return this.FV(this.MV(v),null === (x=this.wa.oa) || void 0 === x?void 0:x.$b.M2a);};c.prototype.mq=function(v){var x;x=v.jua=v.jua || ({trackId:v.trackId,bcp47:v.Xd,displayName:v.displayName,trackType:v.ol,rawTrackType:v.oI,channels:v.channels});this.Rpa(v) && (x.isNative=v.isNative,x.surroundFormatLabel=v.nZ);this.Spa(v) && (x.isNoneTrack=v.rq(),x.isForcedNarrative=v.Qo(),x.isImageBased=v.kk);x.subType=v.YI;x.variant=v.variant;return x;};c.prototype.Rpa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Spa=function(v){return "undefined" !== typeof v.rq && "undefined" !== typeof v.Qo;};c.prototype.gV=function(v){var x;x=this;return v && this.wa.Ki.find(function(y){return x.mq(y) === v;});};c.prototype.MV=function(v){var x;v=this.gV(v) || this.wa.pc.value;return null !== (x=null === v || void 0 === v?void 0:v.Sh) && void 0 !== x?x:[];};c.prototype.FV=function(v,x){var y;y=v.length - 1;if("number" !== typeof x)return y;v=v.findIndex(function(z){return z.jc > x;});return -1 === v?y:v - 1;};c.prototype.Jaa=function(v){this.wa.bb=(0,t.A8)(this.wa.bb,v);};c.prototype.Fl=function(v){if(v !== this.wa.ya)throw (!1,Error("Unknown segmentId " + v));return this.wa;};c.prototype.TYa=function(){return this.wa.bb;};c.prototype.Uha=function(){!1;};c.prototype.Tw=function(){!1;};c.prototype.WH=function(){!1;};c.prototype.SV=function(){!1;return Promise.reject();};c.prototype.boa=function(){return {};};c.prototype.U5=function(){};c.prototype.BXa=function(){};c.prototype.aXa=function(){return {};};c.prototype.Xva=function(){};c.prototype.CP=function(){};c.prototype.g0a=function(){return !1;};c.prototype.HXa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.DM=function(){!1;return Promise.resolve({success:!0});};c.prototype.wZa=function(){!1;};c.prototype.QV=function(){!1;};c.prototype.sP=function(){!1;};c.prototype.mwa=function(){!1;};c.prototype.D1a=function(){!1;};c.prototype.WWa=function(){!1;return Promise.reject();};c.prototype.M5a=function(){!1;return Promise.reject();};c.prototype.F6a=function(){!1;return Promise.reject();};c.prototype.yi=function(){!1;return Promise.reject();};c.prototype.iI=function(){!1;};c.prototype.B9a=function(){return !1;};b.fMa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=b.Oo=void 0;(function(c){c[c.cj=0]="STOPPED";c[c.xd=1]="BUFFERING";c[c.Qf=2]="REBUFFERING";c[c.dj=3]="STREAMING";c[c.$R=4]="TRACK_SWITCH";})(a || (a={}));b.Kc=a;b.Oo=function(c){return c === a.xd || c === a.Qf || c === a.$R;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(682),b);r.__exportStar(a(683),b);r.__exportStar(a(684),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ada=void 0;r=b.Ada || (b.Ada={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.sB=1]="HAVE_SOMETHING";r[r.Jx=2]="HAVE_MINIMUM";r[r.SJ=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ma=void 0;r=a || (a={});r[r.Ah=0]="STARTING";r[r.xd=1]="BUFFERING";r[r.Qf=2]="REBUFFERING";r[r.Lc=3]="PLAYING";r[r.jr=4]="STOPPING";r[r.cj=5]="STOPPED";r[r.jh=6]="PAUSED";b.ma=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(705),b);r.__exportStar(a(706),b);r.__exportStar(a(707),b);r.__exportStar(a(708),b);r.__exportStar(a(709),b);r.__exportStar(a(710),b);r.__exportStar(a(711),b);r.__exportStar(a(712),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(714),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ay=void 0;r=b.ay || (b.ay={});r[r.Wib=0]="PLAYGRAPH_CHANGED";r[r.Xib=1]="PLAYGRAPH_UNCHANGED";r[r.jib=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Jfb=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Ifb=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Wjb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.wcb=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jza=void 0;c=a(16);r=(function(){function f(l){this.config=l;}f.prototype.vm=function(l,m){return this.config.hZ || m !== c.Kc.dj?l.filter(function(d){return d.Wt;}):l;};return f;})();b.jza=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sF=void 0;r=a(2);c=a(20);f=r.__importDefault(a(6));l=a(350);a=(function(){function m(d){this.console=d;this.gUa=[];this.nRa={};this.xUa=!1;}m.prototype.Mq=function(d,g){this.gUa=d;void 0 !== g?this.nRa[g]=d:this.xUa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.xUa=!0);};m.prototype.vm=function(d){var g,h,k,n,p;g=this;if(0 === d.length)return d;n=d[0].X;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.Jt) || void 0 === h?void 0:h.call(f.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.nRa[n]) && void 0 !== k?k:this.gUa;c.ga && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return l.kia(q.profile,q.bitrate,p,g.console).inRange;});c.ga && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.sF=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;r=(function(){function a(c){var f;f=this;c.GP && c.GP.enabled && c.GP.profiles && c.GP.profiles.length && "keepLowest" === c.GP.action && (this.d1a={},c.GP.profiles.forEach(function(l){return f.d1a[l]=!0;}));}a.prototype.vm=function(c){var f,l;f={};l=this.d1a;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (f[m.profile]?!1:f[m.profile]=!0);});};return a;})();b.kza=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hza=void 0;r=(function(){function a(c){this.config=c;}a.prototype.vm=function(c){var f;f=this.config;return c.filter(function(l){return !(void 0 !== l.sb && (l.sb < f.KH || l.sb > f.x2a) || (void 0 === l.sb || 0 >= f.KH) && l.bitrate < f.Ora || (void 0 === l.sb || Infinity === f.x2a) && l.bitrate > f.YNb);});};return a;})();b.hza=r;},function(r,b,a){var f;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Uya=void 0;f=a(16);r=(function(){function l(m){this.config=m;this.h$=0;this.state=f.Kc.cj;this.v3a=c(m.Ora,m.C8);this.Ura=c(m.KH,m.YW);}l.prototype.vm=function(m,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.Kc.xd || d === f.Kc.$R)return m;d === f.Kc.Qf && this.U6a();}return m.filter(function(h){return !(void 0 !== h.sb && h.sb < g.Ura || (void 0 === h.sb || 0 > g.Ura) && h.bitrate < g.v3a);});};l.prototype.U6a=function(){++this.h$;this.Ura=c(this.config.KH,this.config.YW - this.config.$Ob * this.h$);this.v3a=this.config.Ora || -Infinity;};return l;})();b.Uya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gza=void 0;c=a(25);r=(function(){function f(l){this.config=l;}f.prototype.NYb=function(l){return l % 100 + 1 <= this.config.mta;};f.prototype.vm=function(l){var m,d,g,h,k,n,p,q,u,t,w;p=Number(null === (m=l[0]) || void 0 === m?void 0:m.J);if(!(this.config.a5 && this.NYb(p) && 0 < this.config.u$.length))return l;m=l.length;q=null !== (d=l[m - 1].t$) && void 0 !== d?d:0;if(d=c.kg(this.config.u$,function(v){return v.lcc >= q && v.W7a <= q;})){for(p=0;p < m;p++){u=l[Math.max(p - 1,0)];t=l[p];if(!((null !== (g=t.t$) && void 0 !== g?g:0) < d.W7a || (null !== (h=u.t$) && void 0 !== h?h:0) < d.W7a)){w=null !== (k=t.sb) && void 0 !== k?k:Infinity;u=null !== (n=u.sb) && void 0 !== n?n:Infinity;if(!(u < d.vbc || u < d.ubc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.Rac))break;}}return l.slice(0,p);}return l;};return f;})();b.gza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fda=b.Gba=void 0;c=a(25);b.Gba={vm:function(f){return f.filter(function(l){return l.pu && !l.Kz;});}};b.fda={vm:function(f){return (f=c.kg(f,function(l){return ! !l.pu && !l.Kz;}))?[f]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gda=void 0;b.gda={vm:function(a){return [a[0]];}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.FC=b.EC=void 0;c=a(352);f=a(99);b.EC=function(l,m){m && (null === l || void 0 === l?0:l.r_a) && (m=new f.et(m).or(f.dF));return new f.et(f.Gba).and(null !== m && void 0 !== m?m:f.dF).or(f.fda,c.oK.SG).or(f.gda,c.oK.SG);};b.FC=function(l,m){m && l.r_a && (m=new f.et(m).or(f.dF));return new f.et(f.Gba).and(new f.jza(l)).and(new f.hza(l)).and(new f.Uya(l)).and(new f.kza(l)).and(l.a5?new f.gza(l):f.dF).and(null !== m && void 0 !== m?m:f.dF).or(f.fda,c.oK.SG).or(f.gda,c.oK.SG);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(735),b);r.__exportStar(a(356),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Kya=void 0;c=a(2);r=(function(f){function l(m,d){m=f.call(this,l.sEb(m,d)) || this;m.lmb=d;m.name="AggregateError";return m;}c.__extends(l,f);l.sEb=function(m,d){return d.reduce(function(g,h){return g + "\n" + h;},m);};Object.defineProperties(l.prototype,{g5:{get:function(){return this.lmb;},enumerable:!1,configurable:!0}});return l;})(Error);b.Kya=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bjb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Md,segments:a.Bzb(c.pa)},void 0 !== c.ae?{transitionType:c.ae}:{});};a.encode=function(c){return Object.assign({Md:c.initialSegment,pa:a.jCb(c.segments)},void 0 !== c.transitionType?{ae:c.transitionType}:{});};a.jCb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.iCb(c[l]);return f;},{});};a.iCb=function(c){return Object.assign({X:c.viewableId,Db:c.startTimeMs},c.endTimeMs?{Ob:c.endTimeMs}:{},c.defaultNext?{Qe:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{},c.next?{next:a.gCb(c.next)}:{},c.exitZones?{hq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{kv:c.uxSegment}:{});};a.gCb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.hCb(c[l]);return f;},{});};a.hCb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{});};a.Bzb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Azb(c[l]);return f;},{});};a.Azb=function(c){return Object.assign({viewableId:c.X,startTimeMs:c.Db},c.Ob?{endTimeMs:c.Ob}:{},c.Qe?{defaultNext:c.Qe}:{},c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{},c.next?{next:a.yzb(c.next)}:{},c.hq?{exitZones:c.hq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.kv?{uxSegment:c.kv}:{});};a.yzb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.zzb(c[l]);return f;},{});};a.zzb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{});};return a;})();},function(r,b,a){var m;function c(d){return Object.keys(d.segments).some(function(g){var h,k;return (null === (h=d.segments[g].ui) || void 0 === h?void 0:h.interactionZones) || (null === (k=d.segments[g].ui) || void 0 === k?void 0:k.interactionZonesV2);});}function f(d){return Object.keys(d).reduce(function(g,h){var k,n;k=d[h];n=k.weight;k=k.transitionType || k.transitionHint;h=g[h]={};void 0 !== n && (h.weight=n);k && (h.ae=k);return g;},{});}function l(d){var g,h;g=Object.keys(d);h=g.length;return h?g.reduce(function(k,n){return k + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperty(b,"__esModule",{value:!0});m=a(169);b.AC=function(d,g){var h,k,n,p,q,u;h=void 0 === g?{}:g;g=h.Bd;k=h.Md;n=h.pa;h=h.config;p=!(!h || -1 === h.Gma.indexOf(d.viewableId));q=c(d)?0:(null === h || void 0 === h?void 0:h.Fma) || 0;h=new m.EB();u=n || d.segments;h.KI(null !== k && void 0 !== k?k:d.initialSegment).b9a(null !== g && void 0 !== g?g:d.mediaTypes).nwa(p?"immediate":d.transitionType).hwa(Object.keys(u).reduce(function(t,w){var v,x,y,z,A;v=u[w];z=v.weight;if(null === z || void 0 === z)z=v.next && (p || (null === (x=v.exitZones) || void 0 === x?0:x.length))?l(v.next):void 0;x=v.exitZones;if(null === x || void 0 === x)a:{if(p && v.endTimeMs){x=v.endTimeMs - v.startTimeMs;b:{if(v.ui){A=v.ui.interactionZones;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0] - v.startTimeMs;break b;}A=v.ui.interactionZonesV2;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0];break b;}}A=void 0;}if(A && A < x){x=[[A,x]];break a;}if(q && x > q){x=[[x - q,x]];break a;}}x=void 0;}A=v.transitionHint || (!p || q || x?void 0:"lazy");z={X:d.viewableId,Db:v.startTimeMs,Ob:(y=v.endTimeMs,null !== y && void 0 !== y?y:Infinity),ae:A,hq:x,weight:z};v.defaultNext && (z.Qe=v.defaultNext);v.next && (z.next=f(v.next));t[w]=z;return t;},{}));return h.gi();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(169);b.OI=function(f,l,m){var d;d=new c.EB();d.KI(l).nwa("lazy").b9a(m).Ok(l,{X:f,Db:0,Ob:Infinity});return d.gi();};},function(r,b,a){var f,l,m;function c(d,g,h){var k;k={};Object.keys(d).forEach(function(n){n !== g?k[n]=d[n]:k[h]=d[n];});return k;}Object.defineProperty(b,"__esModule",{value:!0});f=a(1);l=a(169);m=a(358);b.lbc=function(d,g){var h,k,n,p,q,u,t,w,v,x;k=Object.keys(g.pa);m.assert(2 === k.length,"Unsupported content playgraph: must have 2 segments");n=g.Md;p=k[0] === n?k[1]:k[0];k=g.pa[n];q=g.pa[p];u=q.X;m.assert(k.X !== u,"Unsupported content playgraph: must have different viewableIds");t=new l.EB();t.hwa(d.pa,function(y){return y.X !== u;});t.UPa(d.pa,function(y){return y.X === u && y.Db >= q.Db && (!q.Ob || ! !y.Ob && y.Ob <= q.Ob);});g=Object.keys(d.pa).filter(function(y){return !t.UIb(y);});m.assert(1 >= g.length,"Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment");if(0 < g.length){w=g[0];g=d.pa[w];v=w + ":" + n;if(!g.Ob || g.Ob > q.Db){x=w + ":" + p;t.Ok(v,f.__assign(f.__assign({},k),{kv:w,Qe:x,next:(h={},h[x]={},h)}));t.Ok(x,f.__assign(f.__assign({},g),{kv:w,Db:q.Db}));}else t.Ok(v,f.__assign(f.__assign({},k),{kv:w,Qe:g.Qe,next:(x={},x[g.Qe]={},x)}));Object.keys(d.pa).forEach(function(y){var z,A;A=d.pa[y];void 0 !== (null === (z=A.next) || void 0 === z?void 0:z[w]) && t.Ok(y,f.__assign(f.__assign({},A),{Qe:A.Qe === w?v:A.Qe,next:c(A.next,w,v)}));});t.KI(d.Md === w?v:d.Md);}else t.KI(d.Md);return t.gi();};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(358);f=a(359);b.Pac=function(l,m,d){var g,h;g=m.pa[d.O];c.assert(g,"Graph position does not exist");h=d.offset;c.assert(0 <= h,"Graph position offset cannot be negative");c.assert(!g.Ob || h < g.Ob - g.Db,"Graph position offset outside segment");if(void 0 === g.kv)return d;l=l.pa[g.kv];c.assert(l,"Referenced ux playgraph segment must exist");if(g.X === l.X)return {O:g.kv,offset:g.Db + h - l.Db};c.assert(g.Ob,"Content playgraph segments from other viewables must have end time");h=g.Qe && m.pa[g.Qe];if(!h)return (c.assert(l.Ob,"Must have definite end time to add terminal content playgraph segment"),{O:g.kv,offset:l.Ob - l.Db});m=(m=f.zDb(m,d.O))?m.X !== l.X?l.Db:m.Ob:0;if(null === m || void 0 === m)return (c.assert(l.Ob,"Experience playgraph segment must have end time"),{O:g.kv,offset:l.Ob - l.Db});l=h.X !== l.X?l.Ob:h.Db;null !== l && void 0 !== l || c.assert(l,"Experience playgraph segment must have end time");return {O:g.kv,offset:m + d.offset / (g.Ob - g.Db) * (l - m)};};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(2);f=a(17);l=a(218);m=a(354);r=c.__importDefault(a(6));d=a(769);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function k(n,p){var q;q=h.call(this) || this;q.I=n;q.uh=new d.NEa(n,p);n.BM && q.$Sa(p);q.Zg=new f.Xh();g.forEach(function(u){q.Zg.on(q.uh,u,function(t){return q.emit(u,t);});q.Mm && q.Zg.on(q.Mm,u,function(t){return q.emit(u,t);});});return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{Qb:{get:function(){return this.uh.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Jn:{get:function(){return this.uh.Jn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{av:{get:function(){return this.uh.av;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RA:{get:function(){return this.uh.RA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bqa:{get:function(){return this.uh.bqa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gE:{get:function(){return this.uh.gE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{If:{get:function(){return this.uh.If;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mh:{get:function(){return this.uh.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$oa:{get:function(){return this.uh.$oa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IW:{get:function(){return this.uh.IW.bind(this.uh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{M5:{get:function(){return this.uh.M5.bind(this.uh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{P3:{get:function(){var n;n=this;return function(){n.iva();n.uh.P3();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lja:{get:function(){var n;n=this;return function(){n.iva();n.uh.lja();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ry:{get:function(){var n;n=this;return function(){n.iva();n.uh.Ry();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mp:{get:function(){var n;n=this;return function(p,q,u){var t;null === (t=n.If) || void 0 === t?void 0:t.Mp(p,q,u);};},enumerable:!1,configurable:!0}});k.prototype.$Sa=function(n){return this.Mm=new (a(892).BKa)(this.I,this.Ry,this.Mp,n);};k.prototype.xb=function(n,p,q,u,t,w,v,x){void 0 === v && (v=262144);void 0 === x && (x=1048576);this.uh.xb(n,p,q,u,t,w);this.Mm?this.Mm.xb(n,p,q,u,t,w,v,x):this.k1a={lsb:n,L2b:p,nw:q,RA:u,gE:t,COb:w,Aia:v,nya:x};};k.prototype.UY=function(n,p,q){this.uh.UY(n,p,q);this.Mm?this.Mm.UY(n,p,q):this.p1a={VZb:n,RA:p,gE:q};};k.prototype.createSession=function(n,p,q,u,t,w,v,x,y,z){var A,B,E,D,F;A=this;x || (x=this.uh.config);if(x.BM && !this.Mm){B=this.$Sa(this.uh.pE);g.forEach(function(C){A.Zg.on(A.Mm,C,function(G){return A.emit(C,G);});});if(this.k1a){E=this.k1a;D=E.RA;F=E.gE;B.xb(E.lsb,E.L2b,E.nw,D,F,E.COb,E.Aia,E.nya);}this.p1a && (F=this.p1a,E=F.VZb,D=F.RA,F=F.gE,B.UY(E,D,F));}return this.Mm && x && x.TZ?(x.yr || x.RH || this.uh.Ry(),this.Mm.createSession(n,p,q,u,t,w,v,x,y,z)):this.uh.createSession(n,p,q,u,t,w,v,x,y,z);};k.prototype.sx=function(n,p,q){if(this.Mm)return this.Mm.sx(n,p,q);throw Error("Update viewable not supported in legacy.");};k.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};k.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};k.prototype.Lb=function(){var n;this.Zg.clear();this.uh.Lb();null === (n=this.Mm) || void 0 === n?void 0:n.Lb();l.HJ.reset();};k.prototype.iva=function(){var n,p;this.I.yr || this.I.RH || (null === (n=this.Mm) || void 0 === n?void 0:n.Ka.state) !== m.Rs.OPEN || (null === (p=this.Mm) || void 0 === p?void 0:p.Ka.Ku.reset());};return k;})(f.EventEmitter);b.HFa=r;},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addListener)c.addListener(f,l);else if("function" === typeof c.addEventListener)c.addEventListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={Jjb:a(747),b4b:a(748)};},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.df=null;this.gn=g;this.size=0;}function l(g){return null !== g && g.red;}function m(g,h){var k;k=g.sh(!h);g.Nq(!h,k.sh(h));k.Nq(h,g);g.red=!0;k.red=!1;return k;}function d(g,h){g.Nq(!h,m(g.sh(!h),!h));return m(g,h);}b=a(360);c.prototype.sh=function(g){return g?this.right:this.left;};c.prototype.Nq=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.qq=function(g){var h,k,n,p,q,u,t,w,v;h=!1;if(null === this.df)(this.df=new c(g),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;u=k;t=null;w=this.df;for(u.right=this.df;;){null === w?(w=new c(g),t.Nq(n,w),h=!0,this.size++):l(w.left) && l(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(l(w) && l(t)){v=u.right === q;w === t.sh(p)?u.Nq(v,m(q,!p)):u.Nq(v,d(q,!p));}v=this.gn(w.data,g);if(0 === v)break;p=n;n=0 > v;null !== q && (u=q);q=t;t=w;w=w.sh(n);}this.df=k.right;}this.df.red=!1;return h;};f.prototype.remove=function(g){var h,k,t,w,v;if(null === this.df)return !1;h=new c(void 0);k=h;k.right=this.df;for(var n=null,p,q=null,u=1;null !== k.sh(u);){t=u;p=n;n=k;k=k.sh(u);w=this.gn(g,k.data);u=0 < w;0 === w && (q=k);if(!l(k) && !l(k.sh(u)))if(l(k.sh(!u)))(p=m(k,u),n.Nq(t,p),n=p);else if(!l(k.sh(!u)) && (w=n.sh(!t),null !== w))if(l(w.sh(!t)) || l(w.sh(t))){v=p.right === n;l(w.sh(t))?p.Nq(v,d(n,t)):l(w.sh(!t)) && p.Nq(v,m(n,t));t=p.sh(v);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Nq(n.right === k,k.sh(null === k.left)),this.size--);this.df=h.right;null !== this.df && (this.df.red=!1);return null !== q;};r.exports=f;},function(r,b,a){function c(l){this.data=l;this.right=this.left=null;}function f(l){this.df=null;this.gn=l;this.size=0;}b=a(360);c.prototype.sh=function(l){return l?this.right:this.left;};c.prototype.Nq=function(l,m){l?this.right=m:this.left=m;};f.prototype=new b();f.prototype.qq=function(l){if(null === this.df)return (this.df=new c(l),this.size++,!0);for(var m=0,d=null,g=this.df;;){if(null === g)return (g=new c(l),d.Nq(m,g),ret=!0,this.size++,!0);if(0 === this.gn(g.data,l))return !1;m=0 > this.gn(g.data,l);d=g;g=g.sh(m);}};f.prototype.remove=function(l){var m,d,n;if(null === this.df)return !1;m=new c(void 0);d=m;d.right=this.df;for(var g=null,h=null,k=1;null !== d.sh(k);){g=d;d=d.sh(k);n=this.gn(l,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.Nq(g.right === d,d.sh(null === d.left)),this.df=m.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;c=a(25);f=a(5);r=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,g){return d + m.data[g].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var g,h;g=this.data[m];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[m],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[m]:g.splice(h,1);return !0;};l.prototype.forEach=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return g.data[h].forEach(function(k){return m(k,h,g);});});};l.prototype.reduce=function(m,d,g){var h,k;h=this;m=void 0 !== g?m.bind(g):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};l.prototype.map=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(k){return m(k,h,g);});}));};l.prototype.filter=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(k){return m(k,h,g);});}));};return l;})();b.GGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uWa=void 0;b.uWa=function(a,c){return a.filter(function(f){var l,m;f=null !== (m=null !== (l=f.Kg) && void 0 !== l?l:f.Vr) && void 0 !== m?m:f.Og;return ! !f && f.KN(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FKa=b.EKa=void 0;c=a(25);r=(function(){function f(l){this.G=l;this.listeners=[];this.yX=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(l){var m;this.G=l;m=this.yX;this.yX=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};f.prototype.V7a=function(){this.G=void 0;};f.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.G && l(this.G);};f.prototype.once=function(l){void 0 !== this.G?l(this.G):this.yX.push(l);};f.prototype.LD=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.yX=this.yX.filter(function(m){return m !== l;});};return f;})();b.EKa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};f.prototype.once=function(l,m){var d,g;d=this;if(void 0 === l.value){g=function(h){d.remove(l,m);m(h);};this.listeners.push({signal:l,listener:m,jcb:g});l.once(g);}else l.once(m);};f.prototype.LD=function(l,m){var d,g;g=c.kg(this.listeners,function(h){return h.signal === l && h.listener === m;});void 0 !== g && l.LD(null !== (d=g.jcb) && void 0 !== d?d:g.listener);this.remove(l,m);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.jcb;return l.signal.LD(null !== d && void 0 !== d?d:m);});this.listeners=[];};f.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return f;})();b.FKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JQ=b.A0a=void 0;b.A0a=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.SOa=!1;this.promise=new Promise(function(f){c.rpb=f;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z7a:{get:function(){return this.SOa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.SOa=!0;this.rpb(c);};return a;})();b.JQ=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eUa=void 0;b.eUa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(l,m,d){var g,k,n;if(l === m || !d.dv && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var h in l){if(!c(l[h],m[h],d))return !1;}if(!d.Gub){k=Object.keys(l);n=Object.keys(m).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=f.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(l[h],m[h],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.B4=void 0;f=a(2);b.B4=function(l,m,d){void 0 === d && (d={});d=f.__assign({dv:!1,Gub:!1},d);return c(l,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q1=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Fa=NaN;}Object.defineProperties(a.prototype,{ps:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Fa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Fa+=(c - this.Fa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Fa};};return a;})();b.q1=r;},function(r,b,a){var f;function c(l){this.gP=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.gP[m]=l.charCodeAt(m);}}f=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.gP.length;if(void 0 === this.gP)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < l.length;++g){d+=String.fromCharCode(this.gP[g % m] ^ l.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.gP.length;l=decodeURIComponent(l);for(var g=0;g < l.length;g++){m+=String.fromCharCode(this.gP[g % d] ^ l.charCodeAt(g));}return m;};r.exports=c;},function(r){function b(a,c){this.Fa=a;this.aj=c;}b.prototype.Lta=function(a){var c,f,l,m,g,h;c=this.Fa;f=Math.sqrt(2 * this.aj);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {l=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(l / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){g=Math.abs(m);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= m?g:2 - g) - l;m+=g / (1.1283791670955126 * Math.exp(-(m * m)) - m * g);}a=1 > a?m:-m;}return c - f * a;};r.exports=b;},function(r,b,a){var l,m,d,g;function c(h,k,n){l.call(this,h,k,n);}function f(h,k){m.call(this,new c(h,k,!1));}l=a(759);m=a(760);d=a(115).NEb;g=a(115).aIb;c.prototype=Object.create(l.prototype);c.prototype.Fa=function(){return Math.floor(8 * d(this.Pd) / this.Hd);};c.prototype.aj=function(){return Math.floor(64 * g(this.Pd) / (this.Hd * this.Hd));};c.prototype.get=function(){return {Fa:this.Fa(),aj:this.aj(),D9b:this.Pd.length};};c.prototype.toString=function(){return "bsw(" + this.yL + "," + this.Hd + "," + this.ak + ")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(h){this.MK.setInterval(h);};r.exports=f;},function(r){function b(a,c,f){this.yL=a;this.ak=Math.floor((a + c - 1) / c);this.Hd=c;this.Zob=f;this.reset();}b.prototype.shift=function(){this.Pd.shift();this.ci.shift();};b.prototype.update=function(a,c){this.Pd[a]+=c;};b.prototype.push=function(a){this.Pd.push(0);this.ci.push(a?a:0);this.tb+=this.Hd;};b.prototype.add=function(a,c,f,l){var m,d;if(null === this.tb){m=Math.max(Math.floor((f - c + this.Hd - 1) / this.Hd),1);for(this.tb=c;this.Pd.length < m;){this.push(l);}}for(;this.tb < f;){if((this.push(l),this.Zob))for(;1 < this.Pd.length && f + l - (this.tb - this.Hd * this.Pd.length + this.ci[0]) > this.yL;){this.shift();}else this.Pd.length > this.ak && this.shift();}if(c > this.tb - this.Hd)this.update(this.Pd.length - 1,a);else if(c == f)(l=this.Pd.length - Math.max(Math.ceil((this.tb - f) / this.Hd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.Pd.length;++l){m=this.tb - l * this.Hd;d=m + this.Hd;if(!(m > f)){if(d < c)break;this.update(this.Pd.length - l,Math.round(a * (Math.min(d,f) - Math.max(m,c)) / (f - c)));}}for(;this.Pd.length > this.ak;){this.shift();}};b.prototype.reset=function(){this.Pd=[];this.ci=[];this.tb=null;};b.prototype.setInterval=function(a){this.ak=Math.floor((a + this.Hd - 1) / this.Hd);};r.exports=b;},function(r){function b(a){this.MK=a;this.Ne=0;this.sL=null;}b.prototype.add=function(a,c,f){null !== this.sL && c > this.sL && (this.Ne+=c - this.sL,this.sL=null);this.MK.add(a,c - this.Ne,f - this.Ne,this.Ne);};b.prototype.stop=function(a){null === this.sL && (this.sL=a);};b.prototype.Nta=function(a,c){return this.MK.Nta(a,c);};b.prototype.get=function(){return this.MK.get();};b.prototype.reset=function(){this.MK.reset();};b.prototype.toString=function(){return this.MK.toString();};r.exports=b;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u){this.Ylb=u;}b=a(363);f=b.qfb;l=b.ofb;m=a(221).pfb;d=a(221).Nkb;g=a(364);h=a(365);k=a(366).lLa;n=a(762);p=a(763);q=a(171);c.prototype.constructor=c;c.prototype.create=function(u,t){var w,v,x,y;w=this.Ylb[u];v=t[u];x={};w && Object.keys(w).forEach(function(z){x[z]=w[z];});v && Object.keys(v).forEach(function(z){x[z]=v[z];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new l(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new k(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new q();break;case "entropy":y=new p(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.Xj=void 0;this.dC=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.dC && this.Xj?{p25:this.Xj.Kl,p50:this.Xj.vk,p75:this.Xj.Ll,c:this.dC}:null;};c.prototype.Ve=function(l){if(!(!f.Gb(l) && f.has(l,"p25") && f.has(l,"p50") && f.has(l,"p75") && f.has(l,"c") && f.isFinite(l.p25) && f.isFinite(l.p50) && f.isFinite(l.p75) && f.isFinite(l.c)))return (this.Xj=void 0,this.dC=0,!1);this.Xj={Kl:l.p25,vk:l.p50,Ll:l.p75};this.dC=l.c;};c.prototype.get=function(){return {G9:this.Xj,vva:this.dC};};c.prototype.set=function(l,m){this.Xj=l;this.dC=m;};c.prototype.reset=function(){this.Xj=void 0;this.dC=0;};c.prototype.toString=function(){return "IQRHist(" + this.Xj + "," + this.dC + ")";};r.exports=c;},function(r,b,a){var f;function c(l){var m,d;m=l.sw;d=l.mw;this.xL=m;this.vfa={uhd:l.uhdl,hd:l.hdl};this.ak=Math.max(Math.ceil(1 * m / d),1);this.Dnb=l.mins || 1;f.call(this,m,d);this.reset();}f=a(143);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Pd.map(function(l,m){this.WPa(l,this.Tma(m));},this);};c.prototype.Gtb=function(){var l,m,d,g,h,k,n,t;l=this.vfa;for(m in l){if(l.hasOwnProperty(m)){d=l[m];g=this.wha[m];h=this.vha[m];if(g.first){k=g.first;n=g.lI;void 0 !== n && (h[k][n]+=1);g.first=void 0;}g=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=h[u][p];}k+=q;g.push(q);}q=-1;if(k > this.Dnb){for(p=q=0;p < n;p++){if(0 < g[p])for(u=0;u < d;u++){t=h[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=k * Math.log(2);}this.Ufa[m]=q;}}return this.Ufa;};c.prototype.WPa=function(l,m){var k,n;for(var d=this.ak,g=this.vfa;this.X1.length >= d;){this.X1.shift();}for(;this.Y1.length >= d;){this.Y1.shift();}this.X1.push(l);this.Y1.push(m);l=this.X1.reduce(function(p,q){return p + q;},0);m=this.Y1.reduce(function(p,q){return p + q;},0);if(0 < m){l=8 * l / m;for(var h in g){if(g.hasOwnProperty(h)){m=this.wha[h];d=this.vha[h];k=this.GUb(l,g[h]);n=m.lI;void 0 !== n?d[k][n]+=1:m.first=k;m.lI=k;}}}};c.prototype.GUb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.WPa(this.Pd[0],this.Tma(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,g,h,k,n;this.wha={};this.X1=[];this.Y1=[];this.vha={};this.Ufa={};l=this.vfa;for(m in l){if(l.hasOwnProperty(m)){d=this.vha;g=m;k=void 0;n=Array(k);k=h=l[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[g]=n;this.wha[m]={first:void 0,lI:void 0};this.Ufa[m]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I=m;this.QS();}f=a(10);l=a(6).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.CZb=function(){this.XF || (this.XF=!0,this.sy=l.time.ea());};c.prototype.JZb=function(){var m;if(this.XF){m=l.time.ea();this.yy+=m - this.sy;this.sy=m;this.XF=!1;this.PS=null;}};c.prototype.d0a=function(m,d){this.XF && (d > this.sy && (this.yy+=d - this.sy,this.sy=d),null === this.PS || m > this.PS) && (m=d - m,this.ZK.push([this.yy - m,m]),this.Upb(),this.PS=d);};c.prototype.Upb=function(){var m;m=this.yy - this.I.JPb;this.ZK=this.ZK.filter(function(d){return d[0] > m;});};c.prototype.QS=function(){var m;m=l.storage.get("nh");this.nha(m) || (this.sy=l.time.ea(),this.yy=0,this.XF=!1,this.PS=null,this.ZK=[]);};c.prototype.nha=function(m){if(!(m && f.has(m,"t") && f.has(m,"s") && f.has(m,"i") && f.Ca(m.t) && f.Ca(m.s) && f.isArray(m.i)))return !1;this.sy=l.time.tsa(1E3 * m.t);this.yy=1E3 * m.s;this.XF=!1;this.ZK=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.PS=null;return !0;};c.prototype.getState=function(){return this.XF?{t:l.time.now() / 1E3 | 0,s:(this.yy + (l.time.ea() - this.sy)) / 1E3 | 0,i:this.ZK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.Wra(this.sy) / 1E3 | 0,s:this.yy / 1E3 | 0,i:this.ZK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=void 0;r=a(2);c=a(766);new (r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var K00;K00=2;function f(l){var L00;L00=2;for(;L00 !== 4;){switch(L00){case 2:var n8U="1SIYbZrN";n8U+="J";n8U+="Cp9";this.hpa=l;this.qz={};n8U;L00=4;break;}}}for(;K00 !== 7;){switch(K00){case 2:f.prototype.reset=function(){var M00;M00=2;for(;M00 !== 1;){switch(M00){case 2:this.oE=new c.rAa();M00=1;break;}}};f.prototype.YO=function(l,m){var N00;N00=2;for(;N00 !== 1;){switch(N00){case 2:m.ji && (this.hpa?this.oE.start(l,m.ji):1 === m.type && (this.qz[m.ji]?this.qz[m.ji].$Z+=1:this.qz[m.ji]={ji:m.ji,$Z:1,t5:!1},this.Vab(l)));N00=1;break;}}};f.prototype.wY=function(l,m){var O00,d;O00=2;for(;O00 !== 9;){switch(O00){case 7:O00=m.ji?4:2;break;O00=m.ji?1:9;break;case 1:O00=this.hpa?5:4;break;case 2:O00=m.ji?1:9;break;case 5:this.oE.stop(l,m.ji);O00=9;break;case 4:d=this.qz[m.ji];O00=3;break;case 13:d=this.qz[m.ji];O00=1;break;O00=3;break;case 3:1 === m.type && d && (--d.$Z,0 === d.$Z && (d.t5 && this.oE.stop(l,m.ji),d.t5=!1,delete this.qz[m.ji]),this.Vab(l));O00=9;break;}}};f.prototype.aw=function(l,m,d,g){var P00;P00=2;for(;P00 !== 1;){switch(P00){case 2:g.ji && (this.hpa?this.oE.add(l,m,d,g.ji):this.zT === g.ji && this.oE.add(l,m,d,g.ji));P00=1;break;}}};f.prototype.cu=function(){var Q00;Q00=2;for(;Q00 !== 1;){switch(Q00){case 2:return this.oE.get();break;}}};f.prototype.Vab=function(l){var R00,m,d;R00=2;for(;R00 !== 5;){switch(R00){case 2:(m=Object.keys(this.qz),d=this.qz[m[0]]);1 === m.length && !1 === d.t5?(this.oE.start(l,d.ji),this.zT=d.ji):1 < m.length && this.zT && (m=this.qz[this.zT],this.oE.stop(l,this.zT),m.t5=!1,this.zT=void 0);R00=5;break;}}};return f;break;}}})();b.mCa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;c=a(2).__importDefault(a(171));r=(function(){function f(){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:var v8U="1S";v8U+="IY";v8U+="bZrNJCp";v8U+="9";this.A2={};v8U;T00=5;break;}}}var S00;S00=2;for(;S00 !== 9;){switch(S00){case 2:f.prototype.add=function(l,m,d,g){var U00,h;U00=2;for(;U00 !== 4;){switch(U00){case 9:h=this.A2;U00=6;break;U00=1;break;case 2:h=this.A2;U00=1;break;case 1:void 0 === h[g] && (h[g]=new c.default());h[g].add(l,m,d);U00=4;break;}}};f.prototype.start=function(l,m){var V00,d;V00=2;for(;V00 !== 4;){switch(V00){case 1:void 0 === d[m] && (d[m]=new c.default());d[m].start(l);V00=4;break;case 2:d=this.A2;V00=1;break;}}};f.prototype.stop=function(l,m){var W00,d;W00=2;for(;W00 !== 5;){switch(W00){case 2:d=this.A2;void 0 !== d[m] && d[m].stop(l);W00=5;break;}}};f.prototype.get=function(){var X00,h,k,l,m,d,g;X00=2;for(;X00 !== 8;){switch(X00){case 5:(h=m[g],k=l[h].get());k && d.push({cdnid:h,avtp:k.Fa,tm:k.JC});X00=3;break;case 2:(l=this.A2,m=Object.keys(l),d=[],g=0);X00=1;break;case 1:X00=g < m.length?5:9;break;case 3:g++;X00=1;break;case 9:return d;break;}}};S00=3;break;case 3:return f;break;}}})();b.rAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tHa=void 0;c=a(2).__importDefault(a(171));r=(function(){var Y00;Y00=2;function f(l){var Z00;Z00=2;for(;Z00 !== 7;){switch(Z00){case 3:this.z9=l.z9;this.Wsa=[new c.default(),new c.default()];this.$4a=new c.default();Z00=7;break;case 2:var s8U="1";s8U+="SI";s8U+="Y";s8U+="bZrNJC";s8U+="p9";this.AY=[0,0];this.eh=[0,0];this.EX=[0,0];s8U;Z00=3;break;}}}for(;Y00 !== 3;){switch(Y00){case 2:f.prototype.reset=function(){var a10;a10=2;for(;a10 !== 4;){switch(a10){case 2:this.AY=[0,0];this.eh=[0,0];this.EX=[0,0];a10=4;break;}}};f.prototype.aw=function(l,m,d,g){var b10,h,k;b10=2;for(;b10 !== 8;){switch(b10){case 5:b10=(null === (h=g.wI) || void 0 === h?0:h.z7())?4:3;break;case 2:this.eh[g.type]+=l;b10=5;break;case 3:b10=(null === (k=g.wI) || void 0 === k?0:k.w2a(l,m,d,this.z9))?9:8;break;case 9:this.EX[g.type]+=l;b10=8;break;case 4:(this.AY[g.type]+=l,this.$4a.add(l,m,d),this.Wsa[g.type].add(l,m,d));b10=3;break;}}};f.prototype.m6=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {bytesRequestedPacingVideo:this.AY[1],bytesRequestedPacingAudio:this.AY[0],estimatedBytesPacedVideo:this.EX[1],estimatedBytesPacedAudio:this.EX[0],bytestotalVideo:this.eh[1],bytestotalAudio:this.eh[0],pacedAvtpVideo:this.Wsa[1].get().Fa,pacedAvtpAudio:this.Wsa[0].get().Fa,pacedAvtp:this.$4a.get().Fa};break;}}};return f;break;}}})();b.tHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sEa=void 0;c=a(2).__importDefault(a(171));r=(function(){var d10;function f(l){var e10;e10=2;for(;e10 !== 8;){switch(e10){case 2:this.EZ=[0,0];e10=1;break;case 1:var T8U="1";T8U+="S";T8U+="IYbZ";T8U+="r";T8U+="NJCp9";this.pH=new c.default();this.e$=!1;this.lO=this.nO=0;T8U;this.lOb=l?l:3;e10=8;break;}}}d10=2;for(;d10 !== 9;){switch(d10){case 2:f.prototype.reset=function(){var f10;f10=2;for(;f10 !== 3;){switch(f10){case 2:this.EZ=[0,0];this.e$=!1;this.pH=new c.default();f10=4;break;case 4:this.lO=this.nO=0;f10=3;break;case 14:this.lO=this.nO=1;f10=1;break;f10=3;break;}}};f.prototype.aw=function(l,m,d){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:this.e$ || (this.pH.add(l,m,d),this.nO++,1 === d - m && this.lO++);g10=1;break;}}};d10=5;break;case 5:f.prototype.aKb=function(l){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:this.e$ || (++this.EZ[l],this.EZ[1] >= this.lOb && (this.e$=!0));h10=1;break;}}};f.prototype.e6=function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return {pH:this.pH.get().Fa,JC:this.pH.get().JC,R_a:this.EZ[0],S_a:this.EZ[1],nO:this.nO,lO:this.lO};break;}}};return f;break;}}})();b.sEa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=void 0;c=a(2);f=c.__importStar(a(10));r=a(17);l=c.__importDefault(a(28));m=c.__importDefault(a(770));d=c.__importDefault(a(6));g=a(168);h=a(218);c.__importDefault(a(220));k=c.__importDefault(a(771));a(367);n=a(5);p=a(774);q=a(877);u=new d.default.Console("ASEJS","media|asejs");t=u.trace.bind(u);w=u.warn.bind(u);r=(function(v){var j10;j10=2;for(;j10 !== 26;){switch(j10){case 7:Object.defineProperties(x.prototype,{If:{get:function(){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 2:return this.Ov;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Mh:{get:function(){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return this.M1.Mh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$oa:{get:function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.Iob;break;case 4:return this.Iob;break;u10=1;break;}}},enumerable:!1,configurable:!0}});x.prototype.xb=function(y,z,A,B,E,D){var v10,F,C;v10=2;for(;v10 !== 11;){switch(v10){case 3:this.K2=B;this.aPa=E;m.default(C);this.M1=h.HJ.NYa(C,this.pE);this.kha=new k.default(C);v10=14;break;case 2:(F=this,C=this.config);h.HJ.reset();0 < C.vu && (!f.ia(y) && y > C.vu && (y=C.vu),z > C.vu && (z=C.vu));f.ia(y) && (this.dPa=z);v10=3;break;case 14:v10=C.zbb || C.dya?13:12;break;case 13:var p8U="m";p8U+="e";p8U+="di";p8U+="acache";var o8U="c";o8U+="ach";o8U+="e";o8U+="E";o8U+="vict";var E8U="flushedBy";E8U+="te";E8U+="s";var H8U="d";H8U+="isca";H8U+="rd";H8U+="edByte";H8U+="s";var W8U="pr";W8U+="ebuffs";W8U+="tats";(z=new q.uDa(this,C,A,D),y=function(G){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:F.emit(G.type,G);w10=1;break;}}},z.addListener(W8U,y),z.addListener(H8U,y),z.addListener(E8U,y),z.addListener(o8U,y),(C.gya || C.fya) && z.addListener(p8U,function(G){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:var A8U="media";A8U+="cac";A8U+="he";F.emit(A8U,G);x10=1;break;}}}),this.Ov=z);v10=12;break;case 12:this.rga=!0;v10=11;break;}}};j10=12;break;case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{Qb:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 2:return this.M1.Qb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Jn:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.M1.Jn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{av:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.kha;break;case 4:return this.kha;break;n10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{RA:{get:function(){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return this.K2;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{bqa:{get:function(){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:return !f.ia(this.dPa);break;case 4:return -f.ia(this.dPa);break;q10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{gE:{get:function(){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:return this.aPa;break;}}},enumerable:!1,configurable:!0}});j10=7;break;case 20:x.prototype.cpb=function(y){var B10,z;B10=2;for(;B10 !== 4;){switch(B10){case 2:var U8U="can'";U8U+="t find session in a";U8U+="r";U8U+="ray, movieId:";this.Qb.pP(null);z=this.SF.indexOf(y);f.ia(z)?w(U8U,y.Ge.P.J):(this.SF.splice(z,1),0 === this.SF.length && this.Jn.JZb(),this.Jn.save(),this.Mh.save());B10=4;break;}}};x.prototype.M5=function(y,z,A){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return g.zYa(y,z,A);break;case 4:return g.zYa(y,z,A);break;C10=1;break;}}};x.prototype.P3=function(){var D10,y;D10=2;for(;D10 !== 5;){switch(D10){case 2:null === (y=this.Ov) || void 0 === y?void 0:y.flush();D10=5;break;}}};x.prototype.lja=function(){var E10,y;E10=2;for(;E10 !== 5;){switch(E10){case 2:null === (y=this.Ov) || void 0 === y?void 0:y.DWa();E10=5;break;}}};x.prototype.Ry=function(){var F10,y;F10=2;for(;F10 !== 5;){switch(F10){case 2:null === (y=this.Ov) || void 0 === y?void 0:y.kAb();F10=5;break;}}};x.prototype.Lb=function(){var G10;G10=2;for(;G10 !== 6;){switch(G10){case 2:var z8U="Attempted to destruct Manager ";z8U+="bef";z8U+="ore a";z8U+="ll ";z8U+="Sessions removed";n.assert(0 === this.SF.length,z8U);this.rga=!1;delete this.M1;delete this.kha;G10=3;break;case 3:delete this.pE;this.Ry();delete this.Ov;h.HJ.reset();G10=6;break;}}};j10=27;break;case 27:return x;break;case 12:x.prototype.UY=function(y,z,A){var y10;y10=2;for(;y10 !== 4;){switch(y10){case 2:this.dPa=y;this.K2=z || 0;this.aPa=A || 0;y10=4;break;}}};x.prototype.createSession=function(y,z,A,B,E,D,F,C,G,K){var z10;z10=2;for(;z10 !== 4;){switch(z10){case 9:z10=this.rga?5:8;break;z10=this.rga?1:5;break;case 2:z10=this.rga?1:5;break;case 5:var I8U="open";I8U+=": strea";I8U+="ming";I8U+="Manager not ";I8U+="initted";w(I8U);z10=4;break;case 7:w("");z10=7;break;z10=4;break;case 1:return (C=C || this.config,this.Qb.reset(),this.Jn.CZb(),this.kha.reset(),void 0 === D && (D=this.M5(y,z)),f.ia(this.K2) && (this.K2=d.default.Jo()[l.default.Ta.Nb] <= C.gPb?0:C.bP),y=new p.AKa(this,y,K,z,A,B,E,D,F,C,G),this.SF.push(y),y);break;}}};x.prototype.IW=function(y,z){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.Ov && (y=this.Ov.IW(y,z))?y:!1;break;}}};j10=20;break;}}function x(y,z){var k10,A;k10=2;for(;k10 !== 13;){switch(k10){case 2:A=v.call(this) || this;A.config=y;k10=5;break;case 8:var M8U="1";M8U+="SI";M8U+="Yb";M8U+="ZrNJC";M8U+="p9";A.Iob=!1;A.SF=[];M8U;return A;break;case 5:var S8U="DEB";S8U+="UG";S8U+=":";var c8U="n";c8U+="f-ase v";c8U+="ersio";c8U+="n:";A.pE=z;y=a(405);t(c8U,y,S8U,!1);A.rga=!1;k10=8;break;}}}})(r.EventEmitter);b.NEa=r;},function(r,b,a){var f,l,m,d;function c(g){var h;h=nrdp.gk.Ncc.match(/android-(\d*)/);h?23 < h[1]?g.cxa=!1:(h=nrdp.gk.U7b.Gt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.cxa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.cxa=!1;g.q_b=!1;}f=a(5).assert;a(124);l=a(6).default;m=l.cr;d=l.Whb;r.exports=function(){var g,h,k,n;g=new l.Console("ASEJSMONKEY","media|asejs");if(!l.cr.qc){h=function(p){this.vnb=p;};k=d.prototype.appendBuffer;l.MediaSource.qc || (l.MediaSource.qc={});"undefined" !== typeof nrdp && nrdp.n3 && (c(l.MediaSource.qc,g),l.MediaSource.qc.ASa=!1,l.MediaSource.qc.F3a=!1);l.cr.qc={CY:{ycb:!0,XR:!0,hib:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.Mpb || this.Wlb;},set:function(p){this.Wlb=p;}});n=m.prototype.open;m.prototype.open=function(p,q,u,t,w,v,x){1 === u && (this.Mpb=new h(this));return n.call(this,p,q,u,t,w,v,x);};m.prototype.nY=function(){this.nL=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.o3(p.vnb);f(!1);};}};},function(r,b,a){var l,m;function c(){this.py=this.zS=this.e2=this.q2=this.a2=null;}function f(d){this.I=d;this.fC=[];this.nr=new c();this.QS();}l=a(10);a(28);a(9);m=a(6).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Ve=function(d){var g;g=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.a2=d.ens,this.q2=d.lns,this.e2=d.fns,this.zS=d.d,this.py=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(l.Gb(this.a2) || l.Gb(this.q2) || l.Gb(this.e2) || l.Gb(this.zS) || l.Gb(this.py))return null;d={d:this.zS,t:this.py};d.ens=this.a2;d.lns=this.q2;d.fns=this.e2;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.py);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.QS=function(){var d;d=m.storage.get("sth");d && this.Ve(d);};f.prototype.Ve=function(d){var g,h;g=null;h=this.I;d.forEach(function(k){var n;n=new c();n.Ve(k)?(g=!0,this.fC.push(n)):l.Gb(g) && (g=!1);},this);this.fC=this.fC.filter(function(k){return k.zS >= h.K8;});this.fC.sort(function(k,n){return k.py - n.py;});return l.Gb(g)?!0:g;};f.prototype.jga=function(){var d;d=[];this.fC.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.jga();g=this.I;h=this.nr.getState();h && h.d >= g.K8 && (d.push(h),this.fC.push(this.nr));d.length > g.k8 && (d=d.slice(d.length - g.k8,d.length));this.nr=new c();d && m.storage.set("sth",d);};f.prototype.reset=function(){this.nr=new c();};f.prototype.pFb=function(){return this.nr.get();};f.prototype.zHb=function(){return this.fC.length + 1;};f.prototype.Cqb=function(d){this.nr.a2=d;this.nr.py=m.time.ea();};f.prototype.Mqb=function(d){this.nr.q2=d;this.nr.py=m.time.ea();};f.prototype.Gqb=function(d,g){this.nr.e2=d;this.nr.py=m.time.ea();this.nr.zS=g;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tFa=void 0;r=(function(){function a(c,f,l){this.Qpb=f;this.rlb=l;this.H=c;}a.prototype.Nta=function(c){c=this.sKb(c,this.Qpb) + this.rlb;return this.$ga=isNaN(c)?NaN:this.swa(c);};a.prototype.cvb=function(c){return isNaN(this.$ga)?0:this.$ga > c?1:0;};a.prototype.sKb=function(c,f){var l;l=0;if(c.length !== f.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * f[m];}return l;};a.prototype.swa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.tFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OR=void 0;r=(function(){function a(c){this.Xj={};this.Hga=c;this.ig=[];this.wr=!1;this.TF=void 0;}a.prototype.f3=function(c){this.ig.length === this.Hga && this.ig.shift();Array.isArray(c)?this.ig=this.ig.concat(c):this.ig.push(c);this.wr=!0;};a.prototype.iN=function(){return this.ig.length;};a.prototype.nja=function(){var c;c=this.ig;return 0 < c.length?c.reduce(function(f,l){return f + l;},0) / this.ig.length:void 0;};a.prototype.T3=function(){var c,f;c=this.ig;f=this.nja();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.Et=function(c){var f,l,m;if(this.wr || void 0 === this.TF)(this.TF=this.ig.slice(0).sort(function(d,g){return d - g;}),this.wr=!1);if(void 0 === this.Xj[c]){f=this.TF;l=Math.floor(c / 100 * (f.length - 1) + 1) - 1;m=(c / 100 * (f.length - 1) + 1) % 1;this.Xj[c]=l === f.length - 1?f[l]:f[l] + m * (f[l + 1] - f[l]);}return this.Xj[c];};return a;})();b.OR=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));l=a(142);m=a(775);d=a(168);g=a(16);h=a(213);k=a(235);n=a(236);p=a(821);q=a(822);u=r.__importDefault(a(6));t=u.default.MediaSource;w=a(9);v=a(5);x=a(170);y=a(385);z=a(824);A=a(825);B=a(386);r=a(42);E=a(826);D=a(827);F=a(387);C=a(859);G=a(397);K=a(867);J=a(401);I=a(873);M=a(874);R=a(875);H=a(876);a=(function(){var H10;H10=2;for(;H10 !== 91;){switch(H10){case 59:P.prototype.i5=function(N,L){var r30,Q,S,s30;r30=2;for(;r30 !== 6;){switch(r30){case 3:r30=L?9:8;break;case 2:Q=this.zb;N=Q.gma(N,L);S=this.zg.nua;N && !N.FL && S.Vla(N);r30=3;break;case 9:Q.gva();r30=6;break;case 8:L=S.aFb();try{s30=2;for(;s30 !== 1;){switch(s30){case 2:this.Cb.Vnb(L);s30=1;break;}}}catch(U){var i8U="]";i8U+=" ";i8U+="[";var w8U="e";w8U+="xc";w8U+="ep";w8U+="tion: ";w8U+="[";this.H.error(w8U + U.message + i8U + U.Pcc + "]");}r30=6;break;}}};P.prototype.rja=function(N,L){var t30;t30=2;for(;t30 !== 5;){switch(t30){case 2:a000.e5U(3);v.assert(a000.a5U(0,L));return this.Jd[L].Ytb(N);break;}}};P.prototype.Ht=function(N,L){var u30,Q,S;u30=2;for(;u30 !== 7;){switch(u30){case 5:u30=Q?4:8;break;case 3:f.Ca(S) || (S=this.Jd[N].Iw);a000.x5U(0);return a000.u5U(S,L);break;case 2:void 0 === N && (N=this.VX);Q=this.La.qDb(L,N);u30=5;break;case 4:S=Q.Fe;u30=3;break;case 8:(Q=this.La.hma(N),0 < Q.length && (Q=Q[0],S=Q.Fe));u30=3;break;}}};P.prototype.eM=function(N,L){var v30,S,Q;v30=2;for(;v30 !== 7;){switch(v30){case 4:S=Q.Fe;v30=3;break;case 3:f.Ca(S) || (S=this.Jd[N].Iw);a000.x5U(1);return a000.u5U(S,L);break;case 2:void 0 === N && (N=this.VX);Q=this.La.pDb(L,N);v30=5;break;case 5:v30=Q?4:8;break;case 8:(Q=this.La.hma(N),0 < Q.length && (Q=Q[0],S=Q.Fe));v30=3;break;}}};P.prototype.pL=function(){var w30,N;w30=2;for(;w30 !== 4;){switch(w30){case 2:N=this.V.qg();w30=1;break;case 1:w30=N || this.zb.Ky?5:4;break;case 8:w30=N && this.zb.Ky?8:5;break;w30=N || this.zb.Ky?5:4;break;case 5:(N && this.Cb.Mga(),this.rT(),this.V.Ve(g.ma.Lc),this.ng.Yj());w30=4;break;}}};P.prototype.oha=function(){var x30,N,L;x30=2;for(;x30 !== 3;){switch(x30){case 2:(N=this,L=this.V.qg());this.La.Yc.O$(L,function(Q){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return N.Rg[Q]?N.Rg[Q].M$():"";break;}}});this.GK && (clearTimeout(this.GK),this.GK=void 0);this.fy.VNb();x30=3;break;}}};P.prototype.WOa=function(N){var z30,L,A30;z30=2;for(;z30 !== 7;){switch(z30){case 9:z30=this.Lr && 1 === N.mediaType?8:7;break;case 2:N.Wh=!0;N.Zq=!1;L=this.V.Re() || 0;N.XL(L);this.zb.hy();z30=9;break;case 8:try{A30=2;for(;A30 !== 1;){switch(A30){case 2:this.i5(g.ma.jr,{Ga:N.Mc});A30=1;break;}}}catch(Q){var t8U="Hindsight: Error eva";t8U+="luat";t8U+="ing ";t8U+="QoE at endOfStream: ";a000.x5U(1);this.Cb.Ln(a000.a5U(Q,t8U));}z30=7;break;}}};P.prototype.gpb=function(){var B30,N;B30=2;for(;B30 !== 5;){switch(B30){case 2:N=this.oc.Qb;N && (N=N.get()) && N.avtp && this.av.Cqb({avtp:N.avtp.Fa});B30=5;break;}}};P.prototype.Jpb=function(){var C30,N,L,Q;C30=2;for(;C30 !== 4;){switch(C30){case 2:var u8U="startup, p";u8U+="layerSta";u8U+="te no longer STARTING:";var a8U="failed to ";a8U+="start au";a8U+="d";a8U+="io p";a8U+="ipeline";var N8U="fai";N8U+="led to st";N8U+="art";N8U+=" video pipe";N8U+="line";this.V.Ve(g.ma.Ah);(N=this.La.Yc,L=N.Sd(0),Q=N.Sd(1));this.Sm && !this.bPa(Q)?this.Sb(N8U):this.Ar && !this.bPa(L)?this.Sb(a8U):(this.yOa=!0,this.Jd[0].P.L6=!0,L=this.zb.Mf[1],Q=this.zb.Mf[0],(L && 0 < L.Iu || Q && 0 < Q.Iu) && this.Cb.Tnb(String(N.P.J),Q?Q.Iu:0,L?L.Iu:0,Q?Q.RX:0,L?L.RX:0),this.V.G0a()?(this.M2(0),this.Ar && (N=this.Ge.X5(0),L=this.Ge.jq(0).trackId,this.Cb.Wnb(N,L))):this.Sb(u8U,this.V.getState()));C30=4;break;}}};P.prototype.bPa=function(N){var D30,L,Q;D30=2;for(;D30 !== 14;){switch(D30){case 1:D30=f.ia(Q)?5:4;break;case 2:(L=N.mediaType,Q=this.zb.yHb(N));D30=1;break;case 4:N=N.track.$d[Q];D30=3;break;case 5:var e8U="NF";e8U+="Er";e8U+="r_MC_StreamingInitFailure";var x8U="startPipeli";x8U+="ne f";x8U+="ailed";return (this.jn() || this.Fp(x8U,N.eb.P.Pb,e8U),!1);break;case 3:D30=N.Yk()?9:8;break;case 9:return !0;break;case 8:Q=this.Ge.P;N.P.tTa(N,{offset:0,LC:!Q.kf.ue && !Q.hi && 1 === L,ww:!this.zb.Mf[L].KDb});return !0;break;}}};H10=72;break;case 104:P.prototype.lUb=function(N,L,Q){var u40,S;u40=2;for(;u40 !== 6;){switch(u40){case 4:u40=N.P.L6?3:7;break;case 7:this.jT(0);u40=6;break;case 3:N.jq(0).$d.some(function(U){var v40;v40=2;for(;v40 !== 4;){switch(v40){case 2:S=U.Yk();v40=1;break;case 9:S=U.Yk();v40=5;break;v40=1;break;case 5:return ! !S;break;case 1:v40=!(S && S.stream && S.stream.U && Q < S.stream.U.Aj(0))?5:4;break;}}});u40=8;break;case 2:l.Tm.kq(0);N=this.Jd[N];N.Pxa(L);u40=4;break;case 8:S?(N.P.th[0]=S,N.eY=!1,S.stream.je && N.Q3()):(N.P.th[0]=void 0,N.eY=!1,N.P.$O([N.jq(0)],!0,0));u40=7;break;}}};P.prototype.Wob=function(N,L){var w40,Q;w40=2;for(;w40 !== 4;){switch(w40){case 2:Q=this.Rg[N.mediaType];N=this.La.aY(N.eb,N.mediaType,L,this.oc.RA || 0,function(S){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:Q.n$(S);x40=1;break;}}});f.ia(N) || this.ng.Yj();w40=4;break;}}};P.prototype.Jmb=function(N){var y40,L,Q,S;y40=2;for(;y40 !== 8;){switch(y40){case 3:this.I=this.eTa.ilb(L.oh,this.I);this.Jd.forEach(function(U,ca){var z40,ka;z40=2;for(;z40 !== 5;){switch(z40){case 3:ka=U.P;z40=7;break;z40=1;break;case 2:ka=U.P;z40=1;break;case 1:ka.L6 || 0 === ca || ka.$O([U.jq(0),U.jq(1)]);z40=5;break;}}});y40=8;break;case 2:(L=N.mediaType,Q=N.manifestIndex,S=N.streamId);N=this.La.Yc.fb(L);L=this.Jd[Q].P.Bw(L,S);this.Cpb(N,L);y40=3;break;}}};P.prototype.Mmb=function(N){var A40,L,Q;A40=2;for(;A40 !== 8;){switch(A40){case 4:Q.QNb(N);L.y5 && this.Cb.Snb(L);L.uq && this.Cb.fob(N,L.P.Pb,Q.O);A40=8;break;case 2:L=N.request;N=N.mediaType;Q=L.Qa.eb;A40=4;break;}}};P.prototype.Cpb=function(N,L){var B40;B40=2;for(;B40 !== 1;){switch(B40){case 2:this.zb.Pw[N.mediaType].AH={id:L.Pa,index:L.Nf,bitrate:L.bitrate,Ra:L.wb && L.wb.confidence && L.wb.Ra?L.wb.Ra.Fa:0,location:L.location};B40=1;break;}}};P.prototype.j7=function(N){var C40,qa,Y,ua,L,Q,S,U,ca,ka,ya;C40=2;for(;C40 !== 11;){switch(C40){case 1:C40=!ya.Yc.Fh?5:12;break;case 8:ca.abuflbytes=null !== (U=null === Y || void 0 === Y?void 0:Y.un.fa) && void 0 !== U?U:0;ca.vbuflmsec=ya.iw(qa,1);ca.abuflmsec=ya.iw(qa,0);N && (ca.a=null === Y || void 0 === Y?void 0:Y.Qa.U.toJSON(),ca.v=null === ua || void 0 === ua?void 0:ua.Qa.U.toJSON());C40=13;break;case 5:(qa=ya.Yc,Y=qa.Sd(0),ua=qa.Sd(1));ca.vspts=null !== (L=null === ua || void 0 === ua?void 0:ua.Jc) && void 0 !== L?L:0;ca.aspts=null !== (Q=null === Y || void 0 === Y?void 0:Y.Jc) && void 0 !== Q?Q:0;ca.vbuflbytes=null !== (S=null === ua || void 0 === ua?void 0:ua.un.fa) && void 0 !== S?S:0;C40=8;break;case 2:(ca={},ka=this.Rg,ya=this.La);C40=1;break;case 13:N && ka && (N=ka[1],ka=ka[0],ca.atoappend=null === N || void 0 === N?void 0:N.M$(),ca.vtoappend=null === ka || void 0 === ka?void 0:ka.M$());C40=12;break;case 12:return ca;break;}}};P.prototype.lZa=function(N){var D40,L,Q,S,U,ca,ka;D40=2;for(;D40 !== 8;){switch(D40){case 1:D40=Q?5:8;break;case 2:(L=this.La.Yc,Q=L.fb(N));D40=1;break;case 5:(S=this.zb.Pw[N],U=this.La.nG(L,N));S=S.AH?S.AH.bitrate:0;(ca=Q.Qa.ata,ka=this.La.Fe);return {type:N,availableMediaBuffer:u.default.Jo()[N] - U,completeBuffer:L.Hh(N),incompleteBuffer:ca,playbackBitrate:Q.O5a,streamingBitrate:S,streamingTime:Q.Jc + ka,usedMediaBuffer:U,toappend:Q.a3b};break;}}};P.prototype.kWb=function(){var E40,N;E40=2;for(;E40 !== 5;){switch(E40){case 2:var f8U="r";f8U+="equestG";f8U+="arbageCo";f8U+="llectio";f8U+="n";N={type:f8U,time:u.default.time.ea()};w.Va(this,N.type,N);E40=5;break;}}};P.prototype.Fp=function(N,L,Q,S,U,ca,ka){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 2:var k8U="NFErr_MC_";k8U+="Streaming";k8U+="Failure";void 0 === ka && (ka=!1);this.Q2 || (f.ia(Q) && (Q=k8U),this.Q2=!0,this.Cb.job(Q,N,S,U,ca,void 0 !== L?L:this.VX,ka));F40=5;break;}}};P.prototype.zNa=function(){var G40;G40=2;for(;G40 !== 5;){switch(G40){case 2:var B8U="Netw";B8U+="or";B8U+="k";B8U+=" failures re";B8U+="set!";this.Sb(B8U);this.ng.Yj();G40=5;break;}}};H10=94;break;case 48:P.prototype.H6=function(){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:return this.V.Po(this.Ge.P);break;}}};P.prototype.QMa=function(N){var h30,L,Q,S;h30=2;for(;h30 !== 11;){switch(h30){case 5:(L=this.La.Yc.Sd(0),Q=this.La.Yc.Sd(1));L=!L || L.Wh;S=!Q || Q.Wh;Q=this.Jd[N].P;h30=8;break;case 1:return !1;break;case 2:h30=N >= this.Jd.length?1:5;break;case 8:h30=!(N === this.fL + 1 && Q.kf.replace || L && S) || !this.V.Po(Q)?7:6;break;case 7:return !1;break;case 6:N=Q.th[0];L=Q.th[1];L=!this.Sm || L && L.stream.je;return (!this.Ar || N && N.stream.je) && L?!0:!1;break;}}};P.prototype.Z2=function(){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.Y2(this.fL + 1);i30=1;break;}}};P.prototype.Y2=function(N){var j30,L;j30=2;for(;j30 !== 6;){switch(j30){case 2:j30=!this.QMa(N)?1:5;break;case 1:return !1;break;case 3:return !1;break;case 5:L=this.Jd[N];j30=4;break;case 4:j30=L.TCb || !L.P.kf.replace?3:9;break;case 9:this.Ppb(N);this.ng.Yj();return !0;break;}}};P.prototype.Ppb=function(N){var k30,ka,L,Q,S,U,ca;k30=2;for(;k30 !== 20;){switch(k30){case 9:Q=this.Ge;U=Q.P.kf.ue;ka=[];[1,0].forEach(function(ya){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:L.P.mc(ya) && (ka[ya]=L.jq(ya));l30=1;break;}}});U?this.La.ZVb(Q.P,L.P,ka):S.n9a(L.P,ka);this.XNa(N);k30=12;break;case 2:var X8U=",";X8U+=" ";var L8U=", ";L8U+="stre";L8U+="amingPts: ";var j8U="sw";j8U+="itchManifes";j8U+="t manifestInd";j8U+="ex: ";(L=this.Jd[N],Q=this.I,S=this.La.Yc,U=S.fb(0));U=U?U.Jc:void 0;ca=S.fb(1);ca=ca?ca.Jc:void 0;Q.ii && this.Cb.Dm(j8U + N + L8U + U + X8U + ca);k30=9;break;case 12:L.lsa();this.Tn.$fa();this.ng.Yj();k30=20;break;}}};P.prototype.u4a=function(){var m30,N,L,Q,S;m30=2;for(;m30 !== 6;){switch(m30){case 2:(N=this.La.Yc,L=N.fb(0));m30=1;break;case 1:m30=L?5:7;break;case 8:this.ng.Yj();m30=6;break;case 7:var C2U="onAudioTrackSwit";C2U+="chStarted ig";C2U+="nored, no audio p";C2U+="ipeline";this.Sb(C2U);m30=6;break;case 5:var y2U="onAudioTrackSwitchStarted but curr";y2U+="ent playing req";y2U+="uest not ";y2U+="found";(Q=this.V.Re(),S=this.zb.Mf[L.mediaType]);(N=this.La.Vt(Q,N,0))?L=N.Qa:(this.Sb(y2U),L=L.Qa);this.Qob(L);S.cQ=!1;m30=8;break;}}};P.prototype.kaa=function(N){var n30,ca,S,Q,L,U;n30=2;for(;n30 !== 35;){switch(n30){case 8:var R2U="switchTrac";R2U+="ks reje";R2U+="c";R2U+="ted, buffering";return (this.Sb(R2U),!1);break;case 5:var D2U="switchTracks r";D2U+="ejected, audio disabl";D2U+="ed";return (this.Sb(D2U),!1);break;case 9:n30=this.V.qg()?8:7;break;case 1:n30=!this.Ar?5:4;break;case 3:var d2U="switchTracks rejecte";d2U+="d, previous switch still in prog";d2U+="r";d2U+="ess: ";return (this.Sb(d2U + JSON.stringify(this.zb.Ky)),!1);break;case 27:n30=ca === U.trackId?26:25;break;case 17:n30=!U?16:15;break;case 15:ca=this.Ge.jq(0).trackId;n30=27;break;case 10:n30=U < L.E8?20:19;break;case 13:S=this.La.Yc;n30=12;break;case 12:n30=this.V.getState() === g.ma.Lc?11:19;break;case 22:this.Ipb(L);return !0;break;case 14:var K2U="switch";K2U+="Tracks rejected, previous switch still wa";K2U+="iting to ";K2U+="start";return (this.Sb(K2U),!1);break;case 16:var Z2U="sw";Z2U+="itchTracks can't";Z2U+=" find ";Z2U+="tra";Z2U+="ckId:";return (this.Sb(Z2U,N),!1);break;case 20:var r2U="swi";r2U+="tchTr";r2U+="acks rejected, bufferLevelM";r2U+="s";return (this.Sb(r2U,U,"<",L.E8),!1);break;case 26:return !1;break;case 19:N=N.sn;U=this.Ge.P.getTrackById(N);n30=17;break;case 7:Q=this.zb.Mf[0];n30=6;break;case 4:n30=this.zb.Ky?3:9;break;case 2:L=this.I;n30=1;break;case 25:var O2U=" ";O2U+="t";O2U+="o: ";var h2U="switchTrac";h2U+="ks";h2U+=" current: ";L.ii && this.Cb.Dm(h2U + ca + O2U + U.trackId);Q.Z8={trackId:N};L=S.fb(0);n30=22;break;case 6:n30=Q.cQ?14:13;break;case 11:U=this.La.iw(S,1);n30=10;break;}}};P.prototype.Mq=function(N,L){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:this.zb.Mq(N,L);o30=1;break;}}};P.prototype.Vt=function(N,L,Q){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:return this.La.Vt(N,this.La.oi,L,Q);break;}}};P.prototype.Li=function(N){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:return this.Tn.Li(N);break;}}};H10=59;break;case 39:P.prototype.stop=function(){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 2:this.Qi.stop();O20=1;break;case 4:this.Qi.stop();O20=6;break;O20=1;break;}}};P.prototype.xs=function(N,L){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:return this.Tn.xs(N,L);break;case 4:return this.Tn.xs(N,L);break;P20=1;break;}}};P.prototype.seek=function(N,L){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 4:return this.Tn.seek(N,L);break;Q20=1;break;case 2:return this.Tn.seek(N,L);break;}}};P.prototype.Zn=function(N){var R20,L,Q,S,U,U20,ca;R20=2;for(;R20 !== 18;){switch(R20){case 6:var P2U="u";P2U+="nd";P2U+="e";P2U+="rf";P2U+="low";this.emit(P2U);this.M2(2);this.ng.Yj();R20=12;break;case 10:S=this.oc.Qb.get();S=S.confidence?S.Ra.Fa:0;U > Q.WCb && S > Q.VCb && this.oha();R20=18;break;case 2:var m2U="bran";m2U+="ch";m2U+="Offset:";var Y2U="entr";Y2U+="y.mani";Y2U+="festOffset";Y2U+=":";var F2U="c";F2U+="on";F2U+="te";F2U+="nt";F2U+="Pts:";var G2U="under";G2U+="flow: going to BUFFERING at pla";G2U+="yer pts:";(L=this,Q=this.I,S=this.Ht(this.VX,N));this.Sb(G2U,N,F2U,S,Y2U,this.Ge.Iw,m2U,this.La.Fe);U=Q.kA;this.Rg.forEach(function(ka){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:U=Math.max(0,Math.min(U,ka.zna - N));S20=1;break;}}});this.bha+=1;R20=9;break;case 12:R20=this.Lr?11:10;break;case 11:try{U20=2;for(;U20 !== 1;){switch(U20){case 4:this.i5(g.ma.xd);U20=3;break;U20=1;break;case 2:this.i5(g.ma.xd);U20=1;break;}}}catch(ka){var q2U="Hindsight: Erro";q2U+="r ";q2U+="when evaluating QoE a";q2U+="t Buffer";q2U+="ing: ";a000.x5U(1);this.Cb.Ln(a000.u5U(ka,q2U));}R20=10;break;case 9:ca=this.La.Yc;h.Bf.forEach(function(ka){var T20,ya,qa,Y,ua;T20=2;for(;T20 !== 6;){switch(T20){case 1:T20=qa?5:6;break;case 2:qa=ca.Sd(ka);T20=1;break;case 5:T20=Q.ii?4:9;break;case 4:(Y=L.Rg[ka],ua=L.La.nG(ca,ka));T20=3;break;case 9:Q.ii && L.Cb.Dm(Y);qa.Oja();null === (ya=qa.dh) || void 0 === ya?void 0:ya.fWb();T20=6;break;case 3:var s2U=", ";s2U+="toA";s2U+="p";s2U+="pe";s2U+="nd: ";var v2U=", ";v2U+="f";v2U+="r";v2U+="agment";v2U+="s: ";var n2U=", completeSt";n2U+="re";n2U+="amingPts: ";var b2U=", ";b2U+="str";b2U+="eamingPts:";b2U+=" ";var g2U=",";g2U+=" ";g2U+="part";g2U+="ial";g2U+="s: ";var Q2U=", c";Q2U+="omplete";Q2U+="dByte";Q2U+="s:";Q2U+=" ";var l2U=", ";l2U+="com";l2U+="pleted";l2U+="Ms:";l2U+=" ";var V2U=",";V2U+=" medi";V2U+="aTy";V2U+="pe";V2U+=": ";var J2U="und";J2U+="erf";J2U+="low: ";Y=J2U + N + V2U + ka + l2U + qa.$L + Q2U + ua + g2U + qa.Qa.ND + b2U + qa.Jc + n2U + qa.Tp + v2U + JSON.stringify(qa.Qa.U) + s2U + (Y && Y.M$());T20=9;break;}}});this.Ge.P.tk();R20=6;break;}}};P.prototype.Wn=function(N){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:return this.Tn.Wn(N);break;}}};P.prototype.Er=function(N,L,Q){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:return this.Tn.Er(N,L,Q);break;case 4:return this.Tn.Er(N,L,Q);break;W20=1;break;}}};P.prototype.XNa=function(N){var X20,L;X20=2;for(;X20 !== 3;){switch(X20){case 4:this.Cb.oOa(L.P.Mw);X20=3;break;case 2:this.fL=N;L=this.Jd[N];this.Cb.$nb(N,L);X20=4;break;}}};P.prototype.CL=function(N,L){var Y20,U,ca,Q,S,ka,ya,qa,Y;Y20=2;for(;Y20 !== 35;){switch(Y20){case 18:var T2U="boo";T2U+="l";T2U+="ean";L.replace && qa.forEach(function(ua,O){var Z20,T,ja;Z20=2;for(;Z20 !== 3;){switch(Z20){case 2:T=ya.XC(O);Z20=1;break;case 1:Z20=T?5:3;break;case 5:ja=Q.Jd[0].P;Object.keys(T).forEach(function(ma){var a30,ta;a30=2;for(;a30 !== 5;){switch(a30){case 1:ta && ta.je && (T[ma].m4(ta),ma=ya.Mw,ma[O] > Y[O] && (Y[O]=ma[O]));a30=5;break;case 2:ta=ja.Bw(O,ma);a30=1;break;case 3:ta=ja.Bw(O,ma);a30=0;break;a30=1;break;}}});Z20=3;break;case 7:Z20=T?4:4;break;Z20=T?5:3;break;}}});qa.forEach(function(ua,O){var b30,T;b30=2;for(;b30 !== 5;){switch(b30){case 2:T=ya.XC(O);T && Object.keys(T).forEach(function(ja){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:T[ja].Xab(u.default.Jo()[O],ya.Uz()?S.E2a:0);c30=1;break;}}});b30=5;break;}}});N.DT=T2U === typeof L.Csb?L.Csb:!0;this.Jd[U] && this.Jd[U].fd();this.Jd[U]=N;N.PRa();L.replace || this.La.Wqb(ya,ca,ka);Y20=24;break;case 4:L || (L={});(U=this.La.Yc.Sd(0),ca=this.La.Yc.Sd(1));Y20=9;break;case 9:Y20=!L.oac && (this.Ar && U.Zq || this.Sm && ca.Zq)?8:7;break;case 2:(Q=this,S=this.I);Y20=1;break;case 8:var W2U="addManifest i";W2U+="gno";W2U+="red, pipelines already set";W2U+=" EOS:";this.Sb(W2U,U.Zq,ca.Zq);Y20=35;break;case 1:Y20=this.jn()?5:4;break;case 14:var H2U="addManifest in fastplay but not drm ";H2U+="ma";H2U+="nifes";H2U+="t, leaving space f";H2U+="or it";L.replace && 1 !== U?U=1:this.Ge.P.kf.ue && !L.replace && 1 === U && (this.Sb(H2U),U=this.Jd[0].clone(),this.Jd.push(U),U=this.Jd.length);ca=L.Z || 0;ka=L.Ga;Y20=11;break;case 21:this.Ar && f.ia(L) || this.Sm && f.ia(U) || (N.P.$O([N.jq(0),N.jq(1)]),this.Z2());Y20=35;break;case 11:var o2U="vid";o2U+="eo";o2U+="_trac";o2U+="ks";var E2U="audio_";E2U+="t";E2U+="racks";N=m.pda.create({Pb:U,oa:N,Yo:void 0,A8a:L.QP || [this.Ge.X5(0),this.Ge.X5(1)],ue:!1,u0a:! !L.replace,hi:! !L.hi,Bd:h.y8(! !L.KT,! !L.vE),Z:ca,Ga:ka,Cb:this.Cb,Rr:this.zNa.bind(this),ac:this,config:this.I,H:this.H,ng:this.ng,Tn:this.Tn,If:this.sPa?this.oc.If:void 0,dD:this.dD});ya=N.P;(L.atb || this.IMa) && this.zb.Mq(L.atb || this.IMa,ya.X);(qa=[E2U,o2U],Y=this.wYa());Y20=18;break;case 24:var M2U=",";M2U+=" ";var I2U=") ";I2U+="lastStr";I2U+="eamAppend";I2U+="ed:";I2U+=" (";var z2U=",";z2U+=" ";var U2U=" streamCou";U2U+="nt";U2U+=": (";var A2U=" playe";A2U+="r";A2U+="State: ";var p2U="addMa";p2U+="nifest, currentPts:";p2U+=" ";L=this.zb.Pw[0].AH;U=this.zb.Pw[1].AH;S.ii && this.Cb.Dm(p2U + this.V.Re() + A2U + this.V.getState() + U2U + N.jq(0).$d.length + z2U + N.jq(1).$d.length + I2U + L + M2U + U + ")");Y20=21;break;case 7:L.GO && (this.y2=!0);U=this.Jd.length;Y20=14;break;case 5:var c2U="addManifes";c2U+="t";c2U+=": pipel";c2U+="ines alread";c2U+="y shutdown";this.Sb(c2U);Y20=35;break;}}};P.prototype.xT=function(N){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:return this.Tn.xT(N);break;}}};P.prototype.mz=function(N){var e30,L,Q,S,U,ca;e30=2;for(;e30 !== 7;){switch(e30){case 2:S=this.I;e30=1;break;case 5:var t2U=" rea";t2U+="d";t2U+="yStat";t2U+="e: ";var i2U=" for";i2U+=" movieI";i2U+="d: ";var w2U=",";w2U+=" ";var S2U="drmRea";S2U+="dy ";S2U+="at streaming pts: ";f.ia(L) && (L=!0);(U=this.La.Yc.Sd(0),ca=this.La.Yc.Sd(1));S.ii && this.Cb.Dm(S2U + (U?U.Jc:null) + w2U + (ca?ca.Jc:null) + i2U + N + t2U + L);a000.e5U(1);this.V.RY(a000.u5U("",N),L);e30=8;break;case 1:e30=!this.jn()?5:7;break;case 8:var N2U="drm";N2U+="R";N2U+="eady";L && (this.Rg.forEach(function(ka){var f30;f30=2;for(;f30 !== 5;){switch(f30){case 2:S.A5 && ka.GWa();ka.mz();f30=5;break;}}}),S.$aa && this.jT(),this.Ge.P.kf.ue && this.Y2(this.Tn.$B?this.Tn.$B.Pb:this.fL + 1),S.yr || (null === (Q=this.Bh) || void 0 === Q?0:Q.cD()) || this.dy.oC || this.qT(N2U),this.Tn.$fa());e30=7;break;}}};H10=48;break;case 13:Object.defineProperties(P.prototype,{av:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.oc.av;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{rs:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.kpb;break;case 4:return this.kpb;break;Y10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{JW:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return this.eL;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{GO:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.y2;break;}}},enumerable:!1,configurable:!0}});P.prototype.mc=function(N){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.Opb[N];break;}}};P.prototype.uV=function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return u.default.time.ea() - this.xfa;break;}}};P.prototype.wYa=function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return (this.Jd || []).reduce(function(N,L){var e20,Q;e20=2;for(;e20 !== 4;){switch(e20){case 2:Q=L.P;h.Bf.forEach(function(S){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:Q.Mw[S] > N[S] && (N[S]=Q.Mw[S]);f20=1;break;}}});return N;break;}}},[0,0]);break;}}};P.prototype.TN=function(){var g20,N;g20=2;for(;g20 !== 4;){switch(g20){case 2:N=0;f.forEach(this.Ge.P.oa.audio_tracks,function(L){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:f.forEach(L.streams,function(Q){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:N=Math.max(N,Q.bitrate);i20=1;break;}}});h20=1;break;}}});return N;break;}}};P.prototype.rh=function(N){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.Jd[N];break;}}};P.prototype.cGb=function(){var k20,N;k20=2;for(;k20 !== 5;){switch(k20){case 2:N=this.Jd[0];return N.P.kf.ue?this.Jd[1]:N;break;}}};H10=27;break;case 2:Object.defineProperties(P.prototype,{addEventListener:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{removeEventListener:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;O10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{HOb:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.gg.qc;break;case 4:return this.gg.qc;break;P10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{mediaSourceId:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:return this.gg?this.gg.ZY:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Ar:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.mc(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Sm:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.mc(1);break;case 4:return this.mc(2);break;S10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{attributes:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.rfa;break;case 4:return this.rfa;break;T10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Zg:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.Fi;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{VX:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return 0 <= this.o2?this.o2:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Ge:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 4:return this.Jd[this.fL];break;W10=1;break;case 2:return this.Jd[this.fL];break;}}},enumerable:!1,configurable:!0}});H10=13;break;case 94:P.prototype.Nmb=function(N,L){var H40;H40=2;for(;H40 !== 5;){switch(H40){case 2:L=d.AYa(L);this.rfa[N.mediaType]=L;H40=5;break;}}};Object.defineProperties(P.prototype,{Ky:{set:function(N){var I40;I40=2;for(;I40 !== 1;){switch(I40){case 2:this.zb.Ky=N;I40=1;break;case 4:this.zb.Ky=N;I40=3;break;I40=1;break;}}},enumerable:!1,configurable:!0}});return P;break;case 27:P.prototype.cN=function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return this.Jd.length;break;case 4:return this.Jd.length;break;l20=1;break;}}};P.prototype.Epa=function(N,L){var m20;m20=2;for(;m20 !== 9;){switch(m20){case 2:m20=N === L?1:5;break;case 1:return !0;break;case 5:N=this.Jd[N];L=this.Jd[L];return N.P.kf.ue && L.P.kf.RW || L.P.kf.ue && N.P.kf.RW;break;}}};P.prototype.S5=function(N){var n20;n20=2;for(;n20 !== 5;){switch(n20){case 2:n20=(N=this.La.oi.children[N])?1:5;break;case 1:return {id:N.O.id,Fe:N.Fe,zd:N.Bta,me:N.me,gd:N.F$,Mc:N.Mc};break;}}};P.prototype.Lo=function(){var o20,N;o20=2;for(;o20 !== 5;){switch(o20){case 2:N=this.La.oi;return {id:N.O.id,Fe:N.Fe,zd:N.Bta,me:N.me,gd:N.F$,Mc:N.Mc};break;}}};P.prototype.UP=function(N,L){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:return this.La.UP(N,L);break;}}};P.prototype.open=function(){var q20,N,Y,qa,L,Q,S,U,ca,ka,ya;q20=2;for(;q20 !== 33;){switch(q20){case 1:q20=!f.Ca(this.hC) || 0 > this.hC?5:4;break;case 5:var u2U="NFErr_MC_Str";u2U+="eam";u2U+="ingInitF";u2U+="ailure";var a2U="startPts ";a2U+="must be a p";a2U+="ositive ";a2U+="num";a2U+="ber, not ";this.Fp(a2U + this.hC,void 0,u2U);q20=33;break;case 21:var e2U="sta";e2U+="rtp";e2U+="l";e2U+="a";e2U+="y";var x2U="lo";x2U+="g";x2U+="dat";x2U+="a";Q={type:x2U,target:e2U,fields:{audiogapconfig:L.$N,audiogapdpi:this.gg.qc && this.gg.qc.$N,aseApiVersion:this.eG}};this.emit(Q.type,Q);q20=33;break;case 2:N=this;q20=1;break;case 17:q20=!qa.g3(U)?16:15;break;case 20:var f2U="cr";f2U+="eateMedi";f2U+="aSour";f2U+="ce";f2U+="End";this.Cb.bm(f2U);qa.qc || (qa.qc=t.qc);this.gg=qa;q20=17;break;case 16:var k2U="Er";k2U+="r";k2U+="o";k2U+="r";k2U+=":";throw (this.nn(k2U,qa.error),qa.error);q20=15;break;case 15:qa.sourceBuffers.forEach(function(ua){var s20,O,T;s20=2;for(;s20 !== 13;){switch(s20){case 8:var j2U="mana";j2U+="gerde";j2U+="bugevent";var B2U="l";B2U+="o";B2U+="gdat";B2U+="a";ua.addListener(B2U,function(ja){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:w.Va(N,ja.type,ja);u20=1;break;}}});L.ii && ua.addListener(j2U,function(ja){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:w.Va(N,ja.type,ja);v20=8;break;v20=1;break;case 2:w.Va(N,ja.type,ja);v20=1;break;}}});N.Rg[O]=ua;N.Tv[O]=T;s20=13;break;case 2:var C6U="e";C6U+="r";C6U+="ro";C6U+="r";var X2U="req";X2U+="ue";X2U+="stA";X2U+="pp";X2U+="ended";var L2U="headerA";L2U+="pp";L2U+="ended";(O=ua.mediaType,T=N.zb.Mf[O]);ua=new n.Pba(T.H,O,qa,ua,L,!1,N.V,void 0,N.rh.bind(N));T=new C.IEa(ua,O,N.La,N.I,T.H);ua.addListener(L2U,N.Jmb.bind(N));ua.addListener(X2U,N.Mmb.bind(N));ua.addListener(C6U,function(ja){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:var y6U="NFErr";y6U+="_MC_S";y6U+="t";y6U+="reamingFailure";N.Fp(ja.errorstr,void 0,y6U);t20=1;break;}}});s20=8;break;}}});this.fy=new E.QIa(this.Tv,this.pL.bind(this),this.V.Re.bind(this.V));this.rs && this.Cb.Lnb();Q=this.wYa();this.Cb.oOa(Q);Y=function(){var w20;w20=2;for(;w20 !== 5;){switch(w20){case 2:var R6U="shutdow";R6U+="n detected before start";R6U+="Requests";N.Cb.cob();N.jn()?N.Sb(R6U):N.Jpb();w20=5;break;}}};L.Szb?setTimeout(function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 4:N.PMa(S).then(Y);x20=9;break;x20=1;break;case 2:N.PMa(S).then(Y);x20=1;break;}}},0):this.PMa(S).then(function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:setTimeout(Y,0);y20=1;break;}}});q20=21;break;case 10:q20=1 === qa.readyState?20:34;break;case 13:var d6U="createMediaS";d6U+="o";d6U+="urceSta";d6U+="rt";ca.forEach(function(ua,O){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:var D6U="he";D6U+="ade";D6U+="r";D6U+="s";D6U === ua?N.JS=ya[O]:N.zb.Mf[ua].Kf=ya[O];r20=1;break;}}});this.Cb.bm(d6U);qa=new t(this.V.qG);q20=10;break;case 34:var r6U="NFErr_MC_Stre";r6U+="amingInitF";r6U+="ailure";var Z6U="e";Z6U+="x";Z6U+="ception in init";var K6U="E";K6U+="r";K6U+="r";K6U+="or";K6U+=":";(this.nn(K6U,qa.error),this.Fp(Z6U,void 0,r6U));q20=33;break;case 4:var h6U="h";h6U+="ea";h6U+="d";h6U+="er";h6U+="s";(L=this.I,Q=this.Ge.P,S=Q.J,U=[],ca=[h6U]);this.Sm && (U.push(1),ca.push(1));this.Ar && (U.push(0),ca.push(0));this.NU.Wmb();ka=L.yr;this.oc.If && this.oc.If.Mp(ka,this.Zl.sessionId);ya=this.NU.Olb(ca,Q);q20=13;break;}}};Object.defineProperties(P.prototype,{eG:{get:function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:var O6U="1";O6U+=".";O6U+="0";return O6U;break;case 4:return "";break;z20=1;break;}}},enumerable:!1,configurable:!0}});P.prototype.Sna=function(){};P.prototype.flush=function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:this.Qi.flush();A20=1;break;case 4:this.Qi.flush();A20=7;break;A20=1;break;}}};P.prototype.paused=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 4:this.V.paused();B20=7;break;B20=1;break;case 2:this.V.paused();B20=1;break;}}};H10=32;break;case 72:P.prototype.M2=function(N,L){var E30,Q,S,U,ca,ka;E30=2;for(;E30 !== 19;){switch(E30){case 11:S.YU && (this.Sfa=setTimeout(function(){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 4:Q.gpb();G30=0;break;G30=1;break;case 2:Q.gpb();G30=1;break;}}},S.Bla));E30=10;break;case 2:(Q=this,S=this.I,U=this.zb.Mf[0] || ({}),ca=this.zb.Mf[1] || ({}),ka=this.zb.UA[1] || ({}));(this.zb.UA[0] || ({})).$T=void 0;ka.$T=void 0;E30=4;break;case 4:this.V.Ve(2 === N?g.ma.Qf:g.ma.xd);this.Cb.Qnb(L);this.fy.reset();E30=8;break;case 8:var P6U="st";P6U+="artBu";P6U+="fferi";P6U+="ng";this.Ge.P.Isa();this.emit(P6U);h.Bf.forEach(function(ya){var F30;F30=2;for(;F30 !== 5;){switch(F30){case 2:F30=(ya=Q.La.Yc.Sd(ya))?1:5;break;case 1:(ya.cja=0,ya.seeking=0 === N || 1 === N,ya.Oja());F30=5;break;}}});this.xfa=u.default.time.ea();U.zl=ca.zl=this.xfa;0 === N && (!this.Sm || 0 < ca.Iu) && (!this.Ar || 0 < U.Iu) && this.zb.hy();E30=11;break;case 10:this.V.qg() && (this.GK=setTimeout(function(){var H30;H30=2;for(;H30 !== 1;){switch(H30){case 4:Q.zb.hy();H30=6;break;H30=1;break;case 2:Q.zb.hy();H30=1;break;}}},S.yA));this.ng.Yj();E30=19;break;}}};P.prototype.qT=function(N){var I30,L;I30=2;for(;I30 !== 3;){switch(I30){case 2:var F6U="A";F6U+="doptingData still h";F6U+="as lock:";var G6U="wipeHea";G6U+="de";G6U+="rC";G6U+="ache";G6U+=":";a000.e5U(1);N=a000.u5U(N,G6U);this.dy.oC && this.Lk(F6U + N);L=this.I;L.RH || (L.ii && this.Cb.Dm(N),this.oc.Ry(),this.Bh && (this.Bh=void 0));I30=3;break;}}};P.prototype.PMa=function(N){var J30,ca,Q,S,U;J30=2;function L(ka,ya){var K30,qa,Y,ua,O,T,ja,ma;K30=2;for(;K30 !== 10;){switch(K30){case 2:(qa=ka.mediaType,Y=ya[qa],ua=Promise.resolve(void 0));K30=1;break;case 5:(O=Y.Pa,T=Y.header.stream,ja=Q.zb.Mf[qa],ma=Q.zb.UA[qa]);f.ia(ya.eD) || Q.zg.X8a(ya.eD,ya.Mo,ya.No);ma.Qz=ya.Qz;K30=9;break;case 14:var Y6U="adoptPipel";Y6U+="i";Y6U+="ne no h";Y6U+="eader fo";Y6U+="r streamId:";return (ka.Lk(Y6U,O),ua);break;case 7:return ua;break;case 6:K30=!Y.header?14:13;break;case 8:K30=!ka.E2b(O)?7:6;break;case 1:K30=Y?5:11;break;case 9:ma.xw=ya.xw;K30=8;break;case 13:ya=Q.Ge.P;K30=12;break;case 12:ya.e3(Y.header,!ya.kf.ue && !ya.hi && 1 === qa,!0) && (void 0 !== ka.cI && ka.LI(ka.cI),ua=ya.Yk(qa,O).stream.U.Bn(ka.Jc,void 0,!0),ya=T.Xk(ua),T=ya.Z,(ya=ya.pma(ka.Jc)) && 0 < ya.Ed && (T=ya.Ed),ka.Jc !== T && (ka.qP(T,ua),Q.lha(qa,T)),ua=Q.blb(ka,Y.data).then(function(){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:return O;break;}}}),ja.KDb=!0,0 === qa && Q.zg.nP(Y.header.bitrate));K30=11;break;case 11:return ua;break;}}}for(;J30 !== 13;){switch(J30){case 8:var m6U="check";m6U+="ForHcdS";m6U+="t";m6U+="ar";m6U+="t";this.Cb.bm(m6U);this.Jd.forEach(function(ka){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:ka.P.J === N && (ca=ka);M30=1;break;}}});J30=14;break;case 3:J30=!this.aqb || !this.oc.If?9:8;break;case 2:var q6U="Previously adopted re";q6U+="quest l";q6U+="ist still retained was unexpecte";q6U+="d";Q=this;(null === (S=this.Bh) || void 0 === S?0:S.cD()) && this.Lk(q6U);this.Bh=void 0;U=this.I;J30=3;break;case 9:return (this.oc.lja(),Promise.resolve());break;case 14:return this.oc.If.wNb(N,ca?ca.P:void 0).then(function(ka){var N30,ya,qa;N30=2;for(;N30 !== 8;){switch(N30){case 2:var J6U="c";J6U+="hec";J6U+="kF";J6U+="orHcdE";J6U+="nd";Q.Cb.bm(J6U);N30=1;break;case 5:var V6U="head";V6U+="er";V6U+="CacheData";V6U+="NotFou";V6U+="nd";return (U.yr || Q.dy.oC || Q.qT(V6U),Promise.resolve());break;case 4:var l6U="ad";l6U+="opt";l6U+="HcdStart";(ya=Q.La.Yc.Sd(0),qa=Q.La.Yc.Sd(1));Q.Cb.bm(l6U);return Q.dy.hcb(function(){var O30,Y,ua;O30=2;for(;O30 !== 7;){switch(O30){case 2:Y=Promise.resolve();Q.Sm && (Y=L(qa,ka));ua=Promise.resolve();!Q.Ar || U.ZZa && !Y || (ua=U.ZZa?Y.then(function(O){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 2:return O?L(ya,ka):Promise.resolve();break;}}}):L(ya,ka));O30=3;break;case 3:var Q6U="ado";Q6U+="ptH";Q6U+="cd";Q6U+="En";Q6U+="d";Q.CNa=ka;Q.Cb.bm(Q6U);return Promise.all([Y,ua]);break;}}});break;case 1:N30=f.ia(ka)?5:4;break;}}}).then(function(){var Q30,ka;Q30=2;for(;Q30 !== 5;){switch(Q30){case 2:var g6U="ad";g6U+="opte";g6U+="dC";g6U+="ompletedReques";g6U+="ts";U.yr || (null === (ka=Q.Bh) || void 0 === ka?0:ka.cD()) || Q.dy.oC || !Q.V.Po(Q.Ge.P) || Q.qT(g6U);Q30=5;break;}}}).catch(function(ka){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:var b6U="headerCache:";b6U+="look";b6U+="upDataPromise cau";b6U+="ght error:";Q.Sb(b6U,ka);R30=1;break;case 4:Q.Sb("",ka);R30=4;break;R30=1;break;}}});break;}}};P.prototype.blb=function(N,L){var S30,Q,S,U,ca,ka,ya,qa;S30=2;for(;S30 !== 9;){switch(S30){case 1:S30=0 === L.length?5:4;break;case 5:return Promise.resolve();break;case 2:Q=this;S30=1;break;case 4:(S=N.V7,U=S.O,ca=Math.min(this.Jd[0].Ga || Infinity,S.Mc || Infinity),ka=N.mediaType,ya=this.zb.Mf[ka]);return this.dy.hcb(function(){var T30,ua;function Y(){var U30,O;U30=2;for(;U30 !== 5;){switch(U30){case 2:var v6U="ado";v6U+="ptData, not adopting f";v6U+="ailed med";v6U+="iaReques";v6U+="t:";var n6U="adoptDat";n6U+="a, not adopting a";n6U+="borted mediaRe";n6U+="quest:";O=L.shift();7 === O.readyState?N.Sb(n6U,O.toString()):6 === O.readyState?(N.Sb(v6U,O.toString()),Q.aG(O,!1)):N.Jc >= O.gd && N.Jc < O.Mc && (N.Jc < ca || !f.Ca(ca))?(ua.push(Q.clb(N,O).then(function(){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:O.complete && Q.EZa(O);V30=1;break;}}})),N.gYb(O.Mc),f.Ca(ca) && N.Jc >= ca && Q.Cb.Nga(U,O.Mc),0 === ka && Q.zg.nP(O.bitrate),O.complete?(ya.Iu+=O.duration,O.eNb && (ya.RX+=O.duration),qa=O):(Q.Bh || (Q.Bh=new D.Jya(Q.H)),Q.Bh.push(O))):Q.aG(O,!1);U30=5;break;}}}T30=2;for(;T30 !== 3;){switch(T30){case 5:Y();T30=1;break;case 7:T30=1 >= L.length?3:8;break;T30=0 < L.length?5:4;break;case 4:return Promise.all(ua);break;case 2:ua=[];T30=1;break;case 8:ua=[];T30=2;break;T30=1;break;case 1:T30=0 < L.length?5:4;break;case 14:return Promise.all(ua);break;T30=3;break;}}}).then(function(){var W30,Y,ua;W30=2;for(;W30 !== 8;){switch(W30){case 5:W30=qa || (null === (Y=Q.Bh) || void 0 === Y?0:Y.cD())?4:8;break;case 2:qa && N.FZa(qa);W30=5;break;case 4:Y=Q.Jd[S.P.Pb];ua=N.jma(N.Jc);void 0 !== ua?(N.Kn=ua,N.ie=Y.P.th[ka].stream.Xk(N.Kn)):N.Kn=N.Jf?N.Jf.index + 1:N.Kn + 1;W30=8;break;}}});break;}}};P.prototype.clb=function(N,L){var X30,Q,S;X30=2;for(;X30 !== 3;){switch(X30){case 4:return N.Qa.orb(L).catch(function(U){var Y30;Y30=2;for(;Y30 !== 1;){switch(Y30){case 2:var s6U="Erro";s6U+="r";s6U+=" ado";s6U+="pting requests";Q.Lk(s6U,U);Y30=1;break;case 4:Q.Lk("",U);Y30=5;break;Y30=1;break;}}});break;case 2:var H6U=",";H6U+=" pts";H6U+=": ";var W6U=", ";W6U+="s";W6U+="tat";W6U+="e:";W6U+=" ";var T6U="adoptMedi";T6U+="aRequest: ";T6U+="type";T6U+=": ";(Q=this,S=N.mediaType);this.I.ii && this.Cb.Dm(T6U + S + W6U + L.readyState + H6U + L.gd);this.lha(S,L.gd);X30=4;break;}}};P.prototype.hha=function(N,L,Q){var Z30,S;Z30=2;for(;Z30 !== 9;){switch(Z30){case 2:S=this;void 0 === L && (L=F.VR.Lia);(Q || this.La.Yc).hva(N,L);this.fy.reset();(void 0 === N?h.Bf:[N]).forEach(function(U){var a40;a40=2;for(;a40 !== 1;){switch(a40){case 2:S.mc(U) && (S.Tv[U].reset(),S.ppb(U),S.zg.cRb(U));a40=1;break;}}});Z30=9;break;}}};P.prototype.Nwa=function(){var b40,N;b40=2;for(;b40 !== 5;){switch(b40){case 2:N=this;h.Bf.forEach(function(L){var c40,Q;c40=2;for(;c40 !== 5;){switch(c40){case 2:null === (Q=N.Tv[L]) || void 0 === Q?void 0:Q.stop();c40=5;break;}}});b40=5;break;}}};P.prototype.TI=function(N){var d40,L;d40=2;for(;d40 !== 4;){switch(d40){case 2:L=this;(void 0 === N?h.Bf:[N]).forEach(function(Q){var e40,S;e40=2;for(;e40 !== 5;){switch(e40){case 2:null === (S=L.Tv[Q]) || void 0 === S?void 0:S.resume();e40=5;break;}}});return Promise.resolve();break;}}};P.prototype.jT=function(N){var f40,L,Q;f40=2;for(;f40 !== 3;){switch(f40){case 4:N.forEach(function(S){var g40,U;g40=2;for(;g40 !== 5;){switch(g40){case 2:null === (U=L.Tv[S]) || void 0 === U?void 0:U.resume();g40=5;break;}}});f40=3;break;case 2:L=this;N=void 0 === N?h.Bf:[N];null === (Q=this.fy) || void 0 === Q?void 0:Q.reset();f40=4;break;}}};P.prototype.ppb=function(N){var h40,L;h40=2;for(;h40 !== 3;){switch(h40){case 2:L=this.zb.Mf[N];this.zb.Pw[N].tqa=void 0;L.Iu=0;L.RX=0;h40=3;break;}}};H10=87;break;case 87:P.prototype.lha=function(N,L){var i40,S,U,Q;i40=2;for(;i40 !== 9;){switch(i40){case 5:var E6U="ptsc";E6U+="ha";E6U+="ng";E6U+="ed";(S=this.zb.Mf[N],U=this.zb.UA[N]);f.ia(S.xo) && (S.xo=L,1 === N && this.Ar && (N=this.zb.Mf[0],f.ia(N.xo) && (Q=Q.fb(0),Q.LI(L)),this.emit(E6U,L)));f.ia(U.$T) && (U.$T=L);i40=9;break;case 2:Q=this.La.Yc;i40=1;break;case 7:Q=this.La.Yc;i40=9;break;i40=1;break;case 1:i40=Q.fb(N)?5:9;break;}}};P.prototype.EZa=function(N){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:this.Bh && (this.Bh.TNb(N),this.cSa());j40=1;break;}}};P.prototype.C6=function(N){var k40;k40=2;for(;k40 !== 1;){switch(k40){case 2:this.Bh && (this.Bh.SNb(N),this.cSa());k40=1;break;}}};P.prototype.cSa=function(){var l40,N;l40=2;for(;l40 !== 4;){switch(l40){case 2:l40=this.Bh?1:4;break;case 1:var o6U="al";o6U+="lC";o6U+="ompleted";N=this.I;this.Bh.cD() || (this.Bh=void 0,N.yr || this.dy.oC || this.qT(o6U));l40=4;break;}}};P.prototype.rT=function(){var m40,N,L,Q,S,U,ca,ka,ya;m40=2;for(;m40 !== 7;){switch(m40){case 2:(N=this,L=this.I,Q=this.VX,S=this.Jd[Q],U=this.La.Yc,ca=this.V.Re() || 0,ka=this.Ht(Q,ca),ya=L.Laa);this.oc.If && void 0 !== S.UH && S.UH - ca <= L.n3a && this.oc.If.Mp(!0,this.Zl.sessionId);this.V.getState() === g.ma.Lc && ([1,0].forEach(function(qa){var n40,T,ja,ma,ta,ua,O,Y;n40=2;for(;n40 !== 35;){switch(n40){case 10:n40=(N.La.kQb(O,O.Su),ma > N.o2)?20:16;break;case 24:f.ia(O) || O == Y.O5a || (Y.O5a=O);n40=23;break;case 23:N.Wob(ua,ca);N.La.BUb();n40=35;break;case 5:n40=Y?4:35;break;case 17:ka=N.Ht(ma,ca);n40=15;break;case 6:ua=O.me - ca;ua < ya && (ya=ua);(T=N.zb.Pw[qa],ja=O.P,ma=ja.Pb);ua=O.Qa;n40=11;break;case 11:n40=!N.Sm || 1 === qa?10:15;break;case 20:N.o2=ma;ta=0 < ma?ma - 1:null;N.Cb.Ynb(ja,ca,O.Su,null !== ta?N.Jd[ta].P.J:null,ta);n40=17;break;case 21:var p6U="Unable to find request presentin";p6U+="g at player";p6U+="Pts:";Y.Sb(p6U,ca);n40=23;break;case 4:ua=Y.Qa;Y.XL(ca);(O=N.La.Vt(ca,U,qa)) && !O.ff && (O=N.Rg[qa].eMb);n40=7;break;case 1:Y=U.fb(qa);n40=5;break;case 15:T.mMb=O.Su;ja=O.Pa;ja != T.tqa && (T.tqa=ja,qa=N.Jd[ma].P.Bw(qa,ja),ma=N.Ht(ma,O.zd),N.Cb.hob(qa,O.zd,ma,qa.P.Pb));O=O.bitrate;n40=24;break;case 2:n40=N.mc(qa)?1:35;break;case 16:N.eL && O.Su != T.mMb && N.Cb.mob(O.Su);n40=15;break;case 7:n40=O?6:21;break;}}}),this.La.Ks(ca,ka));this.ng.Yj();m40=3;break;case 3:ya=Math.max(ya,1);this.jC && clearTimeout(this.jC);this.jC=setTimeout(this.rT.bind(this),ya);m40=7;break;}}};P.prototype.N1=function(N){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:return this.ng.N1(N);break;case 4:return this.ng.N1(N);break;o40=1;break;}}};P.prototype.Yj=function(){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:return this.ng.Yj();break;}}};P.prototype.aG=function(N,L){var q40,Q,S;q40=2;for(;q40 !== 13;){switch(q40){case 2:Q=N.Qa;q40=1;break;case 14:var A6U="abortReq";A6U+="uest with no requestMan";A6U+="ag";A6U+="aer:";this.Sb(A6U,N);q40=13;break;case 1:q40=Q?5:14;break;case 5:S=N.mediaType;N.abort();N.fd();q40=9;break;case 9:N.Fi && N.Fi.clear();Q.n$(N);this.Rg[S].n$(N);!0 === L && this.ng.Yj();q40=13;break;}}};P.prototype.Ipb=function(N){var r40,L,Q;r40=2;for(;r40 !== 5;){switch(r40){case 2:var U6U="no newAu";U6U+="d";U6U+="ioTr";U6U+="ack set";(L=N.mediaType,Q=this.zb.Mf[L]);f.ia(Q.Z8)?N.Sb(U6U):(this.Rg[L].pause(),Q.cQ=!0,N=this.Ge.jq(0),Q=this.Ge.P.getTrackById(Q.Z8.trackId),this.Cb.Nnb(N,Q));r40=5;break;}}};P.prototype.Qob=function(N){var s40,ca,ka,ya,qa,L,Q,S,U;s40=2;for(;s40 !== 27;){switch(s40){case 7:Q=this.oc.M5(ca.P.oa,[ya],0);this.rfa[0]=Q[0];this.NU.KOa(0,N.P);U.Z8=void 0;s40=12;break;case 20:Q=this.fL;s40=19;break;case 16:N.e7a(ka,qa);this.TI(0);s40=27;break;case 19:s40=Q < this.Jd.length?18:16;break;case 9:s40=(null === (Q=this.Bh) || void 0 === Q?0:Q.cD())?8:7;break;case 12:this.zg.nP(null);this.hha(0,F.VR.MWa,N);this.La.T8a(N,!0);s40=20;break;case 8:var z6U="a";z6U+="u";z6U+="dioSwi";z6U+="tch";(this.Bh.VVb(function(Y){var t40;t40=2;for(;t40 !== 5;){switch(t40){case 1:return (L.aG(Y,!1),!0);break;case 2:t40=0 === Y.mediaType?1:5;break;case 9:return (L.aG(Y,~7),+6);break;t40=5;break;}}}),this.Bh.cD() || (this.Bh=void 0,S.yr || this.dy.oC || this.qT(z6U)));s40=7;break;case 17:++Q;s40=19;break;case 18:this.lUb(Q,ya,qa);s40=17;break;case 3:(ca=this.Ge,ka=ca.P.getTrackById(this.zb.Ky.trackId),ya=ka.rE,qa=this.V.Re() - N.Fe);s40=9;break;case 2:(L=this,S=this.I);N=N.eb;U=this.zb.Mf[0];this.zb.Ky=U.Z8;s40=3;break;}}};H10=104;break;case 32:P.prototype.xta=function(){};P.prototype.close=function(){var C20;C20=2;for(;C20 !== 4;){switch(C20){case 2:this.L8a.Lb();this.Jd.forEach(function(N){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:N.close();D20=1;break;case 4:N.close();D20=2;break;D20=1;break;}}});this.Qi.close();C20=4;break;}}};P.prototype.q7a=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:this.oc.cpb(this);E20=1;break;case 4:this.oc.cpb(this);E20=2;break;E20=1;break;}}};P.prototype.fd=function(){var F20,N;F20=2;for(;F20 !== 20;){switch(F20){case 4:this.La.Lb();this.NU.$lb();null === (N=this.fy) || void 0 === N?void 0:N.reset();F20=8;break;case 2:this.zg.PQb();this.J1();F20=4;break;case 12:var I6U="Error o";I6U+="n Media";I6U+="S";I6U+="ource destro";I6U+="y: ";N=this.gg;this.gg=void 0;f.ia(N) || N.Yp() || this.Sb(I6U,N.error);F20=20;break;case 8:this.Tv.forEach(function(L){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:L.reset();G20=1;break;}}});this.V.Ve(g.ma.cj);this.Jd.forEach(function(L){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:L.fd();H20=1;break;}}});this.Jd=[];this.Fi.clear();F20=12;break;}}};P.prototype.suspend=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.Qi.suspend();I20=1;break;}}};P.prototype.resume=function(){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:this.Qi.resume();J20=9;break;J20=1;break;case 2:this.Qi.resume();J20=1;break;}}};P.prototype.jn=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:return this.Qi.jn();break;}}};P.prototype.Epb=function(){var L20,N;L20=2;for(;L20 !== 8;){switch(L20){case 5:this.jC=setTimeout(this.rT.bind(this),N.Laa);this.ey || (this.ey=setInterval(this.Cb.mOa.bind(this.Cb),N.OL));this.R2 || (this.R2=setInterval(this.Cb.lob.bind(this.Cb),N.Xwa));this.rs && !this.F1 && (this.F1=setInterval(this.Cb.lOa.bind(this.Cb),N.s3));L20=8;break;case 2:N=this.I;this.jC && clearTimeout(this.jC);L20=5;break;}}};P.prototype.J1=function(){var M20;M20=2;for(;M20 !== 7;){switch(M20){case 5:this.R2 && (clearInterval(this.R2),this.R2=void 0);this.F1 && (clearInterval(this.F1),this.F1=void 0);this.GK && (clearTimeout(this.GK),this.GK=void 0);this.Sfa && (clearTimeout(this.Sfa),this.Sfa=void 0);M20=8;break;case 8:this.ng.J1();M20=7;break;case 2:this.jC && (clearTimeout(this.jC),this.jC=void 0);this.ey && (clearInterval(this.ey),this.ey=void 0);M20=5;break;}}};P.prototype.play=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:this.Qi.play();N20=1;break;}}};H10=39;break;}}function P(N,L,Q,S,U,ca,ka,ya,qa,Y,ua){var I10,ja,ma,T,O,Ka;I10=2;for(;I10 !== 74;){switch(I10){case 31:this.Q2=!1;this.JS=void 0;this.o2=-1;this.bha=0;I10=44;break;case 12:var M6U="br";M6U+="a";M6U+="n";M6U+="chi";M6U+="ng";this.eTa=new y.KAa(this.H);(ja=!(!L || !L.choiceMap || M6U !== L.choiceMap.type),ma=ja?{VU:!1,Lr:!1}:q.hYa(Y));this.VU=ma.VU;this.Lr=ma.Lr;I10=19;break;case 63:I10=Y.Hla && this.zg.v7?62:59;break;case 6:this.nn=this.H.trace.bind(this.H);T=new H.RGa(this,this.H);this.Cb=T;I10=12;break;case 25:this.y2=ca.GO;this.sPa=! !ca.zbb;this.aqb=! !ca.dya;this.eL=ca.JW;this.E2=void 0;this.V=new A.Xya(qa);I10=34;break;case 62:Y=Y.fJb;for(var ta in Y){Q=Y[ta];Y.hasOwnProperty(ta) && Q && (this.I[ta]=Q);}I10=60;break;case 36:ja && Y.AM && !Y.ABb && (Y.set?Y.set({enableAdaptiveParallelStreaming:!1}):Y.AM=!1);0 === Math.floor(1E6 * Math.random()) % Y.IL && (this.kpb=new p.UJa(Y));this.Tv=[];this.Rg=[];I10=51;break;case 55:I10=this.Lr?77:75;break;case 76:this.V.addListener(function(Ua){var L10,M10;L10=2;for(;L10 !== 1;){switch(L10){case 2:try{M10=2;for(;M10 !== 1;){switch(M10){case 2:Ka.zb.D1b.bind(Ka.zb)(Ua);M10=1;break;}}}catch(Ya){var c6U="Hindsight: Error when adding ";c6U+="updatePlaySegm";c6U+="e";c6U+="nt Listener: ";a000.e5U(1);Ka.Cb.Ln(a000.u5U(Ya,c6U));}L10=1;break;}}});I10=75;break;case 40:I10=Y.ii && this.oc.If?39:38;break;case 19:this.fx=Y.fx;I10=18;break;case 60:this.zg.Qxa(this.I);I10=59;break;case 4:var i6U="me";i6U+="dia|asej";i6U+="s";var w6U="A";w6U+="S";w6U+="E";w6U+="J";w6U+="S";var S6U="1";S6U+="SI";S6U+="YbZrNJCp9";this.dD={Pv:[Object.create(null),Object.create(null)]};S6U;this.H=new u.default.Console(w6U,i6U,"(" + ka.sessionId + ")");this.Lk=this.H.error.bind(this.H);this.Sb=this.H.warn.bind(this.H);I10=6;break;case 37:var t6U="m";t6U+="ed";t6U+="iacache";this.Fi.on(this.oc.If,t6U,function(Ua){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:var N6U="medi";N6U+="aca";N6U+="ch";N6U+="e";w.Va(O,N6U,Ua);K10=1;break;}}});I10=36;break;case 75:ua && this.zb.Mq(ua,ta.X);I10=74;break;case 38:I10=(Y.gya || Y.fya) && this.oc.If?37:36;break;case 2:O=this;this.dy=new B.OJa();this.IMa=[];I10=4;break;case 39:var a6U="manag";a6U+="erdebuge";a6U+="vent";this.Fi.on(this.oc.If,a6U,function(Ua){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:w.Va(O,Ua.type,Ua);J10=1;break;}}});I10=38;break;case 34:this.hC=U || 0;this.fL=0;this.rfa=ya;I10=31;break;case 47:x.Ax.instance().reset();L=m.pda.create({Pb:0,oa:L,Yo:Q,A8a:S,ue:! !ca.ue,u0a:!1,hi:! !ca.hi,Bd:h.y8(! !ca.KT,! !ca.vE),Z:0,Ga:ca.Ga,Cb:this.Cb,Rr:this.zNa.bind(this),ac:this,config:this.I,H:this.H,ng:this.ng,Tn:this.Tn,If:this.sPa?this.oc.If:void 0,dD:this.dD});L.DT=!0;this.Jd=[L];this.zg=new K.Lya(this,this.H,N,this.oc.Qb,Y,this.TN(),U,this.mc.bind(this),ma);I10=63;break;case 18:this.Qi=new R.XEa(this,this.H,this.mc.bind(this),ma);this.Opb=[!ca.vE,!ca.KT];this.mc(0) && this.mc(1);this.oc=N;this.Zl=ka;this.I=Y=this.eTa.hlb(L,Y);I10=25;break;case 56:this.zb=new J.SKa(this.H,this.zg,this.I,this.mc.bind(this),this.V,Y,this.oc.Qb,this.Cb,this.ng,this.La,ma);I10=55;break;case 51:this.L8a=new k.$ca(L,this.oc.Qb,this.oc.Mh,this.I,void 0);N=this.L8a.HHb();U=null;Y.YU && (U=this.oc.av.fC);I10=47;break;case 44:this.Fi=new c.Xh();this.Tn=new I.rKa(this,this.H,this.mc.bind(this),T);this.ng=new M.DBa(this,this.H,this.mc.bind(this));this.NU=new z.CBa(this,this.H,T);I10=40;break;case 77:Ka=this;I10=76;break;case 59:ta=L.P;this.La=new G.Oba(this,this.Cb,this.H,this.oha.bind(this),ta,this.hC,this.I,this.ng,this.V,this.uV.bind(this));Y={JW:this.JW,rs:this.rs,Sm:this.Sm,GO:this.GO};I10=56;break;}}}})();b.AKa=a;r.zf(c.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pda=void 0;c=a(17);f=a(9);l=a(222);r=(function(){function m(d,g,h,k,n,p,q,u,t,w,v,x){void 0 === h && (h=0);this.fe=d;this.I2=g;this.Z=h;this.Ga=k;this.O5=n;this.rh=p;this.cN=q;this.config=u;this.H=t;this.Cb=w;this.TCb=v;this.Zg=x;this.Iw=0;}m.create=function(d){var h,k,n,p,q,u,t,w,v,x,y,z,A,B,E;function g(D){f.Va(w,D.type,D);}h=d.Pb;k=d.oa;n=d.A8a;p=d.Z;q=d.Ga;u=d.Rr;t=d.Cb;w=d.ac;v=d.config;x=d.H;y=d.ng;z=d.Tn;A=d.If;B=d.dD;E=new l.Fba(Number(k.movieId),{Pb:h,oa:k,Yo:d.Yo,V2a:{Fpa:d.ue,E0a:! !d.u0a},hi:d.hi,Bd:d.Bd,config:v,$Za:{Pl:y.Yj.bind(y),If:A,dD:B,Mn:g,p7:function(D){return D === w.La.Yc.P;},NV:function(D,F,C,G,K){D=w.zb.Mf[D];return !F || C || G || K?w.JS:D.Kf;},VC:function(D){return w.zb.Pw[D];},rh:w.rh.bind(w)},oX:function(D){w.emit("requestComplete",{type:"requestComplete",timestamp:D.uf,mediaRequest:D});},L5:function(){return w.zg;},Qb:w.oc.Qb,Mh:w.oc.Mh,NVa:{Rr:u,Ph:function(D,F,C,G,K,J){void 0 === J && (J=!1);return !J || w.V.qg()?(w.Fp(D,h,F,C,G,K,J),!0):!1;},Hn:function(){return w.Q2;},Mn:g},aP:void 0,RI:{W:w.oc.RA,fa:w.oc.gE}});v.pz && E.dE({gs:w.Zl.gs,ba:w.Zl.ba,KC:w.Zl.KC,Ln:t.Ln.bind(t)});d=new c.Xh();d.addListener(E.iu,"onHeaderFragments",function(D){var F,C,G,K,J;F=D.mediaType;C=D.Pa;G=D.stream.U;K=w.rh(h);if(K){if(E.th[F] && D !== E.th[F])D.ww && (K=E.th[F],D=D.stream,J=K && K.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Pa + "), expected track " + (J && J.trackId) + ", stream " + (J && J.Pa) + ", " + K));else {E.th[F]=D;D=w.La.Yc;if(0 === h){J=E.mc(1)?D.fb(1).Jc:D.fb(0).Jc;D.S3(J,E);}K.eY=!1;K.Q3();w.Z2();}z.$fa();t.dob(h,F,C,E.J,G);y.Yj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(E.iu,"onHeaderRequestComplete",function(D){var F,C;D.Uk?w.Z2():D.LC && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),w.mz(D.J));F=D.mediaType;C=Object.getOwnPropertyNames(B.Pv[F]);w.Rg[F].c4a(D.stream,1 === C.length && C[0] === D.Pa);y.dNa();w.kWb();});d.addListener(E.iu,"onHeaderFromCache",function(D){var F;F=D.header;D=D.LDb;F.Uk && w.Z2();D && t.Unb(F.J,F.Pa);});return new m(E,n,p,q,function(){return w.La;},w.rh.bind(w),w.cN.bind(w),v,x,t,!1,d);};Object.defineProperties(m.prototype,{P:{get:function(){return this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pb:{get:function(){return this.P.Pb;},enumerable:!1,configurable:!0}});m.prototype.jq=function(d){return this.fe.UHb(d,this.X5(d));};m.prototype.X5=function(d){return this.I2[d];};m.prototype.close=function(){this.Zg.clear();this.P.close();};m.prototype.fd=function(){this.fe.fd();delete this.fe;};m.prototype.clone=function(){return new m(this.P,this.I2,this.Z,this.Ga,this.O5,this.rh,this.cN,this.config,this.H,this.Cb,!0,this.Zg);};m.prototype.Pxa=function(d){this.H.trace("updateAudioTrack:",this.I2[0],"->",d);this.I2[0]=d;};m.prototype.mYa=function(){return void 0 !== this.UH?this.UH:this.Ga?this.Ga:this.fe.duration;};m.prototype.Ytb=function(d){var g,h;g=this.fe.th[1];if(g && g.stream.je){if(this.wz && this.wz[1] && this.wz[1].Z <= d && this.wz[1].Ga > d)return this.wz[1].zd;g=g.stream.U;d=g.Bn(d,void 0,!0);h=void 0;void 0 === h && (h=g.Aj(d));return h;}};m.prototype.Q3=function(){var d,g;if(!this.eY && this.QZa()){this.lsa();d=[0,0];if(0 !== this.Pb && !this.fe.kf.RW && !this.fe.kf.replace){g=this.rh(this.Pb - 1);g=this.fe.J === g.fe.J;d=this.O5().Yc;g=d.S3(this.Z,this.P,d,g);d=g.LO;}this.Z=d[1];this.LO=d;this.wz=g && g.wz;this.PRa();g=this.fe.mc(1)?this.fe.th[1].stream.U.Ga:this.fe.th[0].stream.U.Ga;this.Cb.Znb(this.Pb,this.Iw,this.Z,this.UH,g);this.eY=!0;for(g=this.Pb + 1;g < this.cN();++g){d=this.rh(g);d.eY=!1;d.Q3();}}};m.prototype.PRa=function(){var d;if(0 === this.Pb || this.fe.kf.replace)this.Iw=0;else {d=this.rh(this.Pb - 1);this.Iw=d.Iw + d.mYa() - this.Z;}};m.prototype.lsa=function(){var d,g,h,k,n,p,q,u;if(this.QZa()){n=this.O5().Yc;p=this.Ga || Infinity;q=this.fe.mc(1);u=n.fV(p,this.P);this.UH=q?u[1].Ga:u[0].Ga;n=q?this.fe.th[1].stream.U.Ga:this.fe.th[0].stream.U.Ga;q=Math.min(null !== (g=null === (d=u[1]) || void 0 === d?void 0:d.Ga) && void 0 !== g?g:Infinity,null !== (k=null === (h=u[0]) || void 0 === h?void 0:h.Ga) && void 0 !== k?k:Infinity);this.Cb.aob(this.Pb,this.UH,n,q);d=this.O5().hma(this.Pb);0 < d.length && d.forEach(function(t){t.x1b(u,p);});}};m.prototype.QZa=function(){var d,g,h,k;d=this.fe.mc(0);g=this.fe.mc(1);h=this.fe.th[0];k=this.fe.th[1];h=h && h.stream.je;k=k && k.stream.je;return (!d || h) && (!g || k);};return m;})();b.pda=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(6));f=a.default.cr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,g){this.Ln=g;this.jqb=new c.tMa(m);this.ba=d.ba;this.ulb=1E3 * d.tOb / d.ntb;this.KAb=d.KC;this.DQa=!1;}l.prototype.Kt=function(m){var d,g;d={s_xid:this.ba,dl:this.KAb?1:0};m.Qp && (d.bs=c.X3(Math.floor(m.Qp / this.ulb) + 1,1,5));m.d9 && (d.limit_rate=m.d9);m.pRa && (d.bb_reason=m.pRa);m.iab && (d.tm=m.iab);if(m.oU){g=m.oU.z7();if(g || !g && this.DQa)(d.cpr_ss=m.oU.wP,d.cpr_ca=m.oU.bM,d.cpr_rec=m.oU.QO,this.DQa=g);}m.Tia && (d.br="" + m.Tia.start + "+" + m.Tia.size);return this.nob(d);};l.prototype.Nva=function(m,d){var g,h;try{g=new f(void 0,"notification");h=this.Kt({pRa:m});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.Ln("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.nob=function(m){var d;try{d=this.zpb(m);return this.jqb.encrypt(d);}catch(g){this.Ln("SideChannel: Error when obfuscating msg. Error: " + g);}};l.prototype.zpb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.DKa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){var p,q;p=Math.floor(1E3 * k / n);q=1E3 * Math.round(p / 1E3);return new l.T(q,Math.abs(Math.floor(1001 * k / n) - q) > Math.abs(p - q)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.Eba=void 0;f=a(368);l=a(22);m=a(5);d=a(9);g=a(369);h=a(370);r=(function(){function k(n,p,q){this.I=p;this.H=q;this.RB=new d.EKa();this.u2=0;this.Jw=n.Jw;this.P=n.P;this.mediaType=n.mediaType;this.rE=n.rE;this.mC=n.mC;1 === this.mediaType && (p=this.Jw.streams[0],void 0 !== p.framerate_value && void 0 !== p.framerate_scale && (this.Fga=c(p.framerate_value,p.framerate_scale).Eua()));this.nb=(this.VK=this.Fga) && this.VK.S;this.kga=this.COa=!1;this.Roa=-Infinity;this.Z1a=Infinity;n=k.Qlb(this,n.ue);p=n.maxBitrate;q=n.$d;this.Cw=n.Cw;this.maxBitrate=p;this.$d=q;this.Lpb=q.reduce(function(u,t){u[t.Pa]=t;return u;},{});!1;}k.Qlb=function(n,p){var q,u,t,w,v,x;q=n.I;u=1 === n.mediaType;t=!1;w=0;v=n.Jw.streams.some(function(y){return y.$k;});x=[];n.Jw.streams.forEach(function(y,z){var A,B,E;A=y.bitrate;B=!0;if(u){E=y.$k;B=q.BM && q.TZ?p?!0:E === v:p && !E || !p && (E || !v);t=t || E;}B && A > w && (w=A);y=new h.iza({$r:y,Nf:z,track:n,pu:B},q,n.H);x.push(y);});return {Cw:t,maxBitrate:w,$d:x};};Object.defineProperties(k.prototype,{U8:{get:function(){return !this.je && 0 === this.u2;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{je:{get:function(){return ! !this.hp && ! !this.RB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vta:{get:function(){return this.COa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J:{get:function(){return String(this.P.J);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.Jw.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sa:{get:function(){return this.VK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dO:{get:function(){return this.Gnb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hp:{get:function(){return this.od;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xN:{get:function(){return this.RB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mma:{get:function(){return this.sa.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lma:{get:function(){return this.sa.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Z:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wma:{get:function(){return this.RB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QW:{get:function(){return this.$d.some(function(n){var p;return 1 < ((null === (p=n.Yg) || void 0 === p?void 0:p.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.Bw=function(n){return this.XC()[n];};k.prototype.XC=function(){return this.Lpb;};k.prototype.equals=function(n){return ! !n && this.J === n.J && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.p9=function(){this.u2++;};k.prototype.o9=function(){0 < this.u2 && this.u2--;};k.prototype.n9=function(n,p,q,u,t){if(u && void 0 !== u.ll && (this.je || void 0 !== u.vd && u.vd.length)){if(n.$k || !n.track.Cw)this.COa=!0;if(this.je)!this.kga && u.vd && u.vd.length > this.hp.length && (this.od=new f.Zea(this.mediaType,this.sa,u,t),this.RB.V7a(),this.Roa=-Infinity,this.kga=!0);else {this.YOa(p);if(q=q || this.Fga)(this.XOa(q || this.Fga),void 0 === this.S && this.ZOa(q.S));this.od=new f.Zea(this.mediaType,this.sa,u,t);if(n.$k || !n.track.Cw)this.kga=!0;}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.XQb=function(n){void 0 === this.RB.value && this.RB.set(n);};k.prototype.lwb=function(n){this.je || (this.ZOa(n.S),this.YOa(n.dO),this.XOa(n.sa),this.od=n.hp,n.wma.value?this.RB.set(n.wma.value):this.RB.V7a());};k.prototype.An=function(n,p,q,u){m.assert(this.xN);return g.An(this.mediaType,n,this.xN,p,q,u);};k.prototype.vz=function(n,p,q){m.assert(this.xN);return g.vz(this.mediaType,n,this.xN,p,q);};k.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.ZOa=function(n){this.nb=n;};k.prototype.YOa=function(n){this.Gnb=n;};k.prototype.XOa=function(n){this.VK=n;};return k;})();b.Eba=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XKa=b.okb=void 0;c=a(2);a(116);f=a(5);r=c.__importDefault(a(6));l=a(378);a=a(368);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function k(n,p){p=h.call(this,n.hp,p) || this;p.VF=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.VF.I9a(this.Me);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.VF.Td(this.Me);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xra:{get:function(){return this.VF.NH && this.VF.NH[this.Me];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{di:{get:function(){return this.VF.CEb(this.Me);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sb:{get:function(){return this.VF.zi && this.VF.zi[this.Me];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oRa:{get:function(){return 8 * this.fa / (1E3 * this.Pt / this.S);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.ob,durationTicks:this.Pt,timescale:this.S,startPts:this.Z,endPts:this.Ga,duration:this.duration,additionalSAPs:this.di};};return k;})(a.ALa);b.okb=g;r=(function(){function h(k,n,p,q,u,t,w){this.jL=128;this.od=n;this.Ne=p.offset;this.Zj=p.sizes;this.uL=k;this.IK=this.qS=this.ci=this.lPa=this.pha=void 0;this.Fnb=q;this.pfa=u && u.Td;this.$v=t;this.nf=Math.min(this.od.length,this.Zj.length);this.rnb=this.Otb();this.hp.pr.length !== this.Zj.length && m.trace("Mis-matched stream duration (" + this.hp.pr.length + "," + this.Zj.length + ") for movie id " + w);this.hp.h3 && !this.pfa && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.od.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.nf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ll:{get:function(){return this.od.ll;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mla:{get:function(){return this.od.Mla;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z:{get:function(){return this.od.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ga:{get:function(){return this.od.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pra:{get:function(){return this.od.pra;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mA:{get:function(){return this.rnb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sa:{get:function(){return this.od.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.od.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eh:{get:function(){return this.lPa || this.zfa();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{NH:{get:function(){return this.Fnb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$Pa:{get:function(){return this.pfa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zi:{get:function(){return this.$v;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hp:{get:function(){return this.od;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ix:{get:function(){return this.pha || this.Plb();},enumerable:!1,configurable:!0}});h.prototype.I9a=function(k){if(this.Zj)return this.Zj[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Aj=function(k){return this.od.Aj(k);};h.prototype.ZU=function(k){return this.od.Aj(k) + this.od.vd(k);};h.prototype.Td=function(k){var n,p,q;if(this.qS !== k || void 0 === this.IK){if(0 === k)return this.Ne;if(this.qS === k - 1 && void 0 !== this.IK)(this.IK+=this.Zj[this.qS],++this.qS);else {n=this.ci || this.Alb();p=Math.floor(k / this.jL);q=p * this.jL;for(n=n[p];q < k;++q){n+=this.Zj[q];}this.qS=k;this.IK=n;}}return this.IK;};h.prototype.vd=function(k){return this.od.vd(k);};h.prototype.get=function(k){return new g(this,k);};h.prototype.CEb=function(k){var n,p,q,u,t;f.assert(0 <= k);n=this.hp.h3;p=this.hp.aQa;q=this.pfa;if(!q || !n || !p || k >= n.length)return [];u=[];t=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < t;++n){u.push({jl:p[n],Ed:this.Aj(k) + this.sa.PH(p[n]).W,offset:q[n]});}return u;};h.prototype.Bn=function(k,n,p){return this.od.Bn(k,n,p);};h.prototype.u5=function(k,n,p){return this.od.u5(k,n,p);};h.prototype.rka=function(k,n){return this.od.rka(k,n);};h.prototype.Ltb=function(k,n,p,q,u){var t,w,v,x,y,z,A,B,E;t=!0;w=0;v=this.od.pr;x=this.Zj;k=Math.floor(k * this.S / 1E3);y=Math.floor(p * this.S / 1E3);z=0;A=0;B=0;if(this.od.Nxa && this.od.Mxa)for(w=this.od.Nxa;w <= this.od.Mxa;++w){z+=v[w];A+=x[w];}if(A > n)t=!1;else for(;w < this.length && (!u || w < u);){E=x[w];p=v[w];if(A + E > n){for(;1 < w - B && A + E > n && (z - v[B] >= y || A - x[B] > q);){z-=v[B];A-=x[B];++B;}if(z < k || A + E > n){t=!1;this.od.Nxa=B;this.od.Mxa=w;break;}}z+=p;A+=E;++w;}return t;};h.prototype.subarray=function(k,n){f.assert(void 0 === k || 0 <= k && k < this.length);f.assert(void 0 === n || n > k && n <= this.length);return new h(this.uL,this.od.subarray(k,n),{offset:this.Td(k),sizes:this.Zj.subarray(k,n)},this.NH && this.NH.subarray(k,n),this.$Pa && ({Td:this.$Pa}),this.$v && this.$v.subarray(k,n));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.Z + "-" + n.Ga + "] @ " + n.offset + ", " + n.fa + " bytes");}};h.prototype.Otb=function(){var k,n,p,q,t;k=0;n=this.od.D2a;p=this.od.pr;q=this.Zj;if(void 0 === n || n >= this.length){for(var u=0;u < this.length;++u){t=q[u] / p[u];t > k && (k=t,n=u);}void 0 === this.od.D2a && (this.od.D2a=n);}else k=q[n] / p[n];return Math.floor(k * this.S / 125);};h.prototype.zfa=function(){for(var k=0,n=0;n < this.length;++n){k+=this.Zj[n];}return this.lPa=k;};h.prototype.Plb=function(){var k;k=new Uint8Array(this.Zj.length);f.assert(void 0 !== k,"invalid streamIndices");if(k){f.assert(void 0 !== this.uL,"invalid _streamIndex");for(var n=0;n < k.length;n++){k[n]=this.uL;}}n=this.$v || new Uint8Array(this.Zj.length);return this.pha=new l.Mea(this.od.pr,this.Zj,k,n,this.od.S);};h.prototype.Alb=function(){if(!this.ci){for(var k=d?new Float64Array(Math.ceil(this.length / this.jL)):Array(Math.ceil(this.length / this.jL)),n=this.Ne,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.jL;++q){n+=this.Zj[p * this.jL + q];}}this.ci=k;}return this.ci;};return h;})();b.XKa=r;r.prototype.Z9a=a.Hw(r.prototype.Aj);a.Hw(r.prototype.ZU);a.Hw(r.prototype.vd);a.Hw(r.prototype.Td);a.Hw(r.prototype.I9a);a.Hw(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Ac();this.ic=1 === this.version?this.Wi([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Wi([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};l.Wb="mvhd";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="trak";l.Oa=!0;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.Ac();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{tMb:"int16"},{zrb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ic=this.Wi(m);this.ic.y0b=! !(this.flags & 1);this.ic.z0b=! !(this.flags & 2);this.ic.A0b=! !(this.flags & 4);this.ic.B0b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Wb="tkhd";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Ac();this.ic=this.Wi(1 === this.version?[{G5:"int64"}]:[{G5:"int32"}]);return !0;};l.Wb="mehd";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic=this.Wi([{oJb:"int32"},{I2b:"int32"}]);return !0;};l.Wb="pasp";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic=this.Wi([{ptb:"int32"},{maxBitrate:"int32"},{Jia:"int32"}]);return !0;};l.Wb="btrt";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Nl();this.u.Nl();for(this.sG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.sG.push(this.u.Nl());}return !0;};l.Wb="ftyp";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(84);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.ic=this.Wi([{xTb:"int32"},{WV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ic.WV=f.ko(this.ic.WV);return !0;};m.Wb="hdlr";m.Oa=!1;return m;})(a(32).Dc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);l=a(224);m=a(172);r=a(32);d=a(85);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.Ac();this.um=this.u.Aa();return !0;};h.prototype.Ut=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.sa=new l.T(n.yz,n.samplerate):n instanceof d.default && (n=n.Ua[f.$E]) && n.length && (n=n[0].ic,1E3 !== n.iz && 1001 !== n.iz || 0 !== n.VH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.VH + "/" + n.iz):this.sa=new l.T(n.iz,n.VH)),this.sa && (k.sa=this.sa)));return !0;};h.prototype.rY=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.fh(this.um - 1,this.byteOffset + 12),k=this.Ua[k][0],this.Ie(k.byteLength,k.byteOffset));};h.Wb="stsd";h.Oa=!0;return h;})(r.Dc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Qma=this.u.zc(2);this.Via=this.u.zc(5);this.Wia=this.u.zc(3);this.Hha=this.u.zc(3);this.u.zc(1);this.u.zc(5);this.u.zc(5);return !0;};l.Wb="dac3";return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.ysa=this.u.$c() & 7;this.$wa=[];for(var m=0;m < this.ysa;m++){d={Qma:this.u.zc(2),Via:this.u.zc(5),Wia:this.u.zc(5),Hha:this.u.zc(3),wMb:this.u.zc(1),xsa:this.u.zc(4)};0 < d.xsa?d.wub=this.u.zc(9):this.u.zc(1);this.$wa.push(d);}return !0;};l.Wb="dec3";return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.FY=this.u.Nl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.FY);"cenc" === this.FY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.h_("piff"));this.u.Aa();return !0;};m.Wb="schm";m.Oa=!1;return m;})(f.Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.mb();this.wba=this.u.mb();this.u.mb();this.u.mb();this.u.mb();this.aZ=this.MF(this.u.mb() & 31);this.MF(this.u.mb());this.BA=this.aZ.length?this.aZ[0][0]:this.wba;this.bT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.BA || 110 === this.BA || 122 === this.BA || 144 === this.BA) && (this.u.mb(),this.u.mb(),this.MF(this.u.mb()));m=this.startOffset + this.length - this.bT;0 < m && this.Ie(m,this.bT);return !0;};l.prototype.MF=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.$c();d.push(this.u.FA(h));}return d;};l.Wb="avcC";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Ut=function(){var m;m=this.Dl("esds");if(m=m && m.pca.Dl(5))this.yz=m.yz;return !0;};l.Wb="mp4a";l.Oa=!0;return l;})(a(172).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(226);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.pca=f.NQ.gY(this.u);return !0;};m.Wb="esds";m.Oa=!1;return m;})(a(32).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.$E;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.ic=this.Wi([{VH:"int32"},{iz:"int16"}]);return !0;};m.Wb=f;m.Oa=!1;return m;})(a.Dc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.Ac();m=this.Wi([{lJ:"int32"},{EU:"int32"},{fz:"int32"},{hz:"int32"},{gz:"int32"}]);d=m.lJ;g=m.EU;h=m.fz;k=m.gz;m=m.hz;this.ic={trackId:d,Lzb:g,ez:h,Mzb:k,Nzb:m};this.lJ=d;this.EU=g;this.fz=h;this.hz=m;this.gz=k;return !0;};l.Wb="trex";l.Oa=!1;return l;})(a(32).Dc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(797);l=a(230);m=a(145);d=a(224);g=a(32);r=a(373);h=a(374);k=a(376);n=a(146);p=a(223);q=a(100);u=a(377);a=(function(){function t(w,v,x,y,z,A){this.console=w;this.stream=v;this.Qh=y;this.Xha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.PZa=n.lna();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},w);};t.Dna=function(w){return w && w.sG && -1 !== w.sG.indexOf("mcl0")?"mcl0":void 0;};t.lma=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.U;w=x.vd;v=new d.T(120,1).ag(x.S).vc;y=0;for(x=x.ll;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.yva();if(!v.done){if(v.iX)return {Em:!1,ZPa:v.iX};this.console.error("Scan error: " + v.error);return {Em:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.Xsa(w);return w.done?this.lka():(this.console.error("Parse error: " + w.error),{Em:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.zn=function(w){return g.Dc.zn(this,w);};t.prototype.Dl=function(w){return g.Dc.Dl(this,w);};t.prototype.yva=function(){var w,v;w=new u.Jca(this.Qh,this.Xha?[q.Sx,q.Rx]:[],this.config && this.config.P_b || ["moof",q.ER],this.config && this.config.GX);v=c.__assign(c.__assign({},this.config),{bI:!1});return new k.CE(t.DI,w,this.view,this.console,v).parse();};t.prototype.Xsa=function(w){var v,x,y;v=new u.IQ(this.view.byteLength);x=Object.create(p.xq.Ua);this.config && ((this.config.C9 || this.config.Baa || this.config.hE) && f(p.xq.BI,x),this.config.Caa && f(p.xq.yxa,x),this.config.Baa && f(p.xq.IZ,x));y=c.__assign(c.__assign({},this.config),{bI:!0});this.uc=new k.CE(x,v,this.view,this.console,y);w=this.uc.parse(w);w.done && (this.Ua=this.uc.Ua);return w;};t.prototype.lka=function(){var w,v,x,y,z,A;w={Em:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.C9)if(x)(w.sa=x.sa,w.WWb=x.Ua);else return {Em:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[q.JR])) && (w.AVa={awb:y.nj,vH:y.vH,WLb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.S=y.S;if(y=t.path(v,["mvex","trex"]))w.ez=y && y.ic.ez;w.ez && w.S && (w.sa=new d.T(w.ez,w.S));if(y=t.path(this,["sidx"])){z=t.path(this,[q.Sx]);z=z && z.wra;A=t.path(this,[q.Rx]);A=A && A.di;w.U=y.U;w.NH=z;w.di=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])w.zi=z.zi;if(this.config.b8a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.hE && x && 1 < x.um && y && (w.Yg=this.hE(x,y)),void 0 === w.Yg && (v=this.uc.nz?l.concat(this.uc.va()):this.view.buffer,w.Yg=[{Rd:0,data:v}]));else return {Em:!1,parseError:"Missing movie box"};w.Em=!0;w.HX=this.uc.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.uc.trim(w);this.view=new DataView(v);};t.prototype.hE=function(w,v){var x,y,z;x=Object.keys(w.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Dna(x);if(z)return (x=[],this.uc.lua(),w.rY("encv"),x.push({Rd:0,Uk:!1,data:l.concat(this.uc.va())}),this.uc.Jta(),w.rY(y[0]),w=t.lma(z,v),x.push({Rd:w,Uk:!0,data:l.concat(this.uc.va())}),x);}};t.DI={};return t;})();b.fr=a;a.DI[q.aF]=r.default;a.DI[q.bF]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(145);l=a(230);m=a(84);r=a(799);d=(function(){function g(h){h?(this.Lf=h.Lf.slice(),this.hh=h.hh.slice(),this.Td=h.Td.slice(),this.trim=h.trim):(this.Lf=[],this.hh=[],this.Td=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Lf.length && 0 === this.hh.length && 0 === this.Td.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,p){k=g.call(this,k,n,p) || this;k.SU=[];k.kb=new d();return k;}c.__extends(h,g);h.nia=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.cv?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.cv?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.cv);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{nz:{get:function(){return !this.kb.empty;},enumerable:!0,configurable:!0}});h.prototype.iB=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.xya=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,cv:!1});void 0 === n && (this.offset+=2);};h.prototype.fh=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,cv:!1});void 0 === n && (this.offset+=4);};h.prototype.yya=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,cv:!1});void 0 === n && (this.offset+=8);};h.prototype.h_=function(k){this.fh(m.uS(k));};h.prototype.wJ=function(k,n){this.kb.Td.push({offset:this.offset,yl:k,value:n});this.offset+=4;};h.prototype.Ie=function(k,n,p){this.kb.Lf.push({offset:n,remove:k,$a:p});};h.prototype.Vu=function(k,n,p,q){this.kb.Lf.push({offset:p,remove:k,replace:n,$a:q});};h.prototype.trim=function(k){this.kb.trim=k;};h.prototype.lua=function(){this.SU.push(new d(this.kb));};h.prototype.Jta=function(){this.kb=this.SU.pop() || new d();};h.prototype.va=function(){var k,n,p,q,u,t,w;k=this;if(0 === this.kb.Lf.length && 0 === this.kb.hh.length && 0 === this.kb.Td.length)return [void 0 === this.kb.trim?this.view.buffer:this.view.buffer.slice(0,this.kb.trim)];this.kb.Lf.sort(function(v,x){return v.offset - x.offset;});this.kb.hh.sort(function(v,x){return v.offset - x.offset;});this.kva();n=this.ima();p=this.view.buffer.slice(0,n);q=new DataView(p);this.kb.hh.forEach(h.nia.bind(void 0,q));this.Txa(q);this.Rxa(q);u=[];t=void 0 !== this.kb.trim?Math.min(this.kb.trim,this.view.byteLength):this.view.byteLength;w=0;this.kb.Lf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(p.byteLength,w),t));return u;};h.prototype.ima=function(){var k,n,p;k=[];n=this.kb.hh[this.kb.hh.length - 1];p=this.kb.Td[this.kb.Td.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.kb.Lf.filter(function(q){return q.$a;}).forEach(function(q){return k.push(q.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.kb.trim?Math.min(n,this.kb.trim):n;};h.prototype.kva=function(){this.kb.Lf=this.kb.Lf.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (f.assert(p.$a === n.$a),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.Txa=function(k){var n;n=this;this.kb.Td.forEach(function(p){var q,u,t,w;q=k;u=p.offset;n.kb.Lf.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.yl + (void 0 !== p.value?p.value:q.getInt32(u));w=n.kb.Lf.reduce(function(v,x){return x.offset > p.yl && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.yl - w);});};h.prototype.Rxa=function(k){this.kb.Lf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.ffa);b.efa=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);a(146);f=a(84);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.In=this.Ny=this.offset=0;}l.prototype.ina=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.zc=function(m){for(;this.In < m;){this.Ny=(this.Ny << 8) + this.mb();this.In+=8;}this.In-=m;return this.Ny >>> this.In & (1 << m) - 1;};l.prototype.mb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.$c=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.Aa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.pI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.ita=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Ud=function(m,d){m=this.ita(m,d);this.offset+=8;return m;};l.prototype.jta=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.yua=function(){var m;m=this.jta(void 0,void 0);this.offset+=8;return m;};l.prototype.Nl=function(){return f.ko(this.Aa());};l.prototype.HA=function(){var d,g,h,k,n,p;function m(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Aa(!0);g=this.$c(!0);h=this.$c(!0);k=this.$c();n=this.$c();p=this.Aa();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.vua=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.tua=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.mb();0 !== g && 0 <= --m;){d.push(g);g=this.mb();}return String.fromCharCode.apply(null,d);};l.prototype.FA=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Oh(this.config.dB && c.uoa || c.nq,1,m,d,g);};l.prototype.rua=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Oh(this.config.dB && c.soa || c.Fz,2,m,d,g,h);};l.prototype.EA=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Oh(this.config.dB && c.toa || c.du,4,m,d,g,h);};l.prototype.wua=function(){for(var m=this.mb(),d=m & 127;m & 128;){m=this.mb();d=d << 7 | m & 127;}return d;};l.prototype.Oh=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.ffa=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){m.call(this,h,k,n,p);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(100);m=a(231).dr;d=a(375);g=a(84).uS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.iga=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Dwa[h]:d.Dwa[h];};f.prototype.Qua=function(h,k,n){return this.va(h,k,!1,n,void 0);};f.prototype.Uua=function(h,k,n){return this.va(h,k,!0,n,void 0);};f.prototype.va=function(h,k,n,p,q){var t,w,v,x,y,z,A,B,E,D,F,C,G,K;function u(J){w=t[J];v=w.Th("traf");if(void 0 === v || void 0 === v.bk)return !1;A=v.Th("tfdt");if(void 0 === A)return !1;x=v.Th("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Ua.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.uc.console.trace))return !1;if(x.Mb > y || n && x.Mb === y)break;y-=x.Mb;}}else if((h=n?t.length - 1:0,!u(h,this.uc.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.uc.Ie(this.hzb - z.startOffset,z.startOffset);}else !n && 0 < h && this.uc.Ie(w.startOffset,0);z=v.Th("tfhd");if(void 0 === z)return !1;A=v.Th("tfdt");B=x.Mb;E=v.Th("saiz");D=v.Th("saio");F=v.Th(l.IR);C=v.Th("sbgp");if(!(!E && !D || E && D))return !1;G=v.Th("sdtp");if(this.Ua.mdat && h < this.Ua.mdat.length)K=this.Ua.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.Mb:0);if(x.va(v,z,K || this.uc,k,y,v.bk,n))x.nz && (!n && A && A.va(x.Bwa),E && D && (E.va(x.Oq,n),D.va(F?0:E.AI,v.bk,n)),F && F.va(x.Oq,n),G && G.va(x.Oq,B,n),C && C.va(x.Oq,n));else if(!n){if(h === t.length - 1)return !1;this.uc.Ie(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.Oq)return !1;p && (k=this.iga(this.stream.profile,q)) && x.Xua(v,z,K,n,p,k);n=this.uc.va();p=n.reduce(function(J,I){return J + I.byteLength;},0);n={Ld:n,length:p,Rn:this.uc.view.byteLength};x.nz && !K && (n.Hq=v.bk + x.Hq,n.Yi=x.Yi);return n;};r.exports={er:f,gA:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(231);f=a(230);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.va=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ua.moov;if(!h || 0 === h.length)return !1;k=h[0].Dl("tenc");if(!k)return !1;n=new Uint8Array(k.nj);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.uc.Vu(p.from.length,p.to,k.vH);});return f.concat(this.uc.va());};return m;})(r.dr);b.XJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Oj || (b.Oj={});r[r.Vb=0]="AUDIO";r[r.Nb=1]="VIDEO";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.sCa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));l=r.__importDefault(a(6));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(28));g=r.__importDefault(a(804));h=l.default.cr;k=h.f0;n={};p={};a=[d.default.zh.Tx,!1];r=[d.default.zh.Tx,!0];q=[d.default.zh.nF,!1];u=[d.default.zh.nF,!0];t=[d.default.zh.URL,!0];w=[-1,!1];v=[d.default.zh.nF,!1];n[k.w3b]=q;n[k.UNKNOWN_ERROR]=q;n[k.O6b]=q;n[k.Ueb]=q;n[k.ZAa]=q;n[k.ffb]=q;n[k.Yeb]=u;n[k.Xdb]=u;n[k.bAa]=v;n[k.$za]=v;n[k.Ydb]=w;n[k.Zdb]=v;n[k.$db]=v;n[k.Udb]=q;n[k.Wdb]=q;n[k.aAa]=a;n[k.Vdb]=q;n[k.Tdb]=v;n[k.p4b]=u;n[k.hgb]=v;n[k.qDa]=v;n[k.pDa]=v;n[k.mDa]=v;n[k.nDa]=v;n[k.ggb]=t;n[k.Eca]=u;n[k.Gca]=t;n[k.Fca]=r;n[k.tDa]=u;n[k.jgb]=t;n[k.x0]=v;n[k.rDa]=u;n[k.igb]=u;n[k.afb]=u;n[k.Veb]=q;n[k.ckb]=q;n[k.Leb]=q;n[k.Meb]=q;n[k.Neb]=q;n[k.Oeb]=q;n[k.Peb]=q;n[k.Qeb]=q;n[k.Reb]=q;n[k.Seb]=q;n[k.Teb]=q;n[k.Web]=q;n[k.Xeb]=q;n[k.Zeb]=q;n[k.$eb]=q;n[k.bfb]=q;n[k.cfb]=q;n[k.dfb]=q;n[k.efb]=q;n[k.gfb]=q;n[k.hfb]=q;n[k.bkb]=v;n[k.TIMEOUT]=a;p[k.bAa]=!0;p[k.qDa]=!0;p[k.pDa]=!0;p[k.nDa]=!0;p[k.ZAa]=!0;a=(function(){var J40;J40=2;for(;J40 !== 12;){switch(J40){case 2:x.prototype.Lb=function(){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.Zg.clear();L40=1;break;case 4:this.Zg.clear();L40=4;break;L40=1;break;}}};x.prototype.dE=function(y){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 4:this.X$=y;M40=8;break;M40=1;break;case 2:this.X$=y;M40=1;break;}}};x.prototype.qs=function(y,z,A,B){var N40,K,E,D,F,C,G,I,M,J;N40=2;for(;N40 !== 15;){switch(N40){case 9:var x6U="c";x6U+="ritic";x6U+="alNetworkError";var u6U="crit";u6U+="i";u6U+="ca";u6U+="lNetworkEr";u6U+="ror";K=n[A];this.Zz={fD:z,qh:A,aWa:F,tj:B};p[A] && (++this.Mt,this.events.emit(u6U,{type:x6U,qh:A}));N40=6;break;case 6:N40=K !== w?14:15;break;case 2:var k6U=" : criti";k6U+="cal error c";k6U+="ount = ";var f6U=" ";f6U+="o";f6U+="n";f6U+=" ";var e6U="F";e6U+="a";e6U+="ilur";e6U+="e";e6U+=" ";(E=this,D=h.f0.name,F=A?D[A]:void 0);D={};(C=this.config,G=this.Am);m.warn(e6U + F + f6U + JSON.stringify(y) + k6U + this.Mt);N40=3;break;case 17:return;break;case 18:var B6U="Invalid affected ";B6U+="for netw";B6U+="ork failure";m.error(B6U);N40=17;break;case 11:(I=K[0],M=K[1]);C.Pu?f.forEach(D,function(R,H){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:var j6U="e";j6U+="r";j6U+="r";j6U+="o";j6U+="r";K === v || K === q?E.Xta.gUb({url:void 0 !== y.url?y.url:R[0],Nd:H},{dQa:H,MZ:K,fD:z,qh:A,aWa:F,tj:B}):R.some(function(P){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:G.qs(I,M,P);return I === d.default.zh.nF;break;}}});!E.X$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && E.X$.Nva(j6U,R);O40=5;break;}}}):f.forEach(D,function(R,H){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:Q40=K !== v || E.dWb(H)?1:5;break;case 1:var L6U="e";L6U+="r";L6U+="r";L6U+="o";L6U+="r";(R.some(function(P){var R40;R40=2;for(;R40 !== 5;){switch(R40){case 2:G.qs(I,M,P);return I === d.default.zh.nF;break;}}}),!E.X$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && E.X$.Nva(L6U,R));Q40=5;break;}}});N40=15;break;case 3:N40=A && f.isArray(n[A])?9:16;break;case 16:var X6U="Unmapped failure code in JS";X6U+="ASE ";X6U+="e";X6U+="rror directo";X6U+="r : ";a000.x5U(1);m.error(a000.u5U(A,X6U));N40=15;break;case 19:D=G.IXb(y.host,y.port);N40=11;break;case 14:N40=void 0 !== y.url?13:20;break;case 20:N40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 13:J=G.G8a(y.url);N40=12;break;case 12:J && (D[J]=[y.url]);N40=11;break;}}};x.prototype.dWb=function(y){var S40,z,A,B;S40=2;for(;S40 !== 7;){switch(S40){case 4:(B.Ro=z,B.count=1);S40=7;break;case 1:S40=B?5:8;break;case 5:S40=B.Ro < this.JN?4:3;break;case 3:S40=!(B.Ro >= z - A.maa || B.JA || (B.Ro=z,++B.count,B.count < A.m8))?9:7;break;case 9:return B.JA=!0;break;case 2:(z=l.default.time.ea(),A=this.config,B=this.mxa[y]);S40=1;break;case 8:this.mxa[y]={Ro:z,count:1};S40=7;break;}}};x.prototype.wIb=function(y){var T40,D,F,C,z,A,B,E;T40=2;for(;T40 !== 7;){switch(T40){case 3:(D=this.Zz.qh,F=this.Zz.fD,C=this.Zz.tj);T40=9;break;case 2:var d4U="Networ";d4U+="k has faile";d4U+="d ";var D4U=" ";D4U+="last success wa";D4U+="s ";var R4U=" ";R4U+="ms";R4U+=" a";R4U+="g";R4U+="o";var y4U="tempor";y4U+="aril";y4U+="y";var C4U="pe";C4U+="rman";C4U+="ently";(z=this,A=l.default.time.ea() - this.JN,B=y,E=this.config);a000.e5U(4);m.warn(a000.a5U(y?C4U:y4U,R4U,D4U,d4U,A));!y && A > E.csa && (B=!0);T40=4;break;case 9:var Z4U="tem";Z4U+="po";Z4U+="raryNetworkError";var K4U="temporaryNetwo";K4U+="rkEr";K4U+="ror";y || this.events.emit(K4U,{type:Z4U,errorCode:D,httpCode:F,nativeCode:C});B?(this.cP && (clearTimeout(this.cP),this.cP=void 0),this.vSa(),this.Xta.reset(),this.DIb({nLb:y,KRb:D,LRb:F,MRb:C})):this.cP || (this.cP=setTimeout(function(){var U40;U40=2;for(;U40 !== 5;){switch(U40){case 2:z.cP=void 0;z.r$();U40=5;break;}}},E.dsa));T40=7;break;case 4:T40=this.Zz?3:9;break;}}};x.prototype.r$=function(){var V40;V40=2;for(;V40 !== 1;){switch(V40){case 2:this.cP || (this.Am.r$(),this.mxa={},this.Rr());V40=1;break;}}};J40=8;break;case 8:x.prototype.Haa=function(y){var W40,z;W40=2;for(;W40 !== 9;){switch(W40){case 2:var h4U="updatingLastSu";h4U+="cces";h4U+="sEv";h4U+="ent";var r4U="u";r4U+="pda";r4U+="tingLast";r4U+="SuccessE";r4U+="vent";z=this.config;this.JN=Math.max(y.timestamp || l.default.time.ea(),this.JN);this.vSa();z.Pu && this.Xta.Haa(y);this.events.emit(r4U,{type:h4U});W40=9;break;}}};x.prototype.Isa=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 4:this.Mt=1;X40=8;break;X40=1;break;case 2:this.Mt=0;X40=1;break;}}};x.prototype.tk=function(){var Y40,y,z,A;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:var P4U="m";P4U+="s";var O4U="Setting underf";O4U+="low t";O4U+="imeout in ";(y=this,z=this.config,A=z.g8);this.JN=Math.max(l.default.time.ea(),this.JN);!z.ubb || this.OZ || z.TZ && z.BM && z.SPb || (m.info(O4U + A + P4U),this.OZ=setTimeout(function(){var Z40;Z40=2;for(;Z40 !== 4;){switch(Z40){case 2:var F4U="ms, ";F4U+="since underf";F4U+="low with no ";F4U+="success";var G4U="Forcing permanent";G4U+=" netwo";G4U+="rk failure after ";a000.x5U(5);m.info(a000.u5U(G4U,F4U,A));y.OZ=void 0;y.Am.qs(d.default.zh.Tx,!0);Z40=4;break;}}},A));Y40=4;break;}}};J40=14;break;case 14:x.prototype.vSa=function(){var a50;a50=2;for(;a50 !== 1;){switch(a50){case 2:var Y4U="Cleared";Y4U+=" un";Y4U+="derflow tim";Y4U+="eout";this.OZ && (clearTimeout(this.OZ),this.OZ=void 0,m.info(Y4U));a50=1;break;}}};return x;break;}}function x(y,z,A,B){var K40;K40=2;for(;K40 !== 10;){switch(K40){case 3:var m4U="1";m4U+="S";m4U+="I";m4U+="YbZrNJC";m4U+="p9";this.events=new c.EventEmitter();this.Zg=new c.Xh();m4U;n[k.mDa]=z.wJb?u:v;K40=6;break;case 2:this.Am=y;this.config=z;K40=5;break;case 5:this.DIb=A;this.Rr=B;K40=3;break;case 11:this.Xta=new g.default(y,B,z);K40=10;break;case 6:var q4U="n";q4U+="etwor";q4U+="k";q4U+="Fai";q4U+="led";this.Zg.addListener(this.Am,q4U,this.wIb.bind(this));this.JN=l.default.time.ea();this.Mt=0;this.mxa={};K40=11;break;}}}})();b.sCa=a;},function(r,b,a){var f,l,m;function c(d,g,h){this.RS=d;this.DF=0 === Math.floor(1E6 * Math.random()) % h.mI;this.groupId=1;this.config=h;this.rz={};this.WD={};this.Rr=g;}f=a(10);l=a(6).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(805).eza;c.prototype.constructor=c;c.prototype.gUb=function(d,g){var h,k,n,p,q,u,t,w,v,x,y;h=this.RS;k=d.Nd;n=h.l$a(d.url);p=h.Y7(d.url);q=this.config;u=l.time.ea();t=g;w=[];v=n.pj[0];x=!1;y=this.rz[k];if(!y)y=this.rz[k]={count:0,Ro:u,JA:!1,error:g,Wva:[],Zta:{}};else if(y.Ro >= u - q.maa)return;y.JA || (v && p.id === v.id && (d.isPrimary=!0),y.Ro=u,y.JA=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var A,B,E;A=z.Qc.id;B=A + "-" + k;E=this.WD[B];if(void 0 === E || void 0 === E.Z9)(E && E.fp && clearTimeout(E.fp),z=this.ATa(z.url,d,A),this.WD[B]={$:!1,count:0,Z9:z.li()},w.push(z.li()),x=!0);-1 === y.Wva.indexOf(A) && y.Wva.push(A);},this),this.DF && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},g=t,t={ts:l.time.ea(),es:g.dQa,fc:g.qh,fn:g.aWa,nc:g.tj,pb:w,gid:this.groupId},g.fD && (t.hc=g.fD),n.fields.errpb={type:"array",value:t,adjust:["ts"]},h.Mn(n)),x && this.groupId++));};c.prototype.ATa=function(d,g,h){var k,n,p;k=this.RS.Y7(g.url);k && k.wb && k.wb.ku && k.wb.ku.Fa || Math.random(0,1);k=new m(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);k.FRb(1 < n.length?d + "&" + p:d + "?" + p,g,h);return k;};c.prototype.hUb=function(d,g){var h,k,n,p,q,u,t,w;h=this.RS;k=this.config;n=g.Nd;p=this.rz[n];q=d.url;u=this.WD[d.Nd + "-" + n];if(p){t=p.error;if(u){u && u.fp && clearTimeout(u.fp);u.$=!0;u.count=0;u.Z9=void 0;p.Zta[d.Nd]=!0;(u=this.rz[d.Nd]) && !0 === u.JA && k.Gy && (h.U7a(d.Nd,u.error.MZ[1]),this.DF && (u={type:"logdata",target:"endplay",fields:{}},u.fields.errst={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:g.Nd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Mn(u)),this.rz[d.Nd]=void 0,this.Rr());if(q !== g.url){w=this.WD[n + "-" + n];w && w.$ || (n=(n=h.Y7(q)) && n.wb && n.wb.ku && n.wb.ku.Fa || Math.random(0,1) * k.h8,n=Math.min(n,k.h8),setTimeout((function(){var v;if(!(!1 !== p.JA || w && w.$) && (p.JA=!0,h.qs(t.MZ[0],t.MZ[1],g.url,t),this.DF)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:g.Nd,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Mn(v);}}).bind(this),n));}this.DF && (u={type:"logdata",target:"endplay",fields:{}},u.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:1,servid:d.Nd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Mn(u));}}};c.prototype.eUb=function(d,g){var h,k,n,p,q,u,t,w,v,x;h=this.RS;k=parseInt(g.Nd,10);n=this.rz[k];p=parseInt(d.Nd,10);q=this.WD[p + "-" + k];u=0;t=this.config;if(q && n){q.$=!1;q.Z9=void 0;n.Zta[p]=!1;w=n.Wva;if(t.Gy && p === k && g.isPrimary){v=h.Y7(g.url);v=v && v.wb && v.wb.ku && v.wb.ku.Fa || 300 * Math.random(0,1);v*=Math.pow(2,q.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);q.fp=setTimeout((function(){var y;q.fp=void 0;y=this.ATa(d.url,g,p);y.aYb(d.groupId);q.Z9=y.li();}).bind(this),v);}++q.count;if(p === k && (u=0,w.forEach(function(y){!1 === n.Zta[y] && u++;}),w.length === u && n.count >= t.m8)){x=n.error;n.JA=!0;f.forEach(h.l$a(g.url).urls,function(y){var z;h.qs(x.MZ[0],x.MZ[1],y.url,x);if(this.DF){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:l.time.ea(),id:-1,servid:y.Qc.id},adjust:["ts"]};h.Mn(z);}},this);}this.DF && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:0,servid:d.Nd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Mn(k));}};c.prototype.Haa=function(d){var g,h,k;g=d.url || d.mediaRequest.url;if(g){d=this.RS;g=d.G8a(g);h=this.rz[g];k=this.WD[g + "-" + g];h && h.JA && this.config.Gy && (d.U7a(h.error.dQa,!1),this.DF && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:l.time.ea(),id:-1,servid:g},adjust:["ts"]},d.Mn(h)),this.rz[g]=void 0,k && k.fp && clearTimeout(k.fp));}};c.prototype.reset=function(){var d,g,h;d=this.WD;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.fp && clearTimeout(g.fp);}this.WD={};this.rz={};};r.exports=c;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eza=void 0;c=a(2);f=a(17);l=c.__importDefault(a(6)).default.Cv;r=(function(m){function d(g){var h;h=m.call(this) || this;h.EOa=g;h.h2=g.groupId;h.Fi=new f.Xh();h.Fi.on(h,l.Le.HR,h.Qga);h.Fi.on(h,l.Le.eF,h.VS);return h;}c.__extends(d,m);d.prototype.FRb=function(g,h,k){l.prototype.open.call(this,g,h,k);};d.prototype.aYb=function(g){this.h2=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.h2;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){this.Fi && this.Fi.clear();l.prototype.fd.call(this);};d.prototype.Qga=function(g){this.EOa.hUb(g.probed,g.affected);this.fd();};d.prototype.VS=function(g){this.EOa.eUb(g.probed,g.affected);this.fd();};return d;})(l);b.eza=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xDa=void 0;c=a(2);f=a(142);l=a(379);m=a(16);d=c.__importDefault(a(6));r=a(83);g=a(382);h=a(5);k=a(125);a=(function(n){function p(q,u,t,w,v,x,y,z,A,B,E){var D;D=n.call(this,q) || this;D.fe=q;D.H=u;D.I=t;D.Mn=w;D.VC=x;D.p7=y;D.Ov=z;D.UOa=A;D.rh=B;D.NNa=[void 0,void 0];D.IS=null !== E && void 0 !== E?E:{Pv:[Object.create(null),Object.create(null)]};v?D.NV=v:(D.Ee=k.mp.instance.Lt("headers","" + D.fe.X,!0,!1,{},D.I),D.Ee.xb());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{Pv:{get:function(){return this.IS.Pv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{PB:{get:function(){return this.IS.PB;},set:function(q){this.IS.PB=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{OK:{get:function(){return this.IS.OK;},set:function(q){this.IS.OK=q;},enumerable:!1,configurable:!0}});p.prototype.fd=function(){var q;q=this;this.Pv.forEach(function(u,t){for(var w in u){u[w].fd();q.ela(t,w);}});this.Ee && k.mp.instance.qM(this.Ee);this.Ee=void 0;};p.prototype.Yk=function(q,u){return this.Pv[q][u];};p.prototype.E6=function(){return !(!this.PB || !this.PB.length);};p.prototype.Qja=function(){this.PB=void 0;};p.prototype.oP=function(q){this.PB=q;};p.prototype.Exa=function(){var q,u;if(!this.E6() || this.OK)return !1;for(f.Tm.kq(1);0 < this.PB.length;){q=this.PB.shift();u=this.fe.Bw(1,q);if(u && !this.MIb(q) && u.ru)return (this.OK=q,this.Eaa(u,{offset:0,yP:!0}));}return !1;};p.prototype.Yxa=function(q,u){var t;t=this;u.forEach(function(w){var v;v=t.Yk(q,w.Pa);v && !w.je && (v.stream.je?w.m4(v.stream):(v.BX || (v.BX=[]),v.BX.push(t.fe)));});};p.prototype.$O=function(q,u,t){var w,v,x;w=this;x=this.fe;m.Bf.forEach(function(y){var z,A,B,E,D;if(x.mc(y) && (void 0 === t || y === t)){E=q[y];h.assert(E && x.getTrackById(E.trackId) === E);E=E.$d;if(x.jk)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.Am.QZ(x.X,E)){D=null !== (B=null === (A=null === (z=w.VC(y)) || void 0 === z?void 0:z.AH) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=g.mma(E,D);void 0 === z && w.H.warn("Unable to find stream for bitrate " + D);z=E[z];(A=x.Yk(y,z.Pa)) && A.stream.U?x.t1b(y,A):(y={offset:0,yP:!1,LC:1 === y,ww:!0,eO:!w.p7(x)},x.tTa(z,y,u));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.L6=!0;null === (v=this.rh) || void 0 === v?void 0:v.call(this,x.Pb).Q3();};p.prototype.sE=function(q,u){var t,w,v,x;t=this.I;w=this.Yk(q.mediaType,q.Pa);if(w)return (w.stream.U || w.yP && this.sSa(w),!1);w=this.fnb;v=this.gnb;if(void 0 !== t.Rra && void 0 !== w && void 0 !== v){x=d.default.time.ea();if(x - w < t.Rra || x - v < t.Rra)return !1;}q=this.Eaa(q,{url:q.url,offset:0},void 0,void 0,u);this.gnb=d.default.time.ea();return q;};p.prototype.Eaa=function(q,u,t,w,v){var x,y,z,A,B;A=q.mediaType;f.Tm.kq(A);B=q.Pa;if(this.Clb(B,! !u.ww))return (null === (x=this.UOa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Yk(A,B))q=!1;else {x=c.__assign(c.__assign({},u),{fa:null !== (y=u.fa) && void 0 !== y?y:this.mmb(q)});y=! !x.LC;B=! !x.eO;this.NV?v=this.NV(A,! !x.ww,y,B,! !t):v || (v=this.Ee);h.assert(v);q.url && (this.VC(A).yqa=q.url);x=q=this.RMa(q,v,x);if(!q.sO())return (this.fe.Ph("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}u.ww && w && (this.fe.th[A]=x);null === (z=this.UOa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.Rm=function(){var q,u;q=this;u=[];this.Pv.forEach(function(t,w){var x;f.Tm.kq(w);for(var v in t){w=t[v];x=w.Zxa();1 === x?u.push(w):2 === x && q.fe.Ph("swapUrl failure");}});return u;};p.prototype.uk=function(q){var u,t;u=q.mediaType;t=f.Tm.kq(u);this.fe.jk?t.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.Mn({type:"logdata",target:"startplay",ic:{usedNativeDataView:q.p2b}}),q.HX > q.IRb && (this.NNa[u]=q.HX),q.yP && this.sSa(q),this.Lmb(q),this.fnb=d.default.time.ea(),this.fe.iu.emit("onHeaderRequestComplete",q));this.Yt(q);};p.prototype.e3=function(q,u,t){var w;w=q.mediaType;f.Tm.kq(w);w=this.fe.Bw(w,q.Pa);if(u !== ! !q.Uk)return !1;this.GPa(q);q.nrb(w);this.zMa(q);this.fe.iu.emit("onHeaderFromCache",{header:q,LDb:t});return !0;};p.prototype.AL=function(q,u){var t,w,v,x;t=[];w=this.Pv[q];for(v in w){x=w[v];x && !x.stream.U && x.ns === u && (this.ela(q,v),t.push({stream:x.stream,offset:x.offset,fa:x.fa,LC:x.LC,ww:x.ww,eO:x.eO,bta:x.bta}),x.fd());}return t;};p.prototype.nva=function(q){var u;u=this;q.forEach(function(t){u.Eaa(t.stream,t);});};p.prototype.GPa=function(q){this.Pv[q.mediaType][q.Pa]=q;};p.prototype.MIb=function(q){return ! !this.Yk(1,q);};p.prototype.Lmb=function(q){var u,t,w,x;u=this.I;t=f.Tm.kq(q.mediaType);w=q.stream.U;if(u.Oka){u=w.length;t.trace("fragment count:",u);for(var v=0;v < u;++v){x=w.get(v);t.trace("fragment: " + v + ", startPts: " + x.Z + ", duration: " + x.duration + ", offset: " + x.offset);}}this.zMa(q);};p.prototype.zMa=function(q){var u,t;u=q.mediaType;t=q.Pa;f.Tm.kq(u);q.BX && (q.BX.forEach(function(w){(w=w.Bw(u,t)) && w !== q.stream && !w.je && w.m4(q.stream);}),q.BX=void 0);this.fe.tIb(q);};p.prototype.RMa=function(q,u,t){var w,v;w=this;v=f.Tm.kq(q.mediaType);q=new l.Bba(q,this.I,u,t,this,!1,v);q.addListener("headerRequestCancelled",function(x){w.Kmb(x.request);});q.xb(void 0);this.GPa(q);return q;};p.prototype.Clb=function(q,u){return this.Ov && (q=this.Ov.IW(this.fe.J,q)) && this.e3(q,!1,u)?!0:!1;};p.prototype.mmb=function(q){var u,t,w,v;u=q.Cs;t=q.P;w=t.duration;v=this.I;return t.kf.ue?v.cWa?v.cWa:v.K6:v.m2b && u?u.offset + u.size:(q=this.NNa[q.mediaType])?q + 128:v.Ula?2292 + 12 * Math.ceil(w / 2E3):v.K6;};p.prototype.Kmb=function(q){this.ela(q.mediaType,q.Pa);};p.prototype.ela=function(q,u){delete this.Pv[q][u];};p.prototype.sSa=function(q){this.OK === q.Pa && (this.OK=void 0);};return p;})(r.ov);b.xDa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=void 0;c=a(2);f=a(17);r=(function(l){function m(d,g,h,k){var n;n=l.call(this) || this;n.H=d;n.track=g;n.Do=!1;n.qga=!1;n.Zg=new f.Xh();n.Zg.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Zg.on(g,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.Do=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Zg.on(g,"created",function(){n.Do=!0;n.emit("created");});n.qga=k;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{q5:{get:function(){return this.track.q5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qh:{get:function(){return this.track.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tj:{get:function(){return this.track.tj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dV:{get:function(){return this.track.dV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.xb=function(){var d,g;this.qga || (null === (g=(d=this.track).xb) || void 0 === g?void 0:g.call(d),this.qga=!0);};m.prototype.qu=function(){return this.track.qu();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Yp=function(){this.Zg.clear();};return m;})(f.EventEmitter);b.aKa=r;},function(r,b,a){var g,h,k,n,p,q,u;function c(t){var w,v,x;t=t.parent;w=!1;if(t && t.children){v={};v[q.Vl]=[];v[q.sl]=[];v[q.TEMPORARY]=[];x=t.children;x.forEach(function(y){y && v[y.hf].push(y);});0 < v[q.Vl].length || (v[q.sl].length === x.length?t.hf !== q.sl && (t.hf=q.sl,p.error("PERM failing :",k.default.zh.name[t.yn] + " " + t.id),w=!0):(t.hf === q.Vl && (t.hf=q.TEMPORARY,p.error("TEMP failing :",k.default.zh.name[t.yn] + " " + t.id),w=!0),v[q.TEMPORARY].forEach(function(y){y.hf=q.Vl;})),w && c(t));}}function f(t){var w;if((t=t.parent) && 0 < t.children.length && t.hf !== q.Vl){w={};w[q.Vl]=[];w[q.sl]=[];w[q.TEMPORARY]=[];t.children.forEach(function(v){v && w[v.hf].push(v);});0 < w[q.Vl].length && (t.hf=q.Vl,f(t));}}function l(t){return t.hf !== q.Vl;}function m(t){switch(t.hf){case q.Vl:return "OK";case q.sl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(t,w){if(t.hf === q.TEMPORARY || t.hf === q.sl && w)t.hf=q.Vl;t.children && t.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.$ca=void 0;g=a(2);h=g.__importStar(a(10));r=a(17);k=g.__importDefault(a(28));n=g.__importDefault(a(6));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(t){t[t.Vl=0]="OK";t[t.TEMPORARY=1]="TEMPORARY";t[t.sl=2]="PERMANENT";})(q || (q={}));(function(t){t[t.Ev=0]="STARTUP";t[t.Ljb=1]="REBUFFER";})(u || (u={}));a=(function(t){var b50;b50=2;function w(v,x,y,z,A){var c50,B;c50=2;for(;c50 !== 15;){switch(c50){case 9:B.kUb=u.Ev;B.pj={};B.kl={};c50=6;break;case 1:B.Qb=x;B.Mh=y;B.config=z;B.Xnb=A;c50=9;break;case 2:B=t.call(this) || this;c50=1;break;case 6:B.urls={};B.streams={};B.rA=[];B.W8=!1;c50=11;break;case 11:var V4U="1SI";V4U+="YbZrNJ";V4U+="Cp9";var J4U="ne";J4U+="t";J4U+="work";B.Wo={id:J4U,yn:k.default.zh.Tx,hf:q.Vl,Zw:void 0,parent:void 0,children:B.rA};B.r2=null;B.HI=null;B.jP=k.default.Yx.Ev;B.CL(v,k.default.Yx.Ev);V4U;c50=16;break;case 16:return B;break;}}}for(;b50 !== 26;){switch(b50){case 2:g.__extends(w,t);w.prototype.HHb=function(){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:return this.rA[0].wb;break;}}};w.prototype.Tt=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 4:return l(this.Wo);break;e50=1;break;case 2:return l(this.Wo);break;}}};w.prototype.G8a=function(v){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 2:f50=(v=this.urls[v]) && v.parent?1:5;break;case 1:return v.parent.id;break;case 9:return v.parent.id;break;f50=5;break;}}};b50=3;break;case 3:w.prototype.Y7=function(v){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 2:g50=(v=this.urls[v]) && v.Qc?1:5;break;case 1:return v.Qc.location;break;case 9:return v.Qc.location;break;g50=5;break;}}};w.prototype.l$a=function(v){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 1:return v.stream;break;case 2:h50=(v=this.urls[v])?1:5;break;}}};b50=8;break;case 13:w.prototype.U7a=function(v,x){var D50;D50=2;for(;D50 !== 3;){switch(D50){case 5:this.HI=null;this.jP=k.default.Yx.Oda;D50=3;break;case 2:D50=(v=this.kl[v])?1:5;break;case 1:(d(v,x),f(v));D50=5;break;case 8:D50=(v=this.kl[v])?3:7;break;D50=(v=this.kl[v])?1:5;break;}}};w.prototype.r$=function(){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:d(this.Wo,!1);E50=1;break;}}};w.prototype.Mn=function(v){var F50,x;F50=2;for(;F50 !== 5;){switch(F50){case 2:null === (x=this.Xnb) || void 0 === x?void 0:x.call(this,v);F50=5;break;}}};w.prototype.tk=function(){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:this.hWb(u.Ljb);G50=1;break;}}};b50=20;break;case 20:w.prototype.Lb=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:this.config.iNb && this.FSb();H50=1;break;}}};w.prototype.r6a=function(v){var I50,x;I50=2;for(;I50 !== 5;){switch(I50){case 2:x=this;v.streams.forEach(function(y){var J50,z,A,B;J50=2;for(;J50 !== 6;){switch(J50){case 1:J50=h.ia(A)?5:9;break;case 2:(z=y.downloadable_id,A=x.streams[z]);J50=1;break;case 5:var l4U="n";l4U+="on";l4U+="e";l4U+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,sb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(l4U),pu:!0,urls:[],SZ:{},pj:[]};J50=3;break;case 3:x.streams[A.id]=A;J50=9;break;case 9:y.urls.forEach(function(E){var K50,D,F,C;K50=2;for(;K50 !== 13;){switch(K50){case 1:K50=h.ia(F) && (E=x.kl[E.cdn_id])?5:13;break;case 2:(D=E.url,F=x.urls[D]);K50=1;break;case 5:C=E.location;F={id:D,yn:k.default.zh.URL,hf:q.Vl,Zw:void 0,parent:E,children:[],url:D,Qc:E,stream:A};x.urls[D]=F;E.children.push(F);K50=8;break;case 8:A.urls.push(F);K50=7;break;case 7:0 === A.pj.filter(function(G){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:return G.id === C.id;break;case 4:return G.id == C.id;break;L50=1;break;}}}).length && A.pj.push(C);C.streams[A.id]=A;(D=A.SZ[C.id])?D.push(F):A.SZ[C.id]=[F];K50=13;break;}}});h.pf(A.SZ,function(E){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:E.sort(function(D,F){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return D.Qc.jc - F.Qc.jc;break;}}});M50=1;break;}}});A.pj=A.pj.sort(function(E,D){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return E.level - D.level || E.jc - D.jc;break;}}});J50=6;break;}}});I50=5;break;}}};w.prototype.y1b=function(){var P50,v,x,y,z;P50=2;for(;P50 !== 6;){switch(P50){case 1:P50=0 === y.length?5:4;break;case 9:(y.forEach(function(A){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:A.id !== v.Qb.location && (A.wb=v.Mh.get(A.id));R50=1;break;}}}),this.r2=z);P50=8;break;case 5:return null;break;case 2:(v=this,x=this.config,y=this.rA.filter(function(A){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:return !l(A) && 0 !== A.level;break;case 4:return -l(A) || 1 != A.level;break;Q50=1;break;}}}));P50=1;break;case 4:z=n.default.time.ea();P50=3;break;case 3:P50=null === this.r2 || this.r2 + x.Hqa < z?9:8;break;case 8:y.sort(function(A,B){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 2:return A.level - B.level || A.jc - B.jc;break;}}});return y;break;}}};w.prototype.hWb=function(v){var T50,x;T50=2;for(;T50 !== 4;){switch(T50){case 2:x=this.Qb.location;this.kUb=v;T50=5;break;case 5:this.rA.forEach(function(y){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:y.id !== x && y.wb && y.wb.confidence > k.default.Pf.sB && (y.wb.confidence=k.default.Pf.sB);U50=1;break;}}});T50=4;break;}}};w.prototype.FSb=function(){var V50,v;V50=2;for(;V50 !== 5;){switch(V50){case 2:v=this;this.W8 || this.rA.forEach(function(x){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:x.hf === q.TEMPORARY && v.Mh.fail(x.id,n.default.time.ea());W50=1;break;}}});V50=5;break;}}};b50=15;break;case 8:w.prototype.CL=function(v,x){var i50,y;i50=2;for(;i50 !== 19;){switch(i50){case 7:v.video_tracks.forEach(function(z){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:y.r6a(z);n50=1;break;case 4:y.r6a(z);n50=0;break;n50=1;break;}}});i50=6;break;case 6:v=this.rA.filter(function(z){var o50,A;o50=2;for(;o50 !== 4;){switch(o50){case 2:A=z.kl.every(function(B){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 2:return 0 === B.urls.length;break;case 4:a000.x5U(6);var u31=a000.u5U(16,7,12,96);return u31 != B.urls.length;break;q50=1;break;}}});A && (z.kl.forEach(function(B){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:y.kl[B.id]=void 0;r50=1;break;}}}),y.pj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});v.forEach(function(z){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:z.kl.sort(function(A,B){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:return A.jc - B.jc;break;}}});s50=1;break;}}});this.rA=v;i50=12;break;case 2:y=this;void 0 === x && (x=k.default.Yx.whb);v.locations.forEach(function(z){var j50,B,E,D,A;j50=2;for(;j50 !== 7;){switch(j50){case 1:j50=y.pj[A]?5:4;break;case 4:(B=[],E=y.Mh.get(A),D=y.Wo);z={id:A,yn:k.default.zh.LOCATION,hf:q.Vl,jc:z.rank,level:z.level,weight:z.weight,Zw:void 0,parent:D,children:B,kl:B,streams:{},wb:E};y.pj[z.id]=z;j50=8;break;case 2:A=z.key;j50=1;break;case 5:(y.pj[A].jc=z.rank,y.pj[A].level=z.level,y.pj[A].weight=z.weight);j50=7;break;case 8:D.children.push(z);j50=7;break;}}});this.r2=n.default.time.ea();this.rA.sort(function(z,A){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return z.level - A.level || z.jc - A.jc;break;}}});v.servers.forEach(function(z){var l50,B,A,E;l50=2;for(;l50 !== 14;){switch(l50){case 5:y.kl[A].jc=z.rank;l50=14;break;case 1:l50=y.kl[A]?5:4;break;case 4:B=y.pj[z.key];l50=3;break;case 3:l50=B?9:14;break;case 2:A=z.id;l50=1;break;case 9:E=[];z={id:A,yn:k.default.zh.nF,hf:q.Vl,Zw:void 0,parent:B,children:E,urls:E,name:z.name,type:z.type,jc:z.rank,location:B};y.kl[z.id]=z;B.children.push(z);l50=14;break;}}});v.audio_tracks.forEach(function(z){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 2:y.r6a(z);m50=1;break;}}});i50=7;break;case 12:this.Wo.children=v;this.HI=null;this.jP=x;this.dump();i50=19;break;}}};w.prototype.QZ=function(v,x){var u50,E,y,z,A,B,D;u50=2;for(;u50 !== 19;){switch(u50){case 11:return (this.qs(k.default.zh.Tx,!1),!1);break;case 3:E=k.default.Pf.sB;z.hX && (E=k.default.Pf.Jx);this.Qb.location && A.confidence >= E && (v=this.pj[this.Qb.location]) && (v.wb=A);u50=7;break;case 12:u50=!D.length?11:10;break;case 2:(y=this,z=this.config,A=this.Qb.get(),B=0);n.default.Jt && n.default.Jt(v);u50=5;break;case 13:D=this.HI;u50=12;break;case 14:return (this.qs(k.default.zh.Tx,!1),!1);break;case 10:var p4U="(emp";p4U+="ty stream l";p4U+="is";p4U+="t)";var o4U="Did not find a UR";o4U+="L for ANY";o4U+=" s";o4U+="trea";o4U+="m...";var E4U="ne";E4U+="tw";E4U+="or";E4U+="kFailed";var H4U="N";H4U+="etwork has failed, not updating s";H4U+="tream sele";H4U+="ction";x.forEach(function(F,C){var v50,G;v50=2;for(;v50 !== 5;){switch(v50){case 2:var W4U=" ";W4U+="K";W4U+="b";W4U+="p";W4U+="s)";var T4U=" ";T4U+="(";var s4U="]";s4U+=" ";var v4U="Failing ";v4U+="strea";v4U+="m ";v4U+="[";G=F.id;D.some(function(K){var w50,J,I;w50=2;for(;w50 !== 8;){switch(w50){case 1:w50=!J?5:4;break;case 2:J=K.streams[G];w50=1;break;case 4:I=J.pj[0];w50=3;break;case 3:void 0 === F.Y9 && (F.Y9=I.id,F.Wta=J.SZ[I.id][0].Qc.id);return J.SZ[K.id].some(function(M){var x50,R;x50=2;for(;x50 !== 12;){switch(x50){case 2:x50=l(M.Qc)?1:5;break;case 1:return (M.Qc.hf === q.TEMPORARY && (F.hf=q.TEMPORARY),z.Pu && F.Qc === M.Qc.id && M.Qc.Zw && (F.Zw=M.Qc.Zw),!1);break;case 5:x50=l(M)?4:3;break;case 4:return !1;break;case 6:F.II=M.Qc.name;F.wb=z.Ria?K.wb.confidence >= k.default.Pf.Jx || A.confidence < E?K.wb:A:A.confidence === k.default.Pf.HAVE_NOTHING || K.wb.confidence >= k.default.Pf.Jx?K.wb:A;return !0;break;case 3:var n4U="locat";n4U+="ionfailo";n4U+="v";n4U+="er";var b4U="serve";b4U+="rfai";b4U+="lo";b4U+="ver";var g4U="p";g4U+="erform";g4U+="anc";g4U+="e";var Q4U="u";Q4U+="n";Q4U+="k";Q4U+="now";Q4U+="n";R=Q4U;F.location !== K.id && (z.Pu?F.dqa=K.id === I.id:R=K !== D[0]?"" + k.default.Yx.Jba:void 0 === F.location?"" + k.default.Yx.Ev:h.ia(F.l1a) || F.l1a === K.id?h.ia(F.o1a) || F.o1a === M.Qc.id?g4U:b4U:n4U,F.location=K.id,F.Iqa=K.level,F.zs=R);F.url=M.url;F.Qc=M.Qc.id;x50=6;break;}}});break;case 5:return !1;break;}}})?(F.Kz=!1,F.hf=void 0,F.pu && ++B):F.hf && F.hf === q.TEMPORARY?y.Wo.hf=q.TEMPORARY:F.Kz || (p.warn(v4U + C + s4U + G + T4U + F.bitrate + W4U),F.lvb(),F.Kz=!0);v50=5;break;}}});return l(this.Wo)?(p.warn(H4U),this.W8=!0,this.emit(E4U,this.Wo.hf === q.sl),!1):B?!0:(p.warn(o4U + (x.length?"":p4U)),this.qs(k.default.zh.Tx,!0),!1);break;case 6:u50=!this.HI?14:13;break;case 4:return !1;break;case 5:u50=l(this.Wo)?4:3;break;case 7:h.Gb(this.HI) && (this.HI=this.y1b());u50=6;break;}}};w.prototype.IXb=function(v,x){var y50,y,z;y50=2;for(;y50 !== 4;){switch(y50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var z50,E,D,F,C;z50=2;for(;z50 !== 7;){switch(z50){case 5:z50=D && 4 === D.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(E=y[A],D=B.match(z));z50=5;break;case 4:var U4U="8";U4U+="0";var A4U="4";A4U+="4";A4U+="3";(F="s" === D[1],C=D[2]);D=D[3];D.length || (D=F?A4U:U4U);h.Se(C) && h.Se(D) && C === v && D == x && (E?E.push(B):y[A]=[B]);z50=7;break;}}});return y;break;}}};w.prototype.qs=function(v,x,y,z){var A50,D,F,C,C50,B50,A,B,E;A50=2;for(;A50 !== 42;){switch(A50){case 17:x.unshift(F.id);A50=19;break;case 1:A50=A && A.parent && A.yn !== v?5:4;break;case 44:var z4U="Inval";z4U+="id f";z4U+="a";z4U+="ilure state";throw Error(z4U);A50=24;break;case 9:var S4U=" ";S4U+="a";S4U+="t";S4U+=" ";var c4U=" failu";c4U+="re report";c4U+="ed for ";var M4U="T";M4U+="EM";M4U+="P";var I4U="P";I4U+="E";I4U+="R";I4U+="M";y=p;D=y.warn;v=(x?I4U:M4U) + c4U + k.default.zh.name[v] + S4U;x=[];A50=13;break;case 19:F=F.parent;A50=12;break;case 25:return;break;case 20:x.unshift(C.id + "(" + C.name + ")");A50=19;break;case 12:A50=F?11:27;break;case 29:A50=C50 === q.Vl?24:28;break;case 24:A.hf=E;A50=23;break;case 5:A=A.parent;A50=1;break;case 18:A50=B50 === k.default.zh.LOCATION?17:16;break;case 10:C=F;A50=20;break;case 15:var w4U="<url";w4U+=" f";w4U+="or";w4U+=" ";x.unshift(w4U + F.stream.bitrate + ">");A50=19;break;case 4:A50=A?3:43;break;case 23:var t4U="netw";t4U+="o";t4U+="rkF";t4U+="ail";t4U+="ed";var i4U="Emitting ";i4U+="networkFailed,";i4U+=" permanent =";c(A);this.W8=this.W8 || l(this.Wo);E=this.Wo.hf;E > B && (p.warn(i4U,E === q.sl),this.emit(t4U,E === q.sl));A50=34;break;case 30:A50=C50 === q.TEMPORARY?24:29;break;case 43:var N4U="Unable to find f";N4U+="ail";N4U+="ure entity for";N4U+=" URL ";a000.x5U(1);p.warn(a000.a5U(y,N4U));A50=42;break;case 26:C50=A.hf;A50=C50 === q.sl?25:30;break;case 27:var a4U=" :";a4U+=" ";a4U+="was ";D.call(y,v + (x.length?"/" + x.join("/"):"") + a4U + m(A));A50=26;break;case 34:this.HI=null;this.jP=k.default.Yx.Of;z && (this.jP=k.default.Yx.pjb,A.Zw=z);this.dump();A50=42;break;case 16:A50=B50 === k.default.zh.URL?15:19;break;case 3:A50=E !== A.hf?9:42;break;case 28:A50=44;break;case 13:F=A;A50=12;break;case 11:B50=F.yn;A50=B50 === k.default.zh.nF?10:18;break;case 2:(A=v !== k.default.zh.Tx && y?this.urls[y]:this.Wo,B=this.Wo.hf,E=x?q.sl:q.TEMPORARY);A50=1;break;}}};b50=13;break;case 15:w.prototype.dump=function(){};return w;break;}}})(r.EventEmitter);b.$ca=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;c=a(22);f=a(5);l=a(810);m=a(811);d=a(812);g=a(813);h=a(814);k=a(815);n=a(816);r=(function(){function p(q,u,t,w){this.config=q;this.mediaType=u;this.qc=t;this.console=w;}p.prototype.append=function(q,u){var t,w,v,x;w=u.endOfStream;v=u.x8;x=u.kX;void 0 === this.track?this.yN(q.stream):this.track !== q.stream.track && (f.assert(this.track.sa),f.assert(q.stream.track.sa),f.assert(1 === this.mediaType || this.track.sa.equal(q.stream.track.sa)),this.track=q.stream.track);f.assert(void 0 !== this.Gt);u={Ld:q,offset:null !== (t=q.hua) && void 0 !== t?t:c.T.Eb,Ue:this.config.B$};u=this.Gt.reduce(function(y,z){return z.append(y,{endOfStream:w,x8:v,kX:x});},u);t=u.Ld;u=u.offset;t.va && q.Ck(t.va);return u;};p.prototype.reset=function(){this.Gt=this.track=void 0;};p.prototype.yN=function(q){var u,t;this.track=q.track;this.Gt=[];if(0 === this.mediaType){this.config.B$ && this.Gt.push(new d.oKa(this.config,q.track,this.console));t=this.pja(q);t.equal(c.T.Eb)?this.config.gm && q.xf && this.wpa(q.P.X) && this.Gt.push(new k.uEa(this.config)):this.Gt.push(new l.wea(t));this.config.Era || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.Zd() + ", " + (null === (u=q.xf) || void 0 === u?void 0:u.Zd())),this.Gt.push(new g.JGa(this.config,q,this.console)));this.lLb() && (this.config.dh || this.Gt.push(new n.oza(q,this.config,this.qc,this.console)),this.Gt.push(new m.SGa(this.config,q,this.console)),this.XYb(q) && (f.assert(q.sa),this.Gt.push(this.$vb(q.xf || c.T.Eb,q.sa,t))));}};p.prototype.wpa=function(q){return this.config.wpa || this.config.$_a && -1 !== this.config.$_a.indexOf(q);};p.prototype.pja=function(q){return l.wea.pja(this.config,q.xf,this.qc,this.console);};p.prototype.lLb=function(){return !this.config.ZD;};p.prototype.XYb=function(q){return this.config.T0b && this.config.gm && ! !q.xf;};p.prototype.$vb=function(q,u,t){return new h.QLa(q.Ma(t),u,this.console);};return p;})();b.pGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=void 0;c=a(22);f=a(20);r=(function(){function l(m){this.xf=m;}l.pja=function(m,d,g,h){var k;k=c.T.Eb;d && (g=null === g || void 0 === g?void 0:g.b$b,m.c2b && void 0 !== g && 0 <= g?(m=new c.T(g,48E3),k=d.add(m),f.ga && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.gG && (k=d));return k;};l.prototype.append=function(m){var d;d=m.Ue;return {Ld:m.Ld,offset:m.offset.add(this.xf),Ue:d};};return l;})();b.wea=r;},function(r,b,a){var f,l,m,d;function c(g){return g.toString() + " (nrdp: " + g.zI + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.SGa=void 0;f=a(22);l=a(236);m=a(20);d=a(5);r=(function(){function g(h,k,n){this.console=n;this.offset=f.T.Eb;this.xf=h.gm?k.xf:void 0;d.assert(k.sa);this.sa=k.sa;}g.prototype.append=function(h){var k,n,p;k=h.Ld;n=h.offset;p=h.Ue;void 0 !== this.i1a && (d.assert(void 0 !== this.kqa),k.Xc.add(h.offset).equal(this.i1a)?(h=this.Stb(k,n.add(this.offset)).W - this.kqa,0 > h?this.offset=this.offset.add(f.T.Uw):0 === h?this.offset.lessThan(f.T.Eb) && (this.offset=this.offset.add(f.T.Uw)):1 === h?this.offset.greaterThan(f.T.Eb) && (this.offset=this.offset.Ma(f.T.Uw)):this.offset=this.offset.Ma(f.T.Uw)):this.offset=f.T.Eb);this.kqa=this.Rtb(k,n.add(this.offset)).W;this.i1a=k.Qd.add(n);return {Ld:k,offset:n.add(this.offset),Ue:p};};g.prototype.Stb=function(h,k){var n,p;h=this.bQa(h.Xc);n=l.zu(h).add(l.zu(k));p=h.add(k).Ma(n);m.ga && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.zu(h).toString() + ", offset rounding error: " + l.zu(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Zd() + ", (" + h.zI + k.zI + "ms), last fragment end nrdp: " + this.kqa);return p;};g.prototype.Rtb=function(h,k){var n,p,q;n=this.sa;h=this.bQa(h.Qd);p=l.zu(h.Ma(n)).add(l.zu(n)).add(l.zu(k));q=h.add(k).Ma(p);m.ga && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ma(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.zu(h.Ma(n)).toString() + ", frame duration rouding error: " + l.zu(n).toString() + ", offset rounding error: " + l.zu(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Zd() + ", (" + h.Ma(n).zI + n.zI + k.zI + "ms)");return q;};g.prototype.bQa=function(h){return this.xf?h.Ma(this.xf):h;};return g;})();b.SGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oKa=void 0;c=a(22);f=a(5);l=a(20);r=(function(){function m(d,g,h){this.config=d;this.console=h;this.ew=c.T.Eb;f.assert(g.sa);this.sa=g.sa;d=g.$d[0].profile;this.M8=this.AGb(d,this.sa);this.o8=this.yGb(d,this.sa);}m.prototype.append=function(d,g){var h,k,n,p;h=d.Ld;k=d.offset;d=d.Ue;n=g.x8;g=g.kX;if(this.lta){p=this.sPb(h,this.lta);h.va && this.Iia(p)?(l.ga && this.console.trace("SeamlessAudio: dropping one first frame"),h.xla(1),this.ew=p):(this.ew=p.add(this.sa),this.fRa(this.ew) || (l.ga && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Kg.Zd() + " error would be " + this.ew.Zd() + " (editing " + (h.va?"":"not ") + "allowed)"),this.ew=c.T.Eb,d=!1));this.lta=void 0;}if(h.uq || h.Fw)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.va || !g && h.Fw || (p=this.tPb(h,n,g),p.Qr(c.T.Eb) && h.yla(1)),this.lta=n);f.assert(this.fRa(this.ew));this.oqa=h.xe;return {Ld:h,offset:k.add(this.ew),Ue:d};};m.prototype.tPb=function(d,g,h){var k;if(h)k=this.ew.add(d.xe.Ma(h)).Ma(this.sa);else (k=d.xe.Ma(g),k=this.ew.add(k).Ma(this.sa));l.ga && this.console.trace("SeamlessAudio: fragment end: " + d.xe.Zd() + ", splice " + g.Zd() + ", next start " + (null === h || void 0 === h?void 0:h.Zd()) + ", error " + k.add(this.sa).Zd() + ", error with frame drop " + k.Zd() + ", is" + (this.Iia(k)?"":" not") + " within bounds of [" + this.M8.Zd() + " and " + this.o8.Zd() + ")");return k;};m.prototype.sPb=function(d,g){var h;f.assert(this.oqa);h=this.ew.add(this.oqa.Ma(d.Kg)).Ma(this.sa);l.ga && this.console.trace("SeamlessAudio: fragment start: " + d.Kg.Zd() + ", splice " + g.Zd() + ", last fragment end: " + this.oqa.Zd() + ", error " + h.add(this.sa).Zd() + ", error with frame drop " + h.Zd() + ", is" + (this.Iia(h)?"":" not") + " within bounds of [" + this.M8.Zd() + " and " + this.o8.Zd() + ")");return h;};m.prototype.Iia=function(d){return d.lessThan(this.o8) && d.Qr(this.M8);};m.prototype.fRa=function(d){return d.lessThan(this.o8.add(c.T.Uw)) && d.Qr(this.M8.Ma(c.T.Uw));};m.prototype.yGb=function(d,g){return "object" === typeof this.config.Dva && void 0 !== this.config.Dva[d]?(d=new c.T(this.config.Dva[d],1E3).ag(g.S).add(new c.T(1,g.S)),c.T.min(g,d)):g;};m.prototype.AGb=function(d,g){var h;if("object" === typeof this.config.Eva && void 0 !== this.config.Eva[d]){h=g.Cl(-2);d=new c.T(this.config.Eva[d],1E3).ag(g.S).Ma(new c.T(1,g.S));return c.T.max(h,d);}return new c.T(-12,1E3);};return m;})();b.oKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;c=a(22);f=a(5);l=a(20);r=(function(){function m(d,g,h){var k;this.console=h;this.zY=!1;f.assert(g.sa,"NegativePtsGuard: stream.frameDuration must exist.");this.sa=g.sa;this.gm=d.gm;this.xf=null !== (k=g.xf) && void 0 !== k?k:c.T.Eb;}m.prototype.append=function(d){var g,h,k,n;if(this.zY)return d;g=d.Ld;h=d.offset;d=d.Ue;if(g.va){k=g.Xc.Ma(this.gm?this.xf:c.T.Eb).add(h);if(k.lessThan(c.T.Eb)){n=Math.ceil(k.PH(-1).Cl(this.sa));l.ga && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.xf.Zd() + ", request content start ") + (g.Xc.Zd() + ", current timestamp offset ") + (h.Zd() + " => firstPlatformTimestamp ") + (k.Zd() + "."));g.xla(n);}}this.zY=!0;return {Ld:g,offset:h,Ue:d};};return m;})();b.JGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;c=a(22);f=a(20);r=(function(){function l(m,d,g){this.xf=m;this.sa=d;this.console=g;}l.prototype.append=function(m,d){var g,h,k,n;g=m.Ld;h=m.offset;m=m.Ue;k=d.endOfStream;d=d.x8;if(k && d){k=g.Xc.Ma(this.xf).add(h);n=g.Qd.Ma(this.xf).add(h);d=d.Ma(c.T.Uw);f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Zd() + "-" + n.Zd() + " vs media splice point at " + d.Zd());k.add(this.sa).Qr(d)?(f.ga && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.wla()):n.Qr(d) && (d=Math.ceil(n.Ma(d).Cl(this.sa)),g.va?(f.ga && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.yla(d)):(f.ga && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.wla()));}else k && f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Ld:g,offset:h,Ue:m};};return l;})();b.QLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uEa=void 0;r=(function(){function a(c){this.zY=!1;this.fZb=c.tKb;}a.prototype.append=function(c){c.Ld.va && (c.Ld.qYb(this.zY?0:this.fZb),this.zY=!0);return c;};return a;})();b.uEa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oza=void 0;c=a(383);f=a(9);r=(function(){function l(m,d,g,h){this.config=d;this.qc=g;this.console=h;this.sa=m.sa;}l.prototype.append=function(m,d){var g,h,k,n,p,q,u,t;h=c.Gna(this.config,this.qc);k=m.Ld;n=k.xe;p=k.Kg;q=k.Fw;u=m.Ue;q=k.uq || q;if(!m.Ld.va || !q || u)return m;u=k.Qd.Ma(k.Xc);k=Math.floor(u.Cl(this.sa));q=null !== (g=d.kX) && void 0 !== g?g:n.Ma(this.sa.PH(2));n=q.Ma(p);g=k;t=!1;d.kX && (d=this.SRa(u,n,n),g=d.vva,t=d.U3a);h=q.Ma(f.T.Ab(h));p=f.T.max(h.Ma(p),f.T.Eb);t || (p=this.SRa(u,p,n),g=p.vva,p.U3a && (--g,this.sa.PH(g)));g < (this.config.nPb || 1)?m.Ld.wla():0 < k - g && m.Ld.yla(k - g);return m;};l.prototype.SRa=function(m,d,g){var h;m=f.T.min(m,d);m=Math.floor(m.Cl(this.sa));d=this.sa.PH(m);g=g.Ma(d);h=0 < m && g.lessThan(f.T.Uw);return {vva:m,ucc:d,N$b:g,U3a:h};};return l;})();b.oza=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v;function c(x,y,z,A){var B,E;g.assert(x.lk,"Current time: " + n.default.time.ea() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());B=z.Ma(x.currentTime);B=Math.max(Math.ceil(B.hI / x.speed),0);E=null !== A && void 0 !== A?A:{id:void 0,pUa:B,l4a:0,JRb:B};E.id=setTimeout(function(){z.Ma(x.currentTime).KN(m.T.Eb)?y():(E.l4a++,c(x,y,z,E));},B);E.pUa=B;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.bba=b.bS=void 0;f=a(2);l=a(17);m=a(22);d=a(237);g=a(5);h=a(20);k=a(818);n=f.__importDefault(a(6));p=a(174);q=a(819);u=a(820);t=a(148);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{fJ:{get:function(){return this.uha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Q3a:{get:function(){return this.Jnb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$yb:{get:function(){return this.Tlb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zva:{get:function(){return this.tpb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.Tlb=z === v.jO?0:n.default.time.ea();this.Jnb=y;this.tpb=z;h.ga && g.assert(!this.uha,"Invalid replacement of timeout value");this.uha=A;};x.prototype.complete=function(){this.uha=void 0;this.set(m.T.iD,v.jO);};return x;})();(function(x){x[x.jO=0]="none";x[x.g3a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));r=(function(x){function y(z,A,B){var E;void 0 === B && (B="unknown");E=x.call(this) || this;E.xa=z;E.console=A;E.name=B;E.Hnb=0;E.sga=!1;E.Nk=new w();E.k5=new l.Xh();E.$l=new d.I0([],k.PSa(function(D,F){return D.dP.Al(F.dP);},function(D,F){return F.Rq.priority - D.Rq.priority;},function(D,F){return D.Rq.id > F.Rq.id?1:D.Rq.id < F.Rq.id?-1:0;}));E.OQa(z);return E;}f.__extends(y,x);Object.defineProperties(y.prototype,{PYb:{get:function(){return this.xa.lk;},enumerable:!1,configurable:!0}});y.prototype.KTa=function(z,A){z=new (z.bind.apply(z,f.__spread([void 0],A)))();z.id=this.Hnb++;z.bsb(this);this.Wha(z);return z;};y.prototype.BG=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.KTa(q.zEa,z);};y.prototype.KEb=function(){var z;z={hasSchedule:! !this.Nk.fJ,schedule:this.Nk.fJ && ({sleepTime:this.Nk.fJ.pUa,originalSleepTime:this.Nk.fJ.JRb,clockSkewAdjustments:this.Nk.fJ.l4a}),nextWakeup:this.Nk.Q3a.W,timeScheduled:this.Nk.$yb,scheduleType:v[this.Nk.zva],numTasks:this.$l.length,clock:{ir:this.xa.lk,ct:this.xa.currentTime.W,sp:this.xa.speed}};h.ga && this.trace("audit",z);return z;};y.prototype.sU=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.KTa(u.HKa,z);};y.prototype.oyb=function(z,A,B){this.BG(function(){return f.__generator(this,function(E){switch(E.label){case 0:return [4,t.Kk.uJ(A)];case 1:return (E.Ic(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.OQa=function(z){var A;A=this;this.BC();this.k5.clear();this.xa=z;this.k5.on(z,"stopStart",function(){return A.PO();});this.k5.on(z,"clockAdjusted",function(){return A.tX();});this.k5.on(z,"speedChanged",function(){return A.vRb();});this.tX();this.emit("clockChanged");};y.prototype.vRb=function(){this.BC();this.PO();};y.prototype.Lb=function(){this.reset();};y.prototype.reset=function(){this.BC();this.$l.clear();};y.prototype.tX=function(){var z,A;z=this;A=this.$l.map(function(B){return B.Rq;});this.BC();this.$l.clear();A.forEach(function(B){return z.Wha(B,!1);});this.PO();};y.prototype.Wha=function(z,A){var B,E;void 0 === A && (A=!0);B=z.c9();E=this.jab(B);z={Rq:z,dP:E,o$:B};g.assert(!this.$l.contains(z));this.$l.push(z);A && this.PO();};y.prototype.PO=function(){var z,A,B,E,D;z=this;h.ga && this.trace("recheck schedule task count:" + this.$l.length);if(this.PYb){if(this.sga)h.ga && this.trace("already executing, bailing");else {E=this.Nk.Q3a;D=null !== (B=null === (A=this.$l.Vw()) || void 0 === A?void 0:A.dP) && void 0 !== B?B:m.T.iD;D.isFinite() && D.g9(E)?(this.BC(!1),this.xa.currentTime.Qr(D)?(this.Nk.set(D,v.g3a),Promise.resolve().then(function(){z.Nk.zva === v.g3a && (z.Nk.complete(),z.j8a());})):(h.ga && this.trace("scheduling next wake up for:" + D.W),A=c(this.xa,function(){z.Nk.complete();z.j8a();},D),this.Nk.set(D,v.setTimeout,A))):D.isFinite() || this.Nk.zva !== v.setTimeout || this.BC(!1);}}else (h.ga && this.trace("should check schedule is false, stopping"),this.BC());};y.prototype.j8a=function(){var z,A,B,E;B=0;E=null === (z=this.$l.Vw()) || void 0 === z?void 0:z.o$;try{for(this.sga=!0;1E4 > B++ && this.X0b();){;}}finally{this.sga=!1;this.BC();1E4 < B && !this.TIb(E)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.PO();}};y.prototype.TIb=function(z){var A,B;B=null === (A=this.$l.Vw()) || void 0 === A?void 0:A.o$;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.X0b=function(){var z,A,B;B=null !== (A=null === (z=this.$l.Vw()) || void 0 === z?void 0:z.dP) && void 0 !== A?A:m.T.iD;h.ga && this.trace("tryExecuteNextTask @" + this.xa.currentTime.W + ", next wakeup at " + B);if(this.xa.currentTime.Qr(B) && (z=this.$l.pop())){A=z.Rq;h.ga && this.trace("Running a task @" + this.xa.currentTime.W + ", scheduled for time:" + B.W + ("Name:" + A.name));try{A.gx();z.o$=A.c9();z.dP=this.jab(z.o$);}catch(E){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + E,{stack:E.stack}),A.Lb(),E);}finally{z.dP !== m.T.iD && A.state === p.bn.y$ && (g.assert(!this.$l.contains(z)),this.$l.push(z));}return !0;}};y.prototype.HWb=function(z){g.assert(z.We === this);this.Tua(z,!1);this.Wha(z);};y.prototype.Tua=function(z,A){var B;void 0 === A && (A=!0);B=this.$l.find(function(E){return E.Rq === z;});B && this.UVb(B,A);};y.prototype.UVb=function(z,A){this.$l.remove(z);A && this.PO();};y.prototype.BC=function(z){void 0 === z && (z=!0);this.Nk.fJ && (z && this.emit("stopping"),clearTimeout(this.Nk.fJ.id),this.Nk.complete());};y.prototype.jab=function(z){return z.type === t.Kea.absolute?z.timestamp:z.timestamp.add(this.xa.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(l.EventEmitter);b.bS=r;b.bba=function(x,y,z){var A;A=void 0;return (z || x.xa.lk) && x.xa.currentTime.Qr(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.sU(t.Kk.bQ(y),B);}),Rq:A};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PSa=void 0;c=a(2);f=a(20);l=a(5);b.PSa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}f.ga && l.assert(m.length);return function(g,h){var k,q,u;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;u=q(g,h);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zEa=void 0;c=a(2);f=a(22);l=a(5);m=a(174);d=a(148);r=(function(g){function h(k,n,p){n=g.call(this,n,p) || this;n.cXb=k;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var k,n;if(this.bd === m.bn.y$ || this.bd === m.bn.pending)null === (n=null === (k=this.V1) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.bd=m.bn.pending;this.V1=this.cXb();this.Lga=d.Kk.uJ(f.T.Eb);};h.prototype.Jm=function(){this.reset();l.assert(this.Xv);this.Xv.HWb(this);};h.prototype.c9=function(){return this.Lga;};h.prototype.pg=function(){var k,n,p;p=this.V1.next();p.done?(this.Lga=d.Kk.sya,null === (n=(k=this.V1).return) || void 0 === n?void 0:n.call(k)):this.Lga=p.value;};h.prototype.Lb=function(){var k,n;null === (n=(k=this.V1).return) || void 0 === n?void 0:n.call(k);g.prototype.Lb.call(this);};return h;})(m.Xea);b.zEa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HKa=void 0;c=a(2);f=a(174);l=a(148);r=(function(m){function d(g,h,k){k=m.call(this,k) || this;k.Cva=g;k.bU=h;return k;}c.__extends(d,m);d.prototype.c9=function(){return this.bd === f.bn.pending?this.Cva:l.Kk.sya;};d.prototype.pg=function(){this.bU();};return d;})(f.Xea);b.HKa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UJa=void 0;r=a(2);c=r.__importDefault(a(28));f=r.__importDefault(a(384));a=(function(){function l(m){this.S2=[];this.S2[c.default.Ta.Nb]=new f.default(m,c.default.Ta.Nb);this.S2[c.default.Ta.Vb]=new f.default(m,c.default.Ta.Vb);}l.prototype.Yqb=function(m,d,g){this.S2[m].add(d,g);};l.prototype.foa=function(){var m;m=[];this.S2.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};l.prototype.eDb=function(m){var d;d=this.foa();m.strmsel=d;return 0 < d.length;};return l;})();b.UJa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hYa=void 0;b.hYa=function(a){var c,f,l;c=Math.floor(1E6 * Math.random());f=a.Soa;l=a.N6;a=0 === c % a.Toa && 0 < l.length;return {Lr:a,VU:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dTa=void 0;b.dTa=function(a,c){var f;if(!Array.isArray(a.bTa))return a;f=a.It?a.It():Object.create(a);a.bTa.forEach(function(l){if(void 0 !== l.lPb && c.duration >= l.lPb && l.config)for(var m in l.config){f[m]=l.config[m];}});return f;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CBa=void 0;c=a(2).__importStar(a(10));f=a(125);l=a(5);r=(function(){function m(d,g,h){var Y50;Y50=2;for(;Y50 !== 3;){switch(Y50){case 1:var u4U="1SIYbZrN";u4U+="J";u4U+="Cp9";this.H=g;this.bi=h;u4U;Y50=3;break;case 2:this.wn=d;Y50=1;break;}}}var X50;X50=2;for(;X50 !== 7;){switch(X50){case 4:m.prototype.KOa=function(d,g){var f60,h,k;f60=2;for(;f60 !== 5;){switch(f60){case 2:(h=this.wn.zb.Mf[d],k=h.Kf);k && (k=g.AL(d,k),this.Zlb(d),h.Kf=this.SMa(d,g.J,g.Uz(),this.wn.Zl,this.wn.I),g.nva(k));f60=5;break;}}};m.prototype.SMa=function(d,g,h,k,n){var g60,p,q;g60=2;for(;g60 !== 7;){switch(g60){case 2:var f4U="n";f4U+="etworkfai";f4U+="ling";var x4U="c";x4U+="r";x4U+="eat";x4U+="e";x4U+="d";(p=this,q=f.mp.instance.Lt(d,g,!0,h,k,n));q.Zg.on(q,x4U,function(){var h60;h60=2;for(;h60 !== 5;){switch(h60){case 2:var e4U="createD";e4U+="lTrac";e4U+="ksE";e4U+="nd";--p.PF;0 === p.PF && p.wn.Cb.bm(e4U);h60=5;break;}}});q.Zg.on(q,f4U,function(){var i60,u;i60=2;for(;i60 !== 8;){switch(i60){case 1:i60=q.q5?5:8;break;case 2:var k4U="report";k4U+="Netwo";k4U+="rkFailing";k4U+=":";k4U+=" ";n.ii && p.bi.Dm(k4U + q);i60=1;break;case 5:l.assert(q.dV);u=p.wn.Ge.P;u.aq.qs(q.dV,void 0,q.qh,q.tj);u.Rm();i60=8;break;}}});g60=4;break;case 4:var C9U="transpo";C9U+="rtr";C9U+="e";C9U+="port";var B4U="err";B4U+="o";B4U+="r";q.Zg.on(q,B4U,function(){var j60;j60=2;for(;j60 !== 5;){switch(j60){case 2:var X4U="NFErr_MC";X4U+="_Streaming";X4U+="Failur";X4U+="e";var L4U="Do";L4U+="w";L4U+="nloadTrack ";L4U+="fatal er";L4U+="ror";var j4U="DownloadTra";j4U+="ck fatal er";j4U+="ror";n.ii && p.bi.Dm(j4U);p.wn.Fp(L4U,void 0,X4U,q.qh,0,q.tj);j60=5;break;}}});q.on(C9U,function(u){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:var y9U="transp";y9U+="or";y9U+="t";y9U+="r";y9U+="eport";p.wn.emit(y9U,u);k60=1;break;}}});q.xb();return q;break;}}};m.prototype.Zlb=function(d){var l60,g;l60=2;for(;l60 !== 9;){switch(l60){case 4:f.mp.instance.qM(g);d.Kf=void 0;l60=9;break;case 2:d=this.wn.zb.Mf[d];g=d.Kf;g.Do || --this.PF;l60=4;break;}}};return m;break;case 2:m.prototype.Olb=function(d,g){var Z50,h,k;Z50=2;for(;Z50 !== 8;){switch(Z50){case 2:var R9U="cr";R9U+="eateD";R9U+="lTrac";R9U+="ksStart";(h=this,k=this.wn.I);0 === this.PF && this.wn.Cb.bm(R9U);this.PF+=d.length;d=d.map(function(n){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 2:return h.SMa(n,g.J,g.Uz(),h.wn.Zl,k);break;}}});Z50=3;break;case 3:f.mp.instance.pg();return d;break;}}};m.prototype.$lb=function(){var b60,d,g;b60=2;for(;b60 !== 3;){switch(b60){case 2:(d=this,g=[]);this.wn.zb.Mf.forEach(function(h){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:c.ia(h.Kf) || g.push(h.Kf);h.Kf=void 0;c60=5;break;}}});this.wn.JS && (g.push(this.wn.JS),this.wn.JS=void 0);g.forEach(function(h){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:h.Do || --d.PF;f.mp.instance.qM(h);d60=5;break;}}});b60=3;break;}}};m.prototype.Wmb=function(){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:this.PF=0;e60=1;break;}}};X50=4;break;}}})();b.CBa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=void 0;c=a(16);f=a(9);r=(function(){function l(m){this.qG=m;this.state=new f.gr(c.ma.Ah);this.oj={};}l.prototype.getState=function(){return this.state.value;};l.prototype.Ve=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ma.Lc && this.state.set(c.ma.jh);};l.prototype.G0a=function(){return this.state.value === c.ma.Ah;};l.prototype.sq=function(){return "function" === typeof this.qG.sq?this.qG.sq():this.state.value === c.ma.Lc;};l.prototype.qg=function(){return this.state.value === c.ma.xd || this.state.value === c.ma.Qf;};l.prototype.H0a=function(){return this.state.value === c.ma.cj;};l.prototype.I0a=function(){return this.state.value === c.ma.jr;};l.prototype.Re=function(){return this.qG.Re();};l.prototype.Ko=function(){return "function" === typeof this.qG.Ko?this.qG.Ko():1;};l.prototype.GV=function(){return this.qG.GV();};l.prototype.RY=function(m,d){this.oj[m]=d;};l.prototype.Po=function(m){return ! !this.oj[m.J] || m.hi;};return l;})();b.Xya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QIa=void 0;r=(function(){function a(c,f,l){var m;this.Prb=c;this.Mga=f;this.Ulb=l;this.Yfa=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.Wy=function(){var c,f;c=this;f=this.Prb.filter(function(l){return !l.j0a(c.Ulb());});0 === f.length && this.wga?this.Pnb():f.forEach(function(l){c.Yfa[l.mediaType] || (l.once("requestAppended",function(){c.Yfa[l.mediaType]=!1;c.Wy();}),c.Yfa[l.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.wga=!1;new Promise(function(f){c.Pnb=f;}).then(function(){return c.Mga();});};a.prototype.VNb=function(){this.wga || (this.wga=!0,this.Wy());};return a;})();b.QIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jya=void 0;c=a(20);r=(function(){function f(l){this.console=l;this.IF=[];this.ZB=[];c.ga && this.console.trace("Received pending adoption " + this.Ol.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.IF.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ol:{get:function(){return this.ZB;},enumerable:!1,configurable:!0}});f.prototype.SNb=function(l){l=this.ZB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request attached"),this.IF[l].f0a=!0,this.Hab(l));};f.prototype.TNb=function(l){l=this.ZB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request completed"),this.IF[l].Vz=!0,this.Hab(l));};f.prototype.VVb=function(l){var m,d;m=this;d=[];this.ZB.forEach(function(g,h){l(g) && d.unshift(h);});d.forEach(function(g){m.ZB.splice(g,1);m.IF.splice(g,1);});};f.prototype.push=function(l){this.ZB.push(l);this.IF.push({f0a:!1,Vz:!1});c.ga && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.cD=function(){return 0 < this.length;};f.prototype.Hab=function(l){var m;m=this.IF[l];m.f0a && m.Vz && (m=this.ZB[l],this.ZB.splice(l,1),this.IF.splice(l,1),c.ga && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ga && this.console.trace("Removing last request, contentEndPts: " + m.Mc));};return f;})();b.Jya=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w){return (1 === t.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.OEa=b.$da=b.wjb=void 0;f=a(2);l=a(83);m=a(149);d=a(388);g=a(16);h=a(9);k=a(5);n=a(22);p=f.__importDefault(a(6));r=a(102);q=a(42);u=(function(t){function w(){return null !== t && t.apply(this,arguments) || this;}f.__extends(w,t);return w;})(a(239).dK);b.wjb=u;b.$da={Pbb:c};a=(function(t){function w(v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R){var H;A=t.call(this) || this;A.Tcc=v;A.I=x;A.P=z;A.Hp=B;A.f6=E;A.ft=C;A.FS=G;A.tl=J;A.gy=I;A.events=M;A.Vv=R;A.ee=new u([]);A.Yl=!1;A.OS=0;A.oS=A.sX.bind(A);A.H=h.wq(p.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Lk=A.H.error.bind(A.H);A.Sb=A.H.warn.bind(A.H);A.nn=A.H.trace.bind(A.H);A.Ur=null !== F && void 0 !== F?F:n.T.Ab(A.O.Z);A.Uga=null === K || void 0 === K?void 0:K.xe;null === (H=A.gy) || void 0 === H?void 0:H.addListener(A.oS);z && D && A.lKb(z,D);return A;}f.__extends(w,t);Object.defineProperties(w.prototype,{Fh:{get:function(){return this.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{O:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gw:{get:function(){return this.ee.every(function(v){return v.Gw;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xl:{get:function(){return this.ee.every(function(v){return v.xl;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yt:{get:function(){return this.lq().reduce(function(v,x){return v + x.yt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Kh:{get:function(){return this.lq().every(function(v){return v.Kh();});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wg:{get:function(){return this.lq().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{S:{get:function(){return this.st.S;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Wa:{get:function(){return this.st.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ob:{get:function(){return this.st.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xj:{get:function(){return this.Sf.ag(this.S).vc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Vr:{get:function(){return this.Ur.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gI:{get:function(){return this.O.Og.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{EO:{get:function(){return this.O.Vk.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{NM:{get:function(){var v,x;x=null === (v=this.O.O.hq) || void 0 === v?void 0:v[0];return x && this.Xc?n.T.Ab(Math.max(0,x[0] - this.Xc.W - this.O.Og.W)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{S7:{get:function(){return this.ee.reduce(function(v,x){return v && x.xe?n.T.max(v,x.xe):x.xe?x.xe:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rpa:{get:function(){return this.Vr.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fe:{get:function(){return this.Sf.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Tq:{get:function(){return this.st.Tq;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Sf:{get:function(){return this.ft;},enumerable:!1,configurable:!0}});w.prototype.rx=function(v){this.Sf.equal(v) || (this.ft=v);};w.prototype.Ez=function(v){return (v=this.fb(v))?Promise.resolve(v.Ez()):Promise.resolve(m.AsyncIterator.UXa());};w.prototype.MG=function(){this.lq().forEach(function(v){return v.MG();});};w.prototype.reset=function(){this.ee.forEach(function(v){v.reset();});};w.prototype.Ff=function(){var v,x;this.Yl || (this.Yl=!0,null === (v=this.aC) || void 0 === v?void 0:v.fd(),this.aC=void 0,this.ee.forEach(function(y){y.Ff();}),null === (x=this.gy) || void 0 === x?void 0:x.removeListener(this.oS),this.events.removeAllListeners());};w.prototype.mW=function(){return !0;};w.prototype.fb=function(v){return this.ee.get(v);};w.prototype.lq=function(v){void 0 === v && (v=c);return this.ee.items.slice().sort(v);};w.prototype.i6=function(){return this.ee.items;};w.prototype.dN=function(v){return this.fb(v);};w.prototype.Hh=function(v,x){v=this.fb(v);if(!v)return 0;if(x)return v.Im;x=v.Tp;if(void 0 === x)return 0;v=this.FS();return x - v;};w.prototype.RC=function(){var v,x,y,z,A,B,E;E=null === (v=this.fb(0)) || void 0 === v?void 0:v.un;v=null === (x=this.fb(1)) || void 0 === x?void 0:x.un;return {$n:null !== (y=null === v || void 0 === v?void 0:v.W) && void 0 !== y?y:0,xr:null !== (z=null === E || void 0 === E?void 0:E.W) && void 0 !== z?z:0,Ms:null !== (A=null === v || void 0 === v?void 0:v.fa) && void 0 !== A?A:0,nC:null !== (B=null === E || void 0 === E?void 0:E.fa) && void 0 !== B?B:0};};w.prototype.PV=function(v){var x;return (v=this.fb(v))?null !== (x=v.Tp) && void 0 !== x?x:0:0;};w.prototype.Rm=function(v){v=this.fb(v);k.assert(v);return v.Rm();};w.prototype.sX=function(v){g.Oo(v.newValue) && this.ur();};w.prototype.wG=function(v){return this.ee.every(function(x){return x.wG(v);});};w.prototype.V5=function(v){var x,y;return null !== (y=null === (x=this.ee.get(v)) || void 0 === x?void 0:x.PTa) && void 0 !== y?y:n.T.Eb;};w.prototype.uk=function(v){this.Yl || (v.j3 || k.assert(!v.cd),this.ur(),this.xl && this.Sga());this.Yt(v);};w.prototype.YH=function(v){this.I.Z4 && this.ur(!0);this.UG(v);};w.prototype.XH=function(v){this.I.Z4 && this.ur(!0);this.PC(v);};w.prototype.owa=function(v){var x;return g.Oo((null === (x=this.gy) || void 0 === x?void 0:x.value) || g.Kc.dj) && (!v || this.OS + this.I.F8 < p.default.time.ea());};w.prototype.ur=function(v){void 0 === v && (v=!1);this.owa(v) && (this.OS=p.default.time.ea(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};w.prototype.Sga=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};w.prototype.lKb=function(v,x){var y,z;y=this;this.fwa(v);k.assert(v.X === this.O.X || isNaN(v.X) && isNaN(this.O.X));this.fga=[];v=null !== x && void 0 !== x?x:null === (z=this.f6) || void 0 === z?void 0:z.call(this,v);k.assert(v,"tracks need to exist upon initialization");v.forEach(function(A){var B;A=A.mediaType;B=new d.Cda(A,y.I,y.H);y.fga[A]=B;});};w.prototype.toJSON=function(){var v,x;return {segment:this.O.id,branchOffset:this.Fe,viewableId:this.Hp.X,contentStartPts:null === (v=this.Xc) || void 0 === v?void 0:v.W,contentEndPts:null === (x=this.Qd) || void 0 === x?void 0:x.W};};return w;})(l.ov);b.OEa=a;q.zf(r.xx,a);q.zf(r.nB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dVa=b.aLb=b.m0a=b.ZYa=void 0;c=a(25);b.ZYa=function(f,l){if((f=f.eb.O.ex) && 0 !== f.length)return c.kg(f,function(m){return m.Xc.W <= l && l < m.Qd.W;});};b.m0a=function(f,l){return l.index === f.ie.index?!0:(f=f.eb.O.ex) && 0 !== f.length?f.some(function(m){m=m.Xc;return l.Xc.KN(m) && m.lessThan(l.Qd);}):!1;};b.aLb=function(f,l){return l.index === f.Jf.index?!0:(f=f.eb.O.ex) && 0 !== f.length?f.some(function(m){m=m.Qd;return l.Xc.lessThan(m) && m.KN(l.Qd);}):!1;};b.dVa=function(f,l,m,d){var g,h,k,n,p,q,u,t;f=null === (g=l.va) || void 0 === g?void 0:g.start;g=null === (h=l.va) || void 0 === h?void 0:h.end;t=h=!1;if((null === d || void 0 === d?0:d.kLb) || (null === d || void 0 === d || !d.ZKb) && l.Xc.lessThan(m.Xc)){if(u=l.oma(m.Xc.W))(u=(null !== (n=null === (k=l.va) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + u.jl,f=Math.max(null !== f && void 0 !== f?f:0,u));u=m.Xc.W;h=!0;}if((null === d || void 0 === d || !d.eLb) && l.Qd.greaterThan(m.Qd)){if(u=l.oma(m.Qd.W))(u=(null !== (q=null === (p=l.va) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.jl,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),l.fO=l.index);u=m.Qd.W;t=!0;}if(void 0 !== f || void 0 !== g)(l.Ck({start:f,end:g}),void 0 !== u && (!l.ev || u > l.ev) && l.rP(u));l.mYb(m.region,h,t);};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;r=a(2);c=r.__importDefault(a(28));f=c.default.Ta;l=c.default.Yx;m=a(9);d=a(22);g=r.__importDefault(a(144));h=r.__importDefault(a(6));a=(function(){function k(n,p,q,u,t){this.Xw=n;this.Qt=p;this.I=q;this.H=u;this.Ug=t;}k.prototype.jQb=function(n){n={type:"requestCreated",request:n};m.Va(this.Qt,n.type,n);};k.prototype.iQb=function(n){var p;p=n.Qa.eb.O;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ya:p.id,offset:d.T.Ab(this.Xw.bka - p.Z)},completePlayerStreamingTimestamp:d.T.Ab(this.Xw.Tp),trackIndex:n.stream.track.mC};m.Va(this.Qt,n.type,n);};k.prototype.h4a=function(n,p,q){var u,t;u=this.Ug;t=this.Xw.ml.vg;t.i9a(n);1 === u && this.I.z$ && (void 0 === t.sqa?t.k9a(h.default.time.ea()):h.default.time.ea() - t.sqa > this.I.z$ && (n.bitrate !== t.q1a && (h.default.storage.set("vb",n.bitrate),t.sYb(n.bitrate)),t.k9a(h.default.time.ea())));t.xW && t.xW === n || (this.Xw.ml.QZb(p,t.xW,n),t.hYb(n),p=0,n.wb && n.wb.confidence && n.wb.Ra && (p=n.wb.Ra.Fa),t={ya:this.Xw.eb.O.id,offset:d.T.Ab(q - this.Xw.eb.O.Z)},n={type:"streamSelected",nativetime:h.default.time.ea(),mediaType:u,streamId:n.id,manifestIndex:n.P.Pb,trackIndex:n.track.mC,streamIndex:n.Nf,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:t},m.Va(this.Qt,n.type,n));};k.prototype.eQb=function(n,p,q){var u,t,w,v,x;u=p.P;t=u.Am;w=this.Xw.ml.vg;v=u.FLb(p);x=v.dqa;v=v.GLb;q && p.Qc && !w.yW?(v=l.Ev,p.zs=l.name[v],this.g4a(n,p.Qc,p.zs,p.location,p.bitrate),w.yW=p.Qc):!q && p.Qc && p.Qc !== w.yW && (v=v?void 0 === w.yW?l.Ev:t.jP === l.Oda?l.Yjb:l.Jba:l.Xjb,p.zs=l.name[v],this.g4a(n,p.Qc,p.zs,p.location,p.bitrate),w.yW=p.Qc);w.IN || (v={type:"logdata",target:"startplay",fields:{}},this.Ug === f.Vb?v.fields.alocid=p.location:this.Ug === f.Nb && (v.fields.locid=p.location),m.Va(this.Qt,v.type,v));q && p.location && !w.IN?(v=l.Ev,p.zs=l.name[v],this.e4a(u.Pb,n,p.location,p.Iqa,p.Qc,p.II,p.zs,p.Zw),w.IN=p.location):!q && p.location && p.location !== w.IN && (v=x?void 0 === w.IN?l.Ev:t.jP === l.Oda?l.shb:l.Jba:l.rhb,p.zs=l.name[v],this.e4a(u.Pb,n,p.location,p.Iqa,p.Qc,p.II,p.zs,p.Zw),p.Zw=void 0,w.IN=p.location);this.I.Pu || (p.l1a=p.location,p.o1a=p.Qc);};k.prototype.k9=function(n){n={type:"requestsPruned",requests:n};m.Va(this.Qt,n.type,n);};k.prototype.g4a=function(n,p,q,u,t){var w,v;w=this.Ug === f.Nb?"video":"audio";v=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:p,reason:q,location:u,bitrate:t,confidence:v.confidence};v.confidence && (n.throughput=v.Ra.Fa);this.Xw.ml.vg.yW && (n.oldserver=p);m.Va(this.Qt,n.type,n);};k.prototype.e4a=function(n,p,q,u,t,w,v,x){m.Va(this.Qt,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Ug === f.Nb?"video":"audio",location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:x});};k.prototype.Nga=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.TD || m.Va(this.Qt,p.type,p);};k.prototype.Dm=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ea() + ", " + n};m.Va(this.Qt,n.type,n);};k.prototype.$Db=function(n){m.Va(this.Qt,"transportReport",n);};return k;})();b.qIa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZJa=void 0;c=a(2);f=c.__importStar(a(10));l=a(240);m=a(834);d=a(837);r=a(83);g=a(5);h=a(242);k=a(9);n=a(68);a=(function(p){function q(u,t,w,v,x,y,z,A){var B;B=p.call(this,u) || this;B.I=t;B.H=w;B.kn=v;B.Wd=x;B.Ug=y;B.Lna=A;B.tbb=!0;B.Ee=new h.D_(B.H);B.Lk=B.H.error.bind(B.H);B.Sb=B.H.warn.bind(B.H);B.nn=B.H.trace.bind(B.H);B.QOa();B.Ep=null === z || void 0 === z?void 0:z.BG(function(){return B.lWb();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eb:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kx:{get:function(){return 0 < this.KA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Iwa:{get:function(){return !this.SK;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KA:{get:function(){return this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Js:{get:function(){return this.Ea.Js;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{IUb:{get:function(){return this.Ee.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kU:{get:function(){return this.Ea.complete.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tp:{get:function(){return this.Ea.LSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bka:{get:function(){return this.Ea.KSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mE:{get:function(){return this.Ea.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Im:{get:function(){return void 0 === this.Ea.zd?0:this.Ea.me - this.Ea.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{un:{get:function(){return {fa:this.Ea.CC,W:Math.max(this.Ea.LSa - this.Ea.zd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$L:{get:function(){return this.Ea.Dvb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CC:{get:function(){return this.Ea.CC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yt:{get:function(){return this.Ea.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ND:{get:function(){return this.Emb();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ata:{get:function(){return this.Ea.$Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{F6:{get:function(){return this.Ea.length > this.Ea.Js;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kp:{get:function(){return this.Ea.Kp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gMb:{get:function(){return this.MNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{z5a:{get:function(){return this.Ea.length - this.am;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{U:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});q.prototype.Ff=function(){var u,t;t=this.Ea;setTimeout(function(){t.forEach(function(w){w.abort();w.fd();});},1);this.QOa();this.Ee.d5();null === (u=this.Ep) || void 0 === u?void 0:u.Lb();};q.prototype.reset=function(){this.Ff();this.Ee.S7a();};q.prototype.close=function(){this.Ee.d5();};q.prototype.O8a=function(){this.DMa=!0;};q.prototype.Sna=function(){return {endMarked:void 0 !== this.Ee.count,queueCount:this.Ee.count,isComplete:this.Ee.Vz,itemCount:this.Ee.MSa,continuousEndPts:this.Ee.gp().reduce(function(u,t){return t && !t.done && (t=t.value,100 > Math.abs(t.Kma - u) || -1 === u)?t.aEb:u;},-1),sentinelItemCount:this.Ee.gp().filter(function(u){return u && u.done;}).length,processedCount:this.Ee.aAb,rc:this.KA};};q.prototype.Lyb=function(u,t,w){var v;v=this.I;g.assert(!u.header);u=v.SBb && 1 === this.mediaType?new d.$ya(w,v,t.track,u,this.Ea,this.H):l.z_.create(w,v,t.track,u,this.Ea,!1,this.H,this.Lna);u.xb(this);this.Ey(u);return u;};q.prototype.orb=function(u){var t;u.xb(this);u.j3=!0;this.Ey(u);t=Promise.resolve();u.complete?(this.Dfa(u),this.kn.h4a(u.stream,u.zd,u.gd),t=this.Faa(),this.Yt(u)):(u.active && this.QM(u),u.Dua && this.PC(u));return t;};q.prototype.Ey=function(u){var t,w;this.Ea.qq(u);(null === (t=this.Ep) || void 0 === t?void 0:t.state) === n.bn.complete && (null === (w=this.Ep) || void 0 === w?void 0:w.Jm());this.Dfa(u);u.uq && (this.SK=!1);};q.prototype.Ez=function(){return this.Ee.MEb();};q.prototype.Bja=function(){this.am === this.Ea.length && this.DMa && this.Ee.d5();};q.prototype.Faa=function(){var u,t,w,v,A;u=this;w=Promise.resolve();v=this.Wd;if(!v.mW(this.Ug) || this.am === this.Ea.length)return w;for(var x=this.I.kOb,y=0,z=[];this.am < this.Ea.length;){if(t=this.Ea.get(this.am)){if(this.Ea.BWa && this.Ea.BWa.Wa < t.Wa)break;if(!t.ou())break;z.push(t);++y;f.Ca(this.zd) || (this.zd=t.zd);}++this.am;if(!f.ia(x) && y >= x)break;}if(z.length){void 0 !== this.Ee.count && (this.Lk("tryToAtach() but requestQueue has sentinel:",this.Ee.count),this.Ee.S7a());if(this.tbb)w=Promise.all(z.map(function(B){return u.Ee.enqueue(B).then(function(){return u.C6(B);});}));else for(t=0;t < z.length;t++){try{A=z[t];v.cHb(this.mediaType).wAb(A);this.C6(A);}catch(B){return (this.am-=z.length - t,Promise.reject(B));}}this.Bja();}return w;};q.prototype.C6=function(u){this.MNa=u;this.LWa(u);};q.prototype.vT=function(u,t){var w,v,x;w=this;v=[];if(0 !== this.Ea.Js){x=this.Ea.s5a;this.Ea.i1b.Cwa(function(y){if(!f.ia(u) && y.P.Pb !== u || y.uq || x > y.zd)return !0;y.y5 && (w.SK=!1);if(!w.C1(y))return (w.Sb("request abort failed:",y.toString()),!0);v.unshift(y);});this.aha();v.length && "function" === typeof t && t(v);}};q.prototype.n$=function(){this.aha();};q.prototype.lWb=function(){var u,t,w,v,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ea.length)return [3,3];u=this.Ea.get(0);t=k.T.Ab(null !== (y=null === (x=this.I.vP) || void 0 === x?void 0:x.W) && void 0 !== y?y:0);w=t.add(u.xe);return [4,n.Kk.bQ(w)];case 2:z.Ic();if(1 >= this.Ea.complete.length && !u.uq)return [3,3];g.assert(u === this.Ea.get(0));u.ff || this.C1(u);v=this.Ea.splice(0,1);0 < this.am && this.am--;this.kn.k9(v);return [3,1];case 3:return [2];}});};q.prototype.aY=function(u,t){var w,v,x,y,z,A;w=this;v=this.I;x=!1;y=0;z=this.Ea.some(function(B){if(u < B.me)return (x && w.Dfa(B),!0);++y;B.ff || (w.Sb("pruning unappended request:",B && B.toString()),v.ii && w.kn.Dm("prune pts:" + u + " unappended request:" + (B && B.toString())),B.y5 && (w.SK=!1,x=!0),w.C1(B,t) || w.Lk("MediaRequest.abort error:",B.qh));});if(0 < y){A=this.Ea.splice(0,y);this.am-=Math.min(y,this.am);this.kn.k9(A);}return z;};q.prototype.q6=function(u){var t,w,v;void 0 === u && (u={lU:null,FO:null,zd:null,el:0,eh:0,U:[]});t=this.I;w=this.Ea;f.Ca(w.zd) && (null === u.zd || w.zd < u.zd) && (u.zd=w.zd);v=this.Tp;void 0 !== v && null === u.lU && (u.lU=v);v=w.me;void 0 !== v && (null === u.FO || v > u.FO) && (u.FO=v);u.el+=w.el;u.eh=t.wwa?u.eh + w.X6a:u.eh + w.CC;Array.prototype.unshift.apply(u.U,w.Ic.U);return u;};q.prototype.Vt=function(u){if(this.Ea.length && (u=this.Ea.oWa(u)))return u;};q.prototype.nqb=function(u){var t,w,v;w=u.Qd;u=u.gd;g.assert(w,"expected contentEndTimestamp to be defined");g.assert(void 0 !== u,"expected contentStartPts to be defined");u=this.Ea.kma(u);v=this.Ea.get(u);g.assert(v && void 0 !== v.gd && void 0 !== v.Mc && void 0 !== v.index,"expected existing request to be defined with properties");if(null === (t=v.Qd) || void 0 === t?0:t.equal(w))return (this.xPa(u),[v.Mc,v.index + 1]);this.xPa(u - 1);return [v.gd,v.index];};q.prototype.Rm=function(){var u,t;u=this;t=[];this.Ea.forEach(function(w){var v;v=w.Zxa();1 === v?t.push(w):2 === v && u.eb.P.Ph("swapUrl failure");});return t;};q.prototype.XH=function(u){u.nD && u.ou() && this.Faa();this.PC(u);};q.prototype.uk=function(u){var t,w;u.nD && !u.ff && this.Faa();(null === (t=this.Ep) || void 0 === t?void 0:t.state) === n.bn.complete && (null === (w=this.Ep) || void 0 === w?void 0:w.Jm());this.Yt(u);};q.prototype.gia=function(u){var t,w,v;t=1 === this.Ug?"v_":"a_";w=this.Ea;v=w.MM(u);u=0 <= v?w.get(v):void 0;return (w=0 <= v && v + 1 < w.length?w.get(v + 1):void 0) && u?u.me !== w.zd?t + "rg":u.complete && w.complete?t + "uk":t + "fd":t + "rm";};q.prototype.Emb=function(){return this.Ea.Kp + this.Ea.Js;};q.prototype.QOa=function(){var u,t,w;t=void 0 !== this.Ea && 0 < this.Ea.length;w=this.Ea;this.Ea=new m.Vya(this.H,this);this.am=0;this.Ee.clear();this.MNa=void 0;this.zd=null;null === (u=this.Ep) || void 0 === u?void 0:u.Jm();this.DMa=this.SK=!1;t && (u=w.map(function(v){return v;}),this.kn.k9(u));};q.prototype.Dfa=function(u){this.SK?u.y5=!1:this.SK=u.y5=!0;};q.prototype.xPa=function(u){var t;for(u+=1;u < this.KA;u++){t=this.Ea.get(u);g.assert(t,"expected request to exist");this.Ee.remove(t);t.aborted || (this.C1(t),t.fd());}this.aha();};q.prototype.C1=function(u,t){if(!u.abort())return !1;"function" === typeof t && t(u);return !0;};q.prototype.aha=function(){var u,t,w,v;u=this;if(0 !== this.Ea.length){w=[];v=0;this.Ea.AUb(function(x,y){y < u.am && ++v;w.push(x);});this.am-=v;null === (t=this.Ep) || void 0 === t?void 0:t.Jm();this.kn.k9(w);}};return q;})(r.ov);b.ZJa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Sya=void 0;c=a(2);f=a(116);l=c.__importDefault(a(28));r=c.__importDefault(a(6));m=a(9);d=a(5);g=a(241);h=a(101);k=a(233);n=a(117);p=r.default.cr;a=(function(q){function u(t,w,v,x,y,z,A,B){var E;x=q.call(this,t,v,x,z,A,B) || this;y=h.Um.prototype.toString.call(x) + (y?"(cache)":"");B={offset:v.offset,fa:v.Xra + 8,responseType:0};x.push(new k.pQ(t,w,y + "(moof)",B,x,z,A));B={offset:v.offset + B.fa,fa:v.fa - B.fa,responseType:p.qc && !p.qc.CY.XR?0:1};if(x.mediaType === l.default.Ta.Nb && x.va){if(0 < x.va.start){E=x.sWa(x.va.start);E && (B.offset=v.offset + E,B.fa=v.fa - E);}x.va.end < x.QC && (E=x.sWa(x.va.end)) && (B.fa-=v.fa - E);}x.push(new k.pQ(t,w,y + "(mdat)",B,x,z,A));return x;}c.__extends(u,q);u.prototype.ou=function(){return !this.ff && ! !this.Ea.length && this.Ea.every(function(t){return t.ou();});};u.prototype.fG=function(t){var w,v,x,y,z,A,B,E;if(this.ff)return {status:n.Gj.Dx};if(!this.ou())return {status:n.Gj.Of};w=!1;v=this.Ea[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === f.ko(y.getUint32(x.byteLength + 4)));z=this.va && 0 < this.va.start;y=this.va && this.va.end < this.QC;if(this.va && (z || y)){if(z)(A=new f.er(this.H,this.stream,x),B=A.Qua(this.va.start,this.S));if(y && !1 !== B){A=new f.er(this.H,this.stream,B?m.DC(B.Ld):x);E=A.Uua(this.va.end - this.va.start,this.S);}if(x=y?E:B)(w=t.appendBuffer(m.DC(x.Ld),m.vq(this)),B && (v-=B.Yi),E && (v-=E.Yi));A=this.dha();}else w=t.appendBuffer(x,m.vq(this));w && (w=t.appendBuffer(f.gA(v - 8),m.vq(this))) && (w=t.appendBuffer(this.Ea[1].response,m.vq(this)));this.ff=w;this.EVb();return {status:w?n.Gj.Dx:n.Gj.Of,nk:A};};u.prototype.toString=function(){return "ID: " + this.li() + ":" + q.prototype.toString.call(this);};return u;})(g.zE);b.Sya=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ucb=void 0;r=a(2);c=a(116);f=r.__importDefault(a(28));l=a(9);a(5);m=r.__importDefault(a(6));d=a(117);a=(function(){function g(){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:var D9U="1SIYbZ";D9U+="r";D9U+="N";D9U+="JCp9";D9U;n60=1;break;}}}var m60;m60=2;for(;m60 !== 3;){switch(m60){case 2:g.prototype.fG=function(h,k,n){var o60,p;o60=2;for(;o60 !== 10;){switch(o60){case 1:o60=this.ff?5:4;break;case 2:k=this.Oe;o60=1;break;case 5:return {status:d.Gj.Of};break;case 3:o60=this.va && (this.uq || this.Fw)?9:12;break;case 4:o60=!this.va || this.uq || this.Fw?3:11;break;case 9:p=this.gmb(h);h=p.$;o60=7;break;case 7:p=p.nk;o60=6;break;case 11:(p=this.fmb(h),h=p.$,p=p.nk);o60=6;break;case 6:this.ff=!0;this.nY();return {status:h?d.Gj.Dx:d.Gj.Of,nk:p};break;case 12:h=this.mediaType === f.default.Ta.Vb && k.ZD && n && this.ev && n.me >= this.me && this.Mc - this.ev < this.ev - this.gd?!0:h.appendBuffer(this.response,l.vq(this));o60=6;break;}}};g.prototype.fmb=function(h){var p60,k,n,p,q;p60=2;for(;p60 !== 12;){switch(p60){case 2:(k={fE:0},n=!1,p=!0);this.va && (k.fE=this.va.twa);0 >= this.duration && (p=!1,n=!0);p60=4;break;case 6:var K9U=" ";K9U+="fr";K9U+="o";K9U+="m [ ";var d9U="AseFragmentMediaRequest";d9U+=": Frag";d9U+="ment edit fail";d9U+="ed for ";(this.H.error(d9U + this.toString() + K9U + this.SM + "-" + this.H5 + "]"),n=!0);p60=13;break;case 9:var r9U="medi";r9U+="a|as";r9U+="ejs";var Z9U="M";Z9U+="P";Z9U+="4";p60=(n=new c.er(new m.default.Console(Z9U,r9U),this.stream,this.response),n=n.Qua(this.va.start,this.dO,k.fE))?8:6;break;case 14:n=h.appendBuffer(this.response,l.vq(this));p60=13;break;case 3:p60=this.va && (0 < this.va.start || k.fE)?9:14;break;case 7:q=this.dha(k);p60=13;break;case 4:p60=p?3:13;break;case 13:return {$:n,nk:q};break;case 8:n=h.appendBuffer(l.DC(n.Ld),l.vq(this));p60=7;break;}}};g.prototype.gmb=function(h){var q60,k,n,p;q60=2;for(;q60 !== 12;){switch(q60){case 5:q60=k?4:13;break;case 2:n={fE:0};(k=!0,0 === this.duration) && (k=!1);q60=5;break;case 4:q60=this.va && this.va.end < this.QC || n.fE?3:14;break;case 3:q60=(k=new c.er(this.H,this.stream,this.response),k=k.Uua(this.va && this.va.end,this.S,n.fE))?9:6;break;case 8:p=this.dha(n);q60=7;break;case 7:return {$:h,nk:p};break;case 6:var O9U=" fr";O9U+="o";O9U+="m ";O9U+="[";O9U+=" ";var h9U="AseFra";h9U+="gmentMediaRequest: Fragm";h9U+="ent edit f";h9U+="aile";h9U+="d for ";(this.H.error(h9U + this.toString() + O9U + this.SM + "-" + this.H5 + "]"),h=!0);q60=7;break;case 14:h=h.appendBuffer(this.response,l.vq(this));q60=7;break;case 13:h=!0;q60=7;break;case 9:h=h.appendBuffer(l.DC(k.Ld),l.vq(this));q60=8;break;}}};return g;break;}}})();b.Ucb=a;b.default=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;c=a(2);a(5);f=a(835);r=a(42);l=a(836);m=a(102);d=a(83);g=a(232);a=(function(h){function k(n,p){var q,u;q=this;u=[new l.y_(n),new l.y_(n),new l.y_(n)];q=h.call(this,u,function(t){return t.complete?q.empty || t.Wa <= q.Evb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Ei=u[0];q.af=u[1];q.vt=u[2];q.vr=0;q.ofa=0;q.H=n;q.bf=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.Ei.fa + this.af.fa + this.vt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{i1b:{get:function(){return this.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.af;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Ei;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X6a:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CC:{get:function(){return this.Ei.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{el:{get:function(){return this.Ei.fa + this.af.fa - this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{j1b:{get:function(){return this.vt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.lEb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ro:{get:function(){return this.Jsb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ala:{get:function(){return !this.Ei.empty || this.vt.empty || this.af.empty?this.first:this.af.Wa < this.vt.Wa?this.af.first:this.vt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{t1a:{get:function(){return this.vt.empty || this.af.empty?this.Ro:this.af.ob < this.vt.ob?this.vt.Ro:this.af.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{BWa:{get:function(){return this.vt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wa:{get:function(){return this.Ala && this.Ala.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ob:{get:function(){return this.t1a && this.t1a.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xj:{get:function(){return this.first && this.first.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dvb:{get:function(){return this.Ei.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$Jb:{get:function(){return this.Mc - this.KSa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Evb:{get:function(){return this.Ei.empty?this.Wa:this.Ei.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{KSa:{get:function(){return this.Ei.empty?this.gd:this.Ei.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{LSa:{get:function(){return this.Ei.empty?this.zd:this.Ei.me;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{s5a:{get:function(){return this.af.me || this.Ei.me;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Js:{get:function(){return this.vt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kp:{get:function(){return this.af.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{NSa:{get:function(){return this.Ei.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ic:{get:function(){return this.Ei.concat(this.af);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fr:{get:function(){return this.Cg;},enumerable:!1,configurable:!0}});k.prototype.yK=function(n){var p;n.aborted?++this.ofa:this.vr+=n.bytesReceived || 0;if(this.empty)this.Cg=new g.oB(this,{});else if(n.Wa !== this.ob)if(n.Wa > this.Cg.ob)this.Cg.QY(this.Cg.ob);else if(n.Wa < this.Wa || n.Wa === this.Cg.ob){p=n.ob;this.RDb(function(q,u){return q.Wa - u.Wa;},function(q){p=q.Wa === p?q.ob:p;});p === Math.max(this.ob,n.ob)?this.Cg.Pja():this.Cg.QY(p);}n.fwa(this);};k.prototype.ty=function(n){n.aborted?--this.ofa:this.vr-=n.bytesReceived;this.empty?this.Cg=void 0:n.Wa !== this.ob && n.ob <= this.Cg.ob && n.Wa > this.Cg.Wa && this.Cg.QY(n.Wa);n.rSa();};k.prototype.push=function(n){this.yK(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.ty(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.ty(n);return n;};k.prototype.unshift=function(n){this.yK(n);return h.prototype.unshift.call(this,n);};k.prototype.qq=function(n){this.yK(n);h.prototype.qq.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.ty(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.yK.bind(this));u.forEach(this.ty.bind(this));return u;};k.prototype.AUb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.kma=function(n){return this.pWa(function(p){return p.kma(n);});};k.prototype.MM=function(n){return this.pWa(function(p){return p.MM(n);});};k.prototype.oWa=function(n){n=this.MM(n);return -1 !== n?this.get(n):void 0;};k.prototype.sXb=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.uA=function(n){this.move(n);this.QM(n);};k.prototype.YH=function(n){this.vr+=n.bytesReceived - n.ms;this.UG(n);};k.prototype.uk=function(n){for(this.vr+=n.bytesReceived - n.ms;this.af.first && this.af.first.complete && (this.Ei.empty?this.af.first === this.Ala:this.af.first.Wa === this.Ei.ob);){this.KYb();}this.Yt(n);};k.prototype.zX=function(n,p,q){this.vr-=n.bytesReceived;++this.ofa;this.PM(n,p,q);};return k;})(f.CAa);b.Vya=a;r.zf(d.ov,a,!1);r.zf(m.xx,a);r.zf(m.nB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=void 0;c=a(2);a(5);r=(function(){function f(l,m){this.ud=l;this.KK=m;this.oy();}Object.defineProperties(f.prototype,{length:{get:function(){return this.nf;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.nf;},enumerable:!1,configurable:!0}});f.prototype.lEb=function(){return this.Sg && this.Sg.get(0);};f.prototype.Jsb=function(){return this.EK && this.EK.get(this.EK.length - 1);};f.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.ud.length;++m){if(this.ci[m + 1] > l)return this.ud[m].get(l - this.ci[m]);}};f.prototype.push=function(l){this.ud[this.KK(l)].push(l);this.oy();return this.nf;};f.prototype.shift=function(){var l;if(this.Sg){l=this.Sg.shift();this.oy();return l;}};f.prototype.pop=function(){var l;if(this.EK){l=this.EK.pop();this.oy();return l;}};f.prototype.unshift=function(l){this.ud[this.KK(l)].unshift(l);this.oy();return this.nf;};f.prototype.qq=function(l){var m;m=this.KK(l);this.ud[m].qq(l);this.oy();};f.prototype.remove=function(l){var m;m=this.ud.some(function(d){return d.remove(l);});m && this.oy();return m;};f.prototype.splice=function(l,m){var q,u,t,w;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var k,n=l + Math.max(0,m),p=0;p < this.ud.length;++p){q=this.ud[p];u=this.ci[p];t=this.ci[p + 1];if(l < t){w=l - u;u=Math.min(n - u,q.length);void 0 === k && 0 < w && u < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([w,u - w],g))):(Array.prototype.push.apply(h,q.splice(w,u - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));l=t;if(l >= n)break;}}if(g.length && void 0 !== k){for(n=this.KK(g[0]);0 < k && n < k && this.ud[k].empty;){--k;}for(;g.length && n === k;){this.ud[k].push(g.shift());if(!g.length)break;n=this.KK(g[0]);}for(;g.length && ++k < this.ud.length && this.ud[k].empty;){for(;g.length && n === k;){this.ud[k].push(g.shift());if(!g.length)break;n=this.KK(g[0]);}}g.length && (d=this.ud[k]).splice.apply(d,c.__spread([0,0],g));}this.oy();return h;};f.prototype.find=function(l){var m,d;m=this;return this.ud.some(function(g,h){d=g.find(m.kC(l,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(l){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].findIndex(this.kC(l,m));if(-1 !== d)return d + this.ci[m];}return -1;};f.prototype.indexOf=function(l){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].indexOf(l);if(-1 !== d)return d + this.ci[m];}return -1;};f.prototype.map=function(l){var m,d;m=this;d=this.ud.map(function(g,h){return g.map(m.kC(l,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(l,m){var d;d=this;return this.ud.reduce(function(g,h,k){return h.reduce(d.iqb(l,k),g);},m);};f.prototype.forEach=function(l){var m;m=this;this.ud.forEach(function(d,g){d.forEach(m.kC(l,g));});};f.prototype.z5=function(l){for(var m=this.ud.length - 1;0 <= m;--m){this.ud[m].z5(this.kC(l,m));}};f.prototype.some=function(l){var m;m=this;return this.ud.some(function(d,g){return d.some(m.kC(l,g));});};f.prototype.Cwa=function(l){for(var m=this.ud.length - 1;0 <= m;--m){if(this.ud[m].Cwa(this.kC(l,m)))return !0;}return !1;};f.prototype.every=function(l){var m;m=this;return this.ud.every(function(d,g){return d.every(m.kC(l,g));});};f.prototype.RDb=function(l,m){var n,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > l(t,v[u])?w:u;},void 0);}for(var g=this,h=this.ud.map(function(){return 0;}),k=this.ud.filter(function(q){return q.empty;}).length;k < this.ud.length;){n=h.map(function(q,u){return q < g.ud[u].length?g.ud[u].get(q):void 0;});p=d(n);m(n[p],this.ci[p] + h[p],this);++h[p];h[p] === this.ud[p].length && ++k;}};f.prototype.move=function(l){return this.remove(l)?(this.qq(l),!0):!1;};f.prototype.KYb=function(){var l;if(this.ud[1].length){l=this.ud[1].shift();this.ud[0].push(l);this.oy();}};f.prototype.pWa=function(l){for(var m=-1,d=0;d < this.ud.length;++d){if((m=l(this.ud[d]),-1 !== m)){m+=this.ci[d];break;}}return m;};f.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};f.prototype.oy=function(){var m;this.nf=0;this.ci=[0];this.EK=this.Sg=void 0;for(var l=0;l < this.ud.length;++l){m=this.ud[l];this.nf+=m.length;this.ci.push(this.ci[this.ci.length - 1] + m.length);!this.Sg && m.length && (this.Sg=m);m.length && (this.EK=m);}};f.prototype.kC=function(l,m){var d,g;d=this;g=this.ci[m];return function(h,k){return l(h,g + k,d);};};f.prototype.iqb=function(l,m){var d,g;d=this;g=this.ci[m];return function(h,k,n){return l(h,k,g + n,d);};};return f;})();b.CAa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.y_=void 0;c=a(2);f=a(5);r=a(42);l=a(232);a=a(102);m=(function(){function d(g,h){this.Na=[];this.Cg=void 0;this.Rc=0;this.H=g;h && h.length && (Array.isArray(h)?(this.Na=h.slice(),this.jS(0,this.Na.length)):h instanceof d && (this.Na=h.Na.slice(),this.jS(0,this.Na.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Na.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Na.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Na[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ro:{get:function(){return this.Na[this.Na.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wa:{get:function(){return this.first && this.first.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ob:{get:function(){return this.Ro && this.Ro.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fr:{get:function(){return this.Cg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fa:{get:function(){return this.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xj:{get:function(){return this.first && this.first.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});d.prototype.ysb=function(){var g;if(0 === this.Na.length)(f.assert(void 0 === this.Cg),f.assert(0 === this.Rc));else {f.assert(this.Cg instanceof l.oB);f.assert("number" === typeof this.Rc);f.assert(void 0 !== this.Fr && this.Fr.Wa === this.Wa);g=this.Na.reduce(function(h,k,n){return 0 === n || k.Wa === h?k.ob:h;},0);f.assert(this.Fr.ob === g);f.assert(this.Na.reduce(function(h,k,n){return 0 === n || k.Wa === h?k.ob:h;},0) === this.Fr.ob);f.assert(this.Na.reduce(function(h,k){return h + k.fa;},0) === this.Rc);}};d.prototype.get=function(g){0 > g && (g+=this.Na.length);return this.Na[g];};d.prototype.push=function(g){this.Na.push(g);this.jS(this.Na.length - 1);return this.length;};d.prototype.unshift=function(g){this.Na.unshift(g);this.jS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Na.length)return (this.cha(this.Na.length - 1),this.Na.pop());};d.prototype.shift=function(){if(0 !== this.Na.length)return (this.cha(0),this.Na.shift());};d.prototype.splice=function(g,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Na.length);0 > g && (g=0);g > this.Na.length && (g=this.Na.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Na.length - g);0 < h && this.cha(g,g + h);p=(k=this.Na).splice.apply(k,c.__spread([g,h],n));0 < n.length && this.jS(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Na.length);0 > g && (g+=this.Na.length);if(g >= this.Na.length)return new d(this.H);h > this.Na.length && (h=this.Na.length);0 > h && (h+=this.Na.length);return new d(this.H,this.Na.slice(g,h));};d.prototype.qq=function(g){if(0 === this.Na.length || g.Wa >= this.ob)this.push(g);else if(g.ob <= this.Wa)this.unshift(g);else {for(var h=0,k=this.Na.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);f.assert(n !== k && n !== h);g.Wa >= this.Na[n].ob?h=n:k=n;}f.assert(h !== k);f.assert(this.Na[h].ob <= g.Wa && this.Na[k].Wa >= g.ob);this.splice(k,0,g);}};d.prototype.remove=function(g){g=this.Na.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(k){return k.Na;});return new d(this.H,Array.prototype.concat.apply(this.Na,g));};d.prototype.forEach=function(g){var h;h=this;this.Na.forEach(function(k,n){return g(k,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Na.some(function(k,n){return g(k,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Na.every(function(k,n){return g(k,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Na.map(function(k,n){return g(k,n,h);});};d.prototype.reduce=function(g,h){var k;k=this;return this.Na.reduce(function(n,p,q){return g(n,p,q,k);},h);};d.prototype.indexOf=function(g){return this.Na.indexOf(g);};d.prototype.find=function(g){var h,k;h=this;return this.Na.some(function(n,p){k=p;return g(n,p,h);})?this.Na[k]:void 0;};d.prototype.findIndex=function(g){var h,k;h=this;return this.Na.some(function(n,p){k=p;return g(n,p,h);})?k:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.H,this.Na.filter(function(k,n){return g(k,n,h);}));};d.prototype.z5=function(g){for(var h=this.Na.length - 1;0 <= h;--h){g(this.Na[h],h,this);}};d.prototype.Cwa=function(g){for(var h=this.Na.length - 1;0 <= h;--h){if(g(this.Na[h],h,this))return !0;}return !1;};d.prototype.kma=function(g){if(this.empty || g < this.gd || g >= this.Mc)return -1;for(var h=0,k=this.Na.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Na[n].gd && g < this.Na[n].Mc){k=n;break;}g < this.Na[n].Mc?k=n - 1:h=n + 1;}return k;};d.prototype.MM=function(g){if(this.empty || g < this.zd || g >= this.me)return -1;for(var h=0,k=this.Na.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Na[n].zd && g < this.Na[n].me){k=n;break;}g < this.Na[n].me?k=n - 1:h=n + 1;}return k;};d.prototype.oWa=function(g){g=this.MM(g);return 0 <= g?this.Na[g]:void 0;};d.prototype.a3=function(g){var h;h=this.Na[g].ob;for(g+=1;g < this.Na.length && h === this.Na[g].Wa;++g){h=this.Na[g].ob;}g < this.Na.length?void 0 === this.Cg?this.Cg=new l.oB(this,{ob:h}):this.Cg.QY(h):void 0 === this.Cg?this.Cg=new l.oB(this,{}):this.Cg.Pja();};d.prototype.yK=function(g,h){for(var k=g;k < h;++k){this.Rc+=this.Na[k].fa;}void 0 === this.Cg || 0 === g?this.a3(0):this.Cg.ob === this.ob?this.a3(g - 1):this.Na[g].Wa === this.Cg.ob && this.a3(g);};d.prototype.ty=function(g,h){var k;if(0 === g)(this.Cg=void 0,h < this.length && this.a3(h));else {k=this.Cg;k.ob > this.Na[g - 1].ob && (h < this.length?k.QY(this.Na[g - 1].ob):k.Pja());}for(;g < h;++g){this.Rc-=this.Na[g].fa;}};d.prototype.jS=function(g,h){void 0 === h && (h=g + 1);this.yK(g,h);};d.prototype.cha=function(g,h){void 0 === h && (h=g + 1);this.ty(g,h);};return d;})();b.y_=m;r.zf(a.xx,m);r.zf(a.nB,m);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$ya=void 0;c=a(2);f=a(116);l=a(5);c.__importDefault(a(6));m=a(9);d=a(241);g=a(101);h=a(233);k=a(117);r=(function(n){function p(q,u,t,w,v,x){u=n.call(this,q,w,v,u,x) || this;u.dmb=t;u.c2=p.HE.INIT;u.c9b=w.offset;u.yga=g.Um.prototype.toString.call(u) + " multiple";u.yob=w.fa;u.rL(q.url,w.offset,8,0);return u;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fa:{get:function(){return this.yob;},enumerable:!1,configurable:!0}});p.prototype.uk=function(q){var u,t;this.hn=this.c2 === p.HE.INIT?q.response:m.DC(this.hn,q.response);q.nY();switch(this.c2){case p.HE.INIT:(u=new DataView(this.hn),t=u.getUint32(0));u=u.getUint32(4);f.ko(u);this.rL(q.url,q.offset + q.fa,t,0);d.zE.prototype.uk.call(this,q);this.c2=p.HE.CFa;break;case p.HE.CFa:u=new DataView(this.hn);t=u.getUint32(this.NMa - 8);u=u.getUint32(this.NMa - 4);f.ko(u);this.rL(q.url,q.offset + q.fa,t - 8,0);this.c2=p.HE.xFa;d.zE.prototype.uk.call(this,q);break;case p.HE.xFa:d.zE.prototype.uk.call(this,q);break;default:l.assert(!1);}};p.prototype.fG=function(q){if(this.ff)return {status:k.Gj.Dx};if(!this.ou())return {status:k.Gj.Of};this.ff=q.appendBuffer(this.hn,m.vq(this));return {status:this.ff?k.Gj.Dx:k.Gj.Of};};p.prototype.rL=function(q,u,t,w){q=new h.pQ(this.stream,this.dmb,this.yga + " (" + this.Ea.length + ")",{J:this.J,mediaType:this.mediaType,Pa:this.Pa,bitrate:this.bitrate,offset:u,fa:t,url:q,location:this.location,Nd:this.Nd,responseType:w},this,this.Oe,this.H);this.push(q);this.NMa=this.Ea.reduce(function(v,x){return v + x.fa;},0);};p.HE={INIT:0,CFa:1,xFa:2,name:["INIT","MOOF","MDAT"]};return p;})(d.zE);b.$ya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.OKa=void 0;c=a(383);f=a(22);r=(function(){function l(m,d){this.dh=m;this.console=d;this.GF=Infinity;this.tS=this.D2=0;this.oPa=!1;}l.prototype.fWb=function(){this.oPa=!0;};l.prototype.tDb=function(m,d,g,h,k){var n;if(this.dh){n=m.U;if(n){if(1 === g)(g=n.Bn(Math.ceil(this.dh * m.sa.hI),void 0,!0),n=m.Xk(g),m=n.QU.Cl(m.sa),n.Ck({start:0,end:this.dh - g * m}),this.GF=this.dh);else {void 0 !== h.T9a?(d=h.T9a,g=d * m.sa.W):(g=c.Gna(h,k) + Math.ceil(h.qsb * m.sa.hI),f.T.Ab(g).Cl(m.sa),g=d + g,d=Math.ceil(g / m.sa.hI));g=n.Bn(g,void 0,!0);for(k=h=0;k < g;++k){n=m.Xk(k);h+=n.QU.Cl(m.sa);}h=d - h;n=m.Xk(g);n.Ck({end:h});this.GF=d;}n.t2a();return n;}}};l.prototype.bKb=function(m){this.tS+=m.I7a;this.console.warn("StallAtFrameCount, adding frames: " + m.I7a,"total frames: " + this.tS,"needed frames: " + this.GF);};l.prototype.LIb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.D2,"needed: " + this.GF);return this.D2 >= this.GF;};l.prototype.KIb=function(){return this.tS >= this.GF;};l.prototype.dKb=function(m,d){this.D2+=this.TC(m,d);};l.prototype.oCb=function(m,d,g){m.I7a=this.TC(d,g);};l.prototype.TC=function(m,d){return m.QU.Cl(d.sa);};l.prototype.Wy=function(){if(!this.KIb())return !1;if(this.oPa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.tS + " >= " + this.GF);return !0;};return l;})();b.OKa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Sea=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(28));l=r.__importDefault(a(6));m=a(25);d=a(16);g=a(238);h=a(840);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ma[d.ma.Ah],d.ma[d.ma.xd],d.ma[d.ma.Qf],d.ma[d.ma.Lc],d.ma[d.ma.jh],"checkBuffering"];p={first:a(842),random:a(843),optimized:a(175).default,roundrobin:a(847),selectaudio:a(393),selectaudioadaptive:a(848),"default":a(175).default,lowest:a(849),highest:a(850),throughputthreshold:a(851),replay:a(852).default,checkdefault:a(854),testscript:a(855)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){function u(t,w,v,x){var s60,y;s60=2;for(;s60 !== 6;){switch(s60){case 3:var P9U="1";P9U+="SIYbZrN";P9U+="J";P9U+="Cp9";P9U;t=t || this.I.Swa;this.zg=n.reduce(function(z,A){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:z[A]=((p[t] || p[q[A]])[A] || p[q[A]][A]).bind(y);return z;break;}}},{});x && (this.Z4a=new h.uHa(w));s60=6;break;case 2:y=this;this.kP=t;this.I=w;this.vg=v;s60=3;break;}}}var r60;r60=2;for(;r60 !== 6;){switch(r60){case 1:u.prototype.Wy=function(t,w,v,x,y){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.zg.checkBuffering.call(this,t,w,v,x,y,this.I);break;}}};u.prototype.QZb=function(t,w,v){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:c.ia(w)?this.zga=this.Dga=void 0:w.bitrate < v.bitrate && (this.Dga=t);B60=1;break;}}};u.prototype.Ota=function(t,w,v,x){var C60,y,z;C60=2;for(;C60 !== 5;){switch(C60){case 2:this.z5(t,function(A){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:A.ru && A.wb && A.wb.confidence?(y !== A.wb && (y=A.wb,w && A.wb && (A.wb.Xr=!0),z=Math.floor(x(A.wb,v,A.track.P.Mw[0])),z=0 === z?1:z),A.Ra=z):A.Ra=void 0;D60=1;break;}}});C60=5;break;}}};r60=3;break;case 2:u.prototype.Mva=function(t,w,v,x,y,z){var u60,v60,M,R,J,I,A,B,E,D,F,C,G,H,K;u60=2;for(;u60 !== 61;){switch(u60){case 52:var G9U="p";G9U+="la";G9U+="yi";G9U+="n";G9U+="g";this.Z4a && (H.Bu=this.Z4a.TGb({Qp:v.om - v.Nc,yNb:w[0],Mg:x,Z1b:w[H.Je + 1] || x,t0b:w[w.length - 1],wf:t.state,playbackRate:t.playbackRate,Rd:t.Rd}));c.Ca(C) && x.bitrate < w[C].bitrate && (this.zga=v.Jc);t.state !== d.ma.Lc && t.state !== d.ma.jh?(w=g.Q9(t.state),z=this.Wy(t.buffer,w,t.playbackRate,x,z),(H.Pe=z.complete)?H.I3=z.reason:(H.Pe=!1,H.xI=z.xI,H.wD=z.wD,H.progress=z.progress)):(H.Pe=!0,H.I3=G9U);u60=49;break;case 21:u60=H.Mg && (H.kz=[],w.forEach(function(P,N){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 2:P === H.Mg && (H.Je=N);(!F.DBb || P.U && P.U.length) && !P.daa || H.kz.push(P.Pa);P.daa=!1;z60=4;break;}}}),!H.kz.length)?35:38;break;case 28:G.U && G.U.length || (x=!0,H.kz.push(G.Pa));u60=44;break;case 23:this.vg.W8a(f.default.n0.Ah);u60=22;break;case 42:u60=0 <= y?41:39;break;case 39:x || (H.kz=void 0);u60=38;break;case 25:v60=t.state;u60=v60 === d.ma.Ah?24:47;break;case 20:u60=!(0 <= C)?19:16;break;case 17:C=0 < C?C - 1:0 === C?0:w.length - 1;u60=16;break;case 63:u60=62;break;case 29:G=w[y];u60=28;break;case 11:M=J[I - 1].Pa;C=m.Np(w,function(P){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return P.Pa === M;break;}}});u60=20;break;case 12:u60=0 < I?11:16;break;case 19:R=J[I - 1].bitrate;C=m.Np(w,function(P){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return P.bitrate > R;break;}}});u60=17;break;case 13:(J=v.U,I=J.length);u60=12;break;case 40:G.U && G.U.length || (x=!0,H.kz.push(G.Pa));u60=39;break;case 43:a000.x5U(0);var v31=a000.u5U(19,20);y=H.Je - v31;u60=42;break;case 35:y=v.om - v.Nc;G=void 0;x=!1;u60=32;break;case 47:u60=v60 === d.ma.xd?46:45;break;case 2:v=null === t || void 0 === t?void 0:t.buffer;(D=l.default.time.ea(),F=this.I,C=this.vg.n1a,G=!1);u60=4;break;case 45:u60=v60 === d.ma.Qf?46:65;break;case 30:u60=y < w.length?29:44;break;case 32:u60=F.K9a && y > F.ZW?31:39;break;case 36:var F9U="min_fr";F9U+="a";F9U+="gment_";F9U+="vm";F9U+="af";void 0 === H.p3a?this.vg.TY(H.Je):this.vg.TY(H.p3a);x=w[H.Je];H.reason && (x.zs=H.reason,F9U !== H.reason && (x.Lva=H.ju,x.Pz=H.Pz,x.Mo=H.Mo,x.No=H.No));u60=52;break;case 46:this.vg.W8a(f.default.n0.Ah);u60=22;break;case 41:G=w[y];u60=40;break;case 9:u60=c.ia(C) && t.state === d.ma.Lc && (G=!0,void 0 !== this.vg.su)?8:13;break;case 24:this.Dga=this.zga=void 0;u60=23;break;case 14:this.vg.TY(C);u60=13;break;case 31:y=H.Je + 1;u60=30;break;case 16:c.ia(C) && (C=this.vg.n1a);u60=15;break;case 4:c.Ca(C) && t.state === d.ma.Ah && (this.vg.TY(void 0),C=void 0);c.Ca(C) && C >= w.length && (this.vg.TY(void 0),C=void 0);u60=9;break;case 38:u60=!H || null === H.Je?37:36;break;case 49:t.yM && (H.Jc=v.Jc,z=t && t.Rd,w=x.U,H.ek=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.Aj(z):v.Jc,H.ATb=x.Ra || 0,H.BQb=x.wb && x.wb.Ra && x.wb.Ra.Fa || 0,H.fja=v.om - v.Nc,H.FRa=v.eh,H.gTb=null !== (E=null === (B=null === (A=l.default.U$b) || void 0 === A?void 0:A.call(l.default)) || void 0 === B?void 0:B[1 === t.mediaType?1:0]) && void 0 !== E?E:-1,H.wf=t.state,H.Kp=t && t.Kp,H.Gxa=D,H.O_b=l.default.time.ea());return H;break;case 22:H=this.zg[d.ma[t.state]].call(this,F,t,w,C,x,! !y,G);u60=21;break;case 37:return null;break;case 8:K=this.vg.su.bitrate;C=m.Np(w,function(P){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:return P.bitrate > K;break;}}});C=0 < C?C - 1:0 === C?0:w.length - 1;u60=14;break;case 44:u60=!x?43:39;break;case 15:void 0 !== x && this.Ota(w,! !t.Xr,t.buffer,x);t.state === d.ma.Ah && c.Ca(C) && (t.state=d.ma.xd);t.state !== d.ma.Ah && void 0 === C && (t.state=d.ma.Ah);u60=25;break;case 62:var Y9U="Stream selector call";Y9U+="e";Y9U+="d with i";Y9U+="nva";Y9U+="lid player state ";return (k.error(Y9U + d.ma[t.state]),null);break;case 65:u60=v60 === d.ma.Lc?22:64;break;case 64:u60=v60 === d.ma.jh?22:63;break;}}};r60=1;break;case 3:u.prototype.z5=function(t,w){var E60,v;E60=2;for(;E60 !== 3;){switch(E60){case 4:--v;E60=1;break;case 1:E60=0 <= v?5:3;break;case 5:w(t[v],v,t);E60=4;break;case 2:a000.e5U(7);var x31=a000.a5U(16,16);v=t.length - x31;E60=1;break;case 7:E60=2 > v?9:6;break;E60=0 <= v?5:3;break;}}};Object.defineProperties(u.prototype,{P7:{get:function(){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return this.zga;break;case 4:return this.zga;break;F60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xqa:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.Dga;break;}}},enumerable:!1,configurable:!0}});return u;break;}}})();b.Sea=a;},function(r,b,a){var k,n,p;function c(q){return d(q.Mg);}function f(q,u){var t,w,v,x;if(!u || "object" !== typeof u)return 0;t=q.Mg;w=q.Z1b;v=q.t0b;x={selectedFragmentBitrate:m(t,q.Rd) * q.playbackRate,upswitchFragmentBitrate:m(w,q.Rd) * q.playbackRate,maxFragmentBitrate:m(v,q.Rd) * q.playbackRate,selectedPeakBitrate:(t.mA || g(t) || 0) * q.playbackRate,upswitchPeakBitrate:(w.mA || g(w) || 0) * q.playbackRate,maxPeakBitrate:(v.mA || g(v) || 0) * q.playbackRate,selectedAverageBitrate:g(t) * q.playbackRate,upswitchAverageBitrate:g(w) * q.playbackRate,maxAverageBitrate:d(t) * q.playbackRate,bufferLevelMs:q.Qp,observedThroughput:h(q.Mg) || 0,predictedThroughput:(null === t || void 0 === t?void 0:t.Ra) || 0};q=u.offset || 0;return Object.keys(x).reduce(function(y,z){return y + (u[z] || 0) * x[z];},q);}function l(q,u){var t,w,v,x;if(!Array.isArray(u.Lua) || 1 > u.Lua.length)return 0;t=Array.from(u.Lua).sort(function(y,z){return y.Qp - z.Qp;});w=-1;for(u=0;u < t.length;u++){if(t[u].Qp >= q.Qp){w=u;break;}}if(-1 === w)return f(q,t[t.length - 1].Wja);if(0 === w)return f(q,t[0].Wja);v=t[w - 1].Qp;u=f(q,t[w - 1].Wja);x=t[w].Qp;t=f(q,t[w].Wja);q=Math.min((q.Qp - v) / (x - v),1);return (1 - q) * u + q * t;}function m(q,u){var t;return (void 0 !== u?null === (t=q.U) || void 0 === t?void 0:t.get(u).oRa:void 0) || q.mA || 0;}function d(q){var u,t;t=null === (u=null === q || void 0 === q?void 0:q.P) || void 0 === u?void 0:u.Mw;return t?t[q.mediaType] || 0:0;}function g(q){return (null === q || void 0 === q?void 0:q.bitrate) || 0;}function h(q){var u,t;return (null === (t=null === (u=null === q || void 0 === q?void 0:q.wb) || void 0 === u?void 0:u.Ra) || void 0 === t?void 0:t.Fa) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.uHa=void 0;r=a(2).__importDefault(a(6));k=a(16);n=a(841);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");p={maxStreamBitrate:c,"static":function(q,u){return u.FZb;},none:function(){return 0;},regression:l,epsGreedy:function(q,u){return Math.min(l(q,u) || 0,h(q.Mg));},"default":c};a=(function(){var H60;H60=2;for(;H60 !== 3;){switch(H60){case 2:q.prototype.mna=function(u,t,w){var J60,v;J60=2;for(;J60 !== 8;){switch(J60){case 2:J60=1;break;case 1:J60=!w?5:4;break;case 5:return 0;break;case 4:a000.x5U(8);t=Math.ceil(a000.a5U(w,t));u=(this.I.Tja.Hac || 0) * ((null === (v=u.yNb) || void 0 === v?void 0:v.mA) || 0);return t < u?0:t;break;}}};q.prototype.ZYb=function(u,t){var K60,w,v;K60=2;for(;K60 !== 5;){switch(K60){case 2:return !t.Tja.t$b || u.wf !== k.ma.Ah && u.wf !== k.ma.xd?!1:(u=null === (w=u.Mg) || void 0 === w?void 0:w.wb) && u.confidence >= k.Ada.Jx && (null === (v=u.Ra) || void 0 === v?0:v.Fa)?!0:!1;break;}}};q.prototype.TGb=function(u){var L60,v,t,w;L60=2;for(;L60 !== 14;){switch(L60){case 1:L60=!w?5:4;break;case 4:v=this.I.h1b;L60=3;break;case 2:(t=new n.Rda({wP:0,bM:0,QO:0}),w=this.I.Tja);L60=1;break;case 5:return t;break;case 9:return t;break;case 3:L60=v && u.Rd && 0 === u.Rd % v?9:8;break;case 8:t=0;this.ZYb(u,this.I)?t=h(u.Mg):u.Qp >= w.cX && (t=this.algorithm(u,this.I));return new n.Rda({wP:this.mna(u,t,w.I6a[0]),QO:this.mna(u,t,w.I6a[2]),bM:this.mna(u,t,w.I6a[1])});break;}}};return q;break;}}function q(u){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 2:var q9U="d";q9U+="e";q9U+="f";q9U+="ault";var m9U="1";m9U+="SIYb";m9U+="Z";m9U+="r";m9U+="NJCp9";this.I=u;m9U;this.algorithm=(p[this.I.YRb] || p[q9U]).bind(this);I60=4;break;}}}})();b.uHa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rda=void 0;c=a(2);r=(function(){function f(l){this.wP=l.wP;this.bM=l.bM;this.QO=l.QO;}Object.defineProperties(f.prototype,{J6a:{get:function(){return [this.wP,this.bM,this.QO];},enumerable:!1,configurable:!0}});f.prototype.z7=function(){return this.J6a.some(function(l){return 0 < l;});};f.prototype.w2a=function(l,m,d,g){var h;h=8 * l / Math.max(d - m,1);if(!this.z7())return !1;l=this.J6a.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spread(l)) < g;};return f;})();b.Rda=r;},function(r,b,a){var f,l,m,d;function c(g,h,k,n){if(f.ia(n))g=l(k);else if(m(k[n]))g=n;else if((g=l(k,n),0 > g))return null;return new d(g);}f=a(10);b=a(35);l=b.sma;m=b.tH;d=b.vp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){l=d.map(function(g,h){return g.ru?h:null;}).filter(function(g){return null !== g;});return l.length?new f(l[Math.floor(Math.random() * l.length)]):null;}f=a(35).vp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.G$=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);r=r.__importDefault(a(35));l=a(391);m=a(392);d=r.default.assert;g=r.default.vp;b.G$=h;(function(){var M60;M60=2;function k(n,p,q,u){function t(B){var O60,E;O60=2;for(;O60 !== 7;){switch(O60){case 3:var J9U="buff_lt";J9U+="_his";J9U+="t";z=J9U;A=E;return !0;break;case 2:void 0 !== y && (null === w || void 0 === w?0:w.U) && l.q8(n,q,w.U.ix,y,y + 1);E=B.Ra;O60=5;break;case 4:return !1;break;case 5:O60=!E || (B.bitrate > v?n.Y1b:1) * B.bitrate * p.playbackRate > E?4:3;break;}}}var N60,w,v,x,y,z,A;N60=2;for(;N60 !== 20;){switch(N60){case 2:var V9U="Must have at le";V9U+="ast one select";V9U+="ed ";V9U+="stream";d(!c.ia(u),V9U);(w=q[u],v=w.bitrate,x=w,y=p.Rd);N60=5;break;case 5:N60=w.Ra?4:14;break;case 4:w=f.kg(q.slice(0,Math.min(u + (n.yrb?2:1),q.length)).reverse(),t);N60=3;break;case 3:N60=void 0 === w?9:6;break;case 8:var l9U="fallback_";l9U+="lowest_accepta";l9U+="ble_strea";l9U+="m";z=l9U;N60=7;break;case 6:var Q9U="se";Q9U+="lect_f";Q9U+="easible_buffering";z=Q9U;N60=7;break;case 9:w=q[0];N60=8;break;case 7:A=null === w || void 0 === w?void 0:w.Ra;N60=14;break;case 14:u=new g();u.Mg=w;x !== w && (u.reason=z,u.ju=A);l.p8(n,q,y,u);return u;break;}}}for(;M60 !== 5;){switch(M60){case 2:var b9U="1S";b9U+="I";b9U+="Y";b9U+="bZ";b9U+="rNJCp9";b.G$=h=function(n,p,q,u,t,w,v){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var g9U="p";g9U+="la";g9U+="yi";g9U+="ng";return g9U === n.dja?m.hx.call(this,n,p,q,u,t,w,v):k.call(this,n,p,q,u);break;}}};b9U;M60=5;break;}}})();},function(r,b,a){var c;a(10);c=a(35).console;r.exports=function(f,l,m,d,g,h,k,n,p,q,u,t,w,v,x){var f5q=a000;var Q60,z,A,B,E,D,y,F,C;Q60=2;for(;Q60 !== 39;){switch(Q60){case 23:(m=g,u+=A[D],++D,f=z[D],g+=f);Q60=24;break;case 29:++n;Q60=28;break;case 34:f5q.e5U(9);m+=f5q.a5U(h,0,t,F);k+=C;Q60=32;break;case 16:f5q.x5U(7);B*=f5q.u5U(1E3,y);Q60=15;break;case 30:(u+=A[D],++D,g+=z[D]);Q60=31;break;case 26:Q60=u < F?25:42;break;case 44:E=f;Q60=43;break;case 41:return {result:!1,KW:Math.min(f,d) / (y / 1E3),Wt:!0};break;case 15:Q60=n < l?27:40;break;case 42:Q60=(f=Math.max(k - m,0),f < w && f < E)?41:34;break;case 13:var v9U=" >= ";v9U+="fragment";v9U+="sLe";v9U+="ngth:";v9U+=" ";var n9U="Stream";n9U+="i";n9U+="n";n9U+="gInd";n9U+="ex: ";f5q.x5U(7);h=f5q.a5U(1E3,y);n >= l && c.error(n9U + n + v9U + l);m+=f;0 === k && (m=0);f5q.x5U(7);m*=f5q.u5U(1E3,y);Q60=19;break;case 22:Q60=!x && (f=k - m,f < v)?21:35;break;case 4:(z=f.vd,A=f.sizes,B=d - m);d=Infinity;(E=0,D=0);Q60=8;break;case 2:var s9U="1SIY";s9U+="b";s9U+="ZrNJC";s9U+="p9";s9U;y=f.S;l=Math.min(f.length,l);Q60=4;break;case 21:return {result:!1,KW:f / (y / 1E3),Wt:!1};break;case 28:Q60=n >= p && f > B?40:44;break;case 31:Q60=g < m && D < n?30:29;break;case 24:Q60=u < E?23:22;break;case 25:E=Math.max(F,q);Q60=24;break;case 32:u-=F;Q60=31;break;case 8:f=f.vd[0];f5q.x5U(10);g=f5q.a5U(1E3,f,g,y);f5q.e5U(11);f=f5q.a5U(t,h,8,0);f5q.e5U(12);t=f5q.a5U(t,0,8);Q60=13;break;case 27:(F=A[n],C=z[n]);Q60=26;break;case 40:return {result:!0,KW:d / (y / 1E3),Wt:!0};break;case 19:f5q.x5U(7);k*=f5q.a5U(1E3,y);f5q.x5U(7);v*=f5q.a5U(1E3,y);f5q.x5U(7);w*=f5q.a5U(1E3,y);Q60=16;break;case 43:d=Math.min(f,d);Q60=15;break;case 35:f5q.e5U(0);f=f5q.a5U(m,k);Q60=34;break;}}};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.YKb=b.x8a=void 0;c=a(2);f=c.__importDefault(a(86));l=c.__importStar(a(10));m=a(25);d=a(366);g=c.__importDefault(a(6));r=c.__importDefault(a(115));a=c.__importDefault(a(35));h=a.default.yPb;k=a.default.Btb;n=a.default.X3;p=a.default.vp;q=r.default.swa;a=(function(){var R60;function t(B,E,D){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:B=k(D.sj,B * D.Cra);return h(B,E);break;}}}function v(B,E){var X5q=a000;var W60,D;W60=2;for(;W60 !== 9;){switch(W60){case 2:X5q.e5U(13);var y31=X5q.a5U(6,25000,18,75012);X5q.e5U(14);var z31=X5q.a5U(12,77,76);B=n(B,0,y31) / z31;W60=1;break;case 7:X5q.x5U(15);var A31=X5q.a5U(22,22,5);X5q.e5U(16);var B31=X5q.a5U(19,16,6,139,253119);X5q.e5U(0);var C31=X5q.u5U(14,434);B=n(B,A31,B31) * C31;W60=2;break;W60=1;break;case 3:var T9U="s";T9U+="i";T9U+="gm";T9U+="o";T9U+="id";return 0 === E.hP.lastIndexOf(T9U,0)?(D=E.hP,(D=E.y8a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):E.ds):E.ds;break;case 1:var W9U="l";W9U+="o";W9U+="g";W60=0 === E.hP.lastIndexOf(W9U,0)?5:3;break;case 5:D=E.hP;W60=4;break;case 4:return (D=E.y8a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):E.ds;break;}}}function x(B,E,D){var X60,F,C,G,K,J,I;X60=2;for(;X60 !== 19;){switch(X60){case 1:X60=0 <= G && (F?D[G].sb >= B.yu:D[G].bitrate >= B.Rw)?5:11;break;case 2:(F=! !B.yu && ! !B.Q2a && D.every(function(M){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return M.sb && 110 >= M.sb;break;case 4:return M.sb || 498 < M.sb;break;Y60=1;break;}}}),C=null,G=D.length - 1);X60=1;break;case 9:I=y(K,C.ju,F,J,I,B);K=I.s5;I=I.reason;X60=6;break;case 5:K=D[G];C=u(K,B);(J=t(K.bitrate * E.playbackRate,C.ju,B),I=v(C.ju,B));X60=9;break;case 11:var H9U="fa";H9U+="l";H9U+="lback_no_acceptable";H9U+="_stre";H9U+="am";l.Gb(C) && (C=u(D[0],B));l.Gb(C) && (C=u(D[0],B),C.reason=H9U);return C;break;case 14:X60=K?11:13;break;case 13:C.reason=I;X60=12;break;case 12:G--;X60=1;break;case 6:C.Pz=J;X60=14;break;}}}R60=2;for(;R60 !== 5;){switch(R60){case 2:var E9U="1SIYb";E9U+="ZrNJCp";E9U+="9";E9U;return {wpb:function(B,E,D,F){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var o9U="hi";o9U+="st";o9U+="or";o9U+="ical";return o9U === B.opa?A(B,E,D,F):B.yT?x(B,E,D,F):z(B,E,D,F);break;}}},$mb:y};break;}}function z(B,E,D){var a70,F,C;a70=2;for(;a70 !== 4;){switch(a70){case 2:(F=new p(),C=Math.max(B.Rw,B.C8,E.Hpa?B.Pra:-Infinity));F.Mg=m.kg(D.filter(function(G){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return G.bitrate <= B.jA;break;}}}).reverse(),function(G){var c70,I,J,K;c70=2;for(;c70 !== 13;){switch(c70){case 9:I=w(B,G);c70=8;break;case 5:G=G.bitrate * E.playbackRate;J=K.Ra;c70=3;break;case 3:c70=J?9:6;break;case 8:var p9U="h";p9U+="ist";p9U+="_buffti";p9U+="me";t(G,J,B) <= I?(F.ju=J,K && (F.Mo=K.fm?K.fm:0,F.No=K.fm && K.Ek),F.reason=p9U,K=!0):K=!1;c70=7;break;case 2:K={Ra:G.Ra,fm:G.wb && G.wb.fm,Ek:G.wb && G.wb.Ek};c70=1;break;case 1:c70=G.bitrate > C?5:14;break;case 7:return K;break;case 14:var z9U="no_histori";z9U+="c";z9U+="al_lt";z9U+="e_minbitr";z9U+="ate";var U9U="hist_tput";U9U+="_l";U9U+="t";U9U+="_minb";U9U+="itrate";var A9U="lt_";A9U+="hist_lte_minbi";A9U+="trate";(J=K.Ra,G.bitrate * E.playbackRate <= J?(F.ju=J,K && (F.Mo=K.fm?K.fm:0,F.No=K.fm?K.Ek:void 0),F.reason=A9U,K=!0):J?(F.ju=J,K && (F.Mo=K.fm?K.fm:0,F.No=K.fm?K.Ek:void 0),F.reason=U9U,K=!1):(F.reason=z9U,K=!0));c70=7;break;case 6:K=!1;c70=7;break;}}}) || D[0];return F;break;}}}function u(B,E){var S60,D,F;S60=2;for(;S60 !== 12;){switch(S60){case 2:D=new p();D.Mg=B;B=D.Mg.wb || ({});D.No=B.fm && B.Ek;D.Mo=B.fm?B.fm:0;B=f.default(D.No,{});S60=8;break;case 6:(F=d.lLa.WGb(B),l.jd(F)?(B.vj=F,F=!0):F=!1);S60=14;break;case 8:S60=7;break;case 14:var M9U="h";M9U+="i";M9U+="st_through";M9U+="put";var I9U="hi";I9U+="s";I9U+="t_";I9U+="tdigest";F?(E=B.vj(E.H$ / 100) || D.Mg.Ra,D.ju=E,D.reason=I9U):D.Mg.Ra && (E=D.Mg.Ra,D.ju=E,D.reason=M9U);return D;break;case 7:S60=(F=l.Ca(E.H$) && 0 <= E.H$ && 100 >= E.H$ && !l.ia(B) && !l.Gb(B))?6:14;break;}}}function A(B,E,D,F){var d70,C;d70=2;for(;d70 !== 7;){switch(d70){case 5:return B.yT?x(B,E,D,F):z(B,E,D,F);break;case 9:var c9U="h";c9U+="is";c9U+="t";c9U+="_bitra";c9U+="te";B.reason=c9U;return B;break;case 2:var S9U="v";S9U+="b";C=g.default.storage.get(S9U);d70=1;break;case 4:B=new p();B.Mg=m.kg(D.slice().reverse(),function(G){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return G.bitrate <= C;break;}}}) || D[0];d70=9;break;case 1:var w9U="n";w9U+="umb";w9U+="e";w9U+="r";d70=w9U !== typeof C?5:4;break;}}}function w(B,E){var U60,D,F;U60=2;for(;U60 !== 13;){switch(U60){case 5:U60=0 === F?4:3;break;case 2:U60=B.c7?1:14;break;case 4:return D[0].d;break;case 1:(D=B.c7,F=m.Np(D,function(C){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 4:return E >= C.r;break;V60=1;break;case 2:return E <= C.r;break;}}}));U60=5;break;case 3:U60=-1 === F?9:8;break;case 9:return D[D.length - 1].d;break;case 14:return B.ds;break;case 6:return Math.floor(B.d + (D.d - B.d) * (E - B.r) / (D.r - B.r));break;case 8:a000.e5U(0);B=D[a000.u5U(1,F)];D=D[F];U60=6;break;}}}function y(B,E,D,F,C,G){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var N9U="no_v";N9U+="al";N9U+="id_Bitrate";var t9U="no";t9U+="_va";t9U+="l";t9U+="id_V";t9U+="MAF";var i9U="no_valid_D";i9U+="elay";i9U+="Target";B=D?B.sb >= G.yu && B.sb <= G.Q2a:B.bitrate >= G.Rw && B.bitrate <= G.jA;return (F=F < C && B)?{s5:F}:{s5:F,reason:B?i9U:D?t9U:N9U};break;}}}})();r=a.$mb;b.x8a=a.wpb;b.YKb=r;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,p;n=this.Bga;h=h.buffer.Jc;p="forward" === g.OWb;if(f.ia(n))return (n=p?l(k):l(k,k.length),this.Cga=h,this.Bga=n,new d(n));m(k[n]) || (n=l(k,n),this.Cga=h,this.Bga=n);if(0 > n)return null;if(h > this.Cga + g.$_b){g=k.map(function(q,u){return q.ru?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.Bga=g[n];this.Cga=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(35);l=b.sma;m=b.tH;d=b.vp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var g70,l,m,d,g,h,k,n,p,q,u;g70=2;for(;g70 !== 4;){switch(g70){case 2:var e9U="1SIY";e9U+="b";e9U+="ZrNJCp";e9U+="9";(l=a(10),m=a(35),d=m.console,g=m.debug,h=m.assert,k=a(86),n=m.tH,p=m.vp,q=a(393),u=a(16).ma);r.exports={STARTING:function(t,w,v,x){var n70,y,z;n70=2;for(;n70 !== 7;){switch(n70){case 1:n70=(z=t && t.JP && 0 <= t.JP.indexOf(z)?c(z,t.I$a):c(z,t.tsb))?5:4;break;case 2:(y=t,z=v[x || 0].oh);n70=1;break;case 4:var u9U=" ";u9U+="kbps";u9U+=", profi";u9U+="le :";var a9U="selectAu";a9U+="di";a9U+="oStreamStarting: sel";a9U+="ected stream :";t=q[u[u.Ah]](y,w,v,x);v=v[t.Je];g && d.log(a9U + v.bitrate + u9U + v.oh);n70=8;break;case 5:var x9U="selectAudioStreamStar";x9U+="ting: ov";x9U+="erridi";x9U+="ng config with ";(y={minInitAudioBitrate:t.bX,minHCInitAudioBitrate:t.aX,maxInitAudioBitrate:t.NW,minRequiredAudioBuffer:t.J8},g && d.log(x9U + JSON.stringify(z)),k(z,y));n70=4;break;case 8:return t;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};e9U;g70=4;break;}}function c(t,w){var h70,v;h70=2;for(;h70 !== 4;){switch(h70){case 2:v=void 0;w.some(function(x){var i70,y;i70=2;for(;i70 !== 4;){switch(i70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (v=x.override);return y;break;}}});return v;break;}}}function f(t,w,v,x){var j70,K,J,B,E,D,F,C,y,G,z,A;j70=2;for(;j70 !== 32;){switch(j70){case 5:j70=!(t && t.JP && 0 <= t.JP.indexOf(y))?4:3;break;case 14:z=0;j70=21;break;case 6:j70=0 > D?14:13;break;case 25:j70=++D < A.length?24:21;break;case 26:var B9U=", ";B9U+="str";B9U+="eamingPt";B9U+="s = ";var k9U=", las";k9U+="tUpsw";k9U+="i";k9U+="tchP";k9U+="ts = ";var f9U="  Upswitch a";f9U+="llowed. lastDownswitc";f9U+="hPts = ";g && d.log(f9U + J + k9U + K + B9U + E.Jc);j70=25;break;case 15:(K=this.xqa,J=this.P7);j70=27;break;case 13:j70=D && F < C.NUa * E * w.playbackRate?12:16;break;case 18:z=E;j70=21;break;case 19:j70=n(G) && (0 == D || G.bitrate * w.playbackRate * C.NUa < F)?18:17;break;case 7:(B=v[x],E=B.bitrate,D=A.indexOf(x),F=B.Ra,C=t.wsb);j70=6;break;case 4:return new p(x);break;case 27:j70=w.sq && G > C.cA && (void 0 === J || Number(K) > J || E.Jc - J > C.Z7)?26:22;break;case 22:var C3U="m";C3U+="s";var X9U=", ";X9U+="b";X9U+="uffer l";X9U+="evel";X9U+=" = ";var L9U=", la";L9U+="st";L9U+="Up";L9U+="switc";L9U+="hPts = ";var j9U=" ";j9U+=" Upswitc";j9U+="h not allowed. lastDownswitchPts = ";g && d.log(j9U + J + L9U + K + X9U + G + C3U);j70=21;break;case 2:var y3U="Mu";y3U+="st have at least one selec";y3U+="ted stream";h(!l.ia(x),y3U);y=v[x].oh;j70=5;break;case 11:j70=0 <= D?10:21;break;case 16:var d3U=" kb";d3U+="p";d3U+="s";var D3U=" k";D3U+="bps";D3U+=" > ";var R3U="through";R3U+="put";R3U+=" for a";R3U+="udio ";j70=D < A.length - 1 && F > C.Tab * E * w.playbackRate && (g && d.log(R3U + F + D3U + C.Tab + "*" + E + d3U),E=w.buffer,G=E.om - E.Nc,B.U && B.U.length)?15:21;break;case 10:E=A[D];G=v[E];j70=19;break;case 17:D--;j70=11;break;case 23:z=E;j70=21;break;case 12:var r3U=" kbps, t";r3U+="ry";r3U+=" t";r3U+="o downswitch";var Z3U=" k";Z3U+="b";Z3U+="p";Z3U+="s <";Z3U+=" ";var K3U="t";K3U+="hroug";K3U+="hput f";K3U+="or aud";K3U+="io ";(g && d.log(K3U + F + Z3U + C.NUa + "*" + E + r3U),--D);j70=11;break;case 24:j70=(E=A[D],G=v[E],n(G) && F > C.Tab * G.bitrate * w.playbackRate)?23:25;break;case 3:z=x;t.I$a.some(function(I){var k70,M,R,H,P,N,L;k70=2;for(;k70 !== 9;){switch(k70){case 2:(M=I.profiles,R=M && 0 <= M.indexOf(y));k70=1;break;case 1:k70=R?5:3;break;case 5:(H=(I=I.CX) && I.J8 || t.J8,P=I && I.obc || -Infinity,N=I && I.TN || Infinity,L=w.buffer.jw);k70=4;break;case 12:return R;break;k70=9;break;case 4:A=v.filter(function(Q){var l70,S;l70=2;for(;l70 !== 5;){switch(l70){case 2:S=Q.bitrate;return S >= P && S <= N && 0 <= M.indexOf(Q.oh) && S * H / 8 < L;break;}}}).map(function(Q){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return Q.Nf;break;}}});k70=3;break;case 3:return R;break;}}});j70=8;break;case 8:j70=A && 1 < A.length?7:21;break;case 21:var J3U="kbps, str";J3U+="eam";J3U+="ingPts ";J3U+=":";var q3U=",";q3U+=" au";q3U+="dio through";q3U+="put:";var m3U=" kbps";m3U+=", profil";m3U+="e :";var Y3U="se";Y3U+="lectAudioStream: ";Y3U+="selected stream :";var F3U=" ";F3U+="k";F3U+="bp";F3U+="s";var G3U=" ";G3U+="kbps";G3U+=", to ";var P3U="switc";P3U+="hing audio";P3U+=" from ";var O3U="d";O3U+="o";O3U+="w";O3U+="n";var h3U="u";h3U+="p";F=v[z];z !== x && g && d.log((z > x?h3U:O3U) + P3U + B.bitrate + G3U + F.bitrate + F3U);g && d.log(Y3U + F.bitrate + m3U + y + q3U + F.Ra + J3U + w.buffer.Jc);return new p(z);break;}}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(35).vp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){return new f(d.length - 1);}a(10);f=a(35).vp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o70,f,l,m,d;o70=2;function c(g,h,k,n){var p70,p;p70=2;for(;p70 !== 12;){switch(p70){case 2:var l3U="play";l3U+="er miss";l3U+="ing fr";l3U+="agmentIndex";var V3U="Must have at leas";V3U+="t one selected ";V3U+="str";V3U+="e";V3U+="am";m(!f.ia(n),V3U);m(f.Ca(h.Rd),l3U);p70=5;break;case 6:--n;p70=3;break;case 5:h=d(n);p70=4;break;case 3:p70=-1 < n?9:14;break;case 4:a000.e5U(17);var D31=a000.u5U(12,157,13);n=k.length - D31;p70=3;break;case 14:h.Je=0;return h;break;case 8:p70=p.wb && p.wb.Ra && p.bitrate < p.wb.Ra.Fa - g.X_b?7:6;break;case 7:return (h.Je=n,h);break;case 9:p=k[n];p70=8;break;}}}for(;o70 !== 6;){switch(o70){case 2:f=a(10);a(28);l=a(35);a(6);(m=l.assert,d=l.vp);l=a(175).default;o70=8;break;case 8:var Q3U="1SIY";Q3U+="b";Q3U+="ZrNJCp";Q3U+="9";r.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};Q3U;o70=6;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(853);b.default={PLAYING:r.hx,PAUSED:r.hx};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hx=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(35));l=r.__importDefault(a(175));m=a(101);d=r.__importDefault(a(6));g=f.default.assert;h=f.default.vp;b.hx=k;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var n3U="1";n3U+="S";n3U+="IYbZrNJC";n3U+="p9";b.hx=k=function(n,p,q,u,t,w,v){var r70,E,I,M,R,G,K,P,H,D,F,C,J,x,y,z,A,B;r70=2;for(;r70 !== 66;){switch(r70){case 12:E=y[B].f;r70=11;break;case 70:r70=y[B].f === A?69:68;break;case 67:B--;r70=71;break;case 56:B+=1;r70=55;break;case 20:r70=void 0 !== A?19:59;break;case 38:J=void 0;E.wb && E.wb.tputTrace && (J=E.wb.tputTrace);(I=[],M=E.U,R=0);r70=54;break;case 60:return z;break;case 45:H++;r70=47;break;case 34:E=q[B];x=B <= u?!0:!1;(G=void 0,K=[]);r70=31;break;case 76:x=B;r70=73;break;case 42:K.push(J.vk);K.push(J.Ll);K.push(J.y9);r70=39;break;case 61:z.YQa=t;r70=60;break;case 23:y=q[u];A=q[u];r70=21;break;case 73:A=x;r70=20;break;case 21:B=0;r70=35;break;case 71:r70=0 <= B?70:73;break;case 59:return l.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 75:r70=y[B].f > A?73:74;break;case 74:B++;r70=55;break;case 58:x=void 0;r70=57;break;case 48:H=p.Rd;r70=47;break;case 62:B++;r70=35;break;case 10:A=B;r70=20;break;case 35:r70=B < q.length?34:61;break;case 19:z.Je=y[A].VWb;r70=18;break;case 65:M=void 0;p.YT && (M=d.default.time.ea() - p.YT);t.push({Rd:p.Rd,edc:M,Yac:R,u9b:G,bdc:K,ddc:J,fja:w,K$b:v,O9b:I,Cac:y.bitrate,Dac:null !== (D=y.sb) && void 0 !== D?D:0,V9b:E.bitrate,W9b:null !== (F=E.sb) && void 0 !== F?F:0,Bcc:A.bitrate,Ccc:null !== (C=A.sb) && void 0 !== C?C:0,mD:x});r70=62;break;case 51:P=M.get(H);I.push({d:P.duration,b:P.fa});r70=49;break;case 52:r70=H < Math.min(H + n.zsb,M.length)?51:48;break;case 6:a000.x5U(0);B=a000.a5U(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);r70=12;break;case 11:r70=E === A?10:58;break;case 53:H=p.Rd;r70=52;break;case 16:t=[];w=p.buffer;w=w.om - w.Nc;r70=25;break;case 55:r70=B < y.length?77:73;break;case 29:J=E.wb.tdigest;K.push(J.min);K.push(J.x9);K.push(J.Kl);r70=42;break;case 69:x=B;r70=73;break;case 31:E.wb && E.wb.throughput && (G=E.wb.throughput.Fa);r70=30;break;case 49:H++;r70=52;break;case 47:r70=H < M.length?46:65;break;case 7:return l.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 39:K.push(J.max);r70=38;break;case 77:r70=y[B].f === A?76:75;break;case 54:r70=void 0 !== M?53:65;break;case 30:r70=E.wb && E.wb.tdigest?29:38;break;case 46:R+=M.get(H).duration;r70=45;break;case 25:v=m.Um.FTa(p.buffer.U);v=p.buffer.jw - v.fa;r70=23;break;case 68:r70=y[B].f < A?73:67;break;case 18:z.Mg=q[z.Je];r70=17;break;case 8:r70=A < x || A > B?7:6;break;case 17:r70=n.$Bb?16:60;break;case 2:var b3U="player";b3U+=" miss";b3U+="ing fragmentIndex";var g3U="Must";g3U+=" have at least one selec";g3U+="te";g3U+="d stre";g3U+="am";g(!c.ia(u),g3U);g(c.Ca(p.Rd),b3U);(y=n.RZb,z=new h(u),A=null !== (x=p.Rd) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;r70=8;break;case 72:--B;r70=71;break;case 57:r70=E < A?56:72;break;}}};n3U;q70=5;break;}}})();},function(r,b,a){(function(){var s70,c;s70=2;for(;s70 !== 8;){switch(s70){case 2:a(10);a(28);a(35);s70=4;break;case 4:var H3U="1";H3U+="SIYbZrNJC";H3U+="p9";c=a(16).Kc;r.exports={checkBuffering:function(f,l,m,d,g,h){var r8q=a000;var t70,v,t,n,p,q,u,w;t70=2;for(;t70 !== 37;){switch(t70){case 11:t70=!l?10:20;break;case 35:q=d.U.vd(g);h=Math.min(g + Math.floor(h.jY / q),d.U.length - 1);v=d.U.Td(h);r8q.x5U(0);var E31=r8q.u5U(8,16);q=E31 * w * m / l - f.Nc;t70=31;break;case 41:--h;t70=30;break;case 10:return {complete:!1,xI:q};break;case 43:return (q=Math.min(u,n + v),{complete:!1,xI:q,progress:k(q)});break;case 20:t=0;f.U.forEach(function(x){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:t+=x.Z + x.duration > f.Nc?x.fa:0;v70=1;break;}}});t70=18;break;case 6:r8q.e5U(18);var F31=r8q.u5U(16,10,20,3199);q=h.sj * (p?h.Cua:F31);h.VBb && d.wb && d.wb.yj && d.wb.yj.Fa > h.Sqa && (q+=h.Yha + d.wb.yj.Fa * h.kta);g && (q+=g.Mt * h.Zha);t70=12;break;case 8:t70=l <= h.Yqa && (0 < l || !h.Yla)?7:6;break;case 18:m=Math.max(m,1);p=m * d.bitrate;t70=16;break;case 31:--h;t70=30;break;case 21:var v3U="hi";v3U+="g";v3U+="htp";return {complete:!0,reason:v3U};break;case 27:g=d.U.Bn(f.Jc);t70=26;break;case 15:return (l < p && (q=Math.min(u,Math.max(h.jY * (p / l - 1),q))),{complete:!1,xI:q,progress:0});break;case 25:var s3U="outo";s3U+="f";s3U+="rang";s3U+="e";return {complete:!0,reason:s3U};break;case 9:var T3U="m";T3U+="a";T3U+="x";T3U+="size";return {complete:!0,reason:T3U};break;case 2:(n=f.om - f.Nc,p=l === c.Qf);l=d.Ra || 0;(q=0,u=h.eya && !p?h.zD:h.tra);u=Math.min(h.kA,u);t70=3;break;case 42:v=p.offset;t70=41;break;case 40:var W3U="no";W3U+="rebuf";W3U+="f";return {complete:!0,reason:W3U};break;case 24:w=d.U.Td(g);t70=23;break;case 12:q=u?Math.min(u,q):q;t70=11;break;case 44:t70=0 < v?43:42;break;case 23:t70=n >= q?22:39;break;case 30:t70=h > g?29:40;break;case 29:p=d.U.get(h);v=8 * v * m / l - p.Z - q;t70=44;break;case 22:t70=l > p * h.r5?21:35;break;case 26:t70=-1 === g?25:24;break;case 3:t70=n >= u?9:8;break;case 16:t70=!d.U || !d.U.length?15:27;break;case 39:0 < l && l < p && (q=Math.min(u,Math.max(h.jY * (p / l - 1),q)));return {complete:!1,xI:q,progress:k(q)};break;case 7:return {complete:!1,wD:!0};break;}}function k(x){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:x=d.U.u5(f.Nc + x,void 0,!0);return (t - f.el) / (t + (x.offset + x.fa) - w);break;}}}}};H3U;s70=8;break;}}})();},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){g=p;h=p.map(function(q,u){return u;});if(null === d)return (k=l(p),d=p[k].bitrate,new m(k));if(!p.length)return null;k=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === k?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(35);a=a(6).default;f=b.console;l=b.sma;m=b.vp;d=null;g=null;h=null;a.vub && (a.vub.ml={xb:function(){h=g=d=null;},Mva:function(k){d=k;},X$b:function(){return {all:g,sbb:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.TFa=void 0;c=a(2);r=c.__importDefault(a(115));f=c.__importDefault(a(6));l=a(245);m=a(246);d=r.default.X3;g=r.default.avb;h=r.default.QVa;k=r.default.xCb;n=r.default.bXb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(p){var w70;w70=2;for(;w70 !== 5;){switch(w70){case 2:c.__extends(q,p);return q;break;}}function q(u,t){var x70,w;x70=2;for(;x70 !== 12;){switch(x70){case 6:var E3U="1";E3U+="SIY";E3U+="bZ";E3U+="r";E3U+="NJCp9";u.At.niqrfilter && u.At.niqrcurve && (w.S3a=u.At.niqrfilter,w.RPb=g(u.At.niqrcurve,1,0,4));E3U;x70=13;break;case 2:w=p.call(this,u,t) || this;w.VD=function(v,x){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return m.VD(w.config,v,x);break;}}};w.U9=function(v,x,y){var z70,z,A,B,E,D,F;z70=2;for(;z70 !== 13;){switch(z70){case 8:w.hZb?(x=h(w.STa,E,1),E=h(w.RTa,E,1),x=x * B + E * (1 - B)):x=h(n(w.STa,w.RTa,B),E,1);v=w.S3a && (null === (D=v[w.S3a]) || void 0 === D?void 0:D.nX);void 0 !== v && (D=k(w.RPb,v),x=Math.min(x * D,1));a000.e5U(19);return w.BUa(a000.u5U(1,F,x),y);break;case 2:z70=1;break;case 1:y=null !== y && void 0 !== y?y:w.TN;F=null !== (A=null === (z=v.Ra) || void 0 === z?void 0:z.Fa) && void 0 !== A?A:0;z70=4;break;case 4:z=null !== (E=null === (B=v[w.filter]) || void 0 === B?void 0:B.Fa) && void 0 !== E?E:F;B=Math.pow(Math.max(1 - z / w.Qsb,0),w.Lsb);E=x.om - x.Nc;z70=8;break;}}};Array.isArray(u.At.curves) && (w.STa=g(u.At.curves[0],0,0,1),w.RTa=g(u.At.curves[1],0,0,1));x70=3;break;case 13:return w;break;case 3:w.Qsb=d(u.At.threshold || 6E3,1,1E5);w.Lsb=d(u.At.gamma || 1,.1,10);w.filter=u.At.filter;w.hZb=! !u.At.simpleScaling;x70=6;break;}}}})(l.DJ);b.TFa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GKa=void 0;c=a(2);r=c.__importDefault(a(6));f=a(245);l=a(246);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){function d(g,h){var B70,k;B70=2;for(;B70 !== 9;){switch(B70){case 3:return k;break;case 12:return k;break;B70=9;break;case 2:var o3U="1SIYbZ";o3U+="r";o3U+="NJCp";o3U+="9";k=m.call(this,g,h) || this;k.VD=function(n,p){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return l.VD(k.config,n,p);break;case 4:return l.VD(k.config,n,p);break;C70=1;break;}}};k.U9=function(n,p,q){var D70,u;D70=2;for(;D70 !== 3;){switch(D70){case 2:q=null !== q && void 0 !== q?q:k.TN;u=d.YYb(n,k.config);n=n.Ra?n.Ra.Fa * (100 - k.PEb(p,u)) / 100 | 0:0;return k.BUa(n,q);break;}}};o3U;B70=3;break;}}}var A70;A70=2;for(;A70 !== 3;){switch(A70){case 4:return d;break;case 14:return d;break;A70=3;break;case 2:c.__extends(d,m);d.YYb=function(g,h){var E70,k,n;E70=2;for(;E70 !== 4;){switch(E70){case 2:n=! !g.Xr;h.fxa && (null === (k=g.Ra) || void 0 === k?void 0:k.Fa) < h.mU && (n=!0);return n;break;}}};d.prototype.PEb=function(g,h){var F70,k,n;F70=2;for(;F70 !== 3;){switch(F70){case 5:Array.isArray(h) && (n=l.PVa(h,g.om - g.Nc,k.Nia));return n;break;case 2:(k=this.config,n=h?k.hka:k.Mia);h=h?k.ika:k.Oia;F70=5;break;}}};A70=4;break;}}})(f.DJ);b.GKa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KEa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k){this.eb=c;this.yRa=f;this.config=l;this.console=m;this.mediaType=d;this.Cb=g;this.Qa=h;this.ac=k;this.Zq=this.Wh=!1;}a.prototype.XL=function(c,f){!this.eb.O.fv || this.ac.eL || this.ac.y2 || (c-=this.eb.Fe,this.Wh && !this.Zq && c + this.config.Z$a >= f && 0 === this.Qa.ND && 0 === this.Qa.Js && 0 === this.Qa.IUb && (f=this.ac.Ge.P.Pb,c=this.ac.cN(),f + 1 < c || (this.yRa[this.mediaType].A$a || this.Cb.Rnb(this.mediaType),this.Zq=!0,this.yRa[this.mediaType].j9())));};return a;})();b.KEa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IEa=void 0;c=a(2);f=a(20);r=a(395);l=a(389);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.wAb=function(g){m.prototype.J7.call(this,{value:g});};d.prototype.j0a=function(){return !0;};d.prototype.Fwa=function(){};d.prototype.J7=function(g){m.prototype.J7.call(this,g);g.done && (g=this.vy.u4,f.ga && this.H.trace("Requests drained",{v9b:g && g.O.id}),(g=g && g.fb(this.Ug)) && g instanceof l.E0 && g.XL(this.Qg.zna() || 0));};return d;})(r.Dba);b.IEa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jza=void 0;c=a(2);f=a(149);l=a(20);r=(function(){function m(d,g,h){this.H=d;this.tlb=g;this.Ug=h;this.U1=0;this.n2=!1;this.kS=[];this.AF=void 0;l.ga && d.trace("BranchRequestIterator [" + this.Ug + "]: created");}Object.defineProperties(m.prototype,{ezb:{get:function(){return this.U1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{u4:{get:function(){return this.UMa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lk:{get:function(){return this.n2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{QTa:{get:function(){return this.ul?this.ul.Vz?"Complete":this.ul.cua?"WaitingForBranch":void 0 !== this.AF && 0 !== this.AF?"In Policy " + this.kS[this.AF].name:"WaitingForRequest":"Uninitialized;Prior:" + this.QNa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.ul;if(!d)return [3,6];this.AF=void 0;return [4,d.next()];case 1:(g=n.Ic(),h=0,n.label=2);case 2:if(!(h < this.kS.length))return [3,5];this.AF=h;k=this.kS[h];return [4,k.process(g)];case 3:(g=n.Ic(),n.label=4);case 4:return (h++,[3,2]);case 5:this.AF=void 0;if(g.done || this.ul !== d)return [2,{done:!0}];this.U1++;g.value.yPa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.joa()];}});});};m.prototype.FWb=function(){this.d$a();this.bVb();};m.prototype.d$a=function(){var d;if(this.ul){this.QNa=this.QTa;d=this.ul;d && d.Gh();this.kS.forEach(function(g){return g.reset();});d && l.ga && this.H.trace("BranchRequestIterator [" + this.Ug + "]: Disposing iterator that was on branch ",this.u4 && this.u4.O.id);this.n2=!1;this.AF=this.ul=void 0;}};m.prototype.QPa=function(d){this.kS.push(d);};m.prototype.bVb=function(){var d,g,h,k;d=this;if(!this.n2){g=this.H;h=this.tlb;k=this.Ug;this.U1=0;this.QNa=this.UMa=void 0;this.ul=f.flatten(f.map(h.hZa(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.UMa=n,this.U1=0,l.ga && g.trace("BranchRequestIterator [" + this.Ug + "]: new branch " + n.O.id),[4,n.Ez(k)]);case 1:if(p=q.Ic())return [2,{value:p}];l.ga && g.error("BranchRequestIterator [" + this.Ug + "]: skipping branch " + n.O.id);return [2,{value:[]}];}});});},g),g);this.n2=!0;}};return m;})();b.Jza=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BJa=void 0;c=a(2);f=a(862);l=a(863);r=(function(){function m(d,g,h,k,n,p,q,u){this.mediaType=d;this.Ha=h;this.events=n;this.HZ=[];1 === this.mediaType && this.HZ.push(new l.yKa(d,g,h,k,n,p,q,u,2));this.HZ.push(new f.YKa(d,g,h,k,n,p,q,"stream",1));}m.prototype.reset=function(){this.HZ.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.HZ.forEach(function(d){return d.close();});};m.prototype.Li=function(d){return c.__read(this.HZ,1)[0].Li(d);};return m;})();b.BJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YKa=void 0;c=a(2);f=a(5);l=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.nA=function(g){var h,k;h=g.stream;k=g.Kg;g=g.xe;f.assert(void 0 !== k);this.LPa(h,k,g) && l.ga && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + k.W + "ms");};d.prototype.iVa=function(g,h){var k,n,p;n=g.mJ;p=this.Ha.ls(h);f.assert(void 0 !== p);l.ga && this.trace("emitStreamPresentingEvent @ " + g.timestamp.W + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:p,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.mC,streamIndex:null === n || void 0 === n?void 0:n.Nf});};return d;})(a(396).tea);b.YKa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;c=a(2);f=a(20);l=a(5);m=a(9);r=(function(d){function g(h,k,n,p,q,u,t,w,v){h=d.call(this,h,k,n,p,q,u,t,"segment",v) || this;h.ox=w;return h;}c.__extends(g,d);g.prototype.nA=function(h){var k,n,p;n=h.Kg;h=h.xe;l.assert(void 0 !== n);p=null === (k=this.Ha.ls(n)) || void 0 === k?void 0:k.ya;l.assert(void 0 !== p);this.LPa(p,n,h) && f.ga && this.trace("segment " + p + " @ " + n.W + "ms");};g.prototype.iVa=function(h,k){var n,p;n=h.mJ;p=this.Ha.ls(k);l.assert(void 0 !== p);f.ga && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.W + "ms for segment " + n);p.ya !== n && (f.ga && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={ya:n,offset:m.T.Eb});h={type:"segmentPresenting",playerTimestamp:k,position:p};this.ox && (h.metrics=this.ox.Fna(n));f.ga && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(396).tea);b.yKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ACa=void 0;c=a(2);f=a(20);l=a(68);r=(function(){function m(d,g,h){this.We=d;this.aPb=g;this.H=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var g;d=l.bba(this.We,d,!0);g=d.promise;this.hqb=d.Rq;return g;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.yma)return [3,2];h=g.Kg.Ma(this.aPb);f.ga && this.H.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.W,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(k.Ic(),f.ga && this.H.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.hqb) || void 0 === d?void 0:d.Lb();};return m;})();b.ACa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;c=a(2);f=a(20);l=a(5);m=a(68);r=(function(){function d(g,h,k,n){var p;p=this;this.We=g;this.ZRb=h;this.a5a=k;this.H=n;g.xa.on("stopStart",function(){return p.svb();});}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.svb=function(){var g,h;h=this.We.xa;this.b4=h.lk?h.currentTime:void 0;this.iV=void 0;f.ga && this.H.trace("PacingThrottler: clock reset " + (null === (g=this.b4) || void 0 === g?void 0:g.W));};d.prototype.waitUntil=function(g){var h;g=m.bba(this.We,g,!0);h=g.promise;this.Z2b=g.Rq;return h;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,7];h=g.value.value;l.assert(h.Kg);k=this.We.xa;if(!this.b4)return [3,3];n=h.Kg.Ma(this.b4).Ma(this.a5a);p=this.b4.add(n.Cl(this.ZRb * k.speed));if(!p.greaterThan(k.currentTime))return [3,2];f.ga && this.H.trace("PacingThrottler: waiting until " + p.W + "ms for mediaRequest @" + (h.Kg.W + "ms, current time ") + k.currentTime.W);return [4,this.waitUntil(p)];case 1:(q.Ic(),q.label=2);case 2:return [3,7];case 3:if(!this.iV)return [3,6];n=h.Kg.Ma(this.iV);if(!n.greaterThan(this.a5a))return [3,5];f.ga && this.H.trace("PacingThrottler: (buffering) waiting until " + this.iV.W + "ms for mediaRequest @" + (h.Kg.W + "ms, current time ") + k.currentTime.W);return [4,this.waitUntil(this.iV)];case 4:(q.Ic(),q.label=5);case 5:return [3,7];case 6:(this.iV=h.Kg,q.label=7);case 7:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.Z2b) || void 0 === g?void 0:g.Lb();};return d;})();b.vHa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k,n,p){var q;q=this;this.id=c;this.P=f;this.Z=l;this.BU=d;this.Bl=g;this.fv=h;this.hq=k;this.Yo=n;this.ae=p;this.nN=function(u){var t,w;return (null === (w=null === (t=q.Bl) || void 0 === t?void 0:t[u]) || void 0 === w?void 0:w.J0b) || q.ae;};this.Ga=m || Infinity;}Object.defineProperties(a.prototype,{X:{get:function(){return this.P.X;},enumerable:!1,configurable:!0}});a.prototype.FXa=function(){var c,f,l;c=this;l=Object.keys(this.Bl || ({})).filter(function(m){var d,g;return !(null === (g=null === (d=c.Bl) || void 0 === d?void 0:d[m]) || void 0 === g || !g.weight);});return l.length?null !== (f=l.map(this.nN).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== f?f:this.ae:this.ae;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Yo + " viewableId: " + this.P.X + " pts: " + this.Z + "-" + this.Ga + " defaultKey: " + this.BU + " dests: " + JSON.stringify(this.Bl) + " terminal: " + ! !this.fv;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.X,"startPts:":this.Z,endPts:this.Ga,defaultKey:this.BU,"dests:":this.Bl,terminal:! !this.fv,playlistSegmentId:this.Yo};};return a;})();b.sKa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Lya=void 0;r=a(2);c=r.__importStar(a(10));f=a(176);l=r.__importDefault(a(868));m=a(367);d=r.__importDefault(a(28));g=r.__importDefault(a(6));a=(function(){var G70;function h(k,n,p,q,u,t,w,v,x){var H70,y,J70,z,I70;H70=2;for(;H70 !== 32;){switch(H70){case 11:this.z2=f.hN(u,t);n=this.tNa(p);void 0 !== n && void 0 !== n.Kl && void 0 !== n.vk && void 0 !== n.Ll && (y=(n.Ll - n.Kl) / n.vk);H70=18;break;case 2:var p3U="1SI";p3U+="Yb";p3U+="Z";p3U+="rN";p3U+="JCp9";this.H=n;this.hg=q;this.mc=v;this.NF=x;p3U;this.rb=k;H70=8;break;case 18:q=u.hX?d.default.Pf.Jx:d.default.Pf.sB;p && p.confidence >= q && p.Ra && y && this.Xmb(p,n,y);H70=16;break;case 27:this.tga=!1;H70=26;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:z=new l.default(k,this.H,{bufferSize:g.default.Jo()},u);this.hg.Fqb(z);this.HOa=z;J70=4;break;}}}catch(A){var A3U="Hindsigh";A3U+="t: Error when creating QoEEv";A3U+="al";A3U+="uator: ";a000.e5U(1);k.Cb.Ln(a000.u5U(A,A3U));}H70=27;break;case 8:this.Sb=this.H.warn.bind(this.H);this.nn=this.H.trace.bind(this.H);this.I=u;a000.e5U(20);var H31=a000.a5U(16,9000000,52999984,6);this.VNa=0 === Math.floor(H31 * Math.random()) % u.Zia;this.eD=this.f_a=this.g_a=this.h4=this.Xr=void 0;this.hxa=this.F9a=this.G9a=this.gxa=this.c5a=this.d5a=0;H70=11;break;case 16:H70=this.NF.Lr?15:27;break;case 26:H70=w && 1 < w.length && u.Hla?25:33;break;case 24:this.WK=new m.Kca(w,u,this.H);H70=23;break;case 25:var U3U="b";U3U+="ase";U3U+="line";I70=u.eJb;H70=I70 === U3U?24:22;break;case 22:var z3U="L";z3U+="R";H70=I70 === z3U?21:35;break;case 35:H70=34;break;case 23:this.tga=this.WK.v7();H70=33;break;case 21:this.WK=new m.BDa(w,u,this.H);H70=23;break;case 33:u.aba && (this.H2=this.G2=!1);H70=32;break;case 34:this.WK=new m.Kca(w,u,this.H);H70=23;break;}}}G70=2;for(;G70 !== 27;){switch(G70){case 2:Object.defineProperties(h.prototype,{v7:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.tga;break;case 4:return this.tga;break;K70=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nua:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 4:return this.HOa;break;L70=1;break;case 2:return this.HOa;break;}}},enumerable:!1,configurable:!0}});h.prototype.X8a=function(k,n,p){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 2:this.eD=k;c.ia(n) || (this.g_a=n);c.ia(p) || (this.f_a=p);M70=4;break;}}};h.prototype.Qxa=function(k){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.I=k;this.z2.Qxa(k);N70=5;break;}}};G70=3;break;case 3:h.prototype.uga=function(k,n,p,q){var O70,u;O70=2;for(;O70 !== 7;){switch(O70){case 2:u=this.I;O70=1;break;case 9:var I3U="a";I3U+="v";I3U+="g";O70=k === I3U?8:3;break;case 4:return ! !(n.Ra && p && c.Ca(q) && n.Ra.Fa < u.mU && q > u.Oca);break;case 1:var M3U="i";M3U+="q";M3U+="r";O70=k === M3U?5:9;break;case 5:O70=void 0 !== q?4:3;break;case 3:return !1;break;case 8:return n.Ra?n.Ra.Fa < u.mU:!0;break;}}};h.prototype.hN=function(k){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === k?this.z2.U9:this.z2.VD;break;}}};h.prototype.nP=function(k){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.z2.nP(k);Q70=1;break;}}};h.prototype.wqb=function(k,n,p,q,u,t){var R70,w;R70=2;for(;R70 !== 5;){switch(R70){case 2:w=this.I;w.aba && this.Hob(n) || !p || !q || !(p=t?Math.min(p,q,t):Math.min(p,q)) || (this.hg.get(),q=this.rb.La,k=q.iw(q.Yc,k),n.track.qu() && k > w.Yia && p === u?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.zq=!0,w.UN=1,w.Lw=2,w.l8=500),n.track.i$({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.ZP,minRequestSize:w.aO}),this.gxa++,w.aba && (this.G2=!0)):w.zq && !n.qu() && (k < w.Xia || p !== u) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.zq=!0,w.UN=3,w.Lw=3,w.l8=12E3),n.track.i$({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.ZP,minRequestSize:w.aO}),this.hxa++,w.aba && (this.H2=!0)));R70=5;break;}}};G70=6;break;case 16:h.prototype.Xmb=function(k,n,p){var i80,q;i80=2;for(;i80 !== 3;){switch(i80){case 2:q=this.I;this.uga(q.nE,k,n,p)?this.Xr=!0:this.Xr=!1;this.h4=0;i80=4;break;case 4:this.uga(q.Uqa,k,n,p) && (this.gLb=!0);i80=3;break;}}};return h;break;case 12:h.prototype.aRb=function(k,n){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:k === d.default.Ta.Nb && (this.Q2b=n);W70=1;break;}}};h.prototype.Hub=function(k){var X70,n,p,u,q,t;X70=2;for(;X70 !== 6;){switch(X70){case 2:n=this.I;X70=1;break;case 4:var c3U="i";c3U+="q";c3U+="r";X70=c3U === n.nE?3:8;break;case 1:var S3U="n";S3U+="o";S3U+="n";S3U+="e";X70=S3U !== n.nE && !0 !== this.Xr && k.state <= n.sra?5:6;break;case 3:u=this.tNa(q);X70=9;break;case 5:q=this.hg.get();X70=4;break;case 8:t=n.hX?d.default.Pf.Jx:d.default.Pf.sB;q && q.confidence >= t && this.uga(n.nE,q,u,p) && (this.Xr=!0,this.h4=k.state);X70=6;break;case 9:void 0 !== u && void 0 !== u.Kl && void 0 !== u.vk && void 0 !== u.Ll && (p=(u.Ll - u.Kl) / u.vk);X70=8;break;}}};h.prototype.Vqb=function(k){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 4:k.Xr=this.Xr;Y70=4;break;Y70=1;break;case 2:k.Xr=this.Xr;Y70=1;break;}}};h.prototype.fDb=function(k){var Z70,w,n,p,q,u,t,v,x;Z70=2;for(;Z70 !== 25;){switch(Z70){case 12:Z70=w?11:16;break;case 3:t && t.Ra && (t=t.Ra.Fa);n.actualbw=t;n.isConserv=this.Xr;n.ccs=this.h4;n.isLowEnd=this.gLb;n.histdiscbw=this.eD;w=this.f_a;Z70=12;break;case 2:var i3U="st";i3U+="ar";i3U+="tpl";i3U+="ay";var w3U="log";w3U+="da";w3U+="t";w3U+="a";(n={},p=this.I,q=this.rb,u={type:w3U,target:i3U,fields:{}});u.fields=n;Object.keys(k).forEach(function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 4:n[y]=k[y];a80=0;break;a80=1;break;case 2:n[y]=k[y];a80=1;break;}}});t=this.hg.get();Z70=3;break;case 11:v=function(y){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return c.Ca(y)?Number(y).toFixed(2):-1;break;}}};t=[v(w.min || void 0),v(w.x9 || void 0),v(w.Kl || void 0),v(w.vk || void 0),v(w.Ll || void 0),v(w.y9 || void 0),v(w.max || void 0)];Z70=20;break;case 17:n.histtd=t;Z70=16;break;case 20:x=[];w=c.isArray(w.Mi) && w.Mi.reduce(function(y,z){var c80,A;c80=2;for(;c80 !== 3;){switch(c80){case 2:A=v(z.rg || void 0);z=v(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);n.histtdc=w;Z70=17;break;case 16:n.histage=this.g_a;p.Hla && this.WK && (n.ishighstable=this.tga,n.avg_avtp=this.WK.Esb,n.avg_ne=Number(this.WK.Gsb).toFixed(4));q.oc && (p=g.default.Jo(),n.maxAudioBufferAllowedBytes=p[d.default.Ta.Vb],n.maxVideoBufferAllowedBytes=p[d.default.Ta.Nb]);q.emit(u.type,u);Z70=25;break;}}};h.prototype.gDb=function(k){var d80,n,p,q,u,t,w,v;d80=2;for(;d80 !== 6;){switch(d80){case 2:(n=this,p=this.I,q=this.hg.get(),u=[]);[d.default.Ta.Nb,d.default.Ta.Vb].forEach(function(x){var e80,y;e80=2;for(;e80 !== 4;){switch(e80){case 2:e80=n.mc(x)?1:4;break;case 5:void 0 !== y && (x === d.default.Ta.Nb && (p.AM && (y.parallelDownloadMs=n.d5a,y.parallelDownloadBytes=n.c5a,y.singleDownloadMs=n.G9a,y.singleDownloadBytes=n.F9a,y.switchFromParallelToSingle=n.gxa,y.switchFromSingleToParallel=n.hxa),q && q.confidence && q.Ra && (y.asetput=q.Ra,y.aseiqr=q.lu,y.tdigest=q.Ek && q.Ek.Cz() || void 0),q && q.avtp && (y.avtp=q.avtp.Fa)),u.push(y));e80=4;break;case 1:y=n.rb.lZa(x);e80=5;break;case 9:e80=n.mc(x)?0:6;break;e80=n.mc(x)?1:4;break;}}});k.stat=u;(t=0,w=0,v=0);d80=3;break;case 3:var t3U="n";t3U+="o";t3U+="n";t3U+="e";q.confidence && (t=q.Ra?q.Ra.Fa:0,w=q.yj?q.yj.Fa:0,v=q.ku?q.ku.Fa:0);k.location={responseTime:w,httpResponseTime:v,bandwidth:t,confidence:q.confidence,name:this.Q2b};this.VNa && (k.bt={startTime:this.en.startTime,audioMs:this.en.JT,videoMs:this.en.ZZ},this.en.JT=[],this.en.ZZ=[],this.en.uqa=this.en.nqa);t3U !== p.nE && (k.isConserv=this.Xr,k.ccs=this.h4);d80=6;break;}}};h.prototype.Hob=function(k){var f80,n;f80=2;for(;f80 !== 6;){switch(f80){case 2:n=this.I;f80=1;break;case 1:f80=this.G2 && k.qu()?5:4;break;case 5:return !0;break;case 3:f80=this.H2 && n.zq && !k.qu()?9:8;break;case 8:this.H2 && (this.H2=!1);return !1;break;case 4:this.G2 && (this.G2=!1);f80=3;break;case 9:return !0;break;}}};h.prototype.tNa=function(k){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 2:var N3U="td";N3U+="i";N3U+="g";N3U+="est";h80=this.I.Uoa;g80=h80 === N3U?1:3;break;case 1:k=k.Ek;g80=5;break;case 5:return k;break;case 14:return k;break;g80=4;break;case 9:k=k.lu && k.lu.G9;g80=5;break;case 3:g80=9;break;}}};G70=16;break;case 6:h.prototype.zqb=function(k,n){var S70,q,u,p;S70=2;for(;S70 !== 6;){switch(S70){case 5:void 0 === this.en && (this.en={startTime:g.default.time.ea(),JT:[],ZZ:[],uqa:void 0,nqa:void 0});p=Math.floor((g.default.time.ea() - this.en.startTime) / p.OL);(q=this.en.nqa,u=this.en.uqa?p - this.en.uqa - 1:p);S70=9;break;case 1:S70=this.VNa?5:6;break;case 7:this.en.nqa=p;S70=6;break;case 2:p=this.I;S70=1;break;case 9:S70=void 0 === q || p > q?8:7;break;case 8:(this.en.JT[u]=k,this.en.ZZ[u]=n);S70=7;break;}}};h.prototype.PQb=function(){var T70,k,U70;T70=2;for(;T70 !== 4;){switch(T70){case 2:k=this.rb;T70=1;break;case 1:T70=this.NF.Lr?5:4;break;case 8:T70=this.NF.Lr?1:7;break;T70=this.NF.Lr?5:4;break;case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.hg.NVb(),this.HOa.fd());U70=1;break;}}}catch(n){var a3U="Hindsight";a3U+=": Error";a3U+=" d";a3U+="uring clean u";a3U+="p: ";a000.e5U(1);k.Cb.Ln(a000.a5U(n,a3U));}T70=4;break;}}};h.prototype.cRb=function(k){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.I.AM && k === d.default.Ta.Nb && (this.hxa=this.gxa=this.F9a=this.G9a=this.c5a=this.d5a=0);V70=1;break;}}};G70=12;break;}}})();b.Lya=a;},function(r,b,a){var f,l,m;function c(d,g,h,k){this.rb=d;this.H=g;this.Lk=this.H.error.bind(this.H);this.Sb=this.H.warn.bind(this.H);this.nn=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.dlb=new l();this.I=k;this.x2=[];this.O2=void 0;d=k.O6;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.oga=!0;}a(28);b=a(6).default;f=a(143);a(398);l=a(869);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(126).DJa || a(126);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.O2 || (this.O2=g);f.prototype.add.call(this,d,g,h);};c.prototype.aFb=function(){var d;if(0 !== this.x2.length){d=[];this.x2.forEach(function(g){g && g.FL && d.push(g.Cz());});return d;}};c.prototype.fd=function(){this.x2=[];};c.prototype.RHb=function(){var d,g,h;d=this.get(this.I.O6.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (g=n,h=p,!0);});if(g)for(var k=0;k < h;k++){d[k]=g;}}d={trace:d,timestamp:this.O2,Oy:this.Hd};this.oga=!1;f.prototype.reset.call(this);this.oga=!0;this.O2=void 0;return d;};c.prototype.Vla=function(d){var g,h,k,n,p,q;if(d && !d.FL){h=d.Rt.C0a;h && (d.Bua=this.gia(d),d.g$=!1);if((g=this.RHb()) && g.trace && g.trace.length){k=d.Bj.SD;n=g.timestamp;if(n > k){p=g.Oy;q=g.trace[0];k=Math.ceil((n - k) / p);g.timestamp=n - k * p;for(n=0;n < k;n++){g.trace.splice(0,0,q);}}g.trace.length && g.trace.pop();}d.YA=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.Htb(d),d.I4a=g,h && g && (d.g$=g.mD),d.FL=!0,this.x2.push(d));}};c.prototype.Htb=function(d){var p,q,u,t;function g(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,A){return A.sb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.I.N6,k={mD:!1,k7:!1,tBb:0},n=0;n < h.length;n++){p=h[n];q=this.dlb.create(p);if(q){u=m.now();t={};try{g(d.tx);t=q(d);}catch(w){t.IM=w;}t.qrb=m.now() - u;k[p]=t;k.mD=k.mD || t.mD;k.k7=k.k7 || t.k7;k.IM=k.IM || t.IM;}}return k;};c.prototype.gia=function(d){var g;d=d.Rt;g="";1E3 > d.$n && (g+=d.Ybb);1E3 > d.xr && (g=g + ("" !== g?",":"") + d.CQa);1E3 <= d.$n && 1E3 <= d.xr && (g="media");return g;};r.exports=c;},function(r,b,a){var l;function c(){}function f(m,d,g){return function(h){h.Lq=d;h.compare=g;return m(h);};}l=a(870);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=f(l.UV,!1,l.HSa);break;case "htwbr-segvmaf":d=f(l.UV,!0,l.HSa);break;case "hvmafgr":d=f(l.UV,!1,l.$ja);break;case "hvmafgr-dlvmaf":d=f(l.UV,!1,l.$ja);break;case "hvmafgr-segvmaf":d=f(l.UV,!0,l.$ja);break;case "hvmafdp":d=f(l.dp,!1);break;case "hvmafdp-dlvmaf":d=f(l.dp,!1);break;case "hvmafdp-segvmaf":d=f(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,u,t,w,v,x,y,z,A,B,E;function c(D){var F,C,G;F=D.YA;C=D.Bj;G=D.Rt.Ga - C.Z;F.timestamp > C.SD && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.SD);D=[];for(var K,J=F.timestamp,I=0;I < F.trace.length;I++){J >= C.SD && (D.push(F.trace[I]),K=F.trace[I]);J+=F.Oy;G-=F.Oy;}for(;0 < G;){D.push(K);G-=F.Oy;}C=F.Oy;F=D.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(D,F,!1);}function f(D,F,C){F=D.tx[F][C];return F.fa + D.Bj.OT * F.duration / 8;}function l(D){var F,C,G,K,J,I,M,R,H;F=D.Bj;C=F.Nm;G=D.Rt;K=G.rw;I=[];for(G=K=Math.min(G.EH,K);G >= C;G--){E.update("backward step loop");M=J=D.tx[0][G].Z - D.Bj.Z;G < K && (q(void 0 !== I[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),M=Math.min(I[G + 1].startTime,M));R=f(D,0,G);H=p(R,M,D.YA,F.SD);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:H,endTime:M,w4:M,TAb:J,iP:R,Je:0};R.OWa=G;I[G]=R;}F=0;for(G=C;G <= K;G++){F+=I[G].iP;I[G].ola=F;}if(!m(D,I,C,K))throw Error("Infeasible: reason buffer capacity at min bitrate");return {mD:!0,isa:0 == I.length,Pq:I};}function m(D,F,C,G){var K,J,I,M,R,H,P,N,L,Q;for(;C <= G;C++){E.update("checkBuffer");K=D;J=F;I=C;E.update("check buffer vacancy");M=K.Bj;R=K.tx[M.hW];H=K.xRa;P=!0;K=K.yDb(Math.floor(J[I].startTime) + M.Z);N=M.Ms + J[I].ola;L=0;Q=0;if(K.index < M.Nm){for(var S=0,U=M.TA;U < K.index;U++){S+=R[U].fa;}L+=S;S=0;for(U=M.TA;U < K.index;U++){S+=R[U].duration;}Q+=S;}else (L+=M.Ms,Q+=M.$n);S=0;for(U=M.Nm;U < K.index;U++){S+=J[U].iP;}L+=S;S=0;for(U=M.Nm;U < K.index;U++){S+=R[J[U].OWa].duration;}Q+=S;K=N - L;M=R[I].Z + R[I].duration - M.Z - Q;if(M >= H.kA || K >= H.Lbb)P=!1;J[I].FRa=K;J[I].fja=M;if(!P)return !1;}return !0;}function d(D){D=D.Bj.U;for(var F=[],C,G=0;G < D.length;G++){E.update("get prebuffered chunks loop");C=D[G];q(void 0 !== C.sb,"expect frag.vmaf !== undefined");C=new t(C.fa,C.duration / 1E3,C.sb);F.push(C);}return F;}function g(D){var F,C,G,K,J,I,H;F=D.tx;C=D.Bj;G=D.Rt;K=G.rw;J=D.$d;I=[];K=Math.min(G.EH,K);for(var M=0;M < F.length;M++){G=[];for(var R=C.Nm;R <= K;R++){E.update("get chunk map from play segment");H=F[M][R];H=new t(H.fa,H.duration / 1E3,D.Lq && void 0 !== H.sb?H.sb:J[M].sb);G.push(H);}I.push(G);}return new w(I,!1);}function h(D,F,C){q(D.pN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,K=0,J,I,M=0;M < F.length;M++){E.update("calculate twvmaf");q(F[M].p_a === M,"expect stream_choices[idx].i_epoch === idx");I=D.km[F[M].T6][M];J=void 0 !== C?C(I.quality):I.quality;I=I.Km;G+=J * I;K+=I;}return {IUa:G / K,HUa:1E3 * K};}function k(D,F,C){q(D.pN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,K=0,J=C.Bj.OT,I,M=0,R=0,H=0;H < F.length;H++){E.update("calculate Bytes");q(F[H].p_a === H,"expect stream_choices[idx].i_epoch === idx");I=D.km[F[H].T6][H];G+=I.fa;K+=J * I.Km * 1E3 / 8;M+=I.Km * C.$d[F[H].T6].bitrate;R+=I.Km;}return {GUa:G,DUa:K,FUa:0 < R?1 * M / R:0};}function n(D,F,C){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * C / 8;}function p(D,F,C,G){var K,J,I,M,R;K=C.trace;J=1 * C.Oy;I=F + G - C.timestamp;M=Math.floor(1 * I / J);F=(I - M * J) / J * n(K,M,J);if(F >= D)R=I - 1 * D / F * (I - M * J);else for(I=M;F < D;){E.update("find download start time");--I;if(0 > I)return -1;M=n(K,I,J);if(F + M >= D){D=(D - F) / M * J;R=(I + 1) * J - D;break;}F+=M;}return R + C.timestamp - G;}q=a(5).assert;u=a(871);t=a(399).ieb;w=a(399).jeb;v=a(872).xfb;x=a(400).Akb;y=a(247).Oza;z=a(237).I0;A=a(86).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");E=a(126).DJa || a(126);r.exports={UV:function(D){var F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,ja,ma,ta,Ka,Ua,Ya,ab;B.debug("greedy DEBUG false");E.Zva("greedy-" + (D.Lq?"segvmaf":"dlvmaf") + ": ");try{D.DH=[];F=D.tx;C=D.Bj;G=D.Rt;K=G.rw;J=D.$d;K=Math.min(G.EH,K);for(M=C.Nm;M <= K;M++){R=new u();D.DH[M]=R;F[0][M].kja=F[0][M].fa;for(I=1;I < F.length;I++){F[I][M].kja=F[I][M].fa;}I=0;H=F[I][M];H.xD=Infinity;H.Nf=I;for(I=1;I < F.length;I++){H=F[I][M];H.Nf=I;P=R.r7()?F[0][M]:R.ySb();N=8 * H.kja / H.duration;L=8 * P.kja / P.duration;if(D.Lq && void 0 !== H.sb)(Q=H.sb,S=P.sb);else (Q=J[I].sb,S=J[P.Nf].sb);H.uu=N - L;H.xD=(Q - S) / H.uu;isFinite(H.xD) && (0 < H.xD || I == F.length - 1) && 0 < H.uu && R.enqueue(H);}}for(M=C.Nm;M <= K;M++){C=[];U=[];ca=[];ka=D.DH[M].gp();for(F=0;F < ka.length;F++){H=ka[F];C.push(H.uu.toFixed(2));D.Lq && void 0 !== H.sb?U.push(H.sb):U.push(J[H.Nf].sb);ca.push(H.xD.toFixed(4));}}ya=l(D);if(ya.isa)return ya;qa=D.Bj;Y=D.Rt;ua=Y.rw;ua=Math.min(Y.EH,ua);ca=[];for(var O=qa.Nm;O <= ua;O++){D.DH[O].r7() || ca.push(D.DH[O].pM());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var T=new z(ca,D.compare);0 < T.length;){E.update("upgrade frags");ja=T.pop();a:{ua=qa=void 0;O=D;ca=ya;U=ja;ma=O.Bj;ta=O.Rt;Ka=Math.min(ta.EH,ta.rw);Ua=JSON.parse(JSON.stringify(ca.Pq));q(U && Ua[U.index].Je < U.Nf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");ua=U.index;qa=Ua[ua];qa.Je=U.Nf;qa.iP=f(O,qa.Je,ua);qa.startTime=p(qa.iP,qa.w4,O.YA,ma.SD);Ua[ua]=qa;if(0 > qa.startTime)Ya=!1;else {for(ua=U.index - 1;ua >= ma.Nm;ua--){qa=Ua[ua];ab=Ua[ua + 1].startTime;if(qa.w4 <= ab)break;qa.w4=ab;qa.startTime=p(qa.iP,qa.w4,O.YA,ma.SD);Ua[ua]=qa;if(0 > qa.startTime){Ya=!1;break a;}}for(var ib=U.index + 1;ib <= Ka;ib++){Ua[ib].ola=Ua[ib].iP + (ib > O.Bj.Nm?Ua[ib - 1].ola:0);}for(var $a=U.index + 1;$a <= Ka;$a++){if(Ua[$a].startTime > Ua[U.index].TAb){Ka=$a - 1;break;}}m(O,Ua,U,Math.min(ua + 1,U.index),Ka)?(ca.Pq=Ua,Ya=!0):Ya=!1;}}Ya && (D.DH[ja.index].r7() || T.push(D.DH[ja.index].pM()));}}finally{delete D.DH;}for(Ka=ta=ma=Ya=ja=T=0;Ka < ya.Pq.length;Ka++){if(Ua=ya.Pq[Ka])(ab=D.tx[Ua.Je][Ua.OWa],T+=(ab.sb?ab.sb:D.$d[Ua.Je].sb) * ab.duration,ja+=ab.duration,Ya+=ab.fa,ma+=D.Bj.OT * ab.duration / 8,ta+=ab.duration * D.$d[Ua.Je].bitrate);}ya.IUa=0 < ja?1 * T / ja:0;ya.HUa=ja;ya.GUa=Ya;ya.DUa=ma;ya.FUa=0 < ja?1 * ta / ja:0;ya.iA=E.xYa();B.debug("Max heap used: " + Math.round(ya.iA / 1024 / 1024) + " MB");return ya;},$ja:function(D,F){if(D.xD < F.xD)return 1;if(D.xD > F.xD)return -1;if(D.uu > F.uu)return 1;if(D.uu < F.uu)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},HSa:function(D,F){if(D.uu > F.uu)return 1;if(D.uu < F.uu)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,C,G,K,J,I;E.Zva("dp-" + (D.Lq?"segvmaf":"dlvmaf") + ": ");F=l(D);if(!1 === F.mD || !0 === F.isa)return F;C=g(D);G=new v(C);K=d(D);K={eab:c(D),WQa:D.Bj.OT,t3a:0,U2a:240,T2a:8 * D.xRa.Lbb / 1E3,CRa:.5,jRa:new y(K),DVa:0,$$b:void 0,DZa:void 0,C6a:void 0,jQa:!0};G=G.gx(K);K=h(C,G,void 0);C=k(C,G,D);J=[];I=D.Bj.Nm;G.forEach(function(M){J[I]={Je:M.T6};I++;});A(K,F);A(C,F);F.Pq=J;F.iA=E.xYa();B.debug("Max heap used: " + Math.round(F.iA / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.Bg=a(f);this.Sg=this.nf=0;if(c(f)){for(var l=f.length,m=0;m < l;++m){this[m]=f[m];}this.nf=l;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.gp=function(){for(var f=this.nf,l=Array(f),m=this.Sg,d=this.Bg,g=0;g < f;++g){l[g]=this[m + g & d - 1];}return l;};b.prototype.push=function(f){var l,m,d,h;l=arguments.length;m=this.nf;if(1 < l){d=this.Bg;if(m + l > d){for(var g=0;g < l;++g){this.I1(m + 1);h=this.Sg + m & this.Bg - 1;this[h]=arguments[g];m++;this.nf=m;}return m;}h=this.Sg;for(g=0;g < l;++g){this[h + m & d - 1]=arguments[g];h++;}this.nf=m + l;return m + l;}if(0 === l)return m;this.I1(m + 1);g=this.Sg + m & this.Bg - 1;this[g]=f;this.nf=m + 1;return m + 1;};b.prototype.pop=function(){var f,l,m;f=this.nf;if(0 !== f){l=this.Sg + f - 1 & this.Bg - 1;m=this[l];this[l]=void 0;this.nf=f - 1;return m;}};b.prototype.shift=function(){var f,l,m;f=this.nf;if(0 !== f){l=this.Sg;m=this[l];this[l]=void 0;this.Sg=l + 1 & this.Bg - 1;this.nf=f - 1;return m;}};b.prototype.unshift=function(f){var l,m,d,h;l=this.nf;m=arguments.length;if(1 < m){d=this.Bg;if(l + m > d){for(var g=m - 1;0 <= g;g--){this.I1(l + 1);d=this.Bg;h=(this.Sg - 1 & d - 1 ^ d) - d;this[h]=arguments[g];l++;this.nf=l;this.Sg=h;}return l;}h=this.Sg;for(g=m - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.Sg=h;this.nf=l + m;return l + m;}if(0 === m)return l;this.I1(l + 1);d=this.Bg;g=(this.Sg - 1 & d - 1 ^ d) - d;this[g]=f;this.nf=l + 1;this.Sg=g;return l + 1;};b.prototype.ySb=function(){var f;f=this.nf;if(0 !== f)return this[this.Sg + f - 1 & this.Bg - 1];};b.prototype.get=function(f){var l;if(f === (f | 0)){l=this.nf;0 > f && (f+=l);if(!(0 > f || f >= l))return this[this.Sg + f & this.Bg - 1];}};b.prototype.r7=function(){return 0 === this.nf;};b.prototype.clear=function(){for(var f=this.nf,l=this.Sg,m=this.Bg,d=0;d < f;++d){this[l + d & m - 1]=void 0;}this.Sg=this.nf=0;};b.prototype.toString=function(){return this.gp().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.pM=b.prototype.shift;b.prototype.toJSON=b.prototype.gp;Object.defineProperty(b.prototype,"length",{get:function(){return this.nf;},set:function(){throw new RangeError("");}});b.prototype.I1=function(f){this.Bg < f && this.qpb(a(1.5 * this.Bg + 16));};b.prototype.qpb=function(f){var l,m;l=this.Bg;this.Bg=f;f=this.Sg;m=this.nf;if(f + m > l)for((f=f + m & l - 1,m=0);m < f;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,u,t,w,v;function c(x,y,z){this.mRa=this.Jlb(x,y,z);}function f(){}function l(){}function m(){}function d(x){this.Uub=x;}function g(){}function h(){}function k(){}function n(){this.lla={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(2);u=a(5).assert;b=a(247).Oza;t=a(400).Bkb;w=a(247).Mdb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");v=a(126).DJa || a(126);c.prototype.constructor=c;c.prototype.Jlb=function(x,y,z){u(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);u(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.ZC=function(x){return this.Imb(x,this.mRa);};c.prototype.Imb=function(x,y){x=this.tAb(x,y);if(0 === x)throw new f();if(x === y.length)throw new l();return x;};c.prototype.tAb=function(x,y){u(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}u(!1,"expect not coming here in digitize()");};c.prototype.y6=function(){return p(1,this.mRa.length - 1);};f.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.Eeb=-20;d.prototype.Deb=20;d.prototype.Ceb=void 0;d.prototype.xeb=new b(void 0);d.prototype.zeb=0;d.prototype.yeb=1;d.prototype.Heb=!1;d.prototype.Beb=!0;d.prototype.Aeb=!0;d.prototype.Feb=void 0;d.prototype.veb=!0;d.prototype.web=0;d.prototype.gx=function(x){u(void 0 !== x.eab,"expect recipe.time_varying_bandwidth !== undefined");return this.spb(this.Uub,x.eab,void 0 !== x.t3a?x.t3a:this.Eeb,void 0 !== x.U2a?x.U2a:this.Deb,void 0 !== x.T2a?x.T2a:this.Ceb,void 0 !== x.jRa?x.jRa:this.xeb,void 0 !== x.DVa?x.DVa:this.zeb,void 0 !== x.CRa?x.CRa:this.yeb,void 0 !== x.mZb?x.mZb:this.Heb,void 0 !== x.nIb?x.nIb:this.Beb,void 0 !== x.DZa?x.DZa:this.Aeb,void 0 !== x.C6a?x.C6a:this.Feb,void 0 !== x.jQa?x.jQa:this.veb,void 0 !== x.WQa?x.WQa:this.web);};d.prototype.spb=function(x,y,z,A,B,E,D,F,C,G,K,J,I,M){var H,P,N,L,Q,qa,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa,Da,Ha,Qa,Xa,gb,Fb;function R(Eb){return Eb[Q];}v.Zva("dp: ");u(z <= E.yh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");u(E.yh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");u(z <= D,"expect min_buffer_sec <= end_buffer_sec");u(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && u(E.Sl <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + E.Sl + " and " + B);P=new c(z,A,F);F=new n();N=0;L=E;F.put([0,P.ZC(E.yh)],[N,L,void 0,void 0,y,void 0,void 0,void 0]);y=L=0;E=x.hIb();u(x.pN() == E.length,"expect chunk_map.get_n_epoch() == durations_sec.length");Q=-1;try{for(var S=q.__values(E),U=S.next();!U.done;U=S.next()){Q+=1;E=!0;for(var ca=x.km.map(R),ka=P.y6(),ya=0;ya < ka.length;ya++){qa=ka[ya];if(F.hqa([Q,qa]))for(var Y=F.get([Q,qa]),ua=Y[0],O=Y[1],T=Y[4],ja=0;ja < ca.length;ja++){ma=ca[ja];v.update("epoch-ibuf-chunk loop");ta=void 0 !== J?J(ma.quality):ma.quality;Ka=T.It();try{Y=this.omb(O,ma,Ka,M);Ua=Y[0];Ya=Y[1];ab=Y[2];ib=Y[3];$a=Y[4];Sa=Y[5];}catch(Eb){if(Eb instanceof t)continue;else if(Eb instanceof f){L+=1;continue;}else throw Eb;}Da=!1;Ha=!1;try{Qa=P.ZC(ib.yh);G && P.ZC(Ua);K && P.ZC(Ya);if(void 0 !== B)if(K){if(ab.Sl > B)throw new m();}else if(ib.Sl > B)throw new m();}catch(Eb){if(Eb instanceof f)(Qa=void 0,L+=1);else if(Eb instanceof l)(I?Da=!0:y+=1,Qa=void 0);else if(Eb instanceof m)(I?Ha=Da=!0:y+=1,Qa=void 0);else throw Eb;}try{if(Da && Ha){u(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=K?ab.Sl - B:ib.Sl - B;u(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{gb=ib.VSb(Xa);}catch(Eb){if(Eb instanceof w)throw new f();throw Eb;}Ka.t5a(gb);$a+=gb;u(ib.yh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Qa=P.ZC(ib.yh);}else if(Da && !Ha){gb=K?ab.yh - A + 1E-8:ib.yh - A + 1E-8;u(0 <= gb,"pause dlnd kb cannot be -ve but is " + gb);try{ib.N5a(gb);}catch(Eb){if(Eb instanceof w)throw new f();throw Eb;}Ka.t5a(gb);$a+=gb;u(z <= ib.yh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");u(ib.yh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Qa=P.ZC(ib.yh);}else gb=0;}catch(Eb){if(Eb instanceof f)(Qa=void 0,L+=1,gb=void 0);else if(Eb instanceof t)continue;else throw Eb;}N=F.hqa([Q + 1,Qa])?F.get([Q + 1,Qa])[0]:-Infinity;this.$pb(ib,Qa,ma,ta,qa,Q + 1,N,F,ua,ja,Ka,$a,Sa,gb) && (E=!1);}}if(E){--Q;break;}}}catch(Eb){var wb;wb={error:Eb};}finally{try{U && !U.done && (H=S.return) && H.call(S);}finally{if(wb)throw wb.error;}}try{Fb=this.kNa(Q + 1,P.ZC(D),F,C,P);}catch(Eb){if(Eb instanceof g)try{Fb=this.kNa(Q + 1,P.ZC(D),F,!C,P);}catch(Nb){if(Nb instanceof g){if(L > y)throw new h();throw new k();}throw Nb;}else throw Eb;}qa=Fb;for(z=[];-1 < Q;Q--){Y=F.get([Q + 1,qa]);N=Y[0];L=Y[1];qa=Y[3];A=Y[5];B=Y[6];D=Y[7];Y=Y[2];ma=x.km[Y][Q];C=ma.Hz();ta=ma.quality;z.unshift({p_a:Q,T6:Y,info:{z9b:C,quality:ta,aja:L.yh,$ia:L.Sl,eVa:A,Ra:B,dta:D}});}return z;};d.prototype.kNa=function(x,y,z,A,B){var E,D;E=!1;D=B.y6()[0];for(B=B.y6()[B.y6().length - 1];;){if(y < D || y > B){E=!0;break;}if(z.hqa([x,y]))break;else y=A?y - 1:y + 1;}if(E)throw new g("backtrack fails to find a solution");return y;};d.prototype.$pb=function(x,y,z,A,B,E,D,F,C,G,K,J,I,M){z=C + A * z.Km;return void 0 !== y && z > D?(F.put([E,y],[z,x,G,B,K,J,I,M]),!0):!1;};d.prototype.omb=function(x,y,z,A){var B,E,D;A=(y.Hz() + A) * y.Km;z=z.aBb(A);A/=z;B=x.yh - z;E=x.yh + y.Km;D=x.It();D.add(y,void 0);x=x.It();x.add(y,void 0);try{x.N5a(z);}catch(F){if(F instanceof w)throw new f();throw F;}return [B,E,D,x,z,A];};g.prototype=Error();h.prototype=new g();k.prototype=new g();n.prototype={Ixa:function(x){return x.join(",");},put:function(x,y){this.lla[this.Ixa(x)]=y;},get:function(x){return this.lla[this.Ixa(x)];},hqa:function(x){return (this.Ixa(x) in this.lla);}};r.exports={xfb:d,g4b:c,H3b:f,I3b:l};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rKa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=a(16);m=r.__importDefault(a(6));d=a(217);g=a(397);a=(function(){var j80;j80=2;for(;j80 !== 13;){switch(j80){case 3:h.prototype.xT=function(k){var s80,n;s80=2;for(;s80 !== 4;){switch(s80){case 2:n=this;k=this.Za.rh(k);k.DT || (k.DT=!0,l.Bf.forEach(function(p){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:n.Za.Rg[p].resume();t80=1;break;}}}),this.Za.jT());s80=4;break;}}};h.prototype.Tob=function(k,n){var u80,p,q,u;u80=2;for(;u80 !== 8;){switch(u80){case 3:(this.Za.Bh.Ol.forEach(function(t){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:p.Za.aG(t,!1);v80=1;break;case 4:p.Za.aG(t,+8);v80=8;break;v80=1;break;}}}),this.Za.Bh=void 0);u80=9;break;case 2:(p=this,u=k.mediaType);k.LI(n);k.xWb();u80=4;break;case 4:u80=(null === (q=this.Za.Bh) || void 0 === q?0:q.cD())?3:9;break;case 9:this.Za.NU.KOa(u,k.eb.P);u80=8;break;}}};h.prototype.$fa=function(){var w80,k,n;w80=2;for(;w80 !== 4;){switch(w80){case 9:w80=this.$B?4:8;break;w80=this.$B?1:4;break;case 2:w80=this.$B?1:4;break;case 1:(k=this.$B.ek,n=this.$B.Pb);this.Za.rh(n) && (this.$B=void 0,this.xs(k,n));w80=4;break;}}};h.prototype.Wn=function(k){var x80,p,q;function n(u,t){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:var u3U="sk";u3U+="ip: unexpected behaviour - a non-presenting branch ";u3U+="does";u3U+="n't have a previou";u3U+="s branch";u !== p.Za.La.oi && (u.ug?n(u.ug,t):p.H.error(u3U));(u=u.Sd(t)) && u.Wn();y80=5;break;}}}x80=2;for(;x80 !== 7;){switch(x80){case 8:return k.Jsa(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:p.Za.V.Ve(f.ma.Lc);p.Za.rT();A80=5;break;}}}).ova;break;case 2:p=this;null === (q=this.RNa) || void 0 === q?void 0:q.cancel();this.Za.Nwa();this.Za.La.oi.Wn(k);l.Bf.forEach(function(u){var z80,t;z80=2;for(;z80 !== 9;){switch(z80){case 1:var x3U="skip:";x3U+=" not resuming bu";x3U+="fferManager, audio track swit";x3U+="ch in";x3U+=" progress";t=p.Za.zb.Mf[u];p.Za.Lr && (t.Awa=m.default.time.ea());t.cQ?t.Sb(x3U):p.Za.Rg[u].resume();n(p.Za.La.Yc,u);z80=9;break;case 7:z80=p.mc(u)?7:3;break;z80=p.mc(u)?1:9;break;case 2:z80=p.mc(u)?1:9;break;}}});this.RNa=k=new d.qF(this.Za.TI());x80=8;break;}}};h.prototype.Li=function(k){var B80,n,p,q;B80=2;for(;B80 !== 8;){switch(B80){case 1:B80=k < (null !== (n=p.zd) && void 0 !== n?n:p.rpa) || k >= q?5:4;break;case 2:(p=this.Za.La.oi,q=0 < Object.keys(p.O && p.O.Bl || ({})).length && !p.Tk?p.me - this.Za.I.ED:p.me);B80=1;break;case 4:n=this.Za.Vt(k,0,!0);k=this.Za.Vt(k,1,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;case 5:return !1;break;}}};j80=14;break;case 2:h.prototype.xs=function(k,n){var l80,u,t,w,p,q,v,x;l80=2;for(;l80 !== 50;){switch(l80){case 22:l80=u.P.kf.ue?21:32;break;case 53:this.Za.jT();l80=43;break;case 51:var f3U="se";f3U+="ek";f3U+="Fa";f3U+="il";f3U+="ed";var e3U="seek, no";e3U+=" manifes";e3U+="t at";e3U+=" manifestInde";e3U+="x:";(this.H.warn(e3U,n),this.Za.emit(f3U));l80=50;break;case 1:null === (q=this.RNa) || void 0 === q?void 0:q.cancel();(u=this.Za.I,t=this.Za.V.Re());q=k;l80=3;break;case 27:return;break;case 12:l80=n != t.P.Pb?11:26;break;case 3:var X3U=" play";X3U+="erSt";X3U+="ate: ";var L3U=" med";L3U+="ia.current";L3U+="Pts: ";var j3U=" cu";j3U+="rren";j3U+="t ma";j3U+="nifest";j3U+=": ";var B3U=" ma";B3U+="n";B3U+="ifestInde";B3U+="x: ";var k3U="seek";k3U+=":";k3U+=" ";u.ii && this.bi.Dm(k3U + k + B3U + n + j3U + this.Za.Ge.P.Pb + L3U + t + X3U + this.Za.V.getState());c.ia(n) && (n=this.Za.Ge.P.Pb);this.Za.La.T7a();l80=7;break;case 44:l.Bf.forEach(function(y){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:p.Za.Tv[y].Jm(!0);n80=1;break;}}});l80=43;break;case 35:var C7q="se";C7q+="ekDe";C7q+="laye";C7q+="d";this.$B={Pb:u.P.Pb + 1,ek:k};this.Za.emit(C7q);l80=33;break;case 19:l80=!this.Za.QMa(n)?18:15;break;case 11:n < t.P.Pb && u.P.kf.replace && (u.P.kf.replace=!1);w=this.Za.La.Yc;l.Bf.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(y=w.Sd(y)) && p.Za.WOa(y);m80=1;break;}}});l80=19;break;case 43:l80=this.Za.V.G0a()?42:41;break;case 25:l80=t.length?24:52;break;case 26:t=this.Za.La.Yc.fV(u.Ga || Infinity,u.P);l80=25;break;case 24:t=this.Za.Ar?this.Za.Sm?Math.min(t[0].Z,t[1].Z):t[0].Z:t[1].Z;l80=23;break;case 14:this.Za.V.Ve(f.ma.cj);t=this.Za.Ge;l80=12;break;case 41:var R7q="seekF";R7q+="ail";R7q+="e";R7q+="d";var y7q="after seeking, playerState no lon";y7q+="ger STARTIN";y7q+="G: ";this.H.warn(y7q + this.Za.V.getState());this.Za.emit(R7q);l80=50;break;case 21:l80=!this.Za.Y2(u.P.Pb + 1)?35:31;break;case 2:p=this;l80=1;break;case 23:l80=k > t?22:31;break;case 32:(k=t,q=k + this.Za.La.Fe);l80=31;break;case 7:l80=(u=this.Za.rh(n))?6:51;break;case 42:var d7q="s";d7q+="e";d7q+="e";d7q+="k";var D7q="pt";D7q+="s";D7q+="c";D7q+="hang";D7q+="ed";return (this.Za.emit(D7q,q),this.Za.emit(d7q),this.xT(n),k=t && this.Za.zb.hy()?100:0,this.Za.M2(1,k),this.Za.Yj(),q);break;case 28:l80=(t=this.Za.Ge.P.Pb === n && !this.anb(n) && k === u.Z)?44:39;break;case 6:!u.P.kf.RW && 0 < n && (q=this.Za.eM(n,k));l80=14;break;case 15:l80=this.Er(g.Oba.Sma(n),!1,!0)?27:26;break;case 39:this.Za.hha();v=this.Za.La.Yc.S3(k).LO;u.lsa();x=this.Za.La.Yc;l.Bf.forEach(function(y){var o80,z;o80=2;for(;o80 !== 5;){switch(o80){case 2:z=x.Sd(y);p.mc(y) && p.Tob(z,v[y]);o80=5;break;}}});l80=53;break;case 16:return;break;case 31:this.Za.V.Ve(f.ma.Ah);this.Za.Nwa();this.Za.La.z_b(k,n);l80=28;break;case 33:return;break;case 52:var K7q="se";K7q+="e";K7q+="kDel";K7q+="a";K7q+="yed";(this.$B={Pb:n,ek:k},this.Za.emit(K7q));l80=50;break;case 18:var Z7q="s";Z7q+="eek";Z7q+="Del";Z7q+="ay";Z7q+="ed";this.$B={Pb:n,ek:k};this.Za.emit(Z7q);l80=16;break;}}};h.prototype.seek=function(k,n){var p80,p;p80=2;for(;p80 !== 9;){switch(p80){case 3:return this.xs(p,n);break;case 2:p=k;c.ia(n) && (n=this.Za.Ge.P.Pb);this.Za.La.T7a();this.Za.rh(n).P.kf.RW || this.Za.eL || (p=this.Za.Ht(n,k));p80=3;break;}}};h.prototype.Er=function(k,n,p){var q80,q,u;q80=2;for(;q80 !== 9;){switch(q80){case 2:u=this.Za.La.Er(k,n);q80=1;break;case 4:var h7q="s";h7q+="ee";h7q+="k";var r7q="ptsch";r7q+="ange";r7q+="d";u?(this.Za.V.Ve(f.ma.cj),(k=this.Za.La.oi.children[k]) && this.Za.emit(r7q,null !== (q=k.zd) && void 0 !== q?q:k.rpa),this.Za.V.Ve(f.ma.Ah),this.Za.emit(h7q),k && this.xT(k.P.Pb),this.Za.M2(1),this.Za.Yj(),this.Za.zb.hy()):p || (q=this.Za.La.wHb(k),this.xs(q));return u;break;case 1:q80=n?5:4;break;case 6:q80=n?8:3;break;q80=n?5:4;break;case 5:return u;break;case 14:return u;break;q80=4;break;}}};h.prototype.anb=function(k){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 4:return ~ +this.Za.rh(k).DT;break;r80=1;break;case 2:return ! !this.Za.rh(k).DT;break;}}};j80=3;break;case 14:return h;break;}}function h(k,n,p,q){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 3:var O7q="1S";O7q+="I";O7q+="YbZ";O7q+="rNJCp9";O7q;k80=9;break;case 2:this.Za=k;this.H=n;this.mc=p;this.bi=q;k80=3;break;case 12:"";k80=7;break;k80=9;break;}}}})();b.rKa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=r.__importDefault(a(6));a=(function(){var C80;function m(d,g,h){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 3:this.KMa=this.wF=void 0;D80=9;break;case 2:var P7q="1S";P7q+="IYbZr";P7q+="NJCp9";this.Sa=d;this.H=g;this.mc=h;P7q;D80=3;break;}}}C80=2;for(;C80 !== 18;){switch(C80){case 4:m.prototype.N1=function(d){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.ePa() || this.Sa.zb.Mf[d.mediaType].cQ || this.Sa.dy.oC?!1:!0;break;}}};m.prototype.Yj=function(){var I80,d,g;I80=2;for(;I80 !== 5;){switch(I80){case 2:(d=this,g=this.Sa.I);!this.Sa.yOa || this.Sa.E2 || this.Sa.Q2 || (this.Sa.E2=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 5:d.dNa();J80=4;break;case 2:clearTimeout(d.Sa.E2);d.Sa.E2=void 0;J80=5;break;case 7:d.dNa();J80=7;break;J80=4;break;}}},g.sta),g.AM && this.Sa.Sm && (this.wF || (this.wF=setTimeout(function(){var K80,h;K80=2;for(;K80 !== 3;){switch(K80){case 2:clearTimeout(d.wF);d.wF=void 0;h=d.Sa.La.Yc.Sd(1);h && d.yMa(h);K80=3;break;}}},g.xqb))));I80=5;break;}}};m.prototype.yMa=function(d,g){var L80,p,h,k,n;L80=2;for(;L80 !== 3;){switch(L80){case 5:p=this.Sa.zb.Mf[h].Kf;p && (this.Sa.V.qg() || this.Sa.zg.wqb(h,p,k.bitrate,n.bitrate,d.hJb.bitrate,g));L80=3;break;case 2:(h=d.mediaType,k=this.Sa.zb.Pw[h].AH,n=d.vg.xW);L80=1;break;case 1:L80=k && n?5:3;break;}}};m.prototype.aNa=function(d,g){var M80,h,k,n,p,q;M80=2;for(;M80 !== 7;){switch(M80){case 3:return;break;case 5:M80=!q || !p?4:9;break;case 2:(h=d.O,k=d.Sd(1),n=d.Sd(0),p=!n || n.Wh,q=!k || k.Wh);h.fs || this.Sa.La.e9(d,h,d.P.kf.ue && 0 === d.P.Pb);M80=5;break;case 9:var G7q="S";G7q+="till in buffering";G7q+=" state ";G7q+="while pipeline's ar";G7q+="e done";this.Sa.V.qg() && (this.H.warn(G7q),this.Sa.zb.hy());g || h.fv || d.P.kf.ue || !this.Dub(d) || ((g=this.Sa.V.qg()) && this.Sa.I.Ska && (this.Sa.oha(),g=!1),d.D5 || this.Sa.La.lJb(d,g),d.KL(),d.Eub() && (g=Object.keys(d.children),this.Sa.I.V4 && 1 === g.length && !d.children[g[0]].active && this.Sa.La.f2a(d,g[0]),this.emb(d,h)));M80=7;break;case 4:M80=(this.Sa.Sm && this.bNa(d,k,n),this.Sa.Ar && this.bNa(d,n,k),p=!n || n.Wh,q=!k || k.Wh,!q || !p)?3:9;break;}}};m.prototype.emb=function(d,g){var N80,k,n,p,q,u,h,t,w;N80=2;for(;N80 !== 23;){switch(N80){case 5:k=d.JK.Im;N80=4;break;case 13:N80=1 < u.length?12:20;break;case 4:N80=Math.min(k[0] - d.Efa[0],k[1] - d.Efa[1]) >= h.Tub?3:9;break;case 3:d.JK=void 0;N80=8;break;case 9:(n=d.JK,p=g.Bl[n.O.id].weight);N80=8;break;case 10:0 !== t && 0 !== w?(c.pf(u,function(v){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:v.g3b=v.weight / t;v.otb=v.m3a / w;v.usage=v.otb - v.g3b;R80=4;break;}}}),u.sort(function(v,x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return v.usage - x.usage;break;}}})):u.sort(function(v,x){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:v=Math.min.apply(null,v.eb.Im);x=Math.min.apply(null,x.eb.Im);a000.x5U(0);return a000.u5U(x,v);break;}}});N80=20;break;case 7:(q=[],u=[]);c.pf(d.children,function(v,x){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:x=g.Bl[x].weight;0 !== x && (x={weight:x,eb:v},v.Fja(!0,!0) || u.push(x),q.push(x));O80=5;break;}}});0 === u.length?u=q:2 < u.length && (u.sort(function(v,x){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 2:return x.weight - v.weight;break;}}}),u.length=2);N80=13;break;case 19:var F7q="No subbranch candidate";F7q+="s to d";F7q+="ri";F7q+="v";F7q+="e";this.H.warn(F7q);N80=18;break;case 1:N80=this.Sa.oc.$oa && d.JK && d.Efa?5:8;break;case 27:d.Efa=n.Im;N80=26;break;case 2:h=this.Sa.I;N80=1;break;case 17:n=u[0].eb;p=u[0].weight;d.JK=n;N80=27;break;case 20:N80=0 === u.length?19:17;break;case 12:n=u.reduce(function(v,x){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 5:a000.x5U(21);var I31=a000.u5U(3,56,19);return [v[0] + x.weight,v[I31] + x.m3a];break;case 2:x.Im=x.eb.Im;x.m3a=Math.min(x.Im[0],x.Im[1]);Q80=5;break;}}},[0,0]);(t=n[0],w=n[1]);N80=10;break;case 18:return;break;case 26:n.ke || (n.ke={d7:l.default.time.ea(),KA:0});n.ke.weight=p;this.aNa(n,!0);N80=23;break;case 8:N80=!n?7:26;break;}}};m.prototype.bNa=function(d,g,h){var U80,k,n,p,q,u,t;U80=2;for(;U80 !== 8;){switch(U80){case 1:U80=!g.Wh?5:8;break;case 2:(k=this.Sa.I,n=g.mediaType);U80=1;break;case 4:U80=p.Kf && (void 0 === g.cI || (g.LI(g.cI,g.zSb),void 0 === g.cI))?3:8;break;case 5:(p=this.Sa.zb.Mf[n],q=this.Sa.zb.UA[n],u=this.Sa.zb.Pw[n]);U80=4;break;case 3:var m7q="Still in bu";m7q+="ffering state while pipe";m7q+="line does not have vaca";m7q+="ncy";var Y7q="drive";Y7q+="Pipeline, ";Y7q+="delaying audio until video actualStartPts deter";Y7q+="mine";Y7q+="d";t=this.Sa.Ge;c.ia(t.UH) || (k.ZD && 0 === n && c.ia(this.Sa.zb.Mf[1].xo)?g.Sb(Y7q):(c.ia(g.Kn) && (g.Kn=g.ie?g.ie.index:g.jma(g.Jc)),g.Jf && g.Kn > g.Jf.index?d.P.kf.ue && c.ia(t.Ga) && c.ia(d.Mc) || (g.Wh || this.Sa.WOa(g),d=this.Sa.Ge.P.Pb,d < this.Sa.cN() - 1 && this.Sa.Y2(d + 1)):this.N1(g) && (k.XBb && !this.Sa.V.qg() && 0 >= g.GH?g.z1b(k.GOb):this.Elb(g,h)?(g.oMb=l.default.time.ea(),h=this.Sa.zb.eoa(g),k=h.Nf,c.ia(k) || (k=g.track.$d[k],this.Dlb(g,k) || ((n=k.d6())?(g.iMb=k.bitrate,g.HNb(k,n,this.Sa.V.qg(),p.Kf,h.Bu),this.K1b(k,u,q),d.ke && ++d.ke.KA):k.sE()))):this.Sa.V.qg() && (g.nn(m7q),this.Sa.zb.hy()))));U80=8;break;}}};C80=14;break;case 2:m.prototype.J1=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.wF && (clearTimeout(this.wF),this.wF=void 0);E80=1;break;}}};m.prototype.dNa=function(){var F80,d,g,h,k;F80=2;for(;F80 !== 6;){switch(F80){case 1:var q7q="first";q7q+="Drive";q7q+="St";q7q+="reaming";void 0 === this.Sa.amb && (this.Sa.amb=!0,this.Sa.Cb.bm(q7q));(d=this.Sa.La,g=d.Yc.Sd(0),h=d.Yc.Sd(1),k=!h || h.Wh);(!g || g.Wh) && k && this.Sa.eL && d.tvb(h?h.Mc:g.Mc);h=!h || h.Zq;F80=9;break;case 8:this.aNa(d.Yc);this.Vpb();F80=6;break;case 2:F80=!this.Sa.Qi.tha && !this.Sa.jn()?1:6;break;case 9:g && !g.Zq || !h || this.Sa.eL || (this.Sa.oc.If && this.Sa.oc.If.Mp(!0,this.Sa.Zl.sessionId),this.Sa.Cb.i4a());F80=8;break;}}};m.prototype.ePa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Sa.jn() || this.Sa.V.I0a() || this.Sa.V.H0a()?!0:!1;break;}}};C80=4;break;case 14:m.prototype.K1b=function(d,g,h){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:g.rqa=d.Qc;c.Ca(h.xw) || (h.H1b(d.zs,d.Pz || -1,d.bitrate),c.ia(d.Lva) || this.Sa.zg.X8a(d.Lva,d.Mo,d.No));d.url && (g.yqa=d.url);V80=4;break;}}};m.prototype.Dlb=function(d,g){var W80,h;W80=2;for(;W80 !== 5;){switch(W80){case 2:h=this.Sa.zb.Pw[d.mediaType];return this.Sa.yOa && g.Qc && h.rqa && g.Qc !== h.rqa && (0 < d.Qa.ND || 0 < d.Qa.Js)?!0:!1;break;}}};m.prototype.Elb=function(d,g){var X80,h,k,n,p,q,u,t,w,v,x;X80=2;for(;X80 !== 32;){switch(X80){case 7:return !1;break;case 18:return !1;break;case 22:return !1;break;case 15:X80=void 0 === w || w < k.aOb?27:26;break;case 26:X80=this.Gmb(n) >= k.N2a?25:24;break;case 3:return !1;break;case 4:X80=(null === (h=d.dh) || void 0 === h?0:h.LIb())?3:9;break;case 19:X80=this.Sa.oc.bqa?18:17;break;case 13:X80=u === f.ma.Lc && t > k.nra && !h.kf.ue && !x && !h.QW || t && q > Math.max(t * k.qra / 100,k.fPb)?12:11;break;case 11:u=this.Sa.La.nG(p,n);x=0;X80=20;break;case 27:return !1;break;case 12:return !1;break;case 17:w=void 0;g && (w=g.mediaType,v=l.default.Jo()[w],w=k.a2b?this.Sa.La.g2a(p,w).eh / v:x / v);X80=15;break;case 2:var V7q="f";V7q+="loored";V7q+=" to";V7q+=" ";V7q+="0";var J7q="neg";J7q+="at";J7q+="ive ";J7q+="sch";J7q+="eduledBufferLevel:";(k=this.Sa.I,n=d.mediaType,p=d.V7,q=this.Sa.V.Re(),u=this.Sa.V.getState(),t=this.Sa.La.iw(p,n),w=d.Jc + p.Fe - q);0 > w && (d.Sb(J7q,w,V7q),w=0);v=g?g.Jc:0;X80=4;break;case 34:return !1;break;case 8:X80=q >= k.l8?7:6;break;case 33:return 0 < k.vu && !p && u + (g?x:0) > k.vu || void 0 !== this.KMa && t > this.KMa || 1 === n && h.kf.ue && t > k.i8 && (g=this.Sa.oc.Qb.get(),g.confidence && g.Ra && g.Ra.Fa * d.$L > k.ora)?!1:!0;break;case 9:q=d.Qa.ata;X80=8;break;case 24:w=this.Sa.La.v0b();X80=23;break;case 20:X80=g && (x=this.Sa.La.nG(p,g.mediaType),v=d.Jc - v,this.mc(g.mediaType) && !g.Wh && v >= k.vra && w > k.sj)?19:26;break;case 35:X80=(q=1,d.cja < k.lA && (q=k.lA),d.Qa.ND >= q)?34:33;break;case 21:X80=(p=this.Sa.V.qg())?35:33;break;case 25:return !1;break;case 23:X80=!c.ia(k.Lw) && w >= k.Lw || d.$L + q >= Math.max(k.kA,this.Sa.oc.RA + k.usa * p.P.eOb[n])?22:21;break;case 6:h=this.Sa.Ge.P;x=this.Sa.V.Po(h);X80=13;break;}}};m.prototype.Gmb=function(d){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Sa.La.Kb.reduce(function(g,h){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 2:return g + h.pHb(d);break;}}},0);break;}}};C80=10;break;case 10:m.prototype.Dub=function(d){var a90,g,h,k;a90=2;for(;a90 !== 4;){switch(a90){case 2:(g=this,h=this.Sa.La,k=!0);c.pf(d.O.Bl,function(n,p){var b90,q;b90=2;for(;b90 !== 7;){switch(b90){case 3:n && q && n.stream.je && q.stream.je || (k=!1);g.Sa.V.Po(p) || (k=!1);b90=7;break;case 2:b90=(n=h.sf(p))?1:8;break;case 1:p=n.P;n=p.th[0];q=p.th[1];b90=3;break;case 8:var Q7q="in";Q7q+=" dest";Q7q+="s:";var l7q="inv";l7q+="alid ";l7q+="segme";l7q+="n";l7q+="t:";d.Sb(l7q,p,Q7q,d.O.Bl);b90=7;break;}}});return k;break;}}};m.prototype.Vpb=function(){var c90,d,g,h;c90=2;for(;c90 !== 5;){switch(c90){case 2:(d=this.Sa.I,g=this.Sa.La,h=g.Yc);this.Sa.V.qg() || g.iw(h,1) < d.ZW || h.P.Exa();c90=5;break;}}};C80=19;break;case 19:return m;break;}}})();b.DBa=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XEa=void 0;c=a(170);f=a(16);l=a(16);m=a(9);r=(function(){var d90;d90=2;function d(g,h,k,n){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 2:var g7q="1S";g7q+="IY";g7q+="bZr";g7q+="NJ";g7q+="Cp9";this.ac=g;this.H=h;this.mc=k;this.NF=n;this.vOa=this.tha=!1;g7q;e90=8;break;}}}for(;d90 !== 6;){switch(d90){case 2:d.prototype.play=function(){var f90,g;f90=2;for(;f90 !== 5;){switch(f90){case 2:var v7q="p";v7q+="l";v7q+="a";v7q+="y";var b7q="play called after pi";b7q+="pelin";b7q+="es alre";b7q+="a";b7q+="dy shutdown";g=this;this.jn()?this.H.warn(b7q):(this.ac.V.Ve(f.ma.Lc),this.ac.Epb(),this.ac.zb.Mf.forEach(function(h){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var n7q="play: not resuming bufferMan";n7q+="ager,";n7q+=" audio tr";n7q+="ack switch in progress";g.mc(h.mediaType) && (h.cQ?h.Sb(n7q):(g.ac.Rg[h.mediaType].resume(),g.ac.Tv[h.mediaType].resume()));g90=1;break;}}}),this.ac.rT(),this.ac.emit(v7q));f90=5;break;}}};d.prototype.stop=function(){var h90,g,h,k,n;h90=2;for(;h90 !== 6;){switch(h90){case 2:(g=this,h=this.ac.V.I0a(),k=this.ac.V.H0a());this.ac.V.Ve(f.ma.jr);this.ac.J1();h || k || this.ac.La.oi.iE(!1,this.ac.V);h90=3;break;case 3:var s7q="s";s7q+="t";s7q+="o";s7q+="p";n=this.ac.La.Yc;l.Bf.forEach(function(p){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 3:i90=(p=n.Sd(p))?2:0;break;i90=(p=n.Sd(p))?1:5;break;case 1:p.Wh=!1;i90=5;break;case 2:i90=(p=n.Sd(p))?1:5;break;case 9:p.Wh=-3;i90=1;break;i90=5;break;}}});l.Bf.forEach(function(p){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(p=g.ac.Rg[p]) && p.pause();j90=1;break;}}});this.ac.emit(s7q);h90=6;break;}}};d90=5;break;case 5:d.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.tha=!0;k90=1;break;}}};d.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.tha=!1;this.ac.ng.Yj();l90=5;break;}}};d.prototype.close=function(){var m90,g;m90=2;for(;m90 !== 6;){switch(m90){case 5:var H7q="e";H7q+="ndp";H7q+="lay";var W7q="l";W7q+="og";W7q+="da";W7q+="ta";var T7q="cl";T7q+="o";T7q+="s";T7q+="e";this.stop();this.ac.emit(T7q);g.vVa && (g=c.Ax.instance().wb()) && (g={type:W7q,target:H7q,fields:{bridgestat:g}},m.Va(this.ac,g.type,g));m90=9;break;case 9:this.ac.oc.If && this.ac.oc.If.Mp(!0,this.ac.Zl.sessionId,!0);this.ac.Cb.i4a();this.ac.q7a();m90=6;break;case 2:g=this.ac.I;this.vOa=!0;m90=5;break;}}};d.prototype.flush=function(){var n90,o90,n,p,q,u,t,g,h,k;n90=2;for(;n90 !== 16;){switch(n90){case 17:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.ac.i5(f.ma.jr);o90=1;break;}}}catch(v){var E7q="Hi";E7q+="ndsight: Error e";E7q+="valuating QoE a";E7q+="t st";E7q+="opping: ";a000.x5U(1);this.ac.Cb.Ln(a000.u5U(v,E7q));}n90=16;break;case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.Fa && (n.avtp=p.avtp.Fa,n.dltm=p.avtp.JC,q.avtp=n.avtp);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);k.flush();(u=k.WXa(),t=k.zPa);n90=7;break;case 19:this.ac.Cb.lOa();n90=18;break;case 12:var p7q="e";p7q+="ndpla";p7q+="y";var o7q="l";o7q+="o";o7q+="gd";o7q+="at";o7q+="a";h.tVa && (u=k.m6()) && (u.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=u.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=u.estimatedBytesPacedVideo,n.bytestotalVideo=u.bytestotalVideo,n.pacedAvtpVideo=u.pacedAvtpVideo),u.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=u.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=u.estimatedBytesPacedAudio,n.bytestotalAudio=u.bytestotalAudio,n.pacedAvtpAudio=u.pacedAvtpAudio),u.pacedAvtp && (n.pacedAvtp=u.pacedAvtp));h.Y4 && (k=k.e6()) && (n.initial_avtp=k.pH,n.initial_dltime=k.JC,n.initial_responses_audio=k.R_a,n.initial_responses_video=k.S_a,n.initial_tput_samples=k.nO,n.initial_1sec_tput_samples=k.lO);Object.keys(n).length && (n={type:o7q,target:p7q,fields:n},m.Va(this.ac,n.type,n));n90=20;break;case 2:(h=this.ac.I,k=this.ac.oc.Qb);n90=1;break;case 18:n90=this.NF.Lr?17:16;break;case 6:for(var w in u){var z7q="n";z7q+="e";var U7q="n";U7q+="e";var A7q="n";A7q+="e";u.hasOwnProperty(w) && (n[A7q + w]=Number(u[w]).toFixed(6),q[U7q + w]=1 * n[z7q + w]);}n90=14;break;case 1:n90=k?5:19;break;case 7:n90=u?6:14;break;case 14:t && t.length && (n.activeRequests=JSON.stringify(t));n.aseApiVersion=this.ac.eG;n90=12;break;case 20:var i7q="en";i7q+="dp";i7q+="l";i7q+="ay";var w7q="l";w7q+="o";w7q+="g";w7q+="d";w7q+="ata";var S7q="throughpu";S7q+="t-s";S7q+="w";var c7q="thro";c7q+="ug";c7q+="hpu";c7q+="t-";c7q+="sw";var M7q="thr";M7q+="oughp";M7q+="ut-sw";var I7q="t";I7q+="hroughput-";I7q+="sw";h.YU && (p && p[I7q] && p[M7q].Fa && this.ac.av.Mqb({avtp:p[c7q].Fa,variance:p[S7q].aj}),this.ac.av.Gqb(q,null === (g=p.avtp) || void 0 === g?void 0:g.JC),g=this.ac.av.pFb(),h=this.ac.av.zHb(),g && (g.n=h,g={type:w7q,target:i7q,fields:{ibef:g}},m.Va(this.ac,g.type,g),this.ac.av.save()));n90=19;break;}}};d90=8;break;case 8:d.prototype.jn=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.vOa || this.ac.La.jk;break;case 4:return this.vOa && this.ac.La.jk;break;q90=1;break;}}};return d;break;}}})();b.XEa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.RGa=void 0;r=a(2);c=r.__importStar(a(10));f=a(142);l=r.__importDefault(a(28)).default.Ta;m=r.__importDefault(a(6));d=a(9);g=a(5);a=(function(){var r90;r90=2;for(;r90 !== 38;){switch(r90){case 24:h.prototype.Nnb=function(k,n){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var t7q="audioTr";t7q+="a";t7q+="ckSwitch";t7q+="Start";t7q+="ed";k=k.Jw;n=n.Jw;n={type:t7q,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Va(this.ab,n.type,n);R90=3;break;}}};h.prototype.Mnb=function(k,n){var S90,p;S90=2;for(;S90 !== 5;){switch(S90){case 2:p=this;setTimeout(function(){var T90,q;T90=2;for(;T90 !== 5;){switch(T90){case 2:var N7q="audioT";N7q+="ra";N7q+="ckSwitchCo";N7q+="mp";N7q+="lete";q={type:N7q,trackId:k,trackIndex:n};d.Va(p.ab,q.type,q);T90=5;break;}}},0);S90=5;break;}}};h.prototype.Qnb=function(k){var U90,n;U90=2;for(;U90 !== 4;){switch(U90){case 2:var a7q="buffering";a7q+="Sta";a7q+="rted";n={type:a7q,time:m.default.time.ea(),percentage:k || 0};d.Va(this.ab,n.type,n);this.Aga=k || 0;U90=4;break;}}};r90=21;break;case 9:h.prototype.aob=function(k,n,p,q){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var u7q="maxPos";u7q+="i";u7q+="ti";u7q+="on";k={type:u7q,index:k,endPts:n,maxPts:p,maxSeekPts:q};d.Va(this.ab,k.type,k);y90=5;break;}}};h.prototype.job=function(k,n,p,q,u,t,w){var z90;z90=2;for(;z90 !== 3;){switch(z90){case 2:var e7q="noti";e7q+="fyStre";e7q+="amingError: ";var x7q="e";x7q+="r";x7q+="ro";x7q+="r";void 0 === w && (w=!1);k={type:x7q,error:k,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:u,manifestIndex:t,temporaryFailure:w};this.H.error(e7q + JSON.stringify(k));d.Va(this.ab,k.type,k);z90=3;break;}}};h.prototype.t2=function(k,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var f7q="se";f7q+="g";f7q+="me";f7q+="ntS";f7q+="tarting";n={type:f7q,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.P.Mw[0],video:k.P.Mw[1]}};k.TD || d.Va(this.ab,n.type,n);A90=5;break;}}};r90=6;break;case 15:h.prototype.mob=function(k){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var k7q="vid";k7q+="eoLo";k7q+="op";k7q+="ed";k={type:k7q,offset:k};d.Va(this.ab,k.type,k);N90=5;break;}}};h.prototype.kob=function(k,n,p,q,u){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var B7q="u";B7q+="pdateStrea";B7q+="ming";B7q+="Pts";n={type:B7q,mediaType:k,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:u};f.Tm.kq(k);d.Va(this.ab,n.type,n);O90=4;break;}}};h.prototype.Snb=function(k){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var j7q="fir";j7q+="stRequestApp";j7q+="e";j7q+="nde";j7q+="d";k={type:j7q,manifestIndex:k.Qa.eb.P.Pb,mediatype:k.mediaType,time:m.default.time.ea()};d.Va(this.ab,k.type,k);P90=5;break;}}};h.prototype.Wnb=function(k,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var L7q="initial";L7q+="Audi";L7q+="oTrac";L7q+="k";k={type:L7q,trackId:n,trackIndex:k};d.Va(this.ab,k.type,k);Q90=5;break;}}};r90=24;break;case 2:h.prototype.bm=function(k){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var X7q="s";X7q+="tartE";X7q+="ven";X7q+="t";k={type:X7q,event:k,time:m.default.time.ea()};d.Va(this.ab,k.type,k);t90=5;break;}}};h.prototype.cob=function(){var u90,k;u90=2;for(;u90 !== 5;){switch(u90){case 2:var C1q="op";C1q+="enComp";C1q+="lete";k={type:C1q};d.Va(this.ab,k.type,k);u90=5;break;}}};h.prototype.dob=function(k,n,p,q,u){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var y1q="ptsS";y1q+="tar";y1q+="ts";this.ab.I.yAb || (k={type:y1q,manifestIndex:k,mediaType:n,movieId:q,streamId:p,ptsStarts:u.Z9a()},d.Va(this.ab,k.type,k));v90=1;break;}}};h.prototype.Unb=function(k,n){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var R1q="h";R1q+="eader";R1q+="CacheHit";k={type:R1q,movieId:k,streamId:n};d.Va(this.ab,k.type,k);w90=5;break;}}};h.prototype.Tnb=function(k,n,p,q,u){var x90,t;x90=2;for(;x90 !== 3;){switch(x90){case 2:var D1q="h";D1q+="eader";D1q+="Cache";D1q+="DataHit";t=this.ab.CNa;this.ab.CNa=void 0;k={type:D1q,movieId:k,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:u,actualStartPts:t && t.xo,headerCount:t && t.sN,stats:t && t.ec};x90=4;break;case 4:d.Va(this.ab,k.type,k);x90=3;break;}}};r90=9;break;case 6:h.prototype.Oga=function(k){var B90,n;B90=2;for(;B90 !== 5;){switch(B90){case 2:var d1q="segm";d1q+="entAbo";d1q+="rte";d1q+="d";n={type:d1q,segmentId:k.id};k.TD || d.Va(this.ab,n.type,n);B90=5;break;}}};h.prototype.Hmb=function(k,n){var C90,p,q;C90=2;for(;C90 !== 12;){switch(C90){case 3:var K1q="se";K1q+="amle";K1q+="ss";p.transitionType=q;n.bla || (p.delayToTransition=n.I4);q=K1q === q?0:m.default.time.ea() - n.startTime;C90=7;break;case 7:p.durationOfTransition=q;p.atTransition=n.zab;p.srcsegmentduration=this.ab.La.vHb(n.Y$);return p;break;case 2:var P1q="r";P1q+="e";P1q+="s";P1q+="e";P1q+="t";var O1q="s";O1q+="ki";O1q+="p";var h1q="l";h1q+="o";h1q+="n";h1q+="g";var r1q="l";r1q+="o";r1q+="ng";var Z1q="seaml";Z1q+="es";Z1q+="s";(p={segment:k,srcsegment:n.Y$,srcoffset:n.AP,seamlessRequested:n.Ue,atRequest:{},discard:{}},q=n.ke[k]);q?p.atRequest={weight:q.weight,abuflmsec:q.Dr.xr,vbuflmsec:q.Dr.$n,abuflbytes:q.Dr.nC,vbuflbytes:q.Dr.Ms}:(q=this.ab.La.gZa(n.Y$,k),void 0 !== q && (p.atRequest.weight=q));c.pf(n.ke,function(u,t){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:t != k && (p.discard[t]={weight:u.weight,abuflmsec:u.Dr.xr,vbuflmsec:u.Dr.$n,abuflbytes:u.Dr.nC,vbuflbytes:u.Dr.Ms});D90=1;break;}}});q=n.Ue?n.XV?Z1q:r1q:n.K3a?h1q:n.Wn?O1q:P1q;C90=3;break;}}};h.prototype.gob=function(k,n,p){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 5:d.Va(this.ab,k.type,k);E90=4;break;case 2:var G1q="se";G1q+="g";G1q+="m";G1q+="entPresent";G1q+="ing";p=p?this.Hmb(k.id,p):void 0;k={type:G1q,segmentId:k.id,contentOffset:n,metrics:p,playlistSegment:k.TD,manifestIndex:k.P.Pb};E90=5;break;}}};h.prototype.eob=function(k,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var F1q="s";F1q+="e";F1q+="gmen";F1q+="tAppende";F1q+="d";n={type:F1q,segmentId:k.id,metrics:n};k.TD || d.Va(this.ab,n.type,n);F90=5;break;}}};r90=11;break;case 33:h.prototype.mnb=function(k){var Y90,n,p,q;Y90=2;for(;Y90 !== 7;){switch(Y90){case 1:c.Ca(k.qZ);Y90=5;break;case 5:Y90=!c.ia(this.gL)?4:8;break;case 2:Y90=!c.ia(k)?1:7;break;case 9:var m1q=", ";m1q+="systemDelta:";m1q+=" ";var Y1q="memoryUsage at";Y1q+=" ti";Y1q+="me: ";c.Ca(k.qZ) && c.Ca(this.gL.qZ) && (n=k.qZ - this.gL.qZ,4194304 < n && this.H.warn(Y1q + m.default.time.ea(),m1q + n));Y90=8;break;case 4:var l1q=", osAl";l1q+="loc";l1q+="atorDelta: ";var V1q=",";V1q+=" jsHe";V1q+="a";V1q+="pDelta: ";var J1q=", fastM";J1q+="all";J1q+="ocDelta: ";var q1q="memoryU";q1q+="sage at";q1q+=" time: ";(n=k.eWa - this.gL.eWa,p=k.c_a - this.gL.c_a,q=k.O4a - this.gL.O4a);(4194304 < n || 4194304 < q) && this.H.warn(q1q + m.default.time.ea() + J1q + n + V1q + p + l1q + q);Y90=9;break;case 8:this.gL=k;Y90=7;break;}}};h.prototype.lob=function(){var Z90,k;Z90=2;for(;Z90 !== 3;){switch(Z90){case 2:var Q1q="s";Q1q+="tr";Q1q+="eaming";Q1q+="stat";this.ab.I.mNb && m.default.memory.XFb(this.mnb.bind(this));k={type:Q1q,time:m.default.time.ea(),playbackTime:this.ab.V.Re()};this.ab.zg.gDb(k);d.Va(this.ab,k.type,k);Z90=3;break;}}};h.prototype.lOa=function(){var a01,k;a01=2;for(;a01 !== 4;){switch(a01){case 2:a01=this.ab.rs?1:4;break;case 1:var g1q="as";g1q+="e";g1q+="repo";g1q+="r";g1q+="t";k={type:g1q};this.ab.rs.eDb(k) && d.Va(this.ab,k.type,k);a01=4;break;}}};r90=30;break;case 11:h.prototype.fob=function(k,n,p){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var b1q="segm";b1q+="entC";b1q+="omple";b1q+="t";b1q+="e";k={type:b1q,mediaType:k,manifestIndex:n,segmentId:p.id};d.Va(this.ab,k.type,k);G90=5;break;}}};h.prototype.Nga=function(k,n){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var n1q="l";n1q+="astSegm";n1q+="en";n1q+="tPt";n1q+="s";n={type:n1q,segmentId:k.id,pts:Math.floor(n)};k.TD || d.Va(this.ab,n.type,n);H90=5;break;}}};h.prototype.Znb=function(k,n,p,q,u){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var v1q="m";v1q+="anifestRan";v1q+="ge";k={type:v1q,index:k,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(u)};d.Va(this.ab,k.type,k);I90=5;break;}}};h.prototype.oOa=function(k){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var s1q="m";s1q+="ax";s1q+="Bi";s1q+="tra";s1q+="tes";k={type:s1q,audio:k[0],video:k[1]};d.Va(this.ab,k.type,k);J90=5;break;}}};h.prototype.$nb=function(k,n){var K90,p;K90=2;for(;K90 !== 3;){switch(K90){case 4:d.Va(this.ab,k.type,k);K90=3;break;case 2:var W1q="notif";W1q+="y";W1q+="ManifestSelected: ";var T1q="manif";T1q+="estS";T1q+="ele";T1q+="c";T1q+="ted";p=this.ab.I;k={type:T1q,index:k,replace:n.P.kf.replace,ptsStarts:n.LO,streamingOffset:n.Z + n.Iw};p.ii && (n=W1q + JSON.stringify(k),p.ii && this.Dm(n));K90=4;break;}}};h.prototype.Ynb=function(k,n,p,q,u){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var H1q="m";H1q+="anifes";H1q+="tPre";H1q+="senting";k={type:H1q,index:k.Pb,pts:Math.floor(n),movieId:k.J,replace:k.kf.replace,contentOffset:p};null != q && null != u && (k.previousMovieId=q,k.previousIndex=u);d.Va(this.ab,k.type,k);L90=4;break;}}};h.prototype.hob=function(k,n,p,q){var M90,u;M90=2;for(;M90 !== 3;){switch(M90){case 2:var E1q="streamP";E1q+="r";E1q+="esenti";E1q+="n";E1q+="g";u=k.mediaType;f.Tm.kq(u);k={type:E1q,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:u,manifestIndex:q,trackIndex:k.track.mC,streamIndex:k.Nf};M90=4;break;case 4:d.Va(this.ab,k.type,k);M90=3;break;}}};r90=15;break;case 21:h.prototype.Onb=function(){var V90,k,n,p,q,u;V90=2;for(;V90 !== 3;){switch(V90){case 2:var o1q="buff";o1q+="eri";o1q+="ng";(k=this.ab.I,n=m.default.time.ea(),p=this.ab.La.Yc,q=this.ab.Sm?1:0,u=p.fb(q));p=p.Hh(q);k=Math.min(Math.max(Math.round(100 * (u.wD?(n - this.ab.xfa) / k.yA:u.progress?u.progress:p / k.sj)),this.Aga),99);k != this.Aga && (n={type:o1q,time:n,percentage:k},d.Va(this.ab,n.type,n),this.Aga=k);V90=3;break;}}};h.prototype.Mga=function(){var W90,k,n,p,q,u;W90=2;for(;W90 !== 8;){switch(W90){case 2:var p1q="bu";p1q+="fferi";p1q+="ngComp";p1q+="let";p1q+="e";(k=this.ab.La.Yc,n=k.fb(0),p=k.fb(1));this.mOa();(q=this.ab.Sm?this.ab.zb.UA[l.Nb]:this.ab.zb.UA[l.Vb],u=q.$T);k={type:p1q,time:m.default.time.ea(),actualStartPts:u,aBufferLevelMs:k.Hh(0),vBufferLevelMs:k.Hh(1),selector:p?p.kP:n.kP,initBitrate:q.xw,skipbackBufferSizeBytes:this.ab.oc.gE};this.ab.zg.fDb({initSelReason:q.Qz,initSelectionPredictedDelay:q.Pz,buffCompleteReason:q.Dt,hashindsight:this.ab.Lr,hasasereport:! !this.ab.rs,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});d.Va(this.ab,k.type,k);W90=8;break;}}};h.prototype.mOa=function(){var X90,n,p,q,u,t,w,k;X90=2;for(;X90 !== 12;){switch(X90){case 5:(n=this.ab.La.Yc,p=n.Hh(0),q=n.Hh(1));this.ab.zg.zqb(p,q);u=this.ab.oc.Qb.get();u=u.confidence?u.Ra.Fa:0;X90=8;break;case 1:X90=!this.ab.jn()?5:12;break;case 8:(t=this.ab.La,w=t.nG(n,0));n=t.nG(n,1);X90=6;break;case 6:var A1q="updateB";A1q+="uff";A1q+="erLevel";p={type:A1q,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:u};X90=14;break;case 2:k=this.ab.I;X90=1;break;case 14:q > k.n3a && this.ab.oc.If && this.ab.oc.If.Mp(!0,this.ab.Zl.sessionId);d.Va(this.ab,p.type,p);X90=12;break;}}};r90=33;break;case 41:h.prototype.mQb=function(k){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var U1q="st";U1q+="reamSelectio";U1q+="nAugmentD";U1q+="at";U1q+="a";k={type:U1q,augmentData:k,fragmentIndex:k[0].Rd};d.Va(this.ab,k.type,k);h01=5;break;}}};h.prototype.Dm=function(k){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var I1q=",";I1q+=" ";var z1q="mana";z1q+="ger";z1q+="deb";z1q+="ugevent";k={type:z1q,message:"@" + m.default.time.ea() + I1q + k};d.Va(this.ab,k.type,k);i01=5;break;}}};return h;break;case 30:h.prototype.Lnb=function(){var b01,k;b01=2;for(;b01 !== 5;){switch(b01){case 2:var M1q="a";M1q+="sereport";M1q+="e";M1q+="nabled";k={type:M1q};d.Va(this.ab,k.type,k);b01=5;break;}}};h.prototype.Vnb=function(k){var G8q=a000;var c01,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,M;c01=2;for(;c01 !== 6;){switch(c01){case 4:c01=this.ab.VU || this.ab.fx?3:9;break;case 1:var c1q="hindsigh";c1q+="trepor";c1q+="t";(n={type:c1q},p=this.ab.I.N6);for(M in p){var t1q="hv";t1q+="ma";t1q+="f";t1q+="d";t1q+="p";var i1q="h";i1q+="vmafg";i1q+="r";var w1q="h";w1q+="v";w1q+="m";w1q+="aft";w1q+="b";var S1q="h";S1q+="t";S1q+="w";S1q+="b";S1q+="r";q=p[M];u=0;t=0;w=0;v=0;x=0;y=0;z=void 0;A=void 0;B=!1;E=-1;D=-1;F=-1;C=-1;G=-1;K=-1;for(J in k){A=k[J];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,w+=z.dlvdur,u+=z.dltwbr * z.dlvdur,t+=z.dlvmaf * z.dlvdur);y+=A.pbdur;v+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (E=1 * v / y,C=1 * x / y);B && (0 < w && (D=1 * u / w,G=1 * t / w),0 < w + y && (F=1 * (u + v) / (w + y),K=1 * (t + x) / (w + y)));switch(q){case S1q:n.htwbr=F;n.hptwbr=D;n.pbtwbr=E;z && (n.rr=z,n.ra=A);break;case w1q:n.hvmaftb=K;n.hpvmaftb=G;n.pbvmaftb=C;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case i1q:n.hvmafgr=K;n.hpvmafgr=G;n.pbvmafgr=C;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case t1q:(n.hvmafdp=K,n.hpvmafdp=G,n.pbvmafdp=C,z && (n.rrvmafdp=z,n.ravmafdp=A));}}c01=4;break;case 2:c01=k?1:6;break;case 3:n.report=k;c01=9;break;case 9:c01=this.ab.fx?8:7;break;case 7:d.Va(this.ab,n.type,n);c01=6;break;case 8:for(var I in k){if((p=k[I],void 0 !== p.O9a))for(q in p.O9a){if((z=p.O9a[q],void 0 !== z.faa)){var x1q=" a";x1q+="n";x1q+="d ";var u1q="expect sol.strmsel.length =";u1q+="== sol.frag";u1q+="sel.l";u1q+="ength";u1q+=" but got ";var a1q="expect ";a1q+="report.fragmentsPrebuffered !";a1q+="== undefined";var N1q="expect re";N1q+="port.fr";N1q+="agmentsPrebuffered !== u";N1q+="ndefine";N1q+="d";M=void 0 !== p.QWa;M || (console.error(N1q),g.assert(M,a1q));M=[];for(var R in p.QWa){u=p.QWa[R];M.push({fa:u.fa,Km:u.duration / 1E3,quality:u.sb});}M=z.faa.length === z.RWa.length;u=u1q + z.faa.length + x1q + z.RWa.length;M || (console.error(u),g.assert(M,u));M=[];u=0;for(var H in z.faa){w=z.faa[H];t=z.RWa[H];G8q.e5U(1);u=w=G8q.a5U(w,u);M.push({Dcc:w,fdc:z.eVa[H],k$b:z.Ra[H],aja:z.aja[H],$ia:z.$ia[H],BRa:z.BRa[H],P9b:{fa:t.fa,Km:t.duration / 1E3,quality:t.sb?t.sb:z.$d[w].sb,Icc:t.Nf,Q9b:t.Me},U6a:0,hcc:0,dta:z.dta[H]});}z=[];M=0;for(var P in p.YA.trace){u=p.YA.trace[P];G8q.e5U(1);M=u=G8q.a5U(u,M);z.push(u);}}}}c01=7;break;}}};h.prototype.Rnb=function(k){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var e1q="endO";e1q+="fS";e1q+="tream";k={type:e1q,mediaType:k};d.Va(this.ab,k.type,k);d01=5;break;}}};h.prototype.Ln=function(k){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var k1q="aseexc";k1q+="ep";k1q+="tion";var f1q="asee";f1q+="x";f1q+="c";f1q+="ep";f1q+="tion";this.ab.emit(f1q,{type:k1q,msg:k});e01=1;break;}}};h.prototype.fQb=function(k,n,p,q){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var j1q="maxvideobit";j1q+="r";j1q+="at";j1q+="echa";j1q+="nged";var B1q="maxvide";B1q+="o";B1q+="b";B1q+="itratecha";B1q+="nged";k={type:B1q,time:m.default.time.ea(),spts:q,maxvb_old:k,maxvb:n,reason:p};this.ab.emit(j1q,k);f01=5;break;}}};h.prototype.i4a=function(){var g01,k;g01=2;for(;g01 !== 3;){switch(g01){case 1:this.Npb=!0;g01=5;break;case 2:g01=!this.Npb && this.ab.I.f4a?1:3;break;case 7:this.Npb=+5;g01=2;break;g01=5;break;case 5:var L1q="s";L1q+="tre";L1q+="a";L1q+="meren";L1q+="d";k={type:L1q,time:m.default.time.ea()};d.Va(this.ab,k.type,k);g01=3;break;}}};r90=41;break;}}function h(k,n){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:var X1q="1";X1q+="SIYbZrN";X1q+="J";X1q+="Cp9";this.ab=k;this.H=n;X1q;s90=4;break;}}}})();b.RGa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.uDa=void 0;c=a(2);r=a(17);f=c.__importStar(a(10));a(5);a(222);l=a(240);m=a(379);d=a(83);a(370);a(385);g=a(125);h=c.__importDefault(a(28));a(235);k=a(878);n=c.__importDefault(a(124));a(16);p=c.__importDefault(a(6));a(176);a(244);a(243);a(99);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");u=p.default.KJ;t=q.trace.bind(q);a.trace.bind(a);w=q.warn.bind(q);v=q.error.bind(q);x=q.info.bind(q);a=(function(y){var j01;j01=2;for(;j01 !== 39;){switch(j01){case 10:z.prototype.AX=function(A){var D01;D01=2;for(;D01 !== 5;){switch(D01){case 1:this.K1(A);D01=5;break;case 2:var C0q="_onEr";C0q+="ro";C0q+="r: ";w(C0q,A.toString());D01=1;break;case 3:w("",A.toString());D01=8;break;D01=1;break;case 9:this.K1(A);D01=6;break;D01=5;break;}}};z.prototype.CRb=function(A){var E01,B;E01=2;for(;E01 !== 9;){switch(E01){case 3:this.lpb(A,function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:f.ia(A) || (f.ia(A.Cm) || A.Cm.a_a--,B.K1(A));F01=1;break;}}});E01=9;break;case 2:B=this;A.a0b=A.uf;this.$kb(A);f.ia(A.ZIb) || A.ZIb(A.a0b);E01=3;break;}}};z.prototype.DRb=function(A){var G01,B,E,D,F;G01=2;for(;G01 !== 8;){switch(G01){case 2:(B=this,E=A.J,D=this.fg[E] || A.Cm);G01=1;break;case 1:G01=D?5:8;break;case 4:F=p.default.time.now();this.Uj.ZWb(A,D,function(C){var H01;H01=2;for(;H01 !== 4;){switch(H01){case 2:C || f.ia(D) || (C=p.default.time.ea() - F,f.ia(D.ec) && (D.ec={}),f.ia(D.ec.Hs) && (D.ec.Hs=0),D.ec.Hs+=C);--D.vU;B.K1(A);H01=4;break;}}});G01=8;break;case 5:var K0q="manag";K0q+="erdebugeve";K0q+="nt";var d0q=", ";d0q+="r";d0q+="emaining: ";var D0q=",";D0q+=" p";D0q+="t";D0q+="s";D0q+=": ";var R0q=",";R0q+=" s";R0q+="treamId: ";var y0q=", headerCache";y0q+=" ";y0q+="da";y0q+="taComplete";y0q+=": movieId: ";G01=(this.po.ii && (E="@" + p.default.time.ea() + y0q + E + R0q + A.Pa + D0q + A.Z + d0q + (D.vU - 1),this.emit(K0q,{message:E})),A.Rh && 0 === A.responseType && this.Uj && !this.EF)?4:9;break;case 9:(--D.vU,B.K1(A));G01=8;break;}}};z.prototype.TMa=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:0 === this.Wv.length && (this.Wv=[g.mp.instance.Lt(0,void 0,!1,!1,this.Zl,this.po),g.mp.instance.Lt(1,void 0,!1,!1,this.Zl,this.po)],this.Wv.forEach(function(A){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 2:return A.xb();break;}}}),u.pg());I01=1;break;}}};z.prototype.YMa=function(){var K01,A;K01=2;for(;K01 !== 4;){switch(K01){case 2:A=this.Wv;this.Wv=[];A.forEach(function(B){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:g.mp.instance.qM(B);L01=1;break;}}});K01=4;break;}}};j01=16;break;case 16:z.prototype.onb=function(){var M01,A;M01=2;for(;M01 !== 5;){switch(M01){case 2:A=this;!this.W1 && 0 < this.PK.length && (this.PK.forEach(function(B){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:A.eha(B.bJb,B.Ed);N01=1;break;}}}),this.PK=[]);M01=5;break;}}};z.prototype.RMa=function(A,B){var O01,E;O01=2;for(;O01 !== 8;){switch(O01){case 9:return B;break;case 5:B=new m.Bba(A.stream,B,this.Wv[E],A,this,!0,q);B.Rh=A.Rh;B.If=this;O01=9;break;case 2:E=A.stream.mediaType;2 > this.Wv.length && this.TMa();O01=5;break;}}};z.prototype.Mlb=function(A,B){var P01,E;P01=2;for(;P01 !== 8;){switch(P01){case 4:B.Rh=A.Rh;B.If=this;return B;break;case 2:E=A.stream.mediaType;2 > this.Wv.length && this.TMa();B=l.z_.create(A.stream,B,this.Wv[E].track,A,this,!0,q);P01=4;break;}}};j01=26;break;case 35:z.prototype.Cfa=function(){function A(C){var Z01;Z01=2;for(;Z01 !== 5;){switch(Z01){case 2:C.abort();E+=C.bytesReceived;Z01=5;break;}}}var Y01,B,E,D;Y01=2;for(;Y01 !== 12;){switch(Y01){case 2:E=0;Y01=1;break;case 1:Y01=!(this.xF <= this.YNa)?5:12;break;case 5:Y01=this.xF > this.YNa?4:13;break;case 4:Y01=(B=this.so.shift())?3:5;break;case 3:D=B.J;Y01=9;break;case 7:delete this.fg[D];--this.xF;Y01=14;break;case 9:Y01=B.data?8:7;break;case 13:this.fpb(E);Y01=12;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}Y01=7;break;case 14:this.epb(D);Y01=5;break;}}};z.prototype.fpb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var Z0q="disc";Z0q+="ardedB";Z0q+="ytes";0 !== A && (A={type:Z0q,bytes:A},this.emit(A.type,A));a11=1;break;}}};z.prototype.hpb=function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var r0q="fl";r0q+="ushedB";r0q+="yt";r0q+="es";0 !== A && (A={type:r0q,bytes:A},this.emit(A.type,A));b11=1;break;}}};j01=32;break;case 3:z.prototype.Mp=function(A,B,E){var q01,D,F;q01=2;for(;q01 !== 9;){switch(q01){case 5:for(var C in D){D.hasOwnProperty(C) && !1 === D[C] && (F=!1);}q01=4;break;case 1:q01=(D[B]=A)?5:4;break;case 6:q01=(D[B]=A)?6:9;break;q01=(D[B]=A)?5:4;break;case 2:(D=this.SF,F=A);q01=1;break;case 4:E && delete D[B];F?(this.W1=!1,this.onb()):this.W1=!0;q01=9;break;}}};z.prototype.flush=function(){var r01,B;r01=2;for(;r01 !== 8;){switch(r01){case 2:this.DWa();for(var A in this.i2){B=this.i2[A];B.abort();}this.fg=Object.create(null);r01=4;break;case 4:var O0q="manag";O0q+="e";O0q+="r";O0q+="debugeven";O0q+="t";var h0q=", headerC";h0q+="ache ";h0q+="flush: ";this.xF=0;this.so=[];this.po.ii && (B="@" + p.default.time.ea() + h0q,this.emit(O0q,{message:B}));r01=8;break;}}};z.prototype.list=function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.so;break;case 4:return this.so;break;s01=1;break;}}};j01=7;break;case 12:z.prototype.uA=function(A){var B01,B;B01=2;for(;B01 !== 5;){switch(B01){case 2:B=this.fg[A.J];B && (this.cd(A)?f.ia(B.ec.cJb) && !f.ia(A.loadTime) && (B.ec.cJb=A.loadTime):f.ia(B.ec.c6a) && !f.ia(A.loadTime) && (B.ec.c6a=A.loadTime));B01=5;break;}}};z.prototype.uk=function(A){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:this.cd(A)?this.CRb(A):this.DRb(A);C01=1;break;}}};j01=10;break;case 26:z.prototype.K1=function(A){var Q01,B;Q01=2;for(;Q01 !== 9;){switch(Q01){case 4:var P0q="sav";P0q+="et";P0q+="od";P0q+="isk";B=this.fg[A.J] || A.Cm;B && 0 === B.a_a && 0 === B.vU && (this.ypb(B,A.uf),B.Rh && this.Uj && (B.ec.ibc || (this.EF?this.Uj.aXb(B):this.Uj.lP(P0q,{p8a:B.ec.Hs}))));Q01=9;break;case 2:this.cd(A) && delete this.i2[A.Pa];this.cd(A) || delete A.response;A.fd();Q01=4;break;}}};z.prototype.unb=function(A,B,E){var R01,D,F;R01=2;for(;R01 !== 8;){switch(R01){case 2:D=A.D4;B.Rh && this.Uj && (A.Y2a?D=A.Y2a:A.H2a && 0 < A.H2a && (D=2E3 * A.H2a));R01=5;break;case 4:return function(C,G){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:a000.x5U(22);return a000.u5U(D,G);break;}}};break;case 3:F=E && E.length < A.hUa?E.length:A.hUa;return function(C){var b8q=a000;var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:b8q.x5U(22);return b8q.a5U(F,C);break;case 4:b8q.e5U(23);return b8q.a5U(C,F);break;T01=1;break;}}};break;case 5:R01=0 < D?4:3;break;}}};z.prototype.eha=function(A,B){var U01,M,E,D,F,C,R,H,I,G,K,J;U01=2;for(;U01 !== 53;){switch(U01){case 4:U01=this.PK.length > C.YIb?3:53;break;case 12:B=G.xo;U01=11;break;case 36:++J;U01=33;break;case 16:I.Rh=A.Rh;M=I.pma(B);M && (I.mediaType === h.default.Ta.Vb && !C.Era && M.Ed < (C.gm && !C.gG && F.xf?Math.floor(F.xf.W):0) && (++M.jl,M.Ed+=I.sa.W),0 < M.jl && I.Ck({start:M.jl}));U01=26;break;case 30:U01=!f.ia(K) && !I.va?29:42;break;case 5:this.PK.push({bJb:A,Ed:B});U01=4;break;case 8:U01=G?7:53;break;case 33:U01=J < (K && K.length || 0) && !E(M,F)?32:54;break;case 1:U01=this.W1?5:9;break;case 43:++R;U01=28;break;case 34:C=R === h.default.Ta.Nb?C.iPb:C.cPb;U01=33;break;case 13:return;break;case 44:(I.k3(K.get(R)),I.fO=R + 1,J=R);U01=43;break;case 2:(E=A.J,D=A.Pa,F=A.stream,C=A.Oe);U01=1;break;case 6:U01=void 0 === G.xo?14:12;break;case 20:U01=-1 === J || void 0 === J?19:18;break;case 42:var G0q="un";G0q+="d";G0q+="efin";G0q+="e";G0q+="d";f.ia(G.xo) && (G.xo=I.Z);I.Rh && (I.responseType=0);A.Rh && this.Uj && A.TW && A.TW[D] && G0q !== typeof I.Z && A.TW[D][I.Z] || (R=this.Mlb(I,A.Oe),R.Rh && (R.Cm=A.Cm),R.sO(),++G.vU,B.push(R));U01=39;break;case 3:this.PK.shift();U01=4;break;case 32:U01=(void 0 === I && (I=A.stream.Xk(J)),void 0 !== I)?31:36;break;case 17:U01=!f.ia(I)?16:25;break;case 37:I=void 0;U01=36;break;case 25:void 0 === G.data && (G.data={});void 0 === G.data[D] && (G.data[D]=[]);B=G.data[D];E=this.unb(C,A,K);M=F=0;(R=I && I.mediaType,H=R === h.default.Ta.Nb?C.L8:C.D8);U01=34;break;case 18:I=A.stream.Xk(J);U01=17;break;case 14:G.dla=A;U01=13;break;case 28:U01=R < K.length && (I.fa < H || I.duration < C)?44:42;break;case 29:a000.x5U(1);R=a000.a5U(1,J);U01=28;break;case 7:U01=A.mediaType === h.default.Ta.Vb?6:11;break;case 26:var J0q="manager";J0q+="deb";J0q+="ugev";J0q+="ent";var q0q=",";q0q+=" sta";q0q+="rtPts: ";var m0q=", p";m0q+="t";m0q+="s:";m0q+=" ";var Y0q=", str";Y0q+="e";Y0q+="a";Y0q+="mI";Y0q+="d: ";var F0q=", head";F0q+="erC";F0q+="ache requestData:";F0q+=" movieId: ";C.ii && (B="@" + p.default.time.ea() + F0q + E + Y0q + D + m0q + B + q0q + I.Z,this.emit(J0q,{message:B}));U01=25;break;case 39:++M;F+=I.duration;U01=37;break;case 9:G=this.fg[E] || A.Cm;U01=8;break;case 19:var V0q="no pro";V0q+="per fragm";V0q+="ent found to request data at pts";v(V0q,B);U01=53;break;case 54:G.dla && !f.ia(G.xo) && (A=G.dla,delete G.dla,this.eha(A,G.xo));U01=53;break;case 31:I.Rh=A.Rh;U01=30;break;case 11:A.mediaType === h.default.Ta.Vb && C.gm && !C.gG && F.xf && (B=Math.max(F.U && F.U.Aj(0) || 0,B + F.xf.W));(K=A.stream.U,J=K && K.Bn(B));U01=20;break;}}};z.prototype.$kb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.AMa(A,A.Cm);V01=1;break;}}};j01=22;break;case 28:z.prototype.inb=function(A,B){var h11,E,D,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:E=this;h11=1;break;case 1:h11=this.Uj?5:9;break;case 3:return D.then(function(C){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return !f.ia(C) && E.Uj?E.Uj.YMb(A,B,C).then(function(G){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:G && (F || (E.fg[A]=C,++E.xF,E.Cfa(),E.so.push(C),E.so.sort(E.p6a)),E.BMa(A,G));return E.fg[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 5:(D=void 0,F=!1);this.Uj.v0a(this.fg[A])?(D=Promise.resolve(this.fg[A]),F=!0):D=this.Uj.bNb(A);h11=3;break;case 9:var l0q="Media cache is not enab";l0q+="le";l0q+="d";return Promise.reject(l0q);break;}}};z.prototype.BMa=function(A,B){var k11,E,D,F,C;k11=2;for(;k11 !== 7;){switch(k11){case 1:k11=B?5:7;break;case 2:E=this;k11=1;break;case 3:k11=B.data?9:7;break;case 5:(D=this.fg[A],F=B.headers);D && F && Object.keys(F).forEach(function(G){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 4:E.Zkb(F[G],D);l11=2;break;l11=1;break;case 2:E.Zkb(F[G],D);l11=1;break;}}});k11=3;break;case 9:C=B.data;Object.keys(C).forEach(function(G){var m11,J,K;m11=2;for(;m11 !== 9;){switch(m11){case 4:J=D.data;K.forEach(function(I){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 4:J[G].push(I);n11=4;break;n11=1;break;case 2:J[G].push(I);n11=1;break;}}});m11=9;break;case 2:K=C[G];f.ia(D.data) && (D.data={});f.ia(D.data[G]) && (D.data[G]=[]);m11=4;break;}}});k11=7;break;}}};z.prototype.p6a=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 4:return B.priority / A.priority;break;o11=1;break;case 2:return B.priority - A.priority;break;}}};z.prototype.s6a=function(A){var p11,B,E,D;p11=2;for(;p11 !== 11;){switch(p11){case 2:B={};p11=1;break;case 1:p11=A && A.data?5:11;break;case 8:B.xw=A.xw;B.Qz=A.Qz;B.eD=A.eD;B.Mo=A.Mo;p11=13;break;case 5:for(E in A.data){D=A.data[E];0 < D.length && (B[D[0].mediaType]={Pa:E,header:A.headers[E],data:D});}B.xo=A.xo;B.sN=A.sN;B.ec=A.ec;p11=8;break;case 13:B.No=A.No;return B;break;}}};z.prototype.cd=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:return ! !A.cd;break;}}};return z;break;case 7:z.prototype.IW=function(A,B){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 5:return B;break;case 2:t01=(A=this.fg[A])?1:4;break;case 1:t01=(B=A.headers[B])?5:4;break;}}};z.prototype.wNb=function(A,B){var u01,E,D;u01=2;for(;u01 !== 5;){switch(u01){case 2:(E=this,D=this.vNb(A));return D || !this.Uj?Promise.resolve(D):(this.EF?this.jnb(A,B):this.inb(A,B)).then(function(F){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:return E.s6a(F);break;}}});break;}}};z.prototype.vNb=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:return this.s6a(this.fg[A]);break;}}};z.prototype.DWa=function(){function B(G,K){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:G && G.data && G.data[K].forEach(function(J){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:J.abort();E+=J.bytesReceived;A01=5;break;}}});z01=1;break;}}}var x01,E,D,F;x01=2;for(;x01 !== 4;){switch(x01){case 2:E=0;for(D in this.fg){F=this.fg[D];if(F.data){for(var C in F.data){var g0q="i";g0q+="n";g0q+=" entr";g0q+="y";g0q+=":";var Q0q="missi";Q0q+="ng headerEntry for s";Q0q+="trea";Q0q+="mId:";F.headers[C] || v(Q0q,C,g0q,F);B(F,C);F.data[C].forEach(A);delete F.data[C];}delete F.data;}}this.hpb(E);x01=4;break;}}function A(G){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:G.rSa();y01=1;break;}}}};j01=12;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 4:return this.fg;break;n01=1;break;case 2:return this.fg;break;}}},enumerable:!1,configurable:!0}});z.prototype.kAb=function(){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 2:this.flush();this.YMa();o01=5;break;case 3:this.flush();this.YMa();o01=6;break;o01=5;break;}}};z.prototype.Maa=function(A){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:this.Zl=A;this.Wv.forEach(function(){});p01=5;break;}}};j01=3;break;case 22:z.prototype.Zkb=function(A,B){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:this.AMa(A,B);W01=1;break;case 4:this.AMa(A,B);W01=4;break;W01=1;break;}}};z.prototype.AMa=function(A,B){var X01,E;X01=2;for(;X01 !== 4;){switch(X01){case 5:(B.erb || B.Rh && !this.EF || (B.erb=!0,++this.xF),B.headers || (B.headers={}),B.headers[E]=A,this.po.cCb && (B.sN || (B.sN=0),++B.sN),this.Cfa());X01=4;break;case 9:E=A.Pa;X01=5;break;X01=1;break;case 2:E=A.Pa;X01=1;break;case 1:X01=(B=this.fg[A.J] || B)?5:4;break;}}};j01=35;break;case 32:z.prototype.epb=function(A){var c11;c11=2;for(;c11 !== 5;){switch(c11){case 2:var b0q="c";b0q+="a";b0q+="cheEv";b0q+="ict";A={type:b0q,movieId:A};this.emit(A.type,A);c11=5;break;}}};z.prototype.lpb=function(A,B){var d11,E;d11=2;for(;d11 !== 3;){switch(d11){case 2:E=A.Oe;f.ia(A.mWb) || this.eha(A,A.mWb);!this.Uj || !A.Rh || this.EF || f.ia(A.TW) || A.TW[A.Pa] && A.TW[A.Pa].header?B():this.Uj.$Wb(A,B);d11=4;break;case 4:E.dya || 0 !== Object.keys(this.i2).length || this.YMa();d11=3;break;}}};z.prototype.ypb=function(A,B){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:var n0q="p";n0q+="r";n0q+="ebuffst";n0q+="ats";A.ec.yTb=B;A={type:n0q,movieId:A.J,stats:{prebuffstarted:A.ec.c6a,prebuffcomplete:A.ec.yTb}};this.emit(A.type,A);e11=4;break;}}};z.prototype.jnb=function(A,B){var f11,E;f11=2;for(;f11 !== 5;){switch(f11){case 2:var v0q="Me";v0q+="d";v0q+="ia c";v0q+="ache is not enab";v0q+="led";E=this;return this.Uj?this.Uj.ZMb(A,B).then(function(D){var g11;g11=2;for(;g11 !== 5;){switch(g11){case 2:g11=D && D.Cm?1:5;break;case 3:g11=D || D.Cm?6:2;break;g11=D && D.Cm?1:5;break;case 1:return (E.fg[A]=D.Cm,++E.xF,E.Cfa(),E.so.push(D.Cm),E.so.sort(E.p6a),E.BMa(A,D),E.cache[A]);break;}}}):Promise.reject(v0q);break;}}};j01=28;break;}}function z(A,B,E,D){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 27:var s0q="1S";s0q+="IYbZrN";s0q+="JC";s0q+="p";s0q+="9";s0q;return A;break;case 18:A.EF=A.po.yra;A.Uj=void 0;A.Aha && (A.po.JU || (B=(p.default.options || ({})).ZN || 0,A.po.set?A.po.set({JU:B}):A.po.JU=(p.default.options || ({})).ZN || 0),A.Uj=new k.cGa(A.po,p.default,A),A.Uj.xb(A,D).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 4:t("");l01=9;break;l01=1;break;case 2:var T0q="Media ";T0q+="cach";T0q+="e initia";T0q+="lized";t(T0q);l01=1;break;}}}).catch(function(F){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 4:v("",F);m01=9;break;m01=1;break;case 2:var W0q="Media cache did ";W0q+="not init";W0q+="iali";W0q+="ze";v(W0q,F);m01=1;break;}}}));A.Zl=E;k01=27;break;case 7:A.fg=Object.create(null);A.xF=0;A.so=[];k01=13;break;case 2:A=y.call(this) || this;A.nn=t;A.Lk=v;A.Sb=w;A.Z8b=x;A.i2=Object.create(null);A.po=B;k01=7;break;case 13:A.YNa=B.E4;A.Wv=[];A.W1=!1;A.PK=[];A.SF={};A.Aha=(A.po.fya || A.po.gya) && 0 < (A.po.JU || (p.default.options || ({})).ZN || 0);k01=18;break;}}}})(d.ov);b.uDa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cGa=void 0;c=a(2);f=a(17);l=c.__importStar(a(879));m=c.__importStar(a(10));a(5);d=a(240);g=a(9);r=a(42);h=c.__importStar(a(890));k=h.yFa;a=(function(){var r11;r11=2;for(;r11 !== 18;){switch(r11){case 4:n.prototype.ZMb=function(p,q){var K11,u,t;K11=2;for(;K11 !== 5;){switch(K11){case 2:(u=this,t=this.ro.time.ea());return this.ot.then(function(){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return u.bnb(p);break;case 4:return u.bnb(p);break;L11=1;break;}}}).then(function(w){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 8:return u.Yob(p.toString(),q,t);break;M11=4;break;case 2:M11=w?1:4;break;case 1:return u.Yob(p.toString(),q,t);break;case 4:var H0q="med";H0q+="ia";H0q+="cac";H0q+="helooku";H0q+="p";u.lP(H0q,{c8:u.ro.time.ea() - t,v4:!1});M11=5;break;}}});break;}}};n.prototype.$Wb=function(p,q){var N11,y,u,t,w,v,x;N11=2;for(;N11 !== 13;){switch(N11){case 3:v={timescale:p.stream.U.S,startTicks:p.stream.U.ll,offset:p.stream.U.Td(0)};y=p.stream.U.ix;x[t + "." + k.FCa]={Kq:v,Gc:k.SE};x[t + "." + k.Sfb]={Kq:y.sizes.buffer,Gc:k.SE};N11=6;break;case 4:N11=p.stream.je && !m.ia(p.stream.U)?3:14;break;case 6:x[t + "." + k.Rfb]={Kq:y.vd.buffer,Gc:k.SE};N11=14;break;case 2:(u=this,t=[p.J,p.Pa,k.agb].join("."),w=this.ro.time.ea(),v=h.fYa(p),x={});x[t + "." + k.mda]={Kq:v,Gc:k.SE};x[t + "." + k.Bgb]={Kq:g.DC(p.Yg.map(function(z){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return z.data;break;case 4:return z.data;break;O11=1;break;}}})),Gc:k.SE};N11=4;break;case 14:this.oo.o8a(k.$q,x,function(z){var P11;P11=2;for(;P11 !== 5;){switch(P11){case 2:z || (z=u.ro.time.ea() - w,p.Cm && (m.ia(p.Cm.ec.Hs) && (p.Cm.ec.Hs=0),p.Cm.ec.Hs+=z));q();P11=5;break;}}});N11=13;break;}}};n.prototype.ZWb=function(p,q,u){var Q11,t,w,v,x,y;Q11=2;for(;Q11 !== 14;){switch(Q11){case 6:var E0q="Unable";E0q+=" to save fragment because response is not an ArrayBuf";E0q+="fer";u(Error(E0q));Q11=14;break;case 8:m.ia(w) || (y[x + "." + k.Ihb]={Kq:w,Gc:k.SE});this.oo.o8a(k.$q,y,function(z){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var o0q="Fai";o0q+="led ";o0q+="to save ";o0q+="fragment";z?t.H.warn(o0q,z):(z=t.ro.time.ea() - v,m.ia(q.ec.Hs) && (q.ec.Hs=0),q.ec.Hs+=z);u();R11=5;break;}}});Q11=14;break;case 1:Q11=w instanceof ArrayBuffer?5:6;break;case 2:(t=this,w=p.response);Q11=1;break;case 5:(v=this.ro.time.ea(),x=[p.J,p.Pa,p.gd].join("."));p=h.Ena(p);y={};y[x + "." + k.mda]={Kq:p,Gc:k.SE};Q11=8;break;}}};n.prototype.aXb=function(p){var S11,q,u,t,w,v,x,y,z,A,B,U11,F,C,E,D,V11,J,G,K,I,W11,X11,Y11,Z11,a21,b21;S11=2;for(;S11 !== 20;){switch(S11){case 2:(w=this,v=this.ro.time.ea(),x={},y=h.EYa(p));x.movieEntry=y;S11=5;break;case 5:S11=p.headers?4:8;break;case 4:z={};Object.keys(p.headers).forEach(function(R){var T11,H;T11=2;for(;T11 !== 5;){switch(T11){case 2:H=h.dYa(p.headers[R]);z[R]=H;T11=5;break;}}});S11=9;break;case 9:x.headers=z;S11=8;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{U11=2;for(;U11 !== 6;){switch(U11){case 5:(F=D.value,C=A[F]);B={};U11=3;break;case 2:(E=c.__values(B),D=E.next());U11=1;break;case 3:U11=C?9:7;break;case 1:U11=!D.done?5:6;break;case 9:try{V11=2;for(;V11 !== 7;){switch(V11){case 5:J=K.value;V11=4;break;case 1:V11=!K.done?5:7;break;case 2:(G=(u=void 0,c.__values(C)),K=G.next());V11=1;break;case 4:V11=J instanceof d.z_ && J.response instanceof ArrayBuffer && !m.ia(J.gd)?3:8;break;case 3:I=h.Ena(J);V11=9;break;case 8:K=G.next();V11=1;break;case 9:B[J.gd]={mediaType:I.mediaType,streamId:I.streamId,movieId:I.movieId,bitrate:I.bitrate,location:I.location,serverId:I.serverId,saveToDisk:I.saveToDisk,offset:I.offset,bytes:I.bytes,timescale:I.timescale,startTicks:I.startTicks,durationTicks:I.durationTicks,response:J.response};V11=8;break;}}}catch(R){u={error:R};}finally{W11=2;for(;W11 !== 1;){switch(W11){case 2:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:K && !K.done && (t=G.return) && t.call(G);X11=1;break;}}}finally{Y11=2;for(;Y11 !== 5;){switch(Y11){case 3:Y11=u?3:9;break;Y11=u?1:5;break;case 2:Y11=u?1:5;break;case 1:throw u.error;Y11=5;break;case 9:throw u.error;Y11=7;break;Y11=5;break;}}}W11=1;break;}}}U11=8;break;case 7:D=E.next();U11=1;break;case 8:y[F]=B;U11=7;break;}}}catch(R){var M;M={error:R};}finally{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:D && !D.done && (q=E.return) && q.call(E);a21=1;break;}}}finally{b21=2;for(;b21 !== 5;){switch(b21){case 1:throw M.error;b21=5;break;case 2:b21=M?1:5;break;}}}Z11=1;break;}}}S11=13;break;case 8:S11=p && p.data?7:12;break;case 13:x.data=y;S11=12;break;case 12:M={lifespan:259200};this.tnb && (M.convertToBinaryData=!0);this.oo.save(k.$q,p.J,x,M,function(R){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:var p0q="sa";p0q+="ve";p0q+="t";p0q+="odisk";R || w.lP(p0q,{p8a:w.ro.time.ea() - v});c21=1;break;}}});S11=20;break;}}};r11=7;break;case 10:n.prototype.upb=function(p){function u(v){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 4:v.map(q);K21=4;break;K21=1;break;case 2:v.map(q);K21=1;break;}}}var I21,t,w;I21=2;for(;I21 !== 4;){switch(I21){case 2:(t=this,w=p.toString());this.oo.cY(k.$q,[k.DFa,p].join("."),u);this.oo.cY(k.$q,w,u);I21=4;break;}}function q(v){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 2:t.oo.delete(k.$q,v);J21=1;break;}}}};r11=20;break;case 2:n.prototype.xb=function(p,q){var t11,u;t11=2;for(;t11 !== 4;){switch(t11){case 2:var U0q="Media c";U0q+="ache is d";U0q+="isa";U0q+="bled";u=this;this.Aha?this.ot=new Promise(function(t,w){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:(void 0 !== q && null !== q?q.yN:function(v){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return l.yN(u.ro,u.I,v);break;case 4:return l.yN(u.ro,u.I,v);break;v11=1;break;}}})(function(v){var w11,x;w11=2;for(;w11 !== 4;){switch(w11){case 2:var A0q="Media ";A0q+="cach";A0q+="e did not initial";A0q+="ize";u.oo=v;x=v.Gn;(v=v.rH)?w(v):x?(u.HYb(p),t()):w(Error(A0q));w11=4;break;}}});u11=1;break;}}}):(this.ot=Promise.reject(U0q),this.ot.catch(function(){}));return this.ot;break;}}};n.prototype.bNb=function(p){var x11,q,u,t;x11=2;for(;x11 !== 5;){switch(x11){case 2:(q=this,u=[k.DFa,p].join("."),t=this.ro.time.ea());return this.ot.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(w){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:q.oo.cY(k.$q,u,function(v){var A11,x;A11=2;for(;A11 !== 3;){switch(A11){case 2:A11=!v || 0 >= v.length?1:5;break;case 1:var z0q="medi";z0q+="acach";z0q+="elooku";z0q+="p";(w(),q.lP(z0q,{c8:q.ro.time.ea() - t,v4:!1}));A11=3;break;case 5:x=v[0];q.oo.read(k.$q,x,function(y,z){var B11,C11,A,B;B11=2;for(;B11 !== 14;){switch(B11){case 4:try{C11=2;for(;C11 !== 1;){switch(C11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));C11=1;break;}}}catch(E){}B11=9;break;case 2:var M0q=" ";M0q+="f";M0q+="ail";M0q+="ed";var I0q="Readi";I0q+="ng movie ";I0q+="entry ";y && q.H.warn(I0q + x + M0q,y);B11=1;break;case 1:B11=!m.ia(z)?5:9;break;case 5:B11=z instanceof ArrayBuffer?4:3;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};B11=9;break;case 9:m.ia(A) || (B=h.Hna(A));m.ia(B) || m.Gb(B) || (B.ec=B.ec || ({}),B.headers=B.headers || ({}));q.v0a(B)?w(B):(q.upb(p),w());B11=14;break;}}});A11=3;break;}}});z11=1;break;}}});break;}}});break;}}};n.prototype.YMb=function(p,q,u){var D11,t,w;D11=2;for(;D11 !== 9;){switch(D11){case 14:return Promise.reject("");break;D11=4;break;case 2:t=this;D11=1;break;case 7:t=this;D11=8;break;D11=1;break;case 4:w=this.ro.time.ea();return this.ot.then(function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return new Promise(function(v){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:t.oo.cY(k.$q,p,function(x){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:x=x.reduce(function(y,z){var H11,A;H11=2;for(;H11 !== 9;){switch(H11){case 1:var c0q="drmHead";c0q+="er.";c0q+="__e";c0q+="mbe";c0q+="d__";H11=-1 !== A.indexOf(c0q)?5:4;break;case 2:A=z.substr(0,z.lastIndexOf("."));H11=1;break;case 6:var S0q="drmHeader._";S0q+="_";S0q+="embed";S0q+="__";H11=+5 == A.indexOf("")?0:8;break;H11=-1 !== A.indexOf(S0q)?5:4;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;case 5:return y;break;case 14:return y;break;H11=4;break;}}},{});G11=1;break;case 1:t.FUb(x,q).then(function(y){var I11,z,A;I11=2;for(;I11 !== 8;){switch(I11){case 2:I11=void 0 === u || void 0 === y?1:5;break;case 5:var i0q="m";i0q+="ediacache";i0q+="lookup";var w0q="No c";w0q+="onte";w0q+="nt";w0q+=" data found for ";(z=t.ro.time.ea() - w,A=!1);m.ia(y) || m.ia(y.data) || !m.Lh(y.data)?t.H.trace(w0q + p,u):A=!0;t.lP(i0q,{c8:z,v4:A});v(y);I11=8;break;case 1:return v();break;}}},function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:v();J11=1;break;case 4:v();J11=4;break;J11=1;break;}}});G11=5;break;}}});F11=1;break;}}});break;}}});break;case 1:D11=!this.ot?5:4;break;case 5:var t0q="Media cache is not ";t0q+="enab";t0q+="led";return Promise.reject(t0q);break;}}};r11=4;break;case 7:n.prototype.v0a=function(p){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return !(m.ia(p) || m.Gb(p) || m.ia(p.ec) || m.Gb(p.ec) || m.ia(p.J) || m.Gb(p.J) || m.ia(p.priority) || m.Gb(p.priority));break;}}};n.prototype.lP=function(p,q){var e21,u;e21=2;for(;e21 !== 9;){switch(e21){case 2:var u0q="mediacac";u0q+="helo";u0q+="okup";var a0q="s";a0q+="av";a0q+="eto";a0q+="di";a0q+="sk";var N0q="me";N0q+="diacache";N0q+="s";N0q+="tats";u={type:N0q,operation:p};a0q === p && (u.saveTime=q.p8a);u0q === p && (u.lookupTime=q.c8,u.dataFound=q.v4);u.oneObject=this.EF;e21=3;break;case 3:var x0q="me";x0q+="d";x0q+="iaca";x0q+="ch";x0q+="e";this.imb && this.emit(x0q,u);e21=9;break;}}};n.prototype.FUb=function(p,q){var f21,u,t;f21=2;for(;f21 !== 5;){switch(f21){case 2:(u=this,t=Object.keys(p).map(function(w){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 4:return u.byb(p[w]);break;g21=1;break;case 2:return u.byb(p[w]);break;}}}));return Promise.all(t).then(function(w){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:w.sort(function(v,x){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return v.cd === x.cd?0:v.cd?-1:1;break;}}});return h.Ina(u.I,u.H,u.bf,w,q);break;}}});break;}}};n.prototype.byb=function(p){var j21,q,u,t,w;j21=2;for(;j21 !== 5;){switch(j21){case 2:(q=this,w={});return new Promise(function(v,x){var k21,y;k21=2;for(;k21 !== 5;){switch(k21){case 2:q.oo.f$(k.$q,p,function(z,A){var l21,m21,B;l21=2;for(;l21 !== 1;){switch(l21){case 2:try{m21=2;for(;m21 !== 19;){switch(m21){case 7:y=h.Wma(t,w,u);m21=6;break;case 5:Object.keys(A).map(function(E){var n21,D,o21,F;n21=2;for(;n21 !== 3;){switch(n21){case 2:D=E.substr(E.lastIndexOf(".") + 1);n21=1;break;case 1:n21=D === k.mda?5:4;break;case 5:try{o21=2;for(;o21 !== 5;){switch(o21){case 2:F=new Uint8Array(A[E]);t=JSON.parse(String.fromCharCode.apply(null,F));o21=5;break;}}}catch(C){t=A[E];}n21=3;break;case 7:n21=D == k.mda?1:0;break;n21=D === k.mda?5:4;break;case 4:D === k.FCa?u=A[E]:w[D]=A[E];n21=3;break;}}});m21=4;break;case 3:m21=u instanceof ArrayBuffer?9:7;break;case 13:var e0q="Missing";e0q+=" or ";e0q+="invalid header ";e0q+="data parts for stream ";return (B=e0q + y.Pa,x(B));break;case 8:return x(B);break;case 9:var f0q="Header fragmen";f0q+="ts was an arr";f0q+="ay buffer, is invalid type";f0q+=" ";B=f0q + y.Pa;m21=8;break;case 6:m21=y.cd?14:11;break;case 2:m21=z || void 0 === A?1:5;break;case 1:return x(z);break;case 14:m21=h.Jpa(y)?13:12;break;case 12:v(y);m21=19;break;case 11:m21=h.Ipa(y)?10:12;break;case 4:m21=h.o0a(t)?3:20;break;case 20:y=h.Vma(t,{response:w.response});m21=6;break;case 10:var k0q="Missing";k0q+=" or invalid media data part";k0q+="s";k0q+=" for st";k0q+="ream ";return (B=k0q + y.Pa,x(B));break;}}}catch(E){x(E);}l21=1;break;}}});k21=5;break;}}});break;}}};n.prototype.Yob=function(p,q,u){var p21,t;p21=2;for(;p21 !== 5;){switch(p21){case 2:t=this;return new Promise(function(w,v){var q21,x;q21=2;for(;q21 !== 5;){switch(q21){case 2:t.oo.read(k.$q,p,function(y,z){var r21,w21,L,x21,Q,S,U,ca,y21,z21,A21,P,N,B21,C21,D21,C,s21,J,I,G,K,M,R,t21,u21,v21,F,A,B,E,D;r21=2;for(;r21 !== 4;){switch(r21){case 17:x=h.Ina(t.I,t.H,t.bf,z,q);r21=16;break;case 5:v(y);r21=4;break;case 6:y=h.Hna(F.movieEntry);z=[];r21=13;break;case 15:var B0q="med";B0q+="ia";B0q+="ca";B0q+="che";B0q+="lookup";t.lP(B0q,{c8:t.ro.time.ea() - u,v4:!0});w(x);r21=4;break;case 3:r21=m.ia(z)?9:8;break;case 18:try{w21=2;for(;w21 !== 8;){switch(w21){case 1:w21=!N.done?5:8;break;case 5:J=N.value;L=Object.keys(H[J]);try{x21=2;for(;x21 !== 7;){switch(x21){case 2:(Q=(E=void 0,c.__values(L)),S=Q.next());x21=1;break;case 1:x21=!S.done?5:7;break;case 5:(U=H[J][S.value],ca=h.Vma(U,U));x21=4;break;case 4:x21=h.Ipa(ca)?3:9;break;case 3:var j0q="Missing or invalid med";j0q+="ia";j0q+=" data parts for str";j0q+="ea";j0q+="m ";return (M=j0q + ca.Pa,v(M));break;case 9:z.push(ca);x21=8;break;case 8:S=Q.next();x21=1;break;}}}catch(ya){E={error:ya};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:S && !S.done && (D=Q.return) && D.call(Q);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 2:A21=E?1:5;break;case 1:throw E.error;A21=5;break;case 3:A21=E?3:9;break;A21=E?1:5;break;}}}y21=1;break;}}}w21=9;break;case 2:(P=c.__values(A),N=P.next());w21=1;break;case 9:N=P.next();w21=1;break;}}}catch(ya){var ka;ka={error:ya};}finally{B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 1;){switch(C21){case 2:N && !N.done && (B=P.return) && B.call(P);C21=1;break;}}}finally{D21=2;for(;D21 !== 5;){switch(D21){case 3:D21=ka?2:0;break;D21=ka?1:5;break;case 2:D21=ka?1:5;break;case 1:throw ka.error;D21=5;break;}}}B21=1;break;}}}r21=17;break;case 12:C=Object.keys(F.headers);r21=11;break;case 7:r21=F.movieEntry?6:15;break;case 20:H=F.data;A=Object.keys(H);r21=18;break;case 11:try{s21=2;for(;s21 !== 12;){switch(s21){case 5:(J=K.value,I=F.headers[J]);s21=4;break;case 9:return v(M);break;case 4:s21=I.fragments instanceof ArrayBuffer?3:8;break;case 6:var L0q="Missing ";L0q+="or inval";L0q+="id header data parts fo";L0q+="r ";L0q+="stream ";return (M=L0q + R.Pa,v(M));break;case 14:z.push(R);s21=13;break;case 7:s21=h.Jpa(R)?6:14;break;case 1:s21=!K.done?5:12;break;case 13:K=G.next();s21=1;break;case 2:(G=c.__values(C),K=G.next());s21=1;break;case 3:var X0q="Header fragments was an ar";X0q+="ray buffer, is ";X0q+="invalid type ";M=X0q + I.streamId;s21=9;break;case 8:R=h.Wma(I,I,I.fragments);s21=7;break;}}}catch(ya){var H;H={error:ya};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:K && !K.done && (A=G.return) && A.call(G);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 3:v21=H?6:7;break;v21=H?1:5;break;case 9:throw H.error;v21=7;break;v21=5;break;case 1:throw H.error;v21=5;break;case 2:v21=H?1:5;break;}}}t21=1;break;}}}r21=10;break;case 13:r21=F.headers?12:10;break;case 8:F=z[p];r21=7;break;case 10:r21=F.data?20:17;break;case 1:r21=y?5:3;break;case 9:w();r21=4;break;case 2:r21=1;break;case 16:void 0 !== x && (x.Cm=y);r21=15;break;}}});q21=5;break;}}});break;}}};n.prototype.bnb=function(p){var E21,q;E21=2;for(;E21 !== 5;){switch(E21){case 2:var C5q="Med";C5q+="ia cache is ";C5q+="not enab";C5q+="led";q=this;return this.ot?this.ot.then(function(){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return new Promise(function(u){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:q.oo.cY(k.$q,p.toString(),function(t){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:t && 0 !== t.length?1 === t.length && t[0] === p.toString()?u(!0):u(!1):u(!1);H21=1;break;}}});G21=1;break;}}});break;}}}):Promise.reject(C5q);break;}}};r11=10;break;case 20:n.prototype.HYb=function(p){var L21,q;L21=2;for(;L21 !== 4;){switch(L21){case 2:var D5q="media";D5q+="cache";D5q+="-e";D5q+="rror";var y5q="media";y5q+="ca";y5q+="che";q=new f.Xh();q.on(this.oo,y5q,function(u){var M21;M21=2;for(;M21 !== 4;){switch(M21){case 1:u.keys || u.items.map(function(t){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 2:return t.key;break;}}});M21=5;break;case 5:var R5q="medi";R5q+="a";R5q+="cac";R5q+="h";R5q+="e";p.emit(R5q,u);M21=4;break;case 2:M21=u.keys || u.items?1:5;break;case 7:p.emit("",u);M21=6;break;M21=4;break;}}});q.on(this.oo,D5q,function(u){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:var K5q="me";K5q+="d";K5q+="iaca";K5q+="ch";K5q+="e";var d5q="e";d5q+="r";d5q+="r";d5q+="o";d5q+="r";u.type=d5q;p.emit(K5q,u);O21=5;break;}}});L21=4;break;}}};return n;break;}}function n(p,q,u){var s11;s11=2;for(;s11 !== 12;){switch(s11){case 8:var r5q="1SI";r5q+="YbZ";r5q+="rN";r5q+="J";r5q+="Cp9";var Z5q="Med";Z5q+="ia cache has not been";Z5q+=" initiaized";this.ro=q;this.bf=u;this.ot=Promise.reject(Z5q);this.ot.catch(function(){});r5q;s11=12;break;case 2:var O5q="me";O5q+="d";O5q+="i";O5q+="a|asejs";var h5q="MED";h5q+="IAC";h5q+="AC";h5q+="HE";this.H=new q.Console(h5q,O5q);this.Aha=(p.fya || p.gya) && 0 < (p.JU || (q.options || ({})).ZN || 0);this.imb=p.QBb?p.QBb:!1;this.EF=p.yra?p.yra:!1;s11=3;break;case 3:this.tnb=p.X2a?p.X2a:!1;this.I=p;s11=8;break;}}}})();b.cGa=a;r.zf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;c=a(10);l=[];d=!1;r.exports={yN:function(g,h,k){var n;if(d)c.jd(k) && (f.Gn || f.rH?setTimeout(function(){k(f);},0):l.push(k));else {d=!0;n=a(127);n.gW(g);m=new n.Console("MEDIACACHE","media|asejs");f=new (a(402))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.jd(k) && setTimeout(function(){k(f);},0);l.map(function(q){setTimeout(function(){q(f);},0);});});}return f;},J$b:function(g,h){f=new (a(402))(g,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.jd(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var f,l,m,d,g;function c(h){this.mr=h;this.context=h.context;this.b4a="NULLCONTEXT" === h.context?!0:!1;}f=a(10);l=a(127);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.YF=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.b4a)throw Error("Media Cache not supported");k.apply(this.mr,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.b4a)throw Error("Media Cache not supported");this.mr.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.YF(this.mr.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.YF(this.mr.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.YF(this.mr.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.YF(this.mr.append,h,k,n,p);};c.prototype.info=function(h){this.YF(this.mr.info,h);};c.prototype.validate=function(h){this.YF(this.mr.validate,h);};c.prototype.flush=function(h){this.YF(this.mr.flush,h);};c.prototype.clear=function(){this.mr.clear();};r.exports={eyb:function(h){var k,n,p,q,u;k=h.e$b || "NRDMEDIADISKCACHE";g=h.JU || 0;0 !== g || f.ia(l.options) || f.ia(l.options.ZN) || (g=l.options.ZN);h=g;try{p=l.storage.FAb;if(!p || !f.Lh(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(f.ia(l.storage) || !f.jd(l.storage.qTa) || l.options && 0 === l.options.ZN)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);u=l.storage.qTa({context:k,size:h,encrypted:!0,signed:!0});if(!u || !u.valid)throw "Failed to create disk store context";q=new c(u);}}catch(t){m.warn("Exception creating disk store context - returning NullContext (noops)",t);q=new c(d);}return q;},xFb:function(){return g;},Q4b:c};},function(r,b,a){var g,h,k,n,p,q,u,t,w;function c(){}function f(v,x,y,z,A){var B;B=g.jd(z)?z:c;this.Sv=v;this.Bg=y.jw;this.zy=0;this.nmb=y.ACb || "NONE";this.jy=g.ia(A) || g.Gb(A)?0:A;this.De={};this.jt=y.hbc || h.storage.FR;this.Lv=x;this.zL=p.create(this.Lv,y.gzb * this.jy,this.Sv);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Va=w.Va;this.ANa=m(this,f.Le.REPLACE);this.Omb=m(this,f.Le.nMa);this.RF;this.RF=y.Cbb?a(886):a(887);this.Lv.query(this.jt,this.yq(""),(function(E,D){var F;if(E)B(E);else {F=this.zL.xna();E=Object.keys(D).filter(function(C){return C !== F && q.EN(C);}).map(this.Cxa.bind(this));this.f$(E,(function(C,G){Object.keys(G).map((function(K){var J,I;J=G[K];this.De[q.p5(K)]=J;if(J.lva && 1 < Object.keys(J.lva).length){I=0;Object.keys(J.lva).forEach((function(M){D[this.yq(M)] && g.Ca(D[this.yq(M)].size) && (I+=D[this.yq(M)].size);}).bind(this));K=q.p5(K);this.De[K].size=I;}else (K=q.p5(K),D[this.yq(K)] && (this.De[K].size=D[this.yq(K)].size));}).bind(this));l(this.Lv,this.jt,this.Sv,(function(K,J){this.zy=J;K?B(K):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(v,x,y,z){var A;A=g.jd(z)?z:c;v.query(x,y,function(B,E){B?A(B):(B=Object.keys(E).reduce(function(D,F){return D + (E[F].size || 0);},0),A(null,B));});}function m(v,x){return function(y,z,A,B,E){return function(D,F){var C;if(D)(z || v.Va(f.Le.Of,{itemKey:y,error:D}),A(D));else {C={Pk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var K;K=F.actions[G];G={key:v.Cxa(K.I7),cl:G};K.$?(C.Pk+=K.Pk,G.H7=K.Pk,g.Ca(K.duration) && (C.duration+=K.duration)):G.error=K.error;C.items.push(G);});D=g.jd(B)?B():0;0 < E && (C.lM=E - D);l(v.Lv,v.jt,v.Sv,function(G,K){G?A(G):(v.zy=K,C.Cn=v.Bg - K,z || v.Va(x,t.yXa(C)),A(null,C));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}g=a(10);h=a(127);k=a(249);b=a(86);n=new h.Console("MEDIACACHE","media|asejs");p=a(882);q=a(403);u=a(128);t=a(250);w=a(404).EventEmitter;b({Le:{nMa:"writeitem",REPLACE:"replaceitem",Sca:"journalupdate",Of:"mediacache-error"}},f);f.prototype.EGb=function(){return this.Sv;};f.prototype.Cxa=function(v){return v.slice(this.Sv.length + 1);};f.prototype.rna=function(){return Object.keys(this.De).filter((function(v){v=q.Oma(this.De[v]);return void 0 === v || 0 >= v.RSa();}).bind(this));};f.prototype.QGb=function(){return Object.keys(this.De).reduce((function(v,x){var y;y=this.De[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).mcc;};f.prototype.JFb=function(){var v;switch(this.nmb){case "FIFO":v=this.QGb();}return v;};f.prototype.Yzb=function(v){var x;x=g.jd(v)?v:c;this.lYa((function(y){var z,A,B;z=this.De;A=Object.keys(z).reduce(function(E,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){E.push(F);});return E;},[]);if((y=y.filter(function(E){return !q.EN(E) && 0 > A.indexOf(E);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(E){return new h.Promise(function(D,F){B.delete(E,function(C){C?F(C):D();});});})).then(function(){x(void 0,{Hua:!0});},function(E){x(E,{Hua:!1});});t.$w(y);}else v(void 0,{Hua:!1});}).bind(this));};f.prototype.SUb=function(v,x,y){var z,A;z=g.jd(x)?x:c;x=this.yq(v);A=h.time.now();this.Lv.read(this.jt,x,0,-1,(function(B,E){var D;if(B)z(B);else if(E && E.$ && E.value){g.jd(y) || (y=this.RF.zV(u.ar.EE),q.EN(v)?y=this.RF.zV(u.ar.R0):(B=this.De[v],!g.ia(B) && g.Ca(B.resourceIndex[v])?(B=B.resourceIndex[v],g.ia(B) && (B=u.ar.EE),y=this.RF.zV(B)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",B)));try{D=y(E.value);}catch(F){return z(k.lK.Wq(F.message));}E={duration:h.time.now() - A};this.De[v] && g.Ca(this.De[v].size) && (E.Qy=g.Ca(this.De[v].size)?this.De[v].size:0);z(null,D,E);}else z(k.lK.Wq(E.error));}).bind(this));};f.prototype.read=function(v,x,y){this.SUb(v,x,y);};f.prototype.f$=function(v,x,y){var z,A,B;z=g.jd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(k.lK.Wq("item keys must be an array"));else {A={};B=[];v=h.Promise.all(v.map((function(E){return new h.Promise((function(D,F){var C;y && !g.ia(y[E]) && (C=this.RF.zV(y[E]));this.read(E,function(G,K,J){G?(K={},K[E]=G,F(K)):(A[E]=K,B.push({duration:J.duration,Qy:J.Qy}),D());},C);}).bind(this));}).bind(this))).then(function(){var E;E={};0 < B.length && (E=B.reduce(function(D,F){g.Ca(F.duration) && (D.duration+=F.duration);g.Ca(F.Qy) && (D.Qy+=F.Qy);return D;},{duration:0,Qy:0}));z(null,A,E);},function(E){z(E);});t.$w(v);}};f.prototype.write=function(v,x,y,z,A){var B,E,D;y=g.jd(y)?y:c;B=this.yq(v);E="function" === typeof A?A():0;D=u.roa(x);D=this.RF.$na(D)(x);D.byteLength + this.zy >= this.Bg?y(k.EJ):d(D.byteLength + E,this.jy)?y(k.B1):this.zL.save(this.jt,B,x,this.Omb(v,z,y,A,this.jy),D.byteLength);};f.prototype.replace=function(v,x,y,z,A){var B,E,D,F;B=g.jd(y)?y:c;E=this.yq(v);D=0;"function" === typeof A && (D=A());y=u.roa(x);F=this.RF.$na(y)(x);y=(this.De[v] || ({})).size || 0;0 >= y && this.De[v]?this.PYa([v],(function(C){n.trace("Replacing key",v,"which exists:",! !this.De[v],this.De[v]?this.De[v]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.zy,"vs capacity",this.Bg);F.byteLength - C + this.zy >= this.Bg?B(k.EJ):d(F.byteLength - C + D,this.jy)?B(k.B1):this.zL.replace(this.jt,E,x,this.ANa(v,z,B,A,this.jy),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.De[v],this.De[v]?this.De[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.zy,"vs capacity",this.Bg),F.byteLength - y + this.zy >= this.Bg?B(k.EJ):d(F.byteLength - y + D,this.jy)?B(k.B1):this.zL.replace(this.jt,E,x,this.ANa(v,z,B,A,this.jy),F.byteLength));};f.prototype.$Vb=function(v,x,y,z){var A;A=g.jd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?A(k.A1.Wq("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(B){return new h.Promise((function(E){this.replace(B,v[B],function(D,F){D?E({error:D,Kq:B}):E(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var E,D,F,C;try{E=Number.MAX_VALUE;D=B.reduce(function(G,K){K.error || (G.Pk+=K.Pk,g.Ca(K.duration) && (G.duration+=K.duration),!g.ia(K.Cn) && K.Cn < E && (E=K.Cn),K.items.map(function(J){G.items.push({key:J.key,cl:J.cl,H7:J.H7,qNb:J.qNb,duration:J.duration});}),E < Number.MAX_VALUE && (G.Cn=E));return G;},{Pk:0,items:[],time:h.time.now(),duration:0});0 < this.jy && (D.lM=this.jy - z());F=B.filter(function(G){return !g.ia(G.error);});C=t.CZa(F);y || (C?C.forEach((function(G){this.Va(f.Le.Of,G);}).bind(this)):this.Va(f.Le.REPLACE,t.yXa(D)));A(C,D);}catch(G){A(G);}}).bind(this),(function(B){y || this.Va(f.Le.Of,B);A(B);}).bind(this)),t.$w(x));};f.prototype.delete=function(v,x){var y;y=g.jd(x)?x:c;this.Lv.remove(this.jt,this.yq(v),(function(z,A){z?y(z):A && A.$?l(this.Lv,this.jt,this.yq(""),(function(B,E){B?y(B):(this.zy=E,y());}).bind(this)):y(k.Ieb.Wq(A.error));}).bind(this));};f.prototype.lYa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};f.prototype.query=function(v,x){var y,z;y=g.jd(x)?x:c;z=this.zL.xna();this.Lv.query(this.jt,this.yq(v),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(E){return E !== z;}).map(this.Cxa.bind(this)));}).bind(this));};f.prototype.yq=function(v){return this.Sv + "." + v;};f.prototype.clear=function(v){var x;x=g.jd(v)?v:c;this.lYa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Va(f.Le.Of,A);x([],A);}).bind(this));t.$w(z);}).bind(this));};f.prototype.PYa=function(v,x){var y,z;y=g.jd(x)?x:c;z=(v || []).map((function(A){return this.yq(A);}).bind(this));this.Lv.query(this.jt,this.Sv,(function(A,B){A?(n.error("failed to get persisted size for keyset ",v,A),y(0)):(A=Object.keys(B).filter(function(E){return 0 <= z.indexOf(E);}).reduce(function(E,D){return E + (B[D].size || 0);},0),y(A));}).bind(this));};f.prototype.ZEb=function(v){return this.zL.oXa(v);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u){var A,B;function t(E,D,F,C){E.info.call(E,(function(G,K){var J;if(G)C(G);else {try{J=K.values[this.context].entries[D][F].size;}catch(I){J=-1;}-1 < J?C(null,J):this.validate(function(I,M){I?C(I):(M[F] && (J=M[F].size),C(null,J));});}}).bind(E));}function w(E,D,F,C,G,K,J){var I;K?K.actions || (K.actions={}):K={actions:{}};A(C);I=l.time.now();C=new k(function(M,R){E.create(l.storage.FR,D,F,function(H,P){H?R(H):M(P);});}).then(function(M){M.$?t(E,l.storage.FR,D,function(R,H){R?J(R):(B(H),A(H),K.actions[c.n_.Sca]={$:!0,time:G,Pk:H,I7:D,K6a:M,duration:l.time.now() - I},K.Cn=M.Cn,J(null,K));}):(K.actions[c.n_.Sca]={$:!1,I7:D,error:M.error},J(null,K));},function(M){J(M);});g.$w(C);}function v(E,D,F,C,G,K){C.qq(F.time,F);for(var J=F.time - 864E5,I=C.Vw();I && !isNaN(I.time) && I.time < J;){I=C.pM();A(0 - (I.fa || 0));I=C.Vw();}C=C.gp().map(function(M){return M.time + ";" + M.fa;});w(E,D,Array.prototype.join.call(C,"|"),F.fa,F.time,G,K);}function x(E,D,F,C,G,K,J,I,M){var R;R=l.time.now();E.create(F,C,G,function(H,P){var N;if(H)h.error("Failed to replace item",C,H);else if(P.$){N=P.Cn;t(E,F,C,function(L,Q){var S,U;if(L)M(L);else {L={time:I,fa:Q || 0};S={Cn:N,actions:{}};U=l.time.now() - R;S.actions[c.n_.REPLACE]={$:!0,time:I,Pk:Q,I7:C,K6a:P,duration:U};K?v(E,D,L,J,S,M):(A(Q),M(null,S));}});}else M(m.A1.Wq(P.error || "Failed to create item"));});}function y(E,D,F,C,G,K,J,I,M){var R;R=l.time.now();E.append(F,C,G,function(H,P){var N;if(H)(h.error("Failed to save item " + C,H),M(H));else if(P.$){N=P.Cn;t(E,F,C,function(L,Q){var S,U;if(L)M(L);else {L={time:I,fa:Q || 0};S={Cn:N,actions:{}};U=l.time.now() - R;S.actions[c.n_.Sjb]={$:!0,time:I,Pk:Q,I7:C,K6a:P,duration:U};K?v(E,D,L,J,S,M):(A(Q),M(null,S));}});}else M(m.A1.Wq(P.error || "Failed to save item"));});}function z(E,D){E && f.jd(E.remove) && E.mr.valid && E.remove(l.storage.FR,D.aL,function(F,C){if(F)h.error("Failed to delete old journal key",F);else try{C && (f.ia(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.w$b;})) && v(E,D.aL,{time:0,fa:0},D.gT,0,function(){});}catch(G){}});}if(!p.mr.valid)return n;this.XMa=f.ia(q) || f.Gb(q)?0:q;this.Qfa=p;this.xga=this.pS=0;this.gT=new d();this.Eob=u || "default";this.aL=this.Eob + ".NRDCACHEJOURNALKEY";A=(function(E){isNaN(E) || (this.pS+=E);return this.pS;}).bind(this);B=(function(E){isNaN(E) || (this.xga+=E);return this.xga;}).bind(this);this.xna=function(){return this.aL;};this.save=function(E,D,F,C){var G;G=l.time.now();y(this.Qfa,this.aL,E,D,F,0 <= this.XMa,this.gT,G,C);};this.replace=function(E,D,F,C){var G;G=l.time.now();x(this.Qfa,this.aL,E,D,F,0 <= this.XMa,this.gT,G,C);};this.oXa=function(E){var D,G;D=this.pS;E-=864E5;for(var F=this.gT.gp(),C=0;C < F.length;C++){G=F[C];G.time < E && !isNaN(G.fa) && (D-=G.fa);}return D;};(function(E){var D;D=E.Qfa;E.pS=0;D.read(l.storage.FR,E.aL,0,-1,function(F,C){var G,K,J,M;G=[];K=0;J=!0;if(F)h.error("Failed to compile records",F);else if(C.$){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(R,H){return R + (H.length + 40);},0);A(C);G=F.map(function(R){R=R.split(";");return {time:Number(R[0]),fa:Number(R[1])};});try{if(!isNaN(G.reduce(function(R,H){return R + H.fa;},0))){J=!1;for(var I=l.time.now() - 864E5;K < G.length;K++){M=G[K];M.time < I || (E.gT.qq(M.time,M),A(M.fa));}}}catch(R){}}J && z(D,E);});})(this);}f=a(10);l=a(127);m=a(249);d=a(883);b=a(86);g=a(250);h=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({n_:{Sjb:"saveitem",REPLACE:"replaceitem",Sca:"journalupdate"}},c);n={save:function(p,q,u,t){t(m.zFa);},replace:function(p,q,u,t){t(m.zFa);},xna:function(){return "";},oXa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,u){return new c(p,q,u);},Y6b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.gn=function(l,m){return l <= m;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.gn=f;}this.Cp=[];}function a(f,l){var m,d,g,h,k,n,p;m=f.Cp;d=f.gn;g=2 * l + 1;h=2 * l + 2;k=m[l];n=m[g];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,l,g),a(f,g,d)):p && d(p.priority,k.priority) && (c(m,l,h),a(f,h,d));}function c(f,l,m){var d;d=f[l];f[l]=f[m];f[m]=d;}b.prototype.clear=function(){this.Cp=[];};b.prototype.qq=function(f,l){this.Cp.push({priority:f,value:l});f=this.Cp;l=this.gn;for(var m=f.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(f[m].priority,f[d].priority);){c(f,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.Cp.length){f=this.Cp[0];c(this.Cp,0,this.Cp.length - 1);this.Cp.pop();a(this,0);return f.value;}};b.prototype.Vw=function(){if(0 !== this.Cp.length)return this.Cp[0].value;};b.prototype.enqueue=b.prototype.qq;b.prototype.pM=b.prototype.remove;b.prototype.r7=function(){return 0 === this.Cp.length;};b.prototype.gp=function(){return this.Cp.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,l,m;c=a(10);f=a(128);l={};l[f.ar.EE]=function(d){return d;};l[f.ar.k1]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[f.ar.R0]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};m={};m[f.ar.EE]=function(d){return d;};m[f.ar.k1]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return g;};m[f.ar.R0]=function(d){return c.ia(d) || c.Gb(d)?d:m[f.ar.k1](JSON.stringify(d));};r.exports={zV:function(d){return l[d] || l[f.ar.EE];},$na:function(d){return m[d] || m[f.ar.EE];}};},function(r,b,a){function c(l){return l;}function f(){return c;}a(10);r.exports={zV:f,$na:f};},function(r,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function f(m,d){var g,h,k;g=[];if(l.Lh(d)){h={};k={};k[m]=h;g.push(k);g=Object.keys(d).reduce(function(n,p){var q,u,t;q=d[p];u={};if(l.n7(q)){t=m + ".__embed__." + p;u[t]=q;n.push(u);}else l.Lh(q)?(t=m + ".__sub__." + p,q=f(t,q),h[p]=q[0][t],n=n.concat(q.slice(1))):h[p]=q;return n;},g);}else (k={},k[m]=d,g.push(k));return g;}l=a(128);r.exports={EAb:f,xKb:function(m){var d,g,h,t;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);g=d[0];h=g.length;g=m[g.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=g,u=h;u < d[k].length;u++){t=d[k][u];switch(t){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[t],p=!1):n && (q[t]=m[d[k].join(".")],n=!1);}}}return g;},dLb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(g,h,k){Object.keys(g).forEach(function(n){var p,q;if(m.Lh(g[n]))if(g[n].n7){p=g[n];q=k + p.offset;g[n]=h.slice(q,q + p.byteLength);}else g[n]=c(g[n],h,k);});return g;}function f(g,h,k){Object.keys(g).forEach(function(n){var p;if(m.n7(g[n])){p=g[n];h.push(p);g[n]={n7:!0,offset:k.Gka,byteLength:p.byteLength};k.Gka+=p.byteLength;}else m.Lh(g[n]) && f(g[n],h,k);});return g;}function l(){var g,h,k;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);g.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(128);d=a(86);r.exports={jwb:function(g){var h,k,n;h=d(g,{});g=[];h=f(h,g,{Gka:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,u=h.length;q < u;q++){n.setUint8(p,h.charCodeAt(q));p++;}g=[k].concat(g);return l.apply(null,g);},iwb:function(g){for(var h=new DataView(g,0,4).getInt32(0),k=new Uint8Array(g,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(r,b,a){var f,l,m,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.J,bitrate:h.bitrate,location:h.location,serverId:h.Nd,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.S,frameDuration:h.stream.sa && h.stream.sa.vc,encrypted:h.Uk,initSegments:1 < h.Yg.length?h.Yg.map(function(k){return {fi:k.Rd,s:k.data.byteLength,e:! !k.Uk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ipa=b.Jpa=b.o0a=b.EYa=b.dYa=b.fYa=b.Ena=b.Ina=b.Hna=b.Vma=b.Wma=b.yFa=void 0;f=a(2).__importStar(a(10));l=a(891);m=a(380);d=a(9);g=a(22);b.yFa={DFa:"movieEntry",agb:"header",mda:"metadata",Bgb:"headerData",R5b:"headerMetadata",Sfb:"sizes",Rfb:"durations",FCa:"fragments",Ihb:"response",$q:"billboard",SE:{lifespan:259200}};b.Wma=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={ll:n.startTicks,offset:n.offset,S:n.timescale,sizes:new Uint32Array(k.sizes),vd:new Uint32Array(k.durations)});return {cd:!0,mediaType:h.mediaType,J:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Nd:h.serverId,fa:h.bytes,offset:h.offset,Koa:p,a7:h.initSegments,Uk:h.encrypted,S:h.timescale,sa:h.frameDuration,Rh:h.saveToDisk,U:q};};b.Vma=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {cd:!1,mediaType:h.mediaType,J:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Nd:h.serverId,fa:h.bytes,offset:h.offset,response:k,S:h.timescale,Wa:h.startTicks,Pt:p,Rh:h.saveToDisk,ob:q};};b.Hna=function(h){return {priority:h.priority,J:h.movieId,headers:{},sN:0,vU:0,a_a:0,Rh:h.saveToDisk,ec:h.stats,xw:h.firstSelectedStreamBitrate,Qz:h.initSelectionReason,eD:h.histDiscountedThroughputValue,No:h.histTdigest,Mo:h.histAge,xo:void 0};};b.Ina=function(h,k,n,p,q){var u,t;u={headers:{},data:{}};p.forEach(function(w){var v,x,A;v=w.mediaType;v=q && q.Bw(v,w.Pa);x=[];if(w.cd)if(!Array.isArray(w.a7) || 2 > w.a7.length)x.push({Rd:0,data:w.Koa});else for(var y=0,z=0;z < w.a7.length;++z){A=w.a7[z];x.push({Rd:A.fi,data:w.Koa.slice(y,y + A.s),Uk:A.e});y+=A.s;}v?(w.U && v.n9(x,w.S,w.sa?new g.T(w.sa,w.S):void 0,w.U),w.cd && v && v.je?(void 0 === u.headers && (u.headers={}),u.headers[w.Pa]=new m.A_(v,{fa:w.fa,offset:w.offset,Yg:x,Uk:w.Uk},k)):w.response instanceof ArrayBuffer && void 0 !== v.U && void 0 !== w.Wa && void 0 !== w.S && void 0 !== w.ob && (x=v.U.u5(new g.T(w.Wa,w.S).W),void 0 !== x && (v=new l.Tya(v,{S:w.S,Wa:w.Wa,ob:w.ob,index:x.index,offset:w.offset,fa:w.fa},w.response,n,h,k),void 0 === u.data && (u.data={}),u.data[w.Pa] || (u.data[w.Pa]=[]),u.data[w.Pa].push(v)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Pa + " movieId: " + w.J);});if(!f.ia(u.data)){t=u.data;Object.keys(t).forEach(function(w){t[w].sort(function(v,x){return v.Wa - x.Wa;});});}return u;};b.Ena=function(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.J,bitrate:h.bitrate,location:h.location,serverId:h.Nd,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.S,startTicks:h.Wa,durationTicks:h.Pt};};b.fYa=c;b.dYa=function(h){var k,n,p,q;k=c(h);if(h.stream.je && h.stream && h.stream.U){n={timescale:h.stream.U.S,startTicks:h.stream.U.ll,offset:h.stream.U.Td(0)};p=h.stream.U.ix;q=p.sizes.buffer;p=p.vd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.DC(h.Yg.map(function(u){return u.data;})),initSegments:k.initSegments,encrypted:h.Uk,fragments:n,sizes:q,durations:p};};b.EYa=function(h){return {priority:h.priority,movieId:h.J,saveToDisk:h.Rh,firstSelectedStreamBitrate:h.xw,initSelectionReason:h.Qz,histDiscountedThroughputValue:h.eD,histTdigest:h.No,histAge:h.Mo};};b.o0a=function(h){return !f.has(h,"startTicks");};b.Jpa=function(h){return !h.Koa || !h.S || !h.U || void 0 === h.U.ll || void 0 === h.U.offset || void 0 === h.U.vd || !h.U.vd.length || void 0 === h.U.sizes || !h.U.sizes.length;};b.Ipa=function(h){return void 0 === h.fa || void 0 === h.offset || void 0 === h.S || void 0 === h.Wa || void 0 === h.Pt;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Tya=void 0;c=a(2);f=a(9);r=a(42);l=a(101);a=(function(m){function d(g,h,k,n,p,q){n=m.call(this,g,h,n,p,q) || this;h.fa=k.byteLength;l.Um.xb(n,g,h);n.nL=k;n.xlb=h.fa;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{cd:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qu:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eNb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KM:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dua:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.xlb;},enumerable:!1,configurable:!0}});d.prototype.ou=function(){return !0;};d.prototype.fG=function(g){this.ff=g.appendBuffer(this.response,f.vq(this));return {$:this.ff};};d.prototype.li=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.fd=function(){};d.prototype.jaa=function(){return !1;};return d;})(a(234).BJ);b.Tya=a;r.zf(l.Um,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.BKa=void 0;c=a(2);r=a(17);f=a(67);l=c.__importDefault(a(6));m=a(16);d=a(251);g=a(9);h=a(5);k=a(960);n=a(357);p=new l.default.Console("ASEJS","media|asejs");p.trace.bind(p);r=(function(q){function u(t,w,v,x){var Q21,y;Q21=2;for(;Q21 !== 11;){switch(Q21){case 13:var P5q="1SIYbZrNJC";P5q+="p";P5q+="9";P5q;return y;break;case 2:y=q.call(this) || this;y.config=t;y.Ry=w;y.Mp=v;y.pE=x;y.PA={};t=a(405);Q21=7;break;case 7:var F5q="D";F5q+="EBU";F5q+="G";F5q+=":";var G5q="nf-as";G5q+="e sh";G5q+="im ve";G5q+="r";G5q+="sion:";y.console=p;y.console.trace(G5q,t,F5q,!1);y.Ka=d.cH();Q21=13;break;}}}var P21;P21=2;for(;P21 !== 17;){switch(P21){case 3:u.prototype.xb=function(t,w,v,x,y,z,A,B){var U21;U21=2;for(;U21 !== 5;){switch(U21){case 2:this.Ka.Yva({audio:t,video:w,Aia:A,nya:B},{W:x,fa:y});this.Ka.open(this.config,this.pE);U21=5;break;}}};u.prototype.UY=function(t,w,v){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.Ka.Yva({total:t},{W:w,fa:v});V21=1;break;}}};u.prototype.createSession=function(t,w,v,x,y,z,A,B,E,D){var W21,F,C;W21=2;for(;W21 !== 19;){switch(W21){case 9:B.pz && this.Ka.dE(this.PA[E],{gs:y.gs,ba:y.ba,KC:y.KC});W21=8;break;case 2:var Y5q="c";Y5q+="r";Y5q+="eating";Y5q+=" session";this.console.trace(Y5q);W21=1;break;case 10:B.yr || B.RH || this.Ry();return this.T7;break;case 1:this.Ka.Qb.reset();F=Number(t.movieId);E=this.x6(F,y.ba);this.PA[E]={uja:function(){},ba:y.ba,equals:function(G){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return G.X === F && (y.ba === G.ba || !G.ba || !y.ba);break;}}},St:!1,Ns:Promise.resolve({oa:t,hi:! !x.hi,ue:! !x.ue,Bd:m.y8(! !x.KT,! !x.vE),config:B}),X:F};W21=9;break;case 8:D=this.Eyb(F,t,B.V5a,B,y,D || u.Ozb,x);C=D[0];E=C.za.pa[C.za.Md].Db;C=[this.OV(F,C.za,v,E)];W21=13;break;case 13:var m5q="endPts";m5q+=" is not";m5q+=" ";m5q+="supp";m5q+="orted";D[1] && C.push(this.OV(F,D[1].za,v,E));h.assert(void 0 === x.Ga,m5q);this.T7=new k.CKa(this.console,this,t,D,w,C,x,y,z,A,B);W21=10;break;}}};u.prototype.OV=function(t,w,v,x){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:var q5q="invalid start position r";q5q+="elative ";q5q+="to pla";q5q+="ygraph";return w.pa[w.Md].Db === x?(t=n.oka(w,t,g.T.Ab(v)),h.assert(t,q5q),t):{ya:w.Md,offset:g.T.Eb};break;}}};u.prototype.sx=function(t,w,v){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:return c.__awaiter(this,void 0,void 0,function(){var a31,x,y,z,A;a31=2;for(;a31 !== 5;){switch(a31){case 2:return c.__generator(this,function(B){var b31,c31;b31=2;for(;b31 !== 3;){switch(b31){case 1:var J5q="Can not update viewable. Viewab";J5q+="le not foun";J5q+="d ";return (x=this.En.bind(this,v.ba),y=this.x6(t,v.ba),z=x(t),h.assert(void 0 !== z,J5q + y),[4,z.Ns]);break;case 2:c31=B.label;b31=c31 === 0?1:9;break;case 5:return (A=B.Ic(),this.PA[y]={uja:function(){},ba:v.ba,equals:function(E){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return E.X === t && (v.ba === E.ba || !E.ba || !v.ba);break;}}},St:!1,Ns:Promise.resolve({oa:w,hi:A.hi,ue:A.ue,Bd:A.Bd,config:A.config}),X:t},[4,this.Ka.sx(this.PA[y])]);break;case 9:b31=c31 === 1?5:8;break;case 8:b31=c31 === 2?4:3;break;case 4:return (B.Ic(),[2]);break;}}});break;}}});break;}}};u.prototype.Eyb=function(t,w,v,x,y,z,A){var e31,B,E,D,F,C,G;e31=2;for(;e31 !== 7;){switch(e31){case 4:e31=E && E.aSb?3:8;break;case 2:var b5q="v";b5q+="i";b5q+="de";b5q+="o";var g5q="a";g5q+="u";g5q+="d";g5q+="i";g5q+="o";var Q5q="a";Q5q+="u";Q5q+="d";Q5q+="i";Q5q+="o";var l5q="v";l5q+="i";l5q+="d";l5q+="e";l5q+="o";var V5q="Generated ";V5q+="playgraph from choicema";V5q+="p.";(B=this,E=w.choiceMap);E?(t=f.AC(E,{config:x}),this.console.trace(V5q)):t=f.OI(t,z,A.KT || A.vE?A.vE?[l5q]:[Q5q]:[g5q,b5q]);(D=Object.create(x,{oz:{value:y.KC},SDb:{value:y.JL}}),F=this.En.bind(this,y.ba),C=[this.Ka.bG(t,v,D,{En:F})]);e31=4;break;case 3:G=E.aSb;e31=9;break;case 8:return C;break;case 9:Object.keys(G).forEach(function(K,J){var f31;f31=2;for(;f31 !== 9;){switch(f31){case 2:var s5q="Currently parallel grap";s5q+="h can o";s5q+="nly b";s5q+="e media type [audio]";var v5q="au";v5q+="d";v5q+="i";v5q+="o";var n5q="Cu";n5q+="rrently only one pa";n5q+="ralle";n5q+="l graph is supported";a000.x5U(24);h.assert(a000.u5U(J,0),n5q);J=G[K];h.assert(J.Bd && 1 === J.Bd.length && v5q === J.Bd[0],s5q);K=f.AC(E,c.__assign(c.__assign({},G[K]),{config:x}));C.push(B.Ka.bG(K,v,D,{En:F}));f31=9;break;}}});e31=8;break;}}};u.prototype.hvb=function(){var g31;g31=2;for(;g31 !== 1;){switch(g31){case 4:this.Qb.pP(1);g31=2;break;g31=1;break;case 2:this.Qb.pP(null);g31=1;break;}}};P21=12;break;case 20:var T5q="s";T5q+="0";u.prototype.x6=function(t,w){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:a000.x5U(5);return a000.a5U(t,w,"-");break;}}};u.Ozb=T5q;return u;break;case 12:u.prototype.En=function(t,w){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return this.PA[this.x6(w,t)];break;}}};u.prototype.TVb=function(t){var i31,w,v;i31=2;for(;i31 !== 13;){switch(i31){case 2:this.hvb();(w=this.x6(t.X,t.ba),v=this.PA[w]);v && (v.St=!0);this.Ka.Uu(t.qa);i31=3;break;case 3:t.Ha && this.Ka.RO(t.Ha);t.Jg && this.Ka.Uu(t.Jg);t.uj && this.Ka.RO(t.uj);t === this.T7 && delete this.T7;this.Ka.Rua(this.PA[w]);delete this.PA[w];i31=13;break;}}};u.prototype.Lb=function(){var j31;j31=2;for(;j31 !== 9;){switch(j31){case 2:var E5q="Attempted to destruct";E5q+=" ShimMa";E5q+="nager with session c";E5q+="onfig active";var H5q="Attempted to ";H5q+="destruct ShimManager ";H5q+="with players present ";H5q+="in ASE";var W5q="Attempted to destruct ShimManager with playgrap";W5q+="hs pr";W5q+="esent in ASE";h.assert(0 === this.Ka.RD.length,W5q);h.assert(0 === this.Ka.U5a.length,H5q);h.assert(0 === Object.keys(this.PA).length,E5q);j31=4;break;case 4:var o5q="At";o5q+="temp";o5q+="t";o5q+=" to destruct ShimManager with latest session still def";o5q+="ined";h.assert(void 0 === this.T7,o5q);this.Ka.close();j31=9;break;}}};P21=20;break;case 2:c.__extends(u,q);Object.defineProperties(u.prototype,{Qb:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return this.Ka.Qb;break;case 4:return this.Ka.Qb;break;R21=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Jn:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return this.Ka.Jn;break;S21=1;break;case 2:return this.Ka.Jn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mh:{get:function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return this.Ka.Mh;break;}}},enumerable:!1,configurable:!0}});P21=3;break;}}})(r.EventEmitter);b.BKa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P;Object.defineProperties(b,{__esModule:{value:!0}});b.Iya=void 0;c=a(2);f=a(17);l=a(355);m=a(222);d=a(894);g=a(218);h=a(16);a(212);k=a(895);n=a(408);p=a(935);q=a(401);u=a(25);t=a(5);w=a(386);v=a(936);x=a(937);y=a(938);z=a(118);A=a(253);B=a(939);E=a(68);D=a(252);F=a(9);C=c.__importDefault(a(6));G=a(940);K=a(941);J=a(942);I=a(943);M=a(54);R=a(416);H=a(954);P=a(955);r=(function(){function N(L){this.H=L;this.events=new f.EventEmitter();this.bd=l.Rs.CLOSED;this.Zv=[];this.XY=[];this.ZS=[];this.Dp=[];this.JMa={};this.L2={};this.Wwa=l.qQ.default;this.Spb=new z.MB({Au:this,source:"engine",AD:10,console:L});}Object.defineProperties(N.prototype,{Ku:{get:function(){t.assert(this.ry);return this.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{U5a:{get:function(){return this.ZS;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{RD:{get:function(){return this.Dp.map(function(L){return L.za;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{iTb:{get:function(){return this.Dp;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Qb:{get:function(){this.dJ();return this.Yy.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Jn:{get:function(){this.dJ();return this.Yy.Jn;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Mh:{get:function(){this.dJ();return this.Yy.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{T2b:{get:function(){return this.Zv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{J3:{get:function(){return this.JMa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{RI:{get:function(){return this.L2;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{MOb:{get:function(){return this.dOa || (this.dOa=this.Ptb());},enumerable:!1,configurable:!0}});N.prototype.open=function(L,Q,S,U){var ca;ca=this;if(this.bd === l.Rs.OPEN)return !1;this.I=L;this.Os=new E.bS(new D.p1({lk:!0,currentTime:function(){return F.T.Ab(C.default.time.ea());},speed:1}),this.H,"Engine Scheduler");this.yNa=new d.XCa(this.H,L);this.cC=new p.$Ja(this.G7.bind(this),L);this.Yy=g.HJ.NYa(L,Q);this.bd=l.Rs.OPEN;L=Object.create(L,{trb:{value:L.RH || L.yr}});this.ry=R.JV(L);S && this.ry.h9a(S);U && this.ry.ewa(U);this.W5a=new H.jJa({Qk:function(){ca.bd !== l.Rs.CLOSED && ca.cC.Qk("playgraphOpportunity");}});this.eOa=new J.sGa(function(){return ca.j6();},function(){return ca.k6().global;},this.H);this.Kyb();return !0;};N.prototype.bG=function(L,Q,S,U,ca){var ka,ya,qa;ka=this;void 0 === ca && (ca=!0);this.dJ();ya=Object.create(S,{vP:{value:this.RI}});if(ca && (S=this.Ku.Zub(L,ya)))return (S.mbb(Q),S.oYb(this.vI.bind(this,U)),S);L=[L,Q,ya,N.OPb++,this.Qb,this.vI.bind(this,U),function(Y,ua){var O,T;T=U.En(Y);Y=null === (O=u.kg(ka.Zv,function(ja){return ja.aM.equals(T);})) || void 0 === O?void 0:O.P;return null === Y || void 0 === Y?void 0:Y.An(ya,ua);},function(Y){return ka.cC.Qk(Y);},ca?this.Ku.Yub.bind(this.Ku):function(){},this.j6.bind(this)];if(this.I.Dla){Q=a(956);qa=Q.ZSa.apply(Q,c.__spread([{}],L));}else qa=new (n.C_.bind.apply(n.C_,c.__spread([void 0],L)))();qa.Ji(new x.RKa(qa));qa.Ji(new y.kLa(qa.ks));qa.N1a.Ji(new I.fza(qa));this.uy.UO.forEach(function(Y){return qa.Ji(Y);});this.W5a.bG(qa);L=new f.Xh();L.on(qa.events,"requestsPruned",this.rWb.bind(this));L.on(qa.events,"weightUpdated",this.Usa.bind(this));L.on(qa.events,"underflow",this.tk.bind(this,qa));this.Dp.push({za:qa,Zg:L,mY:0});this.Usa();return qa;};N.prototype.tk=function(L){L=this.eOa.eEb(L);(null === L || void 0 === L?0:L.L4) || this.Ku.reset();};N.prototype.Uu=function(L){this.W5a.Uu(L);this.Dp=this.Dp.filter(function(Q){return Q.za === L?(Q.Zg.clear(),!1):!0;});L.Lb();this.Usa();};N.prototype.PPa=function(L,Q){var S,U,ca;this.dJ();ca=Q.Bd;L=new k.aza(L,void 0 === ca?[0,1]:ca,c.__assign({vP:null !== (U=null !== (S=Q.vP) && void 0 !== S?S:this.L2) && void 0 !== U?U:{}},Q));this.ZS.push(L);return L;};N.prototype.RO=function(L){this.dJ();this.ZS=this.ZS.filter(function(Q){return Q !== L;});L.Lb();};N.prototype.Yva=function(L,Q){this.JMa=L;this.L2=Q;this.dOa=void 0;};N.prototype.dE=function(L,Q){var S,U;U=null === (S=u.kg(this.Zv,function(ca){return ca.aM.equals(L);})) || void 0 === S?void 0:S.P;U?U.dE(c.__assign(c.__assign({},Q),{Ln:this.osa.bind(this)})):this.XY.push({Ubb:L,D9a:Q});};N.prototype.Rua=function(L){this.XY=this.XY.filter(function(Q){return !Q.Ubb.equals(L);});};N.prototype.close=function(){this.bd !== l.Rs.CLOSED && (this.IVb(),t.assert(0 === this.Zv.length,"Unexpected viewable lease after Playgraph destruction."),this.HVb(),this.XY=[],delete this.Yy,this.bd=l.Rs.CLOSED,this.Os.Lb());};N.prototype.uYb=function(L){this.Wwa=L;this.cC.Qk("streamingModeChanged");};N.prototype.Io=function(){return this.uy.Io();};N.prototype.Kyb=function(){this.uy=new M.Dea(this.I);this.uy.Ji(new G.pCa(this));this.uy.Ji(new B.bKa(this.Qb,this.cC));this.uy.Ji(new v.lCa(this.Qb));this.uy.Ji(new A.LB(this.Spb));this.uy.Ji(new A.LB(this.cC.tq));this.uy.Ji(new A.LB(this.yNa.wi));this.uy.Ji(new A.LB(this.eOa.wi));};N.prototype.osa=function(){};N.prototype.sx=function(L){return c.__awaiter(this,void 0,void 0,function(){var Q,S,U,ca;return c.__generator(this,function(ka){switch(ka.label){case 0:return (t.assert(L,"ase.updateViewable(): Viewable config not found."),Q=u.kg(this.Zv,function(ya){return !0 !== ya.aM.St && ya.aM.equals(L);}),t.assert(Q,"ase.updateViewable(): Viewable entry not found."),[4,Q.wE]);case 1:return (S=ka.Ic(),ca=(U=S).sx,[4,L.Ns]);case 2:return (ca.apply(U,[ka.Ic()]),[2]);}});});};N.prototype.vI=function(L,Q){var S,U,ca;S=this;U=L.En(Q);t.assert(U,"ase.requestViewable(): Viewable config not found.");ca=u.kg(this.Zv,function(ka){return !0 !== ka.aM.St && ka.aM.equals(U);});ca || (ca={aM:U,wE:(function(){return c.__awaiter(S,void 0,void 0,function(){var ka,ya;return c.__generator(this,function(qa){switch(qa.label){case 0:return [4,U.Ns];case 1:return (ka=qa.Ic(),ya=this.tU(Q,U,ka),ca.P=ya,[2,ya]);}});});})(),P:void 0,uMb:new w.HEa(function(ka){ka() && S.r7a(ca);},F.wq(C.default,this.H,"" + Q))},this.Zv.push(ca));return {get P() {return null === ca || void 0 === ca?void 0:ca.P;},wE:ca.wE,U7:ca.uMb.By()};};N.prototype.r7a=function(L){var Q,S;t.assert(L,"expected viewableEntry to exist");Q=L.P;S=L.wE;Q?Q.Lb():S.then(function(U){U.Lb();});this.Zv=this.Zv.filter(function(U){return U !== L;});};N.prototype.tU=function(L,Q,S){var ca,ka,ya,qa,Y,ua,O;function U(T){ca.events.emit("logdata",T);}ca=this;this.dJ();ya=S.oa;qa=S.hi;Y=S.ue;ua=S.Bd;ua=void 0 === ua?h.Bf:ua;S=S.config;O=[new q.uda(0),new q.uda(1)];ya={oa:ya,config:S,hi:qa,Bd:ua,L5:void 0,Qb:this.Yy.Qb,Mh:this.Yy.Mh,NVa:{Rr:function(){return ca.cC.Qk("networkFailureReset");},Ph:this.Ph.bind(this,L),Hn:this.Hn.bind(this,L),Mn:U},$Za:{Mn:U,NV:void 0,VC:function(T){return O[T];},p7:function(){return !0;},If:void 0,Pl:void 0,rh:void 0,dD:void 0},aP:{Ey:this.Ey.bind(this),qI:this.qI.bind(this)},RI:this.L2,Pb:0,Yo:void 0,V2a:{Fpa:! !Y,E0a:!1},oX:function(){}};L=new m.Fba(L,ya);S.pz && (ya=(null === (ka=u.kg(this.XY,function(T){return T.Ubb.equals(Q);})) || void 0 === ka?void 0:ka.D9a) || ({}),this.Rua(Q),L.dE(c.__assign(c.__assign({},ya),{Ln:this.osa.bind(this)})));return L;};N.prototype.G7=function(){var L,Q;t.assert(this.state === l.Rs.OPEN);L=this.k6();Q=this.kN();return this.yNa.D4a(L,Q);};N.prototype.kN=function(){var L,Q,S;L=this;S=null !== (Q=this.I.HTb) && void 0 !== Q?Q:this.Dp.every(function(U){return !U.za.I6;});Q=u.flatten(this.Dp.map(function(U){return U.za.kN().map(function(ca){U.za.I6 || 1 === U.mY || (ca.hH=U.mY);return ca;});}));this.Wwa === l.qQ.disabled?Q=[]:this.Wwa === l.qQ.xNb && (Q=Q.filter(function(U){return L.I.nra >= U.Fs - U.Gr;}));S || (S=Q.filter(function(U){var ca;return 1 === (null !== (ca=U.hH) && void 0 !== ca?ca:1);}),S.length && (Q=S));S=this.Zv.reduce(function(U,ca){return ca.P?c.__spread(U,ca.P.kN()):U;},[]);return u.flatten(c.__spread(Q,S));};N.prototype.dJ=function(){if(this.bd === l.Rs.CLOSED)throw Error("Engine CLOSED");};N.prototype.IVb=function(){var L,U;try{for(var Q=c.__values(this.Dp),S=Q.next();!S.done;S=Q.next()){U=S.value;U.Zg.clear();this.Uu(U.za);}}catch(ka){var ca;ca={error:ka};}finally{try{S && !S.done && (L=Q.return) && L.call(Q);}finally{if(ca)throw ca.error;}}};N.prototype.HVb=function(){var L;try{for(var Q=c.__values(this.ZS),S=Q.next();!S.done;S=Q.next()){this.RO(S.value);}}catch(ca){var U;U={error:ca};}finally{try{S && !S.done && (L=Q.return) && L.call(Q);}finally{if(U)throw U.error;}}};N.prototype.Ph=function(L,Q,S,U,ca,ka,ya){var qa;void 0 === ya && (ya=!1);qa=!1;this.UYa(L).forEach(function(Y){if(!ya || h.Oo(Y.Ef.value))(Y.Ph(Q,L,S,U,ca,ka,ya),qa=!0);});return qa;};N.prototype.Hn=function(L){return this.UYa(L).some(function(Q){return Q.Hn();});};N.prototype.UYa=function(L){return this.Dp.filter(function(Q){Q=Q.za.za;return "" + L === "" + Q.pa[Q.Md].X;}).map(function(Q){return Q.za;});};N.prototype.k6=function(){var L;L=new K.UCa();this.Dp.forEach(function(Q){var S,U;S=Q.za;Q=Q.mY;U=S.k6();U.hH=Q;L.add(S.id,U);});return L;};N.prototype.j6=function(){return this.MOb;};N.prototype.Ptb=function(){var L,Q;Q=P.TRa(this.I,this.J3);return {total:(L={},L[1]=this.J3.video || Infinity,L[0]=this.J3.audio || Infinity,L.total=this.J3.total || Infinity,L),Mwa:Q};};N.prototype.Ey=function(L){this.cC.Ey(L);};N.prototype.qI=function(L){this.cC.qI(L);};N.prototype.Usa=function(){var L;L=this.RD.reduce(function(Q,S){return Math.max(S.weight,0) + Q;},0);this.Dp.forEach(function(Q){Q.mY=0 >= Q.za.weight?0:Q.za.weight / L;});};N.prototype.rWb=function(){};N.OPb=0;c.__decorate([z.bc({methodName:"open"})],N.prototype,"open",null);c.__decorate([z.bc({methodName:"addPlaygraph",context:function(L){var Q,S;return {playgraphCount:null !== (S=null === (Q=L.s4a.Dp) || void 0 === Q?void 0:Q.length) && void 0 !== S?S:0};}})],N.prototype,"bG",null);c.__decorate([z.bc({methodName:"removePlaygraph",context:function(L){return {playgraphCount:L.s4a.Dp.length};}})],N.prototype,"Uu",null);c.__decorate([z.bc({methodName:"close"})],N.prototype,"close",null);c.__decorate([z.bc({methodName:"setStreamingMode",zr:!0})],N.prototype,"uYb",null);c.__decorate([z.bc({methodName:"notifyAseException",zr:!0})],N.prototype,"osa",null);c.__decorate([z.bc({methodName:"updateViewable"})],N.prototype,"sx",null);c.__decorate([z.bc({methodName:"requestViewable"})],N.prototype,"vI",null);c.__decorate([z.bc({methodName:"removeViewable"})],N.prototype,"r7a",null);c.__decorate([z.bc({methodName:"createViewable"})],N.prototype,"tU",null);c.__decorate([z.bc({methodName:"issueRequestOpportunity",rm:!0,return:!0})],N.prototype,"G7",null);c.__decorate([z.bc({methodName:"reportStreamingFailure",zr:!0})],N.prototype,"Ph",null);return N;})();b.Iya=r;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(m.o3a(function(q){return q.wA;}),p).wA;}Object.defineProperties(b,{__esModule:{value:!0}});b.XCa=void 0;f=a(2);l=a(212);m=a(25);d=a(16);g=a(118);h=f.__importDefault(a(6));k=a(406);r=(function(){function n(p,q){this.H=p;this.config=q;this.r1a=0;this.wi=new g.MB({AD:10,Au:this,source:"GraphStreamingProcess"});}n.prototype.D4a=function(p,q){var u,t,w,v,x,y,z,A,D,F,C,G,K;w=!1;v=[];if(0 < q.length){x=this.qZb(q);y=x.some(function(I){return 1 === k.VRa(I) && d.Oo(I.Ef);});z=x.slice();A=[!1,!1];try{for(var B=f.__values(x),E=B.next();!E.done;E=B.next()){D=E.value;if(D.pD && "global" !== A[D.mediaType]){F=D.P0a(p,null !== (t=D.hH) && void 0 !== t?t:1);C=l.S6a(F.reason);C && (A[D.mediaType]=C,m.HQa(z,D));if(F.result){G=c(z,D);if(this.Nub(D,y,G)){K=D.T0a();this.Nqa(v,D,K.reason);K.ym && (this.r1a=h.default.time.ea());if(w=K.ym)break;}else if((this.Nqa(v,D,"concurrencyCheck"),!C))break;}else this.Nqa(v,D,F.reason);}}}catch(I){var J;J={error:I};}finally{try{E && !E.done && (u=B.return) && u.call(B);}finally{if(J)throw J.error;}}}this.wi.Cy({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.r1a});return w;};n.prototype.qZb=function(p){return this.bUb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.SZb;});};n.prototype.bUb=function(p){var q;q=this;return p.map(function(u){return {priority:-k.URa(q.config,u,q.H),SZb:u};});};n.prototype.Nqa=function(p,q,u){this.wi.enabled && p.push(this.LHb(u,q));};n.prototype.LHb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Ef,currentPlayerMs:q.Gr,pathCompletePlayerMs:q.wA,streamingPlayerMs:q.Fs};};n.prototype.Nub=function(p,q,u){return this.config.ZT && (q || d.Oo(p.Ef))?this.Oub(p,u):this.Pub(p,u);};n.prototype.Qub=function(p){return p.Fs <= p.wA;};n.prototype.Pub=function(p,q){return p.Fs - (p.Gr > q?p.Gr:q) <= Math.max(this.config.Qra,Math.min((p.wA - p.Gr) * this.config.Twa,this.config.oOb));};n.prototype.Oub=function(p,q){var u,t;if(void 0 === this.config.ZT)return !0;u=this.config.ZT;t=p.Gr + u;return p.Fs <= t?!0:this.Qub(p) && q >= t && p.Fs - q < u;};f.__decorate([g.bc({methodName:"onRequestOpportunity",rm:!0})],n.prototype,"D4a",null);return n;})();b.XCa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aza=void 0;c=a(2);f=a(17);l=a(9);m=a(5);d=c.__importDefault(a(6));g=a(68);h=a(25);k=a(896);r=a(407);n=a(898);a=(function(p){function q(u,t,w){var v;v=p.call(this) || this;v.V=u;v.Bd=t;v.Uv=w;v.PU=[];v.Xfa=new f.Xh();v.H=new d.default.Console("ASEJS","media|asejs");v.Xfa.on(v.V,"underflow",function(){return v.tk();});v.rS=new n.RIa(u);v.Xfa.on(v.V,"skipped",function(){return v.wX();});v.Vv=new g.bS(v.rS,v.H,"player");v.uya=new l.q1();return v;}c.__extends(q,p);Object.defineProperties(q.prototype,{ox:{get:function(){var u;return null === (u=this.Eh) || void 0 === u?void 0:u.ox;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ks:{get:function(){return this.Vv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kb:{get:function(){var u,t;return null !== (t=null === (u=this.Eh) || void 0 === u?void 0:u.zz()) && void 0 !== t?t:[];},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qa:{get:function(){var u;return null === (u=this.Eh) || void 0 === u?void 0:u.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xa:{get:function(){return this.rS;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{WA:{get:function(){var u;return !(null === (u=this.Eh) || void 0 === u || !u.WA);},enumerable:!1,configurable:!0}});q.prototype.RY=function(u){-1 === this.PU.indexOf(u) && this.PU.push(u);this.Eh && this.Eh.uX(u);this.events.emit("drmReady",{viewableId:u});};q.prototype.$va=function(u){u=this.PU.indexOf(u);-1 !== u && this.PU.splice(u,1);};q.prototype.Po=function(u){var t;return -1 !== this.PU.indexOf(u) || !(null === (t=h.kg(this.Kb,function(w){return w.P.X === u;})) || void 0 === t || !t.P.hi);};q.prototype.reset=function(){var u;this.uya=new l.q1();p.prototype.reset.call(this);this.JF=void 0;null === (u=this.Eh) || void 0 === u?void 0:u.reset();};q.prototype.BY=function(u){var t;p.prototype.BY.call(this,u);null === (t=this.Eh) || void 0 === t?void 0:t.BY(u);};q.prototype.pG=function(){var u;null === (u=this.Eh) || void 0 === u?void 0:u.pG();};q.prototype.pause=function(u){this.UI(u);p.prototype.pause.call(this,null !== u && void 0 !== u?u:this.Bd);};q.prototype.resume=function(u){var t;null === (t=this.Eh) || void 0 === t?void 0:t.resume(u);p.prototype.resume.call(this,null !== u && void 0 !== u?u:this.Bd);};q.prototype.Lb=function(){this.qt=this.J6()?this.Lo():void 0;this.Eh && this.hla(this.Eh.qa);this.rS.Lb();this.Vv.Lb();this.Xfa.clear();p.prototype.Lb.call(this);};q.prototype.ZM=function(){var u,t;if(null === (u=this.Eh) || void 0 === u?0:u.aUb){u=this.V.Nc;if(this.xa.lk){if(this.JF){if(this.JF.greaterThan(u))return (u=this.JF.Ma(u),this.uya.push(u.W),this.JF);if(this.Kb.length){t=this.Eh.sMb;if(t && t.lessThan(u))return (this.events.emit("logdata",{type:"logdata",target:"endplay",ic:{clockdrift:{type:"count"}}}),this.JF);}}this.JF=u;}return u;}return p.prototype.ZM.call(this);};q.prototype.Ko=function(){var u;u=this.V.playbackRate;void 0 === u && (u=p.prototype.Ko.call(this));return u;};q.prototype.J6=function(){return ! !this.qt || 0 < this.Kb.length;};q.prototype.Lo=function(){if(this.qt)return this.qt;m.assert(0 < this.Kb.length,"Could not find presenting branch. Player has no branches.");return this.oi;};q.prototype.hla=function(u){var t;m.assert(u === this.qa);null === (t=this.Eh) || void 0 === t?void 0:t.Lb();this.Eh=void 0;};q.prototype.v3=function(u,t){this.qt=void 0;if(t=p.prototype.v3.call(this,u,t))(this.Eh=new k.nza(u,this,this.H,u.config,this.Uv,this.events,this.Bd,this.Vv,this.XB,this.WB),this.UI(this.vO));return t;};q.prototype.Ola=function(){var w;for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}w=this.Eh;m.assert(w);u.forEach(function(v){return w.nCb(v);});};q.prototype.Li=function(u){var t,w,v;if(!this.Eh)return !1;t=this.N5(u);if(!t)return !1;w=t.O;v=l.T.Ab(this.Uv.ED);return w.Vk.Ma(v).lessThan(u) || !t.wG(u)?!1:this.Eh.Li(u);};q.prototype.tk=function(){var u,t,w;t=this.Wg;m.assert(this.qa);w=this.ls(t);m.assert(w);null === (u=this.Eh) || void 0 === u?void 0:u.tk();u=this.N5(t);null === u || void 0 === u?void 0:u.P.tk();this.qa.tk(w);};q.prototype.wX=function(){this.JF=void 0;};q.prototype.Yma=function(){var u;return null === (u=this.Eh) || void 0 === u?void 0:u.Yma();};q.prototype.UI=function(u){var t;null === (t=this.Eh) || void 0 === t?void 0:t.UI(u);};q.prototype.wxa=function(u){m.assert(this.qa && this.Eh);return p.prototype.wxa.call(this,u);};return q;})(r.oea);b.aza=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.nza=void 0;c=a(2);f=a(395);l=c.__importDefault(a(6));m=a(242);a(16);d=a(236);g=a(9);h=a(25);k=a(68);n=a(215);p=a(5);q=a(897);r=(function(){function u(t,w,v,x,y,z,A,B,E,D){var F;F=this;this.qa=t;this.V=w;this.H=v;this.I=x;this.Uv=y;this.$h=z;this.Bd=A;this.ks=B;this.XB=E;this.WB=D;this.H1=!1;this.lNa=new g.FKa();this.Pga=this.KQb.bind(this);this.gj=new m.D_(this.H);this.ox=new q.ELa(this.H,t);this.Ayb(this.ox);this.tl && (this.Nob=this.Xma(this.fHb()),this.snb=g.gr.tya(this.tl.map(function(C){return C.nA;}),function(C){return C.every(function(G){return G;});},function(C){return F.XB.set(C);}),this.vlb=new n.Fda(this.tl.map(function(C){return C.vW;}),function(C){return g.T.min.apply(g.T,c.__spread(C));},function(C){F.WB.set(C);},g.T.Ab(-Infinity)));this.Ep=B.BG(function(){return F.jtb();},"branchPruner");}u.prototype.jtb=function(){var t,w,v,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.gj.MSa)return [3,2];t=c.__read(this.gj.uaa(),1);w=t[0];v=null !== (A=null === (z=this.Uv.vP) || void 0 === z?void 0:z.W) && void 0 !== A?A:0;x=w.S7 || w.xe;y=x.add(g.T.Ab(v + 1E3));return [4,k.Kk.bQ(y)];case 1:return (B.Ic(),this.gj.remove(w),w.events.removeListener("branchEdited",this.Pga),w.Ff(),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{aUb:{get:function(){var t;return !(null === (t=this.Nob) || void 0 === t || !t.nA.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WA:{get:function(){var t;return !(null === (t=this.tl[0]) || void 0 === t || !t.WA);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sMb:{get:function(){return this.H1?g.T.max.apply(g.T,c.__spread(this.tl.map(function(t){var w;return null === (w=t.hsb) || void 0 === w?void 0:w.m1a;}).filter(h.f9))):void 0;},enumerable:!1,configurable:!0}});u.prototype.KQb=function(){var t;this.Ep.Jm();t=this.tl.filter(function(w){return w.LKb;}).map(function(w){return w.mediaType;});this.UI(t);this.resume(t);};u.prototype.nCb=function(t){p.assert(-1 === this.gj.uaa().indexOf(t),"Branch " + t.O.id + " is already in the collection, cannot re-queue");t.events.addListener("branchEdited",this.Pga);this.gj.enqueue(t);this.Ep.state === k.bn.complete && this.Ep.Jm();t.O.fv && this.gj.d5();this.H1 || this.IDb(t);};u.prototype.uX=function(t){this.tl.forEach(function(w){w.uX(t);});};u.prototype.reset=function(){this.tl.forEach(function(t){t.reset();});this.H1=!1;this.lNa.removeAllListeners();this.pG();};u.prototype.BY=function(t){t=this.Xma(t);null === t || void 0 === t?void 0:t.reset();};u.prototype.pG=function(){var t;t=this;this.gj.uaa().forEach(function(w){return w.events.removeListener("branchEdited",t.Pga);});this.gj.clear();this.Ep.Jm();};u.prototype.resume=function(t){this.tl.forEach(function(w){void 0 !== t && -1 === t.indexOf(w.mediaType) || w.resume();});};u.prototype.UI=function(t){this.tl.forEach(function(w){return (void 0 === t || -1 !== t.indexOf(w.mediaType)) && w.stop();});};u.prototype.tk=function(){this.H.trace("attached-player: onUnderflow");};u.prototype.hZa=function(){return this.gj.getIterator();};u.prototype.bGb=function(){return this.zz()[0];};u.prototype.zz=function(){return this.gj.uaa();};u.prototype.Ayb=function(t){var w,v;w=this;this.bm("createMediaSourceStart");if(this.Uv.HV)v=this.Uv.HV();else (v=new l.default.MediaSource(this.V.V),v.qc || (v.qc=l.default.MediaSource.qc));if(1 !== v.readyState)this.Fp("exception in init","NFErr_MC_StreamingInitFailure");else {this.bm("createMediaSourceEnd");this.gg=v;if(!v.g3(this.Bd))throw (this.H.trace("Error:",v.error),this.Fp("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.tl=v.sourceBuffers.filter(function(x){return 0 <= w.Bd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.Pba(w.H,x.mediaType,v,x,w.I,!0,{Re:function(){return w.V.Wg.W;},Po:function(z){return w.V.Po(z.X);}},w.ks);y.addListener("error",function(z){return w.Fp(z.errorstr);});y.addListener("logdata",function(z){return w.$h.emit("logdata",z);});return new f.Dba(y,x.mediaType,w,w.I,w.H,w.V,w.Uv,w.ks,t);});}};u.prototype.Lb=function(){this.snb.clear();this.vlb.clear();this.tl.forEach(function(t){return t.Lb();});this.Uv.HV || this.gg.Yp();this.pG();this.Ep.Lb();};u.prototype.Li=function(t){return this.tl.every(function(w){return w.Li(t);});};u.prototype.Yma=function(){return {MUb:this.zz(),aTb:this.tl};};u.prototype.IDb=function(t){var w;w=this;this.H1=!0;t.wg.forEach(function(v){var x;x=w.Xma(v.mediaType);if(void 0 !== x)w.lNa.once(v.wma,function(y){return x.JDb(y);});});if(t.Xc)this.jVa();else t.events.once("branchNormalized",function(){return w.jVa();});};u.prototype.jVa=function(){var t;t=this.bGb();t && (p.assert(t.Kg),this.$h.emit("ptsChanged",{initialTimestamp:t.Kg}));};u.prototype.Xma=function(t){return h.kg(this.tl,function(w){return w.mediaType === t;});};u.prototype.fHb=function(){return -1 !== this.Bd.indexOf(1)?1:0;};u.prototype.bm=function(t){t={type:"startEvent",event:t,time:l.default.time.ea()};this.$h.emit(t.type,t);};u.prototype.Fp=function(t,w){this.qa.Ph(t,void 0,w);};return u;})();b.nza=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;c=a(2).__importDefault(a(6));f=a(35);r=(function(){function l(m,d){this.H=m;this.lL=d;}l.prototype.iE=function(m,d,g,h,k){var n,p;void 0 === k && (k=!1);n=m.O;p=this.Bmb(n);this.pT={startTime:c.default.time.ea(),sZb:m,rZb:g.W,nBb:d,ae:this.qGb(h,d),K0b:this.VHb(h,k),bla:k,Ue:h,kSa:p,NPb:this.IGb(n,g)};};l.prototype.Fna=function(m){var d,g,h,k,n,p,q,u,t,w,v,x,y;if(this.pT && 0 !== Object.keys(this.pT.kSa).length && m === this.pT.nBb){d=this.pT;g=d.kSa;h=d.NPb;k=d.bla;n=d.Ue;p=d.sZb;q=d.rZb;u=d.startTime;t=d.ae;d=d.K0b;this.pT=void 0;w=this.gga(m).Dr;v=this.FEb(p.O.id,m,g);w=this.WNa(v.weight,w);x={};for(y in g){y !== m && (x[y]=g[y].details);}g=c.default.time.ea() - u;return {segment:m,srcsegment:p.O.id,srcsegmentduration:p.Aaa.W,srcoffset:this.FHb(p,q,n,k),seamlessRequested:n,atRequest:v,atTransition:w,discard:x,transitionType:t,transitionTypeAtRequest:d,delayToTransition:this.rFb(g,n,k),durationOfTransition:n?0:g,nextExitPositionAtRequest:h};}};l.prototype.FEb=function(m,d,g){var h,k,n;n={};(g=g[d])?n=g.details:(f.assert(this.lL),n.weight=null === (k=null === (h=this.lL.za.pa[m].next) || void 0 === h?void 0:h[d]) || void 0 === k?void 0:k.weight);return n;};l.prototype.rFb=function(m,d,g){var h;g || (h=d?m:0);return h;};l.prototype.IGb=function(m,d){var g,h,k;h=m.Og.add(d);null === (g=m.ex) || void 0 === g?void 0:g.some(function(n){h.lessThan(n.Xc) && (k=n.Xc.W);});return k;};l.prototype.FHb=function(m,d,g,h){return g || h?m.Aaa.W:d;};l.prototype.qGb=function(m,d){return m?"seamless":this.gga(d).XV?"reset":"long";};l.prototype.VHb=function(m,d){return m || d?"lazy":"immediate";};l.prototype.Bmb=function(m){var d,g;d=this;g={};m.sA.forEach(function(h){var k,n;k=m.QPb[h];n=d.gga(h).Dr;g[h]={details:d.WNa(k,n)};});return g;};l.prototype.gga=function(m){var d,g;m=this.lL.bna(m);d=0 < m.length?m[0]:void 0;m=null === d || void 0 === d?void 0:d.RC();if(!d || !m)return {XV:!1,Dr:{$n:0,xr:0,Ms:0,nC:0}};g=d.OZa(0) && !m.xr;d=d.OZa(1) && !m.$n;return {XV:!g && !d,Dr:m};};l.prototype.WNa=function(m,d){return {weight:m,vbuflmsec:d.$n,abuflmsec:d.xr,vbuflbytes:d.Ms,abuflbytes:d.nC};};return l;})();b.ELa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RIa=void 0;c=a(17);r=a(42);a=(function(){function f(l){var m;m=this;this.V=l;this.vga=!1;this.FF=new c.Xh();this.FF.on(l,"paused",function(){return m.t9();});this.FF.on(l,"playing",function(){return m.t9(!0);});this.FF.on(l,"underflow",function(){return m.t9();});this.FF.on(l,"skipped",function(){return m.wX();});this.FF.on(l,"clockAdjusted",function(){return m.tX();});this.FF.on(l,"playbackRateChanged",function(){return m.gRb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.cPa || this.V.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lk:{get:function(){return this.vga;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var l;return null !== (l=this.V.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});f.prototype.t9=function(l){void 0 === l && (l=!1);l !== this.vga && (this.cPa=(this.vga=l)?void 0:this.V.Nc);this.emit("stopStart",{type:"stopStart"});};f.prototype.wX=function(){this.cPa=void 0;this.tX();};f.prototype.tX=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.gRb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Lb=function(){this.t9();this.FF.clear();};return f;})();b.RIa=a;r.zf(c.EventEmitter,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lza=void 0;c=a(2);r=(function(){function f(l,m,d,g){this.X=l;this.vI=m;this.Ssa=d;this.Tsa=g;}Object.defineProperties(f.prototype,{P:{get:function(){var l;return null === (l=this.e_) || void 0 === l?void 0:l.P;},enumerable:!1,configurable:!0}});f.prototype.Lb=function(){var l;this.P && (this.P.Oxa(this.eb),this.Tsa(this.P));null === (l=this.e_) || void 0 === l?void 0:l.U7.release();this.e_=void 0;};f.prototype.xb=function(l){return c.__awaiter(this,void 0,void 0,function(){var m,d,g,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.eb=l,m=this.vI(this.X),d=m.wE,g=m.P,h=m.U7,this.e_={U7:h,P:g},g?(this.P_a(g,l,!1),[2,g]):[4,d]);case 1:return (k=n.Ic(),this.P_a(k,l,!0),[2,k]);}});});};f.prototype.P_a=function(l,m,d){this.e_ && (this.e_.P=l,l.Jua(m),this.Ssa(m,l,d));};return f;})();b.Lza=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w){return (1 === t.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Hza=b.Kza=b.$hb=void 0;f=a(2);l=a(17);m=a(9);d=a(22);r=a(102);g=a(42);h=a(901);k=a(5);n=a(903);p=a(239);q=a(20);b.$hb={Pbb:c};(function(t){t[t.Rba=0]="CREATED";t[t.Rza=1]="CANCELLED";})(u=b.Kza || (b.Kza={}));a=(function(){function t(w,v,x,y,z,A,B,E,D,F,C,G){var K,J;K=this;this.I=w;this.H=v;this.I9=x;this.Hp=y;this.f6=z;this.Ur=A;this.ft=B;this.FS=E;this.parent=D;this.gy=F;this.Vv=C;this.d_=G;this.bd=u.Rba;this.X2=[];this.Rz=new p.dK();this.G7a=0;this.Ksa=function(){!K.Fh && K.G6 && (K.P.iu.LD("onHeaderFragments",K.Ksa),K.e7.resolve());};this.events=new l.EventEmitter();this.fs=new m.JQ();this.e7=new m.JQ();if(null === (J=this.parent) || void 0 === J?0:J.xe)this.ft=this.parent.xe.Ma(this.Hp.Og);}Object.defineProperties(t.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fh:{get:function(){return this.bd === u.Rza;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gw:{get:function(){var w;return !(null === (w=this.yd) || void 0 === w || !w.Gw);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xl:{get:function(){var w;return !(null === (w=this.yd) || void 0 === w || !w.xl);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yt:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.yt) && void 0 !== v?v:0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Kh:{get:function(){var w;return !(null === (w=this.yd) || void 0 === w || !w.Kh);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{X2b:{get:function(){return this.fs.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wg:{get:function(){return this.X2;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$V:{get:function(){var w;return !(null === (w=this.d_) || void 0 === w || !w.P);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G6:{get:function(){return ! !this.wg.length && this.X2.every(function(w){return w.je;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{P:{get:function(){k.assert(this.d_.P,"viewable should be available");return this.d_.P;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S:{get:function(){var w;return (null === (w=this.yd) || void 0 === w?void 0:w.S) || this.Ur.S;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wa:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.Wa) && void 0 !== v?v:this.Ur.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ob:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.ob) && void 0 !== v?v:this.O.Vk.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xj:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.xj) && void 0 !== v?v:this.Sf.ag(this.S).vc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vr:{get:function(){var w,v,x;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.Vr) && void 0 !== v?v:null === (x=this.Ur) || void 0 === x?void 0:x.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{NM:{get:function(){var w,v;v=null === (w=this.O.O.hq) || void 0 === w?void 0:w[0];return v && this.Xc?d.T.Ab(Math.max(0,v[0] - this.Xc.W - this.O.Og.W)):d.T.Eb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gI:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.gI) && void 0 !== v?v:this.O.Og.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{EO:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.EO) && void 0 !== v?v:this.O.Vk.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S7:{get:function(){var w;return null === (w=this.yd) || void 0 === w?void 0:w.S7;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sf:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.Sf) && void 0 !== v?v:this.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tq:{get:function(){var w,v;return null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.Tq) && void 0 !== v?v:this.O.Vk.Ma(this.Ur || this.O.Og);},enumerable:!1,configurable:!0}});t.prototype.xb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(w){switch(w.label){case 0:if(this.Fh)return [2];q.ga && this.H.log("AseBranch {" + this.O.id + "} awaiting viewable");return [4,this.d_.xb(this)];case 1:w.Ic();q.ga && this.H.log("AseBranch {" + this.O.id + "} viewable available, branch " + (this.Fh?"cancelled":"active"));if(this.Fh)return [2];k.assert(this.f6,"tracks need to exist upon initialization");this.X2=this.f6(this.P).sort(c);this.Y8a(this.Ur);return [4,this.gWa()];case 2:return (w.Ic(),q.ga && this.H.log("AseBranch {" + this.O.id + "} have headers"),this.Fh?[2]:this.parent?[4,this.parent.X2b]:[3,4]);case 3:w.Ic();if(this.Fh)return [2];w.label=4;case 4:return (this.normalize(),[2]);}});});};t.prototype.gWa=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(){this.G6?this.e7.resolve():(this.P.iu.on("onHeaderFragments",this.Ksa),this.events.emit("needsRequest"));return [2,this.e7.promise];});});};t.prototype.normalize=function(){this.Fh || (this.yd=new h.QGa(this,this.I,this.H,this.P,this.I9,this.Hp,this.Ur,this.Rz.items,this.ft,this.FS,this.parent,this.gy,this.events,this.Vv),this.Cla(this.yd.IC),this.fs.resolve(this.yd));};t.prototype.update=function(w){var v;this.Hp=w;(null === (v=this.yd) || void 0 === v?0:v.update(w)) && this.Cla(!0);};t.prototype.rx=function(w){var v;this.ft=w;null === (v=this.yd) || void 0 === v?void 0:v.rx(w);};t.prototype.Ez=function(w){return f.__awaiter(this,void 0,void 0,function(){var v;return f.__generator(this,function(x){switch(x.label){case 0:return [4,this.fs];case 1:return (v=x.Ic(),[2,null === v || void 0 === v?void 0:v.Ez(w)]);}});});};t.prototype.MG=function(){var w;null === (w=this.yd) || void 0 === w?void 0:w.MG();};t.prototype.reset=function(){var w;null === (w=this.yd) || void 0 === w?void 0:w.reset();};t.prototype.Ff=function(){var w;this.bd=u.Rza;this.$V && this.P.iu.LD("onHeaderFragments",this.Ksa);null === (w=this.yd) || void 0 === w?void 0:w.Ff();this.Rz.forEach(function(v){return v.cancel();});this.d_.Lb();};t.prototype.mW=function(w){var v;return !(null === (v=this.yd) || void 0 === v || !v.mW(w));};t.prototype.fb=function(w){var v;return null === (v=this.yd) || void 0 === v?void 0:v.fb(w);};t.prototype.OZa=function(w){return this.wg.some(function(v){return v.mediaType === w;});};t.prototype.lq=function(w){var v,x;void 0 === w && (w=c);return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.lq(w)) && void 0 !== x?x:[];};t.prototype.JHb=function(w){var v,x;return (null === (v=this.fb(w)) || void 0 === v?void 0:v.ml.vg) || (null === (x=this.Rz.get(w)) || void 0 === x?void 0:x.ml.vg);};t.prototype.i6=function(){var w,v;return this.G6?null !== (v=null === (w=this.yd) || void 0 === w?void 0:w.i6()) && void 0 !== v?v:[]:this.Rz.items;};t.prototype.dN=function(w){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.dN(w)) || this.Rz.get(w);};t.prototype.Hh=function(w,v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.Hh(w,v)) || 0;};t.prototype.RC=function(){var w;return (null === (w=this.yd) || void 0 === w?void 0:w.RC()) || ({});};t.prototype.PV=function(w){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.PV(w)) || this.Vr.W;};t.prototype.eE=function(w,v,x){return f.__awaiter(this,void 0,void 0,function(){var y,z,A,B;return f.__generator(this,function(E){switch(E.label){case 0:this.X2=w.sort(c);this.Y8a(v);if(!this.Kh)return [3,2];k.assert(this.yd);y=this.Rz.filter(function(D){return D.track.je;}).items;z=this.yd.ebb(y,v,x);A=z.HU;B=z.IC;A && this.Cla(B);if(this.G6)return [3,2];this.e7=new m.JQ();this.fs=new m.JQ();q.ga && this.H.log("AseBranch {" + this.O.id + "} setTracks waiting for headers");return [4,this.gWa()];case 1:E.Ic();if(this.Fh)return [2];this.yd.ebb(this.Rz.items,v,x);q.ga && this.H.log("AseBranch {" + this.O.id + "} setTracks pipelines updated");this.fs.resolve(this.yd);this.events.emit("needsRequest");E.label=2;case 2:return [2];}});});};t.prototype.Y8a=function(w){var v;v=this;this.Rz=new p.dK(this.wg.map(function(x){var y,z;z=v.Rz.find(function(A){return A.track === x;});z || (++v.G7a,z=new n.yDa(v,x,(null === w || void 0 === w?void 0:w.add(v.Sf)) || d.T.Eb,v.I,v.H,null === (y=v.parent) || void 0 === y?void 0:y.JHb(x.mediaType),v.I9,function(){0 === --v.G7a && v.events.emit("requestQueuesCreated");}));return z;}));};t.prototype.Rm=function(w){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.Rm(w)) || [];};t.prototype.sX=function(w){var v;return null === (v=this.yd) || void 0 === v?void 0:v.sX(w);};t.prototype.wG=function(w){var v;return !(null === (v=this.yd) || void 0 === v || !v.wG(w));};t.prototype.V5=function(w){return this.yd?this.yd.V5(w):d.T.Eb;};t.prototype.Fxa=function(w){var v;return !(null === (v=this.yd) || void 0 === v || !v.Fxa(w));};t.prototype.Cla=function(w){w={type:"branchNormalized",segmentContentStart:this.O.Og,branchContentStart:this.Xc,branchContentEnd:this.Qd,didNormalizeSegment:w};this.events.emit(w.type,w);q.ga && this.H.trace("branchNormalized:",w);};t.prototype.toJSON=function(){var w;return (null === (w=this.yd) || void 0 === w?void 0:w.toJSON()) || ({});};return t;})();b.Hza=a;g.zf(r.xx,a);g.zf(r.nB,a);},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.QGa=b.$da=void 0;f=a(2);l=a(390);m=a(83);d=a(149);g=a(388);h=a(16);k=a(409);n=a(902);p=a(9);q=a(25);u=a(5);t=a(22);w=f.__importDefault(a(6));r=a(102);v=a(42);x=a(239);b.$da={Pbb:c};a=(function(y){function z(A,B,E,D,F,C,G,K,J,I,M,R,H,P){var N,L;L=y.call(this,D) || this;L.eb=A;L.I=B;L.P=D;L.I9=F;L.Hp=C;L.ft=J;L.FS=I;L.parent=M;L.gy=R;L.events=H;L.Vv=P;L.ee=new x.dK([]);L.Yl=!1;L.OS=0;L.oS=L.sX.bind(L);u.assert(D.X === L.O.X || isNaN(D.X) && isNaN(L.O.X));L.console=p.wq(w.default,E,C.id && C.id.length?"{" + C.id + "}":"");L.Ur=null !== G && void 0 !== G?G:t.T.Ab(L.O.Z);L.Uga=null === M || void 0 === M?void 0:M.xe;null === (N=L.gy) || void 0 === N?void 0:N.addListener(L.oS);A=L.wTa(K,L.Ur,! !L.parent).IC;L.IC=A;return L;}f.__extends(z,y);Object.defineProperties(z.prototype,{Fh:{get:function(){return this.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Gw:{get:function(){return this.ee.every(function(A){return A.Gw;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xl:{get:function(){return this.ee.every(function(A){return A.xl;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yt:{get:function(){return this.lq().reduce(function(A,B){return A + B.yt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Kh:{get:function(){return this.lq().every(function(A){return A.Kh();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wg:{get:function(){return this.eb.wg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){return this.st.S;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wa:{get:function(){return this.st.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){return this.st.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xj:{get:function(){return this.Sf.ag(this.S).vc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Vr:{get:function(){return this.Ur.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gI:{get:function(){return this.O.Og.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{EO:{get:function(){return this.O.Vk.add(this.Sf);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S7:{get:function(){return this.ee.reduce(function(A,B){return A && B.xe?t.T.max(A,B.xe):B.xe?B.xe:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rpa:{get:function(){return this.Vr.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fe:{get:function(){return this.Sf.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Tq:{get:function(){return this.st.Tq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sf:{get:function(){return this.ft;},enumerable:!1,configurable:!0}});z.prototype.ebb=function(A,B,E){var D;void 0 === B && (B=null !== (D=this.Xc) && void 0 !== D?D:this.Ur);return this.wTa(A,B,E);};z.prototype.update=function(A){var B,E,D;D=A.Vk.g9(this.Hp.Vk);this.Hp=A;return D && this.aC?(D=f.__read(this.aC.YVb(A,A.Vk),2),A=D[0],D=D[1],u.assert(A && D,"branch.update: lastFragment should be defined"),null === (B=this.fb(0)) || void 0 === B?void 0:B.truncate(A),null === (E=this.fb(1)) || void 0 === E?void 0:E.truncate(D),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.rx=function(A){this.Sf.equal(A) || (this.ft=A);};z.prototype.Ez=function(A){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(E){switch(E.label){case 0:return [4,Promise.resolve()];case 1:return (E.Ic(),(B=this.fb(A))?[2,B.Ez()]:[2,d.AsyncIterator.UXa()]);}});});};z.prototype.MG=function(){this.lq().forEach(function(A){return A.MG();});};z.prototype.vT=function(){this.ee.forEach(function(A){return A.vT();});};z.prototype.reset=function(){this.ee.forEach(function(A){A.reset();});};z.prototype.Ff=function(){var A,B;this.Yl || (this.Yl=!0,null === (A=this.aC) || void 0 === A?void 0:A.fd(),this.aC=void 0,this.ee.forEach(function(E){E.Ff();}),null === (B=this.gy) || void 0 === B?void 0:B.removeListener(this.oS),this.events.removeAllListeners());};z.prototype.mW=function(){return !0;};z.prototype.fb=function(A){return this.ee.get(A);};z.prototype.lq=function(A){void 0 === A && (A=c);return this.ee.items.slice().sort(A);};z.prototype.i6=function(){return this.ee.items;};z.prototype.dN=function(A){return this.fb(A);};z.prototype.Hh=function(A,B){A=this.fb(A);if(!A)return 0;if(B)return A.Im;B=A.Tp;if(void 0 === B)return 0;A=this.FS();return B - A;};z.prototype.RC=function(){var A,B,E,D,F,C,G;G=null === (A=this.fb(0)) || void 0 === A?void 0:A.un;A=null === (B=this.fb(1)) || void 0 === B?void 0:B.un;return {$n:null !== (E=null === A || void 0 === A?void 0:A.W) && void 0 !== E?E:0,xr:null !== (D=null === G || void 0 === G?void 0:G.W) && void 0 !== D?D:0,Ms:null !== (F=null === A || void 0 === A?void 0:A.fa) && void 0 !== F?F:0,nC:null !== (C=null === G || void 0 === G?void 0:G.fa) && void 0 !== C?C:0};};z.prototype.PV=function(A){var B;return (A=this.fb(A))?null !== (B=A.Tp) && void 0 !== B?B:0:0;};z.prototype.Rm=function(A){A=this.fb(A);return (null === A || void 0 === A?void 0:A.Rm()) || [];};z.prototype.sX=function(A){h.Oo(A.newValue) && this.ur();};z.prototype.wG=function(A){return this.ee.every(function(B){return B.wG(A);});};z.prototype.V5=function(A){var B,E;return null !== (E=null === (B=this.ee.get(A)) || void 0 === B?void 0:B.PTa) && void 0 !== E?E:t.T.Eb;};z.prototype.Fxa=function(A){var B,E,D;B=this.st.fMb;if(!B)return !1;E=q.kg(A,function(F){return B.W <= F.Xc.W;});if(!E)return !1;A=!1;D=f.__read(k.Wua(this.I,this.ee,E.Xc),2);E=D[0];if(D=D[1])(this.fb(1).truncate(D),A=!0);E && (this.fb(0).truncate(E),A=!0);A && (E={type:"branchEdited"},this.events.emit(E.type,E));return A;};z.prototype.uk=function(A){this.Yl || (A.j3 || u.assert(!A.cd),this.ur(),this.xl && this.Sga());this.Yt(A);};z.prototype.YH=function(A){this.I.Z4 && this.ur(!0);this.UG(A);};z.prototype.XH=function(A){this.I.Z4 && this.ur(!0);this.PC(A);};z.prototype.wTa=function(A,B,E){var D,F,C;D=this;F=new x.dK();C=!1;A.forEach(function(G){var K;K=D.ee.find(function(J){return J.track === G.track;});void 0 === K?(C=!0,K=new g.Cda(G.mediaType,D.I,D.console),K=new l.Zda(D,D.I,D.console,D.I9,D.eb,G.track,B,G.ml,K,!0,void 0,G.E0b(),D.Vv),K.events.on("lastRequestIssued",function(){return D.Gw && D.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(D.ee.remove(K),K.vT());F.add(K);});this.ee.forEach(function(G){return G.Ff();});this.ee=F;return C?this.normalize(B,E):{HU:!1,IC:!1};};z.prototype.normalize=function(A,B){var E,D;null === (E=this.aC) || void 0 === E?void 0:E.fd();this.aC=new n.pIa({console:this.console,config:this.I,P:this.P,O:this.O,fl:this.ee,Xc:A,Qd:null !== (D=this.O.Vk) && void 0 !== D?D:void 0 !== this.O.Ga?t.T.Ab(this.O.Ga):void 0,splice:B});this.st=this.ee.YX;B=this.aC.normalize();A=B.HU;B=B.IC;A && this.Uga && (this.ft=this.Uga.Ma(this.Xc));return {HU:A,IC:B};};z.prototype.owa=function(A){var B;return h.Oo((null === (B=this.gy) || void 0 === B?void 0:B.value) || h.Kc.dj) && (!A || this.OS + this.I.F8 < w.default.time.ea());};z.prototype.ur=function(A){void 0 === A && (A=!1);this.owa(A) && (this.OS=w.default.time.ea(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.Sga=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.O.id,branchOffset:this.Fe,viewableId:this.Hp.X,contentStartPts:null === (A=this.Xc) || void 0 === A?void 0:A.W,contentEndPts:null === (B=this.Qd) || void 0 === B?void 0:B.W};};return z;})(m.ov);b.QGa=a;v.zf(r.xx,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;c=a(2);f=a(409);l=a(5);r=(function(){function m(d){var g,h,k,n,p,q,u,t;g=this;h=d.console;k=d.config;n=d.P;p=d.fl;q=d.O;u=d.Xc;t=d.Qd;d=d.splice;this.iW=this.ZL=!1;this.dSa=function(){g.ZL || g.cia() && g.ksa();};this.console=h;this.config=k;this.fl=p;this.P=n;this.O=q;this.Xc=u;this.Qd=t;this.splice=d;}m.prototype.xb=function(d){if(this.ZL)throw Error("Cannot call init() after cleanup");if(this.iW)throw Error("Cannot call init() twice");this.iW=!0;this.A4a=d;this.P.iu.addListener("onHeaderFragments",this.dSa);this.cia() && this.ksa();};m.prototype.normalize=function(){if(this.ZL)throw Error("Cannot call normalize() after cleanup");if(this.iW)throw Error("Cannot call init() / normalize() twice");this.iW=!0;l.assert(this.cia());return this.ksa();};m.prototype.YVb=function(d,g){l.assert(this.iW,"expected to be called init() before renormalize");this.O=d;this.Qd=g;d=f.Wua(this.config,this.fl,this.Qd);this.e9();return d;};m.prototype.fd=function(){this.ZL || (this.ZL=!0,this.A4a=void 0,this.P.iu.removeListener("onHeaderFragments",this.dSa));};m.prototype.ksa=function(){var d,g,h;if(this.ZL)return {HU:!1,IC:!1};g=this.XPb();h=!1;this.O && !this.O.fs && (h=this.e9());null === (d=this.A4a) || void 0 === d?void 0:d.call(this,g,h);this.fd();return {HU:g,IC:h};};m.prototype.cia=function(){return this.fl.every(function(d){return d.track.je;});};m.prototype.XPb=function(){var d,g;d=c.__read(f.Y3a(this.config,this.fl,this.Xc,this.Qd,this.splice),2);g=d[0];return d[1] || void 0 === this.fl.get(1) && g;};m.prototype.e9=function(){var d,g,h;l.assert(this.O);l.assert(!this.O.fs);d=this.fl.YX;g=f.$3a(this.config,d,this.O.Og);if(void 0 === g || void 0 === d.Qd)return !1;d=d.Qd;h=this.config.cya && "immediate" !== this.O.ae?f.u2a(this.console,this.O,this.fl):[];this.O.normalize(g,d,h);return !0;};return m;})();b.pIa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yDa=void 0;c=a(394);f=a(125);l=a(243);m=a(244);d=a(5);r=(function(){function g(h,k,n,p,q,u,t,w){this.eb=h;this.track=k;this.$$=n;this.config=p;this.console=q;this.events=t;this.qRb=w;this.Kn=0;this.l6a=this.xl=!1;this.ml=this.Myb(u);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ya:{get:function(){return this.eb.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bh:{get:function(){return this.eb.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kU:{get:function(){return this.$$;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mE:{get:function(){return this.$$;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{NM:{get:function(){return this.eb.NM;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kf:{get:function(){return this.Ee || (this.Ee=this.Lt());},enumerable:!1,configurable:!0}});g.prototype.pD=function(){return this.track.U8;};g.prototype.Wr=function(){return this.track.je;};g.prototype.Kh=function(){return !1;};g.prototype.cYa=function(){return {U:[],D9:0,el:0};};g.prototype.E0b=function(){var h;d.assert(this.Wr());h=this.Kf;this.Ee=void 0;return h;};g.prototype.Gab=function(h){return (h=h.sE(this.Kf))?{ym:h,reason:"success"}:{ym:h,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.Ee && (this.eb.P.AL(this.mediaType,this.Ee),f.mp.instance.qM(this.Ee),this.Ee.removeAllListeners(),this.Ee=void 0);};g.prototype.Myb=function(h){var k,n;k=0 === this.mediaType?this.config.VQa:this.config.Swa;h=new l.Rea(h);h.VY(this.track);n=this.config;return new m.Sea(k,this.config,h,0 === this.mediaType?n.Ela:n.Fla);};g.prototype.Lt=function(){var h,k;h=this;k=c.Lt(this.mediaType,this.track.P,this.config,this.console,function(n){return h.events.emit("transportReport",n);},function(){});k.on("created",this.qRb);return k;};return g;})();b.yDa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;r=(function(){function a(c,f){this.H=c;this.$h=f;this.Uwa=!1;}a.prototype.Ph=function(c,f,l,m,d,g,h){void 0 === h && (h=!1);this.Uwa || (h || (this.Uwa=!0),c={type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:m,httpCode:d,nativeCode:g,viewableId:f,temporaryFailure:h},this.H.error("notifyStreamingError:",c),this.$h.emit("error",c));};a.prototype.Hn=function(){return this.Uwa;};return a;})();b.$Ka=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aea=void 0;c=a(2);f=a(5);l=a(9);m=a(20);d=a(252);r=(function(g){function h(k){var n;n=g.call(this) || this;n.qa=k;n.Kb=[];n.rS=new d.p1({lk:!1,currentTime:function(){return n.wm?n.Wg:l.T.iD;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{xa:{get:function(){return this.rS;},enumerable:!1,configurable:!0}});h.prototype.v3=function(k,n){var p;p=!this.qa;p && (this.qa=k,this.Lfa=(null === n || void 0 === n?0:n.wm)?n.Wg:void 0);return p;};h.prototype.pG=function(){this.Kb=[];this.Lfa=void 0;};h.prototype.hla=function(k){m.ga && f.assert(this.qa === k);this.qa=void 0;this.pG();};h.prototype.Ola=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.Kb).push.apply(k,c.__spread(n));};h.prototype.ZM=function(){return this.Lfa?this.Lfa:g.prototype.ZM.call(this);};h.prototype.Po=function(){return !1;};h.prototype.UI=function(){};return h;})(a(407).oea);b.aea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rIa=void 0;c=a(54);r=(function(){function f(l){this.fb=l;}Object.defineProperties(f.prototype,{lj:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Io=function(l){var m,d;l=l.Qi;if(l === c.de.Zn || l === c.de.$p){l={};m=this.fb(1);d=this.fb(0);m && (l.videoPipelineSummary=this.y$a(m));d && (l.audioPipelineSummary=this.y$a(d));return l;}};f.prototype.y$a=function(l){var m,d,g,h,k;k=l.Qa.U;return {actualStartPlayerTimestamp:null === (m=k.Kg) || void 0 === m?void 0:m.W,actualPartialPlayerTimestamp:k.s5a,actualCompletePlayerTimestamp:null === (d=l.Lha) || void 0 === d?void 0:d.W,segmentId:l.ya,contentStartMs:null === (g=l.Xc) || void 0 === g?void 0:g.W,contentEndMs:null === (h=l.Qd) || void 0 === h?void 0:h.W,streamingPlayerMs:l.mE.W,isStreamable:l.pD(),isNormalized:l.Kh(),isDoneStreaming:l.Wr(),trackNeedsHeaderRequest:l.track.U8,completedRequests:k.NSa,activeRequests:l.Qa.Kp,unsentRequests:l.Qa.Js,bytes:{current:k.fa,received:k.X6a,partial:k.el,completed:k.CC,unsent:k.j1b}};};return f;})();b.rIa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XIa=void 0;c=a(2);f=a(20);l=a(54);m=a(411);r=(function(){function d(g){this.hTb=g;}Object.defineProperties(d.prototype,{lj:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HD:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.Io=function(g){var h;g=g.Qi;if(g === l.de.$p || g === l.de.Zn){h={};this.hTb.forEach(function(k,n){var p;p=m.ana(k);h[n]=c.__assign({probabilities:k.bh.map(function(q){return {duration:q.duration,immediate:q.gD,seamless:q.Ue};})},p);});return h;}};return d;})();b.XIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oFa=void 0;r=(function(){function a(c,f,l){this.We=c;this.H=f;this.events=l;this.UO=[];}a.prototype.Ji=function(c){var f;f=this;this.UO.push(c);this.We.oyb(function(){f.Dab(c,{PKb:!0});},c.NRa,c.uw);};a.prototype.AMb=function(c){var f,l;f=this;l={Qi:c};this.UO.forEach(function(m){f.Dab(m,l);});};a.prototype.Dab=function(c,f){var l,m;try{l=c.pg(f);m=l.event;l.y9a && this.events.emit(c.uw,m);}catch(d){this.H.error("Error generating event for " + c.uw,d);}};return a;})();b.oFa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ls=b.BZa=b.N0a=void 0;c=a(9);f=a(5);l=a(20);b.N0a=function(d,g){d=d.pa[g.ya];if(void 0 === d)return !1;if(void 0 === d.Ob || null === d.Ob)throw Error("Cannot validate graph position without endTimeMs");d=d.Ob - d.Db;return 0 <= g.offset.W && g.offset.W < d;};m=c.T.Ab(100);b.BZa=function(d,g){if(d === g)return !0;if(d && g && d.ya === g.ya){if(d.offset === g.offset)return !0;d=c.T.abs(d.offset.Ma(g.offset));if(m.greaterThan(d))return !0;}return !1;};b.ls=function(d,g,h){var k,n,p,q;p=g.qa;g=g.oKb;void 0 === h && (h={});q=p.za;p=p.navigator;q=p.sf(null !== (k=null === g || void 0 === g?void 0:g.id) && void 0 !== k?k:q.Md);k=null !== (n=null === g || void 0 === g?void 0:g.pXb) && void 0 !== n?n:q.Og;if(k.greaterThan(d))return h.L9a?{offset:d.Ma(k),ya:q.id}:void 0;g=p.OLb(q);for(p=g.next();!p.done;){n=p.value;p=n.Vk.Ma(n.Og);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Ma(q),l.ga && f.assert(d.Qr(c.T.Eb) && d.lessThan(p)),{ya:n.id,offset:d});p=g.next();if(p.done && h.M9a)return {ya:n.id,offset:d.Ma(q)};}};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(35)).default.tH;l=r.__importDefault(a(144));m=r.__importDefault(a(6));d=a(176);g=a(25);h=a(5);a=(function(){function k(n,p,q,u,t){this.config=n;this.lZb=p;this.navigator=q;this.events=u;this.console=t;n=d.hN(this.config);this.f6a=[n.VD,n.U9];}k.prototype.uXb=function(n,p,q,u,t,w,v){var x,y,z,A,B,E,D;y=[];if(!this.B5a(t.track))return {stream:B,zP:y,reason:"locationSelectionFailure"};z=t.ml;A=z.vg;B=A.su;E=w?w.vm(t.track.$d,n,q.Ma(t.eb.Sf),t.Kh()):t.track.$d;if(0 === E.length && (null === w || void 0 === w?0:w.fub))return {stream:void 0,zP:y,reason:"allStreamsFiltered"};B && !B.track.equals(t.track) && (B=this.xDb(B,E));if(0 === t.mediaType && B && !this.RYb(A,B))return {stream:B,zP:y};n=this.Byb(n === c.Kc.xd?c.ma.xd:n === c.Kc.Qf?c.ma.Qf:n === c.Kc.$R?c.ma.xd:n === c.Kc.dj?c.ma.Lc:c.ma.Ah,p,u,t,! !v);z=z.Mva(n,E,void 0,this.f6a[t.mediaType],!0,t.track.P.aq);if(!z)return {stream:B,zP:y,reason:"streamSelectionFailure"};if(z.reason){D={reason:z.reason,Lva:z.ju,Pz:z.Pz,Mo:z.Mo,No:z.No};this.Eja(t.mediaType,E,q);}this.yBb(t.mediaType,z,E);B=E[z.Je];A.i9a(B);if(null === (x=z.kz) || void 0 === x?0:x.length)y=z.kz.map(function(F){return g.kg(E,function(C){return C.id === F;});}).filter(g.f9);q=z.Bu;return void 0 !== D?{stream:B,zP:y,wXb:D,Bu:q}:{stream:B,zP:y,Bu:q};};k.prototype.Gja=function(n,p,q,u,t,w,v){var x,y,z;if(!c.Oo(p))return {complete:!0,reason:"playing"};if(!w.l6a)return {complete:!1,reason:"unknown"};if(w.VRb)return (h.assert(w.T4a),w.T4a);x=w.ml;y=x.vg;q=this.lXa(w,q);z=y.su;y=q.om - q.Nc;if(y < this.config.sj || void 0 === z)return {complete:!1,vC:y,reason:"preBuf"};if(0 === w.mediaType)return {complete:!0,vC:y,reason:"audio"};if(n=n.hSa(w.mediaType))return {complete:!0,vC:y,reason:n};this.B5a(w.track);x.Ota([z],!1,q,this.f6a[w.mediaType]);p=x.Wy(q,p,t,z,{Mt:v});if(!p.complete && u)return {complete:!0,reason:"prebufferTimeLimit",vC:y};p.vC=y;return p;};k.prototype.yBb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};k.prototype.xBb=function(n,p,q,u){n={type:"maxVideoBitrateChanged",time:m.default.time.ea(),streaming:u,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};k.prototype.xDb=function(n,p){var q;q=p[0];p.filter(function(u){return u.ru;}).every(function(u){return u.bitrate <= n.bitrate?q=u:!1;});return q;};k.prototype.RYb=function(n,p){return 0 < this.config.JP.length?!0:(n=n.IN) && n === p.location?!1:!0;};k.prototype.B5a=function(n){return n.P.Am.QZ(n.P.X,n.$d);};k.prototype.lXa=function(n,p){var B;for(var q,u=p.Ma(this.lZb),t=[],w=n,v=p,x,y,z=0,A=!0;w;){B=w.cYa(u);if(!A && !w.xl)break;0 < B.U.length && (v=B.U[0].Kg,void 0 === x && (x=B.U[B.U.length - 1].xe,y=B.D9 >= B.U.length?x:B.U[B.D9].Kg),t=B.U.concat(t),z+=B.el);w=this.navigator.parent(w);A=!1;}return {jw:m.default.Jo()[n.mediaType],Z:Math.floor(v.W),Nc:p.W,Jc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.W) && void 0 !== q?q:p.W),om:Math.floor(y?y.W:p.W),eh:t.reduce(function(E,D){return E + D.fa;},0),el:z,PWa:t.length,U:t};};k.prototype.Byb=function(n,p,q,u,t){var w,v,x;w=this.lXa(u,p);v=1 === u.mediaType?this.config.XZ:this.config.IT;x=l.default.instance();return {state:n,sq:n === c.ma.Lc,Rd:u.Kn,playbackRate:q,buffer:w,sla:v,U1a:!1,yM:t,Kp:null === x || void 0 === x?void 0:x.Kp,mediaType:u.mediaType,Nc:p.W,Xr:!1,Hpa:!1,h$:0};};k.prototype.Eja=function(n,p,q){var w,v;if(1 === n){n="manifest";for(var u=0,t=p.length - 1;0 <= t;--t){w=p[t];v=w.bitrate;if(f(w)){u=Math.max(u,v);break;}else this.config.hZ && !w.Wt?n="bc":w.pu?w.Kz && (n="hf"):n="av";}this.R2a !== u && (this.xBb(this.R2a,u,n,q),this.R2a=u);}};return k;})();b.WCa=a;},function(r,b,a){var l,m;function c(d,g,h,k,n){var p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H;x=d.console;y=d.k1b;z=d.Ni;A=d.uWb;B=d.IAb;E=d.Tra;D=d.Uia;d=d.SRb;F=n || ({complete:!0,Tq:0});C=F.root;G=F.complete;K=F.vqb;J=F.K7a;J=void 0 === J?0:J;F=F.Tq;I=J < A.length && A[J] === g.id;M=k && z.get(k.id);R=n && k && M !== g.id?void 0 !== M?{Ue:0}:k.Qtb(g.id):{Ue:1};z=R.Ue;R=R.gD;H=void 0 === R?0:R;R=(z + H) * (null !== (p=null === n || void 0 === n?void 0:n.dUb) && void 0 !== p?p:1);m && x.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", probability: ") + (R + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", decision: ") + (M + ", predecessorComplete: ") + (G + ", isOnRequiredPath: ") + (I + ", requiredPathIndex: ") + (J + ", activeDistance: ") + (K + ", seamless ") + (z + ", immediate ") + (H + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.axa) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.gaa));p=null !== (u=null === (q=y[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.W;q=0 === p;if(!I){if(0 === R)return {Waa:!1};if(!G && 0 === H && F > D)return (d.MC=Math.min(d.MC || Infinity,F - D),{Waa:!1});if(!q && h >= B && 1 > R || !1 === C && R < E)return {Waa:!1};}J < A.length && l.assert(A[J] === g.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.bh) && void 0 !== t?t:[];k && 1 > z && (0 === H?n=n.concat([{Ue:z}]):(t=(null === (v=null === (w=k.O.hq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,k.duration.W - t),m && x.trace("reevaluateBranches: immediate: " + k.duration.W + ", " + t + ", " + w),n=n.concat([{Ue:z,gD:H,duration:w}])));d.J7a.push({O:g,Ju:null === k || void 0 === k?void 0:k.id,bh:n});h=G?h + g.duration.W:K;m && x.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {Waa:!0,state:{root:!k,complete:q,dUb:R,bh:n,vqb:h,K7a:J + 1,Tq:F + p}};}function f(d,g,h,k){k("reevaluateBranches: " + Array(h + 1).join(" ") + d.O.id + " (" + (JSON.stringify(d.bh) + ")"));g.filter(function(n){return n.Ju === d.O.id;}).forEach(function(n){return f(n,g,h + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.x0b=b.W2b=b.j$=void 0;l=a(5);m=a(20).ga && !1;b.j$=function(d,g,h,k,n,p,q,u,t){var w,v,x,y;v={J7a:[]};x=(null === (w=h.Vk) || void 0 === w?void 0:w.Ma(h.Og).W) || 0;0 < p.length && l.assert(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(p));y={console:d,k1b:k,Ni:n,uWb:p,IAb:q.W + x,Tra:u,Uia:t.W,SRb:v};g.V2b(h,function(z,A,B,E){return c(y,z,A,B,E);});return v;};b.W2b=c;b.x0b=function(d,g){f(d[0],d,0,g);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gJa=void 0;c=a(2);f=a(410);r=(function(){function l(m){this.za=m;this.pa={};}l.prototype.sf=function(m){var d;d=this.pa[m];if(void 0 === d){d=this.za.pa[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new f.lJa(m,d,this.za.ae);this.pa[m]=d;}return d;};l.prototype.wFb=function(m){var d;d=this;return m.O.next?Object.keys(m.O.next).map(function(g){return d.sf(g);}):[];};l.prototype.OLb=function(m){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,m];case 1:(g.Ic(),d=m,g.label=2);case 2:if(!d.O.Qe)return [3,4];d=this.sf(d.O.Qe);return [4,d];case 3:return (g.Ic(),[3,2]);case 4:return [2];}});};l.prototype.NIb=function(m,d){return f.p0a(m.nN(d));};l.prototype.yi=function(m){var d;d=this;Object.keys(m).forEach(function(g){var h;return null === (h=d.sf(g)) || void 0 === h?void 0:h.yi(m[g]);});};return l;})();b.gJa=r;},function(r,b,a){var l,m,d;function c(g,h){var k,n;k=Object.keys(g);if(k.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.ae) !== (null === (u=h[p]) || void 0 === u?void 0:u.ae) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=h[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== l.__spread(m.zt(k,n),m.zt(n,k)).length?!0:!1;}function f(g,h){return g.some(function(k,n){var p;return 0 !== m.zt(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.QRa=b.YSa=void 0;l=a(2);m=a(25);d=a(914);b.YSa=function(g){return new d.wBa(function(h){return Object.keys(h.O.next || ({})).map(function(k){var n,p,q;k=g.sf(k);q=null !== (p=null === (n=h.Vk) || void 0 === n?void 0:n.Ma(h.Og).W) && void 0 !== p?p:Infinity;return {G2b:k,weight:q};});});};b.QRa=function(g,h){var k,n,p,q,u,t;k=Object.keys(g.pa);n=Object.keys(h.pa);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});u=k.filter(function(w){var v,x,y,z,A;if(-1 === n.indexOf(w))v=!1;else {v=g.pa[w];w=h.pa[w];v=v.Qe !== w.Qe || v.Ob !== w.Ob || v.Db !== w.Db || v.ae !== w.ae || v.X !== w.X || f(null !== (x=v.hq) && void 0 !== x?x:[],null !== (y=w.hq) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});t=m.zt(k,l.__spread(u,p,q));return {drb:p,SO:q,zub:u,d1b:t};};},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;c=a(5);f=a(237);l=a(915);m=a(412);r=(function(){function d(g){this.pBb=g;this.qya=!1;this.Xaa=new l.zea();this.bx=new l.zea();this.oQa=new m.yea();}d.prototype.V2b=function(g,h){var n,p,q;function k(){var w,v,x,y,z,A;w=u.pop();v=q.get(w);x=v.Ju;y=v.tM;v=v.state;if(!t.Xaa.has(w)){t.Xaa.add(w);x=h(w,y,x,v);z=x.Waa;A=x.state;p(w).forEach(function(B){var E,D;E=B.G2b;if(!n.Xaa.has(E) && (B=y + B.weight,z))if(n.bx.has(E)){D=n.oQa.get(E);B < D.tM && (D.tM=B,D.Ju=w,D.state=A,u.cUb(E));}else (n.bx.add(E),q.set(E,{tM:B,Ju:w,state:A}),u.push(E));});}}n=this;p=this.pBb;q=this.oQa;c.assert(!this.qya);this.qya=!0;this.Xaa.clear();this.bx.clear();q.set(g,{tM:0,state:{root:!1,complete:!0,K7a:0,Tq:0}});for(var u=new f.I0([g],function(w,v){return q.get(w).tM - q.get(v).tM;}),t=this;!u.empty;){k();}this.qya=!1;};return d;})();b.wBa=r;},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.xMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{xMa:{value:{},configurable:!1,enumerable:!1}})).xMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.zea=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.L$=0;this.id=m=(m + 1) % l;}d.prototype.add=function(g){c(g)[this.id]=this.L$;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.L$;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.L$=(this.L$ + 1) % l;return this;};return d;})();b.zea=r;},function(r,b,a){var f,l,m,d;function c(g){return {value:g.eb,parent:g.Ju};}Object.defineProperties(b,{__esModule:{value:!0}});b.YIa=void 0;f=a(9);l=a(25);m=a(5);d=a(917);r=(function(){function g(){this.Kb=new f.GGa();this.Is=new d.HLa();}Object.defineProperties(g.prototype,{empty:{get:function(){return this.Kb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.Kb.size;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var h;h=this.Kb.values();this.Kb.clear();this.Is.clear();h.forEach(function(k){return k.Ff();});};g.prototype.zz=function(h){return this.Kb.get(h);};g.prototype.has=function(h){return this.Kb.has(h);};g.prototype.mV=function(h){this.Is.mV(h);};g.prototype.Qna=function(h){return this.Is.parent(h);};g.prototype.iFb=function(h){return this.Is.children(h);};g.prototype.Doa=function(h){return this.Is.Doa(h);};g.prototype.Oua=function(h){var k;if(this.Kb.delete(h.O.id,h)){k=this.Is.children(h);this.Is.root === h?0 === k.length?this.Is.clear():(m.assert(1 === k.length,"cannot remove the root branch with multiple successors"),this.Is.aWb(k[0])):(m.assert(0 === k.length,"cannot remove non-root branch with successors"),this.Is.remove(h));}};g.prototype.forEach=function(h){var k;k=this;this.Kb.forEach(function(n,p){return h(n,p,k);});};g.prototype.reduce=function(h,k){var n;n=this;return this.Kb.reduce(function(p,q,u){return h(p,q,u,n);},k);};g.prototype.map=function(h){var k;k=this;return this.Kb.map(function(n,p){return h(n,p,k);});};g.prototype.filter=function(h){var k;k=this;return this.Kb.filter(function(n,p){return h(n,p,k);});};g.prototype.YHb=function(){var h;h={};this.forEach(function(k,n){var p;(k=k.Tq) && (null !== (p=h[n]) && void 0 !== p?p:h[n]=[]).push(k.W);});return h;};g.prototype.r1b=function(h,k){var n;n=this;h=this.WNb(h,k).target;k=this.Is.WUb(h.map(c));h=k.SO;k=k.w7a;h.forEach(function(p){return n.Kb.delete(p.O.id,p);});return {SO:h,w7a:k.map(function(p){return p.value;})};};g.prototype.WNb=function(h,k){var p,q;function n(u,t){(u=k(u.O.id,t)) && p.Kb.set(u.O.id,u);return u;}p=this;q=[];return {target:h.reduce(function(u,t,w){var v,x;m.assert(0 === w || t.Ju);if(t.Ju){x=null === (v=l.GQa(u,function(y){return y.eb.O.id === t.Ju;})) || void 0 === v?void 0:v.eb;if(!x)return (m.assert(void 0 !== l.kg(q,function(y){return y.O.id === t.Ju;}),"predecessorSegmentId " + t.Ju + " specified without previously specifying predecessor requiredBranch."),q.push(t),u);}v=l.kg(p.zz(t.O.id),function(y){return p.Is.parent(y) === x || 0 === w;});v=null !== v && void 0 !== v?v:n(t,x);v.bh=t.bh;u.push({eb:v,Ju:x});(null === v || void 0 === v?0:v.$V) && v.update(t.O);return u;},[])};};return g;})();b.YIa=r;},function(r,b,a){var f,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || m.Np(d,function(k){return k.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;f=a(412);l=a(5);m=a(25);r=(function(){function d(){this.K=new f.yea();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.LA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.LA) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.mV(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.K.get(g);};d.prototype.parent=function(g){var h;g=this.K.get(g);l.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.K.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.Doa=function(g){g=this.K.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var k;l.assert(!this.K.get(g),"Attempted to add a value to tree that is already present");k={value:g};void 0 === this.LA?(l.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.LA=k):(l.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.K.get(h),l.assert(h,"Parent value does not exist in tree"),this.TQa(k,h));this.K.set(g,k);return this;};d.prototype.remove=function(g){g=this.K.get(g);l.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.Dma(function(k){return h.K.delete(k);},g.value);void 0 === g.parent?this.LA=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.K.get(g);h=this.K.get(h);l.assert(g,"cannot move a value that is not in the tree");l.assert(h,"cannot move a value to a parent value not in the tree");l.assert(g.parent,"cannot move the root node");l.assert(!this.KKb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.TQa(g,h));return this;};d.prototype.aWb=function(g){var h,k;h=this;g=this.K.get(g);l.assert(g,"cannot replant at a value that is not in the tree");k=[];this.detach(g);this.Dma(function(n){h.K.delete(n);k.unshift(n);return !0;});this.LA=g;};d.prototype.clear=function(){this.LA && this.remove(this.LA.value);return this;};d.prototype.FWa=function(g,h){var k,n;k=this;g=this.K.get(g);l.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(p){return h(p.value,k);});};d.prototype.mV=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.LA.value,g(h,this) && this.FWa(h,function(n){return k.mV(g,n);}));};d.prototype.Dma=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.LA.value,this.FWa(h,function(n){return k.Dma(g,n);}),g(h,this));};d.prototype.WUb=function(g){var h,k,n;h=this;l.assert(c(g),"entries must be in topological order");if(0 === g.length){k=this.values;n=[];this.clear();}else (n=g.filter(function(p){return h.has(p.value) && p.parent !== h.parent(p.value);}),k=this.values.filter(function(p){return -1 === m.Np(g,function(q){return q.value === p;});}),this.clear(),g.forEach(function(p){return h.add(p.value,p.parent);}));return {SO:k,w7a:n};};d.prototype.TQa=function(g,h){var k;g.parent=h;(null !== (k=h.children) && void 0 !== k?k:h.children=[]).push(g);};d.prototype.detach=function(g){var h;l.assert(g.parent,"cannot detach the root");l.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);l.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.KKb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.HLa=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Pza=void 0;c=a(2);f=c.__importDefault(a(6));l=a(16);m=a(9);d=a(22);g=a(5);h=a(118);k=a(68);r=(function(){function n(p,q,u,t,w,v,x){var y;y=this;void 0 === x && (x=500);this.H=p;this.config=q;this.Qb=u;this.events=t;this.Rla=w;this.We=v;this.stb=x;this.Uta=this.zl=0;this.z8=[];this.g5={Mt:0};this.state=new m.gr(l.Kc.cj);this.wf=new m.gr(l.ma.Ah);this.wi=new h.MB({AD:10,Au:this,source:"BufferStateTracker",$ha:function(){return {isBuffering:y.qg,alwaysRunUnderflowTimer:y.config.DL};}});}Object.defineProperties(n.prototype,{Mt:{get:function(){return this.g5.Mt;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qg:{get:function(){return l.Oo(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Maa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(u){0 === u.mediaType && (q.DRa=c.__assign(c.__assign({},q.DRa),{audio:{trackId:u.trackId,trackIndex:u.rE}}));});};n.prototype.G4a=function(p){this.set(l.Kc.cj);this.TI(p,l.Kc.xd);};n.prototype.l9=function(){this.g5.Mt++;};n.prototype.xX=function(p){this.config.DL || void 0 === this.Zz && this.qg && this.Bka();this.Zz={fD:p.httpCode,qh:p.errorCode,tj:p.nativeCode};};n.prototype.u9=function(){this.Zz=void 0;this.config.DL || this.J4();};n.prototype.tk=function(p){this.qg || (this.TI(p,l.Kc.Qf),this.qg && (this.Zz || this.config.DL) && this.Bka());};n.prototype.yRb=function(p,q){this.state.value !== l.Kc.xd && this.TI(p,l.Kc.$R);this.Maa(q);};n.prototype.WQb=function(p,q){var u;u=this;this.config.rtb && this.qg && (-1 === this.z8.indexOf(p) && this.z8.push(p),2 === this.z8.length && Promise.resolve().then(function(){u.qg && void 0 !== u.jx && u.Pe("memoryLimit",q.FZ,q.GZ);}));};n.prototype.PXb=function(p,q){g.assert(this.state.value === l.Kc.xd && void 0 === this.jx);this.jx=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.rE}),this.Maa(q));};n.prototype.bYb=function(p,q,u){g.assert(this.qg);this.spa=null !== p && void 0 !== p?p:this.spa;this.jW=null !== q && void 0 !== q?q:this.jW;void 0 === this.g7?this.g7=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.g7.reason=u.reason);};n.prototype.Pe=function(p,q,u){var t;g.assert(this.qg && void 0 !== this.jx && void 0 === this.jG && void 0 === this.Raa && void 0 === this.c3);this.jG=p;this.Raa=q;this.c3=u;this.Rp=100;this.qSa();this.J4();null === (t=this.Ija) || void 0 === t?void 0:t.Lb();this.state.value === l.Kc.Qf && (this.Uta=f.default.time.ea());this.W4();this.set(l.Kc.dj);this.c3=this.Raa=this.jG=this.g7=this.jW=this.spa=this.jx=void 0;};n.prototype.stop=function(){var p;this.set(l.Kc.cj);this.qSa();this.J4();null === (p=this.Ija) || void 0 === p?void 0:p.Lb();};n.prototype.Hja=function(p,q,u,t){var w,v,x,y,z,A,B,E,D,F;w=this;g.assert(this.qg);null === (v=this.Ija) || void 0 === v?void 0:v.Lb();if(this.state.value === l.Kc.Qf && f.default.time.ea() < this.Uta + this.config.Sra){z=this.config.Sra - (f.default.time.ea() - this.Uta);this.Ija=this.We.sU(k.Kk.uJ(d.T.Ab(z)),function(){w.Hja(p,q,u,t);});}else {v=u.dN(0);A=u.dN(1);B=f.default.time.ea() - this.zl;if(v || A){E=function(C){return C?C.pD() || C.Wr()?t.Gja(w.state.value,p,B >= w.config.yA,q,C,w.Mt):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=E(v);E=E(A);F=function(C){var G;return {reason:C.reason,complete:C.complete,bl:null !== (G=C.vC) && void 0 !== G?G:0};};this.wi.Cy({as:F(D),vs:F(E),bt:B});F=A?E:D;F.K2b=A && E.vC || 0;F.ksb=v && D.vC || 0;D.complete && E.complete?(F.complete=!0,this.Pe(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.K2b) && void 0 !== x?x:0,null !== (y=F.ksb) && void 0 !== y?y:0)):(F.complete=!1,this.Itb(F),this.wi.Cy({bp:this.Rp}));}}};n.prototype.Itb=function(p){var q,u,t;t=p.progress;p.wD?t=(f.default.time.ea() - this.zl) / this.config.yA:t || (t=(null !== (q=p.vC) && void 0 !== q?q:0) / this.config.sj);p=Math.min(Math.max(Math.round(100 * t),null !== (u=this.Rp) && void 0 !== u?u:0),99);p != this.Rp && (this.Rp=p);};n.prototype.TI=function(p,q){g.assert(q === l.Kc.xd || void 0 !== p);this.jx=p;this.Rp=0;this.h9=void 0;this.g5.Mt=0;this.z8=[];p=this.state.value === l.Kc.xd || this.state.value === l.Kc.Qf;this.zl=f.default.time.ea();this.set(q);p || (this.wBb(),this.yYb());};n.prototype.set=function(p){this.state.set(p);switch(p){case l.Kc.cj:this.wf.set(l.ma.cj);break;case l.Kc.xd:case l.Kc.$R:this.wf.set(l.ma.xd);break;case l.Kc.Qf:this.wf.set(l.ma.Qf);break;case l.Kc.dj:this.wf.set(l.ma.Lc);}};n.prototype.wBb=function(){g.assert(this.events && void 0 !== this.Rp);this.h9=this.Rp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.ea(),percentage:this.Rp});};n.prototype.yYb=function(){var p;p=this;this.nsa=setInterval(function(){return p.vBb();},this.stb);};n.prototype.qSa=function(){this.nsa && (clearInterval(this.nsa),this.nsa=void 0);};n.prototype.vBb=function(){this.qg && this.events && void 0 !== this.Rp && this.Rp !== this.h9 && this.events.emit("buffering",{type:"buffering",time:f.default.time.ea(),percentage:this.Rp}) && (this.h9=this.Rp);};n.prototype.W4=function(){var p;g.assert(this.events && this.jx && void 0 !== this.jG && void 0 !== this.c3 && void 0 !== this.Raa);this.h9=this.Rp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.ea(),actualStartPosition:this.jx,reason:this.jG,aBufferLevelMs:this.c3,vBufferLevelMs:this.Raa,selector:this.spa,initBitrate:this.jW,initSelReason:null === (p=this.g7) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Jcc},this.DRa));};n.prototype.Bka=function(){var p;p=this;this.config.ubb && (!this.cB || this.cB.state !== k.bn.complete && this.cB.state !== k.bn.rM?void 0 === this.cB && (this.cB=this.We.BG(function(){return p.Nab();},"underflow")):this.cB.Jm());};n.prototype.J4=function(){this.cB && (this.cB.state !== k.bn.rM && this.cB.Lb(),this.cB=void 0);};n.prototype.Nab=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.g8,this.H.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,k.Kk.uJ(d.T.Ab(p))]);case 1:(t.Ic(),t.label=2);case 2:if(!this.qg)return [3,4];q=this.Qb.g1a || 0;u=f.default.time.ea() - q;if(u >= p)return (this.H.trace("Forcing streaming failure, " + u + "ms since data received"),this.Rla.ARb(this.Zz),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (p - u) + "ms");return [4,k.Kk.uJ(d.T.Ab(p - u))];case 3:return (t.Ic(),[3,2]);case 4:return [2];}});};c.__decorate([h.bc({methodName:"onTemporaryNetworkError",rm:!0})],n.prototype,"xX",null);c.__decorate([h.bc({methodName:"onUnderflow",rm:!0})],n.prototype,"tk",null);c.__decorate([h.bc({methodName:"bufferingComplete",rm:!0})],n.prototype,"Pe",null);c.__decorate([h.bc({methodName:"stop",rm:!0})],n.prototype,"stop",null);c.__decorate([h.bc({methodName:"checkStreamingBufferingComplete",rm:!0})],n.prototype,"Hja",null);c.__decorate([h.bc({methodName:"createUnderflowTask",rm:!0})],n.prototype,"Bka",null);c.__decorate([h.bc({methodName:"destroyUnderflowTask",rm:!0})],n.prototype,"J4",null);c.__decorate([h.bc({methodName:"onUnderflowTimeout",rm:!0})],n.prototype,"Nab",null);return n;})();b.Pza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RVa=void 0;c=a(25);b.RVa=function(f,l){var m;m=[];f=f.filter(function(d){return d.$V;}).map(function(d){var g,h;g=l(d.P);h=c.zt(g,d.wg).map(function(k){return k.mediaType;});m=c.r3(m,h);return {eb:d,wg:g};});return {Aub:m,ktb:f};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=void 0;c=a(2);f=a(22);l=a(5);b.vKa=(function(){function m(){}m.eIb=function(d){var g,h,k;if(d.Kh){d=c.__read(d.wg,2);k=d[1];d=null === (g=d[0].hp) || void 0 === g?void 0:g.Vk;g=null === (h=null === k || void 0 === k?void 0:k.hp) || void 0 === h?void 0:h.Vk;l.assert(d);h=g?f.T.min(d,g):d;return {S2b:d,U2b:h};}};return m;})();},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=void 0;c=a(17);f=a(9);l=a(68);m=a(20);d=a(16);r=(function(){function g(h,k,n,p,q,u){this.We=h;this.Os=k;this.config=n;this.JQb=p;this.Ef=q;this.console=u;this.Wfa=new c.Xh();}g.WEb=function(h){var k;return null !== (k=h.xe) && void 0 !== k?k:h.EO;};g.QFb=function(h){var k,n;k=h.O;n=h.iO;return k.Qe?k.Qe:n.length?n[0]:h.sA[0];};g.prototype.uxa=function(h,k){var n,p,q,u;n=this;q=h.O;this.reset();if(!(q.fv || 1 >= q.sA.length && (null === (p=q.ex) || void 0 === p || !p.length))){u=this.Jtb(h);p=u.Cva;k=k.lessThan(u.QJb);this.dXb(q,k?p:void 0);if(k)this.Wfa.on(h.events,"branchEdited",function(){n.uxa(h,n.We.xa.currentTime);});}};g.prototype.pSa=function(){var h;null === (h=this.bUa) || void 0 === h?void 0:h.Lb();this.bUa=void 0;};g.prototype.reset=function(){this.pSa();this.Wfa.clear();};g.prototype.Jtb=function(h){var k,n;h=g.WEb(h);k=f.T.Ab(this.config.ED);n=f.T.Ab(this.config.mPb + this.config.dX);k=h.Ma(k);return {QJb:d.Oo(this.Ef.value)?h.Ma(n):k,Cva:k};};g.prototype.dXb=function(h,k){var n;n=this;this.pSa();this.bUa=k?this.We.sU(l.Kk.bQ(k),function(){return n.d2a(h);},"scheduled branch decision"):this.Os.sU(l.Kk.$2b,function(){return n.d2a(h);},"immediate branch decision");};g.prototype.d2a=function(h){var k;this.Wfa.clear();k=g.QFb(h);m.ga && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + k);this.JQb(h.id,k,!0);};return g;})();b.Iza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jXa=void 0;c=a(923);b.jXa=function(f,l){return f.reduce(function(m,d){var g;g=l(d);d.lq().forEach(function(h){return m.Sha(h.mediaType,h.yt,!g);});return m;},new c.fJa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fJa=void 0;c=a(413);r=(function(){function f(){this.Fr=new c.BR();this.IU=new c.BR();}Object.defineProperties(f.prototype,{total:{get:function(){var l;l=new c.BR();l.add(this.Fr);l.add(this.IU);return l;},enumerable:!1,configurable:!0}});f.prototype.add=function(l){this.Fr.add(l.Fr);this.IU.add(l.IU);};f.prototype.Sha=function(l,m,d){(d?this.IU:this.Fr).Sha(l,m);};return f;})();b.fJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oZa=void 0;b.oZa=function(a,c){return a.reduce(function(f,l){return f + l.V5(c).W;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oTa=void 0;c=a(2);f=a(16);b.oTa=function(l){var h,k;function m(n){f.Oo(n.newValue) && !f.Oo(n.oldValue)?(null === k || void 0 === k?void 0:k.Lb(),k=h.sU.apply(h,c.__spread(d))):null === k || void 0 === k?void 0:k.Lb();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=l.Tf;h=l.Os;g.state.addListener(m);m({oldValue:f.Kc.cj,newValue:g.state.value});};},function(r,b,a){var f,l;function c(m,d){return Object.keys(m.RD).map(function(g){return m.RD[g];}).filter(function(g){return void 0 === g.hH || 1 === g.hH;}).reduce(function(g,h){return g + h.Fr[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;f=a(16);l=a(20);r=(function(){function m(d,g,h){this.za=d;this.console=g;this.tna=h;}m.prototype.gub=function(d,g,h){var k,n,p,q;k=h && this.za.config.n2b;n=this.za.config.bya || k;p=this.tna();if(k){k=d.global;k=(q={},q[0]=k[0] - c(d,0),q[1]=k[1] - c(d,1),q);}q=k;p=this.hSa(g) || this.Kub(d) || this.Iub(d,p,q) || this.Jub(d,p,q,g);q=f.Aua(p);if(p && (!q || n))return (l.ga && this.console.log("canIssueRequest " + this.za.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});l.ga && this.console.log("canIssueRequest " + this.za.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};m.prototype.hSa=function(d){var g;g=this.za.config.kA;if(this.za.FFb(d) >= (g || Infinity))return "mediaDurationLimit";};m.prototype.Kub=function(d){return d.RD[this.za.id].total.total > (this.za.j6() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.Iub=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.Mwa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.Jub=function(d,g,h,k){var n;n=d.global;return h?(l.ga && this.console.log("checkRequestByMediaTypeMemory [" + k + "]: using static limit " + (g.Mwa[k] + ", usage: " + h) + (" (global: " + n[k] + "  - certain contiguous: ") + (c(d,k) + ")")),h[k] > (g.Mwa[k] || Infinity)?1 === k?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (g.total[k] || Infinity)?1 === k?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.ZKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ia=void 0;r=(function(){function a(c){this.console=c;this.Mja();}a.prototype.get=function(c){return this.C4[c] || this.Ni[c];};a.prototype.set=function(c,f){void 0 === this.Ni[c] && (this.Ni[c]=f);};a.prototype.UXb=function(c,f){void 0 === this.get(c) && (this.C4[c]=f);};a.prototype.clear=function(c){this.C4[c]=void 0;this.Ni[c]=void 0;};a.prototype.evb=function(c){var f;this.Ni=(f={},f[c]=this.Ni[c],f);this.C4={};};a.prototype.Mja=function(){this.Ni={};this.C4={};};return a;})();b.$Ia=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bJa=b.RE=void 0;c=a(2);f=a(5);(function(m){m[m.Rba=0]="CREATED";m[m.Hea=1]="STARTED";m[m.UR=2]="REQUEST_ISSUED";m[m.Hx=3]="EVALUATED";})(l=b.RE || (b.RE={}));r=(function(){function m(d){this.gx=d;this.bd=l.Rba;this.kE={};this.eZ={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.bd !== l.Hea && (this.XW(l.Hea),[l.Hx,l.UR].forEach(function(g){var h;h=new Promise(function(k){f.assert(d.eZ && d.kE,"state promises should be defined");d.eZ[g]=k;d.kE[g]=h;});}),this.gx(),this.XW(l.Hx));};m.prototype.XW=function(d){this.bd=d;this.eZ && (d=this.eZ[d],null === d || void 0 === d?void 0:d());};m.prototype.Lb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.bd !== l.Hea)return [3,2];f.assert(this.kE,"state resolves should be defined");return [4,this.kE[l.Hx]];case 1:(d.Ic(),d.label=2);case 2:return (this.eZ=this.kE=void 0,[2]);}});});};m.prototype.Zaa=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.bd === l.Hx)return [3,6];f.assert(this.kE,"state promises should be defined");h=d;switch(h){case l.Hx:return [3,1];case l.UR:return [3,3];}return [3,5];case 1:return [4,this.kE[l.Hx]];case 2:return (k.Ic(),[3,6]);case 3:return [4,this.kE[l.UR]];case 4:return (k.Ic(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return m;})();b.bJa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HRa=void 0;c=a(254);f=a(931);b.HRa=function(){return function(l){var d,g,h;function m(k){d[k]=function(n){return g({rules:[{RWb:k,config:n}]});};}d={};g=c.map(l.s2a);for(h in l.i8a){m(h);}d.Lbc=g({rules:[],srb:!0});d.dv=g({rules:[],dv:!0});return {Ezb:d,tcc:l,zUb:function(k,n,p){return f.CTa(k,n,p,l.i8a,l.s2a);}};};};},function(r,b,a){(function(c,f){var l;(function(m){(function(d){var h,k;function g(n,p){return function(q,u){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:u});p && p(q,u);};}h="object" === typeof f?f:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=g(m);"undefined" === typeof h.Reflect?h.Reflect=m:k=g(h.Reflect,k);d(k);})(function(d){var K,J,I,M,R,H,P,N,L,Q,S;function g(U,ca,ka){var ya;ya=S.get(U);if(w(ya)){if(!ka)return;ya=new L();S.set(U,ya);}U=ya.get(ca);if(w(U)){if(!ka)return;U=new L();ya.set(ca,U);}return U;}function h(U,ca,ka){if(k(U,ca,ka))return !0;ca=E(ca);return null === ca?!1:h(U,ca,ka);}function k(U,ca,ka){ca=g(ca,ka,!1);return w(ca)?!1:! !ca.has(U);}function n(U,ca,ka){if(k(U,ca,ka))return p(U,ca,ka);ca=E(ca);if(null !== ca)return n(U,ca,ka);}function p(U,ca,ka){ca=g(ca,ka,!1);if(!w(ca))return ca.get(U);}function q(U,ca){var ka,Y,ua;ka=u(U,ca);U=E(U);if(null === U)return ka;ca=q(U,ca);if(0 >= ca.length)return ka;if(0 >= ka.length)return ca;U=new Q();for(var ya=[],qa=0;qa < ka.length;qa++){Y=ka[qa];ua=U.has(Y);ua || (U.add(Y),ya.push(Y));}for(ka=0;ka < ca.length;ka++){Y=ca[ka];(ua=U.has(Y)) || (U.add(Y),ya.push(Y));}return ya;}function u(U,ca){var ka,ya;ka=[];U=g(U,ca,!1);if(w(U))return ka;U=U.keys();ca=B(U,M);if(!A(ca))throw new TypeError();U=ca.call(U);if(!v(U))throw new TypeError();for(ca=0;;){ya=U.next();ya=ya.done?!1:ya;if(!ya)return (ka.length=ca,ka);ya=ya.value;try{ka[ca]=ya;}catch(Y){var qa;try{qa=U["return"];qa && qa.call(U);}finally{throw Y;}}ca++;}}function t(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function w(U){return void 0 === U;}function v(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,ca){var ka;switch(t(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}ca=3 === ca?"string":5 === ca?"number":"default";ka=B(U,I);if(void 0 !== ka){U=ka.call(U,ca);if(v(U))throw new TypeError();return U;}a:{if("string" === ("default" === ca?"number":ca)){ca=U.toString;if(A(ca) && (ca=ca.call(U),!v(ca)))break a;ca=U.valueOf;}else {ca=U.valueOf;if(A(ca) && (ca=ca.call(U),!v(ca)))break a;ca=U.toString;}if(!A(ca) || (ca=ca.call(U),v(ca)))throw new TypeError();}return ca;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,ca){U=U[ca];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function E(U){var ca,ka;ca=Object.getPrototypeOf(U);if("function" !== typeof U || U === N || ca !== N)return ca;ka=U.prototype;ka=ka && Object.getPrototypeOf(ka);if(null == ka || ka === Object.prototype)return ca;ka=ka.constructor;return "function" !== typeof ka || ka === U?ca:ka;}function D(){var ya,qa,Y;function U(ua){return ua;}function ca(ua,O){return O;}function ka(ua,O){return [ua,O];}ya={};qa=[];Y=(function(){function ua(O,T,ja){this.Me=0;this.cf=O;this.Df=T;this.xpb=ja;}ua.prototype["@@iterator"]=function(){return this;};ua.prototype[M]=function(){return this;};ua.prototype.next=function(){var O,T;O=this.Me;if(0 <= O && O < this.cf.length){T=this.xpb(this.cf[O],this.Df[O]);O + 1 >= this.cf.length?(this.Me=-1,this.Df=this.cf=qa):this.Me++;return {value:T,done:!1};}return {value:void 0,done:!0};};ua.prototype.throw=function(O){0 <= this.Me && (this.Me=-1,this.Df=this.cf=qa);throw O;};ua.prototype.return=function(O){0 <= this.Me && (this.Me=-1,this.Df=this.cf=qa);return {value:O,done:!0};};return ua;})();return (function(){function ua(){this.cf=[];this.Df=[];this.Hv=ya;this.ht=-2;}Object.defineProperty(ua.prototype,"size",{get:function(){return this.cf.length;},enumerable:!0,configurable:!0});ua.prototype.has=function(O){return 0 <= this.ly(O,!1);};ua.prototype.get=function(O){O=this.ly(O,!1);return 0 <= O?this.Df[O]:void 0;};ua.prototype.set=function(O,T){O=this.ly(O,!0);this.Df[O]=T;return this;};ua.prototype.delete=function(O){var T,ja;T=this.ly(O,!1);if(0 <= T){ja=this.cf.length;for(T+=1;T < ja;T++){this.cf[T - 1]=this.cf[T];this.Df[T - 1]=this.Df[T];}this.cf.length--;this.Df.length--;O === this.Hv && (this.Hv=ya,this.ht=-2);return !0;}return !1;};ua.prototype.clear=function(){this.cf.length=0;this.Df.length=0;this.Hv=ya;this.ht=-2;};ua.prototype.keys=function(){return new Y(this.cf,this.Df,U);};ua.prototype.values=function(){return new Y(this.cf,this.Df,ca);};ua.prototype.entries=function(){return new Y(this.cf,this.Df,ka);};ua.prototype["@@iterator"]=function(){return this.entries();};ua.prototype[M]=function(){return this.entries();};ua.prototype.ly=function(O,T){this.Hv !== O && (this.ht=this.cf.indexOf(this.Hv=O));0 > this.ht && T && (this.ht=this.cf.length,this.cf.push(O),this.Df.push(void 0));return this.ht;};return ua;})();}function F(){return (function(){function U(){this.Tg=new L();}Object.defineProperty(U.prototype,"size",{get:function(){return this.Tg.size;},enumerable:!0,configurable:!0});U.prototype.has=function(ca){return this.Tg.has(ca);};U.prototype.add=function(ca){return (this.Tg.set(ca,ca),this);};U.prototype.delete=function(ca){return this.Tg.delete(ca);};U.prototype.clear=function(){this.Tg.clear();};U.prototype.keys=function(){return this.Tg.keys();};U.prototype.values=function(){return this.Tg.values();};U.prototype.entries=function(){return this.Tg.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[M]=function(){return this.keys();};return U;})();}function C(){var ya,qa;function U(){var Y,T;do {Y="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ka(new Uint8Array(16),16):ka(Array(16),16);Y[6]=Y[6] & 79 | 64;Y[8]=Y[8] & 191 | 128;for(var ua="",O=0;16 > O;++O){T=Y[O];if(4 === O || 6 === O || 8 === O)ua+="-";16 > T && (ua+="0");ua+=T.toString(16).toLowerCase();}Y="@@WeakMap@@" + ua;}while(P.has(ya,Y));ya[Y]=!0;return Y;}function ca(Y,ua){if(!K.call(Y,qa)){if(!ua)return;Object.defineProperty(Y,qa,{value:P.create()});}return Y[qa];}function ka(Y,ua){for(var O=0;O < ua;++O){Y[O]=255 * Math.random() | 0;}return Y;}ya=P.create();qa=U();return (function(){function Y(){this.pt=U();}Y.prototype.has=function(ua){ua=ca(ua,!1);return void 0 !== ua?P.has(ua,this.pt):!1;};Y.prototype.get=function(ua){ua=ca(ua,!1);return void 0 !== ua?P.get(ua,this.pt):void 0;};Y.prototype.set=function(ua,O){ca(ua,!0)[this.pt]=O;return this;};Y.prototype.delete=function(ua){ua=ca(ua,!1);return void 0 !== ua?delete ua[this.pt]:!1;};Y.prototype.clear=function(){this.pt=U();};return Y;})();}function G(U){U.Vkb=void 0;delete U.Vkb;return U;}K=Object.prototype.hasOwnProperty;J="function" === typeof Symbol;I=J && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=J && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";J="function" === typeof Object.create;R=({__proto__:[]}) instanceof Array;H=!J && !R;P={create:J?function(){return G(Object.create(null));}:R?function(){return G({__proto__:null});}:function(){return G({});},has:H?function(U,ca){return K.call(U,ca);}:function(U,ca){return (ca in U);},get:H?function(U,ca){return K.call(U,ca)?U[ca]:void 0;}:function(U,ca){return U[ca];}};N=Object.getPrototypeOf(Function);L=(J="object" === typeof c && c.KVa && "true" === c.KVa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;Q=J || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (J || "function" !== typeof WeakMap?C():WeakMap)();d("decorate",function(U,ca,ka,ya){var Y;if(w(ka)){if(!z(U))throw new TypeError();if("function" !== typeof ca)throw new TypeError();for(ka=U.length - 1;0 <= ka;--ka){if((ya=(0,U[ka])(ca),!w(ya) && null !== ya)){if("function" !== typeof ya)throw new TypeError();ca=ya;}}return ca;}if(!z(U))throw new TypeError();if(!v(ca))throw new TypeError();if(!v(ya) && !w(ya) && null !== ya)throw new TypeError();null === ya && (ya=void 0);ka=y(ka);for(var qa=U.length - 1;0 <= qa;--qa){Y=(0,U[qa])(ca,ka,ya);if(!w(Y) && null !== Y){if(!v(Y))throw new TypeError();ya=Y;}}return ya;});d("metadata",function(U,ca){return function(ka,ya){var qa;if(!v(ka))throw new TypeError();if(qa=!w(ya)){a:switch(t(ya)){case 3:qa=!0;break a;case 4:qa=!0;break a;default:qa=!1;}qa=!qa;}if(qa)throw new TypeError();g(ka,ya,!0).set(U,ca);};});d("defineMetadata",function(U,ca,ka,ya){if(!v(ka))throw new TypeError();w(ya) || (ya=y(ya));g(ka,ya,!0).set(U,ca);});d("hasMetadata",function(U,ca,ka){if(!v(ca))throw new TypeError();w(ka) || (ka=y(ka));return h(U,ca,ka);});d("hasOwnMetadata",function(U,ca,ka){if(!v(ca))throw new TypeError();w(ka) || (ka=y(ka));return k(U,ca,ka);});d("getMetadata",function(U,ca,ka){if(!v(ca))throw new TypeError();w(ka) || (ka=y(ka));return n(U,ca,ka);});d("getOwnMetadata",function(U,ca,ka){if(!v(ca))throw new TypeError();w(ka) || (ka=y(ka));return p(U,ca,ka);});d("getMetadataKeys",function(U,ca){if(!v(U))throw new TypeError();w(ca) || (ca=y(ca));return q(U,ca);});d("getOwnMetadataKeys",function(U,ca){if(!v(U))throw new TypeError();w(ca) || (ca=y(ca));return u(U,ca);});d("deleteMetadata",function(U,ca,ka){var ya;if(!v(ca))throw new TypeError();w(ka) || (ka=y(ka));ya=g(ca,ka,!1);if(w(ya) || !ya.delete(U))return !1;if(0 < ya.size)return !0;U=S.get(ca);U.delete(ka);if(0 < U.size)return !0;S.delete(ca);return !0;});});})(l || (l={}));}).call(this,a(248),a(193));},function(r,b,a){var f,l,m,d;function c(g,h,k){var u;for(var n,p=[],q=3;q < arguments.length;q++){p[q - 3]=arguments[q];}u=k();u && (p=p.map(function(t,w){w=d.e3a(u.Jra,u.Hb[w]);return m.k8a(g,t,h,w);}));return (n=g.nEb).call.apply(n,f.__spread([void 0],p));}Object.defineProperties(b,{__esModule:{value:!0}});b.oEb=b.CTa=void 0;f=a(2);l=a(254);m=a(932);d=a(933);b.CTa=function(g,h,k,n,p){var q,u;q={};u=l.tYa(p);return new Proxy(g,{get:function(t,w){var v,x;if((w in h))return h[w];if(!q[w]){v=t[w];if("function" === typeof v){x=u.bind(null,t,w);t=c.bind(t,f.__assign({nEb:v.bind(t)},k),n,x);return q[w]=t;}return v;}return q[w];},set:function(t,w,v){if((w in h))return (h[w]=v,!0);t[w]=v;delete q[w];return !0;}});};b.oEb=c;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.k8a=void 0;c=a(2);f=a(5);l=a(415);b.k8a=function(m,d,g,h){var k,n;if(h){k=h.srb;n=h.dv;h=h.rules.map(function(p){return [g[p.RWb],p.config];});k || f.assert(d,"Param is null");k=h.filter(function(p){p=c.__read(p,2);return p[0].BLb(d,p[1]);});n && f.assert(k.length,"No rules matched for " + d);if(k.length)return k.reduce(function(p,q){q=c.__read(q,2);return q[0].ONb(p,l.G0.PAb,m,q[1]);},d);}return d;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.e3a=void 0;c=a(2);f=a(25);b.e3a=function(l,m){var d;if(l || m){d=(null === l || void 0 === l?0:l.rules) && (null === m || void 0 === m?0:m.rules)?f.r3(l.rules,m.rules):(null === l || void 0 === l?void 0:l.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},l),m),{rules:d});}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VIb=b.z0a=b.wm=void 0;b.wm=function(a){return !(null === a || void 0 === a || !a.position);};b.z0a=function(a){return !(null === a || void 0 === a || !a.ya) && !(null === a || void 0 === a || !a.offset);};b.VIb=function(a){return !(null === a || void 0 === a || !a.ya);};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;c=a(2);f=a(5);l=c.__importDefault(a(6));m=a(118);d=a(9);r=(function(){var l31;l31=2;for(;l31 !== 13;){switch(l31){case 8:var z5q="q";z5q+="I";var U5q="r";U5q+="emov";U5q+="eRe";U5q+="que";U5q+="st";var A5q="E";A5q+="y";var p5q="a";p5q+="ddR";p5q+="e";p5q+="qu";p5q+="est";c.__decorate([m.bc({methodName:p5q,rm:!0})],g.prototype,A5q,null);c.__decorate([m.bc({methodName:U5q,rm:!0})],g.prototype,z5q,null);l31=6;break;case 4:var w5q="Q";w5q+="k";var S5q="ch";S5q+="eckRequestOpportu";S5q+="nity";g.prototype.qI=function(h){var s31;s31=2;for(;s31 !== 3;){switch(s31){case 2:this.tq.Cy({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.HF--;s31=5;break;case 5:var M5q="remov";M5q+="eReq";M5q+="u";M5q+="est";var I5q="Received r";I5q+="e";I5q+="move request when there are no requests outstanding";f.assert(0 <= this.HF,I5q);this.Qk(M5q);s31=3;break;}}};g.prototype.iSa=function(h){var t31,k,n,p;t31=2;for(;t31 !== 9;){switch(t31){case 1:this.E7a.push(n);t31=5;break;case 2:(k=this.config.f8,n=l.default.time.ea() - h,p=0);t31=1;break;case 13:p--;t31=4;break;t31=5;break;case 4:p++;t31=5;break;case 3:var c5q="requestOpportu";c5q+="nityRu";c5q+="nne";c5q+="rC";c5q+="omplete";this.tq.BT(c5q,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);t31=9;break;case 5:t31=this.HF < k && this.G7()?4:3;break;case 6:this.E7a.push(n);t31=0;break;t31=5;break;}}};c.__decorate([m.bc({methodName:S5q,rm:!0,zr:!0})],g.prototype,w5q,null);l31=8;break;case 2:Object.defineProperties(g.prototype,{tQb:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:return this.HF;break;}}},enumerable:!1,configurable:!0}});g.prototype.Qk=function(){var p31,h,k;p31=2;for(;p31 !== 9;){switch(p31){case 7:h=this;p31=5;break;p31=1;break;case 2:h=this;p31=1;break;case 3:Promise.resolve().then(function(){var q31;q31=2;for(;q31 !== 5;){switch(q31){case 2:h.Ava=!1;h.iSa(k);q31=5;break;}}});p31=9;break;case 1:p31=!this.Ava?5:9;break;case 6:p31=+this.Ava?6:4;break;p31=!this.Ava?5:9;break;case 5:this.Ava=!0;k=l.default.time.ea();p31=3;break;}}};g.prototype.Ey=function(h){var r31;r31=2;for(;r31 !== 4;){switch(r31){case 2:var i5q="More than maxAll";i5q+="owedOutstandingReques";i5q+="ts a";i5q+="re outstandi";i5q+="ng";this.tq.Cy({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.HF++;f.assert(this.HF <= this.config.f8,i5q);r31=4;break;}}};l31=4;break;case 6:var N5q="i";N5q+="S";N5q+="a";var t5q="checkRequestOpportunity";t5q+="Runne";t5q+="r";c.__decorate([m.bc({methodName:t5q,rm:!0})],g.prototype,N5q,null);return g;break;}}function g(h,k){var m31,n;m31=2;for(;m31 !== 14;){switch(m31){case 8:var u5q="Reque";u5q+="s";u5q+="tPacer";var a5q="1S";a5q+="IYb";a5q+="ZrNJC";a5q+="p9";a5q;this.tq=new m.MB({Au:this,source:u5q,$ha:function(){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return {numOutstanding:n.HF};break;}}},AD:10});m31=6;break;case 5:var e5q="m";e5q+="ed";e5q+="ia|as";e5q+="ejs";var x5q="ASEJ";x5q+="S";x5q+="_REQUEST_PAC";x5q+="E";x5q+="R";this.config=k;this.HF=0;this.console=new l.default.Console(x5q,e5q);this.Ava=!1;m31=8;break;case 2:n=this;this.G7=h;m31=5;break;case 6:this.E7a=new d.q1();m31=14;break;}}}})();b.$Ja=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lCa=void 0;c=a(54);r=(function(){function f(l){this.Qb=l;}Object.defineProperties(f.prototype,{lj:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Io=function(l){var m;if(l.Qi === c.de.$p && this.Qb){l={};m=this.Qb.get();m && m.avtp && m.avtp.Fa && (l.avtp=m.avtp.Fa,l.dltm=m.avtp.JC);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.Qb.m6())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,l.bytestotalVideo=m.bytestotalVideo,l.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,l.bytestotalAudio=m.bytestotalAudio,l.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (l.pacedAvtp=m.pacedAvtp));if(m=this.Qb.e6())(l.initial_avtp=m.pH,l.initial_dltime=m.JC,l.initial_responses_audio=m.R_a,l.initial_responses_video=m.S_a,l.initial_tput_samples=m.nO,l.initial_1sec_tput_samples=m.lO);this.Qb.flush();if(m=this.Qb.WXa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return f;})();b.lCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RKa=void 0;c=a(54);r=(function(){function f(l){l.events.on("streamSelection",this.Qsa.bind(this));}f.prototype.Qsa=function(l){0 === l.mediaType && void 0 === this.Q_a?this.Q_a=l:1 === l.mediaType && void 0 === this.T_a && (this.T_a=l);};Object.defineProperties(f.prototype,{lj:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Io=function(l){var m;if(l.Qi === c.de.cp)return (l=null !== (m=this.T_a) && void 0 !== m?m:this.Q_a,{histdiscbw:null === l || void 0 === l?void 0:l.result.ju,histage:null === l || void 0 === l?void 0:l.result.Mo});};return f;})();b.RKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kLa=void 0;r=a(2);c=a(17);f=a(20);l=r.__importDefault(a(6));a=(function(){function m(d){this.We=d;this.G1=[];this.reset();}Object.defineProperties(m.prototype,{lj:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HD:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,g;d=this;null === (g=this.RK) || void 0 === g?void 0:g.clear();this.RK=new c.Xh();this.RK.on(this.We,"clockChanged",function(){d.reset();d.sV("initial");});this.RK.on(this.We,"stopping",function(){d.sV("stopping");});this.RK.on(this.We.xa,"clockAdjusted",function(){d.sV("clockAdjusted");});this.RK.on(this.We.xa,"stopStart",function(){d.sV("stopStart");});this.RK.on(this.We.xa,"speedChanged",function(){d.sV("speedChanged");});};m.prototype.sV=function(d){this.G1.push({reason:d,audit:this.We.KEb(),time:l.default.time.ea()});5 < this.G1.length && this.G1.shift();};m.prototype.Io=function(){return this.G1;};return m;})();b.kLa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=void 0;c=a(54);r=(function(){function f(l,m){this.Qb=l;this.F7a=m;}Object.defineProperties(f.prototype,{lj:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Io=function(l){var m;l=l.Qi;if(l === c.de.$p || l === c.de.Zn || void 0 === l){l={numOutstandingRequests:this.F7a.tQb,requestOpportunityDelayStats:this.F7a.E7a};m=this.Qb.zPa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return f;})();b.bKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pCa=void 0;r=(function(){function a(c){this.c5=c;this.HD="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{lj:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});a.prototype.Io=function(){var c;c=this.c5.iTb.map(function(f){var l;l=f.za;return {id:l.id,weight:l.weight,relativeWeight:f.mY};});return {prefetcher:this.c5.Ku.getStats(),playgraphs:c,viewables:this.c5.T2b,players:this.c5.U5a.length};};return a;})();b.pCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UCa=void 0;c=a(5);f=a(413);r=(function(){function l(){this.global=new f.BR();this.RD={};}l.prototype.add=function(m,d){c.assert(void 0 === this.RD[m],"Cannot add new memory object for playgraph");this.RD[m]=d;this.global.add(d.Fr);this.global.add(d.IU);};return l;})();b.UCa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.sGa=void 0;c=a(2);f=a(20);l=a(406);m=a(118);r=(function(){function d(g,h,k){this.tna=g;this.TFb=h;this.H=k;this.wi=new m.MB({Au:this,console:k,source:"MemoryDeadlockProtector",AD:5});}d.prototype.eEb=function(g){var h,k,n,p;n=g.config;p=n.sj + (null !== (k=null === (h=n.vP) || void 0 === h?void 0:h.W) && void 0 !== k?k:0);h=this.JIb(p,g);f.ga && this.H.debug("MDP: has prebuf: " + h);return h?{L4:!0}:(k=this.Ttb(n),h=k.URb,k=k.w2b,h && k?(f.ga && this.H.debug("MDP: utilizing " + Math.round(100 * k) + "%"),k >= n.KOb?this.R7a(g,h):{L4:!0}):{L4:!1});};d.prototype.R7a=function(g,h){var k,n,p,q,u,w,y,z;this.wi.Cy({o:h});q=g.V;g=g.Kb;u=q.Kb;q=q.wH;for(var t=0;t < u.length;t++){if(!u[t].xl){q=u[t];u=u.slice(0,t + 1);break;}}t=!1;w=[{mediaType:0,wC:0},{mediaType:1,wC:0}];if(null === q || void 0 === q || !q.xl){g=g.map(function(B){return B;}).filter(function(B){return -1 === u.indexOf(B);}).sort(function(B,E){return l.qja(B) - l.qja(E);});try{for(var v=c.__values(g),x=v.next();!x.done;x=v.next()){y=x.value;z=y.RC();w[0].wC+=null !== (n=z.nC) && void 0 !== n?n:0;w[1].wC+=null !== (p=z.Ms) && void 0 !== p?p:0;f.ga && this.H.debug("Resetting discontiguous branch " + y.O.id,z);y.reset();if(t=w.every(function(B){return B.wC >= h[B.mediaType].wC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (k=v.return) && k.call(v);}finally{if(A)throw A.error;}}}return {L4:t,L$b:w};};d.prototype.Ttb=function(g){var h,k,n,p;if(!g.LOb)return {};h=this.TFb();k=this.tna().total;n=g.JOb;p=0;g=[0,1].map(function(q){var u;u=h[q] - k[q] * n;p=Math.max(0 < k[q]?h[q] / k[q]:0,p);return {wC:Math.max(0,u),mediaType:q};});return {w2b:p,URb:g};};d.prototype.JIb=function(g,h){var k,n;k=!1;h=h.I6?h.V:void 0;if(null === h || void 0 === h?0:h.nKb){k=h.oi.lq().map(function(p){return p.mediaType;});n=h.lFb();k=k.every(function(p){var q,u;if(0 === p)p=null !== (q=n.xr) && void 0 !== q?q:0;else if(1 === p)p=null !== (u=n.$n) && void 0 !== u?u:0;else throw Error("Unsupported media type:" + p);return p >= g;});}return k;};c.__decorate([m.bc({methodName:"resetDiscontiguousBranches",return:!0,rm:!0})],d.prototype,"R7a",null);return d;})();b.sGa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fza=void 0;r=a(2);c=a(9);f=r.__importDefault(a(28));l=a(25);m=r.__importDefault(a(384));d=a(54);a=(function(){function g(h){var k,n;k=this;this.za=h;this.uw="aseReport";this.NRa=c.T.iD;this.qo=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.IL || h.config.SDb){this.NRa=c.T.Ab(h.config.s3);this.za.JL=!0;n=[];n[f.default.Ta.Nb]=new m.default(h.config,f.default.Ta.Nb);n[f.default.Ta.Vb]=new m.default(h.config,f.default.Ta.Vb);this.rha=n;this.za.events.on("openComplete",function(){return k.open();});}}g.prototype.open=function(){this.za.JL && !this.qo && (this.qo=!0,this.za.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.za.events.on("streamSelection",this.Qsa.bind(this)));};g.prototype.Qsa=function(h){this.rha[h.mediaType].add(h.result,h.streamList);};g.prototype.foa=function(){var h;h=l.flatten(this.rha.map(function(k){return k.get();}).filter(function(k){return void 0 !== k;}));this.rha.forEach(function(k){return k.reset(!0);});return h;};g.prototype.pg=function(h){var k;k=h.Qi;h=h.PKb;return this.za.JL && this.qo && (h || k === d.de.$p) && (k=this.foa()) && k.length?{y9a:!0,event:{type:"asereport",strmsel:k}}:{y9a:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.fza=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.uJa=void 0;c=a(2);f=a(17);l=a(16);m=a(9);d=a(945);g=a(25);h=a(5);k=a(946);n=a(20);p=a(99);q=a(947);u=c.__importDefault(a(6));t=a(214);w=a(948);v=a(949);x=a(950);y=a(255);z=a(952);A=a(953);r=(function(){function B(E,D,F,C,G){void 0 === C && (C=new v.mBa());void 0 === G && (G=new w.lBa());this.GVa=E;this.config=D;this.c7a=C;this.Hm=[];this.h6a=[];this.vx=[];this.ec={Y0a:0,Z0a:0,V0a:0,ija:0,W0a:0,X0a:0,jja:0};this.events=new f.EventEmitter();this.H=m.wq(u.default,F,"PREFETCH");this.RPa(new x.PAa(D));this.RPa(new A.zKa(D));this.Q8a({mH:D.DTb});this.ewa(G);this.jKb();}Object.defineProperties(B.prototype,{ETb:{get:function(){return this.Hm.map(function(E){return E.context;});},enumerable:!1,configurable:!0}});B.prototype.h9a=function(E){n.ga && h.assert(E,"Reconciliation strategy is undefined");this.c7a=E;return this;};B.prototype.RPa=function(E){this.h6a.unshift(E);};B.prototype.p9a=function(E){n.ga && this.H.debug("Wish list changed",{Cbc:E.length});this.vx=E;this.bua();};B.prototype.reset=function(){var E,C,G,K,J,I;if(this.config.MTb)try{for(var D=c.__values(this.Hm),F=D.next();!F.done;F=D.next()){C=F.value;G=C.za;K=C.L7;J=C.context;if(G){G.Ff();K.Pua(function(R){return "segmentNormalized" !== R.uw;});I=y.r6(J.Od,G.za);G.bE(I);}}}catch(R){var M;M={error:R};}finally{try{F && !F.done && (E=D.return) && E.call(D);}finally{if(M)throw M.error;}}else this.p9a([]);};B.prototype.Q8a=function(E){n.ga && this.H.debug("Budget changed",{Mbc:this.XT,Bbc:E});this.XT=E;this.bua();};B.prototype.Zub=function(E,D){var F,C,G,K,J;if(D=this.c7a.rWa(this.Hm,{za:E,Vi:D})){G=this.vx.indexOf(D.context.Od);n.ga && this.H.debug("Claiming item: " + y.oq(D.context.Od.key),{fm:u.default.time.ea() - D.paa,buffer:null === (F=D.za) || void 0 === F?void 0:F.Hh(m.T.Eb)});this.vM(D.context,{gqa:! !D.za});if(D.za){F=D.za;K=D.context;J=D.rs;z.sJa.bWb(F,D.L7,this.H);E=y.r6(K.Od,E);J.YWb(null !== (C=F.TV(E)) && void 0 !== C?C:m.T.Eb,G);F.Wab({mH:this.config.vu || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Od,videoBytesBuffered:D.za.yw().Ms,audioBytesBuffered:D.za.yw().nC});}}this.config.trb || this.reset();return null === D || void 0 === D?void 0:D.za;};B.prototype.Yub=function(){};B.prototype.getStats=function(){var E;E=u.default.time.ea();return {wishListLength:this.vx.length,prefetchList:this.ETb.length,contents:this.Hm.map(function(D){var F,C,G,K,J;return {id:y.oq(D.context.Od.key),buffer:null === (F=D.za) || void 0 === F?void 0:F.Hh(m.T.Eb),pId:null === (C=D.za) || void 0 === C?void 0:C.id,budget:{inMemoryBytes:D.context.U0a.mH},weight:D.context.S9,age:E - D.paa,timeOpened:E - (null !== (G=D.b0b) && void 0 !== G?G:0),state:l.Kc[null !== (J=null === (K=D.za) || void 0 === K?void 0:K.Ef.value) && void 0 !== J?J:l.Kc.cj]};}),aggregated:{itemsRequested:this.ec.Y0a,itemsStarted:this.ec.Z0a,itemsClaimed:this.ec.V0a,bytesClaimed:this.ec.ija,itemsCompleted:this.ec.W0a,itemsDiscarded:this.ec.X0a,bytesDiscarded:this.ec.jja}};};B.prototype.vM=function(E,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var C,G,K,J,I,M;return c.__generator(this,function(R){switch(R.label){case 0:C=c.__assign({gqa:!1,c1a:!1},D);G=C.gqa;K=C.c1a;J=g.kg(this.Hm,function(H){return H.context === E;});if(!J)return [3,3];this.Hm.splice(this.Hm.indexOf(J),1);K || (I=this.vx.length,this.vx=this.vx.filter(function(H){return H !== E.Od;}),n.ga && this.H.info("Dropping items from wishlist",I - this.vx.length),this.vx.length >= I && n.ga && this.H.warn("Unable to filter out wishlist item",this.vx.map(function(H){return H.key;}),E.Od.key));n.ga && this.H.debug("Dropping playgraph",{fm:u.default.time.ea() - J.paa,buffer:null === (F=J.za) || void 0 === F?void 0:F.Hh(m.T.Eb),X:y.oq(E.Od.key),icc:!G,z$b:!K});if(G)return [3,2];M=this.Uu(J);return J.za?[4,M]:[3,2];case 1:(R.Ic(),R.label=2);case 2:(this.bua(),R.label=3);case 3:return [2];}});});};B.prototype.ewa=function(E){h.assert(E,"Playgraph resolver is undefined");this.Gta=E;return this;};B.prototype.jKb=function(){var E;E=this;this.events.on("prefetchComplete",function(){return E.ec.W0a++;});this.events.on("prefetchStarted",function(){return E.ec.Z0a++;});this.events.on("itemQueued",function(){return E.ec.Y0a++;});this.events.on("itemClaimed",function(D){var F,C;E.ec.V0a++;E.ec.ija+=(null !== (F=D.M2b) && void 0 !== F?F:0) + (null !== (C=D.msb) && void 0 !== C?C:0);});this.events.on("itemDropped",function(D){var F,C;E.ec.X0a++;E.ec.jja+=(null !== (F=D.M2b) && void 0 !== F?F:0) + (null !== (C=D.msb) && void 0 !== C?C:0);});};B.prototype.bua=function(){var E,D,F,C,G,K;E=this;D=d.vAa.FKb({l3b:this.vx,iIb:this.XT},this.h6a.map(function(J){return J.RRa.bind(J);})).Hm;F=g.zt(D,this.Hm,function(J,I){return y.isEqual(J.Od.key,I.context.Od.key);});C=g.zt(this.Hm,D,function(J,I){return y.isEqual(J.context.Od.key,I.Od.key);});G=g.zt(this.Hm,C);n.ga && this.H.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + C.length + ", update: " + F.length);C=C.map(function(J){var I;I=J.context.Od.key;n.ga && E.H.debug("Releasing playgraph",y.oq(I));return E.Uu(J).then(function(){E.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.Od});});});K=G.map(function(J){return c.__awaiter(E,void 0,void 0,function(){var I,M;return c.__generator(this,function(R){switch(R.label){case 0:return (I=g.kg(D,function(H){return y.isEqual(H.Od.key,J.context.Od.key);}),h.assert(I,"Couldn't find the requested item context"),J.context=I,[4,J.Fta]);case 1:return (M=R.Ic(),g.kg(this.Hm,function(H){return H === J;}) && (this.BQa(J.context,M),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.Od})),[2]);}});});});F=F.map(function(J){var I;I=E.Fyb(J);E.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.Od});return I;});this.Hm=c.__spread(G,F);G=F.map(function(J){return J.Fta;});G=C.concat(K).concat(G);Promise.all(G);};B.prototype.Uu=function(E){var D;D=this;return E.Fta.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var C;return c.__generator(this,function(G){switch(G.label){case 0:return (n.ga && this.H.debug("Removing prefetch playgraph",{size:F.Hh(m.T.Eb)}),E.j5.clear(),[4,this.GVa()]);case 1:return (C=G.Ic(),C.Uu(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:E.context.Od,videoBytesBuffered:F.yw().Ms,audioBytesBuffered:F.yw().nC}),[2]);}});});});};B.prototype.Cyb=function(E){return c.__awaiter(this,void 0,void 0,function(){var D,F,C,G,K,J,I;I=this;return c.__generator(this,function(M){switch(M.label){case 0:return (D=E.context,F=y.oq(D.Od.key),n.ga && this.H.debug("Creating playgraph",F),[4,this.Gta.q2a(D)]);case 1:return (C=M.Ic(),[4,D.Od.Ej.En(F).Ns]);case 2:return (G=M.Ic(),G.oa.bwb?(this.vM(D,{gqa:!0}),[2,Promise.reject("contentPlaygraph viewable:\n                " + G.oa.J + " is not supported with prefetching")]):[4,this.GVa()]);case 3:return (K=M.Ic(),J=K.bG(C,D.S9,D.Vi,D.Od.Ej,!1),E.j5.addListener(J.events,"error",function(R){n.ga && I.H.debug("Prefetch playgraph resulted in error",R.x$b);I.vM(D);}),[2,J]);}});});};B.prototype.ERb=function(E,D){return c.__awaiter(this,void 0,void 0,function(){var F,C,G,K,J,I;I=this;return c.__generator(this,function(M){switch(M.label){case 0:return (F=E.context,C=y.oq(F.Od.key),G=F.Od.Ej.En(C),[4,G.Ns]);case 1:return (K=M.Ic(),this.BQa(F,D),this.Lrb(F,D,! !K.ue),D.open(),D.eE({ys:function(R,H){var P;P=R.recommendedMedia;return P?g.Np(H,function(N){return N.new_track_id === P.sn;}):g.Np(H,function(N){return N.track_id === R.defaultTrackOrderList[0].audioTrackId;});}},{ys:function(R,H){var P;P=R.recommendedMedia;return P?g.Np(H,function(N){return N.new_track_id === P.$P;}):g.Np(H,function(N){return N.track_id === R.defaultTrackOrderList[0].videoTrackId;});}}),D.bE(y.r6(F.Od,D.za)),J=function(R){n.ga && I.H.debug("Viewable " + (R?"superseded":"expired"),y.oq(E.context.Od.key));E.Oac=!0;I.vM(E.context,{c1a:!R});},G.events && (E.j5.addListener(G.events,"viewableEvicted",function(){J(!0);}),E.j5.addListener(G.events,"viewableExpired",function(){J(!1);})),G.St && (n.ga && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",C),this.vM(E.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:E.context.Od}),[2]);}});});};B.prototype.BQa=function(E,D){D.mbb(E.S9);D.Wab(E.U0a);};B.prototype.Lrb=function(E,D,F){var C;C=E.OZb;E=C.audio;C=C.video;F && C.push(new t.cK(this.H,D.config));D.S$(new p.et(E,!0),new p.et(C,!0));};B.prototype.Fyb=function(E){var D,F,C;D=this;F=new k.tJa();C={context:E,paa:u.default.time.ea(),j5:new f.Xh(),rs:F};C.Fta=this.Cyb(C).then(function(G){return c.__awaiter(D,void 0,void 0,function(){var K,J;J=this;return c.__generator(this,function(I){switch(I.label){case 0:return (I.Qm.push([0,2,,3]),G.Ji(F),F.fsb(G),C.L7=new q.xCa(G.events,{TYb:function(M){var R;R=M.uw;switch(R){case "buffering":return !1;case "bufferingStarted":C.L7.Pua(function(H){return "bufferingComplete" === H.uw || "updateStreamingPts" === H.uw;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":C.L7.Pua(function(H){return H.uw === R;});default:return !0;}}}),G.events.on("bufferingComplete",function(){J.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:E.Od});}),[4,this.ERb(C,G)]);case 1:return (I.Ic(),C.b0b=u.default.time.ea(),C.za=G,[2,G]);case 2:throw (K=I.Ic(),n.ga && this.H.error("Exception occurred creating playgraph",K),this.vM(C.context),K);case 3:return [2];}});});}).catch(function(G){n.ga && D.H.error("Rejection ocurred while creating playgraph",G);return G;});return C;};return B;})();b.uJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;b.vAa=(function(){function a(){}a.FKb=function(c,f){var d;function l(g){return m(d++)(g,l);}function m(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return l(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tJa=void 0;c=a(2).__importDefault(a(6));f=a(54);r=(function(){function l(){this.creationTime=c.default.time.ea();this.ic={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.fsb=function(m){this.za=m;};l.prototype.YWb=function(m,d){var g;m=null === (g=this.za) || void 0 === g?void 0:g.Hh(m);this.ic={isPrefetchItem:!0,prefetchedVideoMs:m.GZ,prefetchedAudioMs:m.FZ,prefetchClaimDurationMs:c.default.time.ea() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{lj:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Io=function(m){if(m.Qi === f.de.cp)return this.ic;};return l;})();b.tJa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xCa=void 0;c=a(2);r=(function(){function l(m,d){void 0 === d && (d={});this.cq=m;this.options=d;this.PG=[];this.lW=new f(m,this.Jqb.bind(this));}l.prototype.Jqb=function(m){for(var d,g,h,k,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={uw:m,zr:q};(null !== (h=null === (g=(d=this.options).TYb) || void 0 === g?void 0:g.call(d,q,this.PG)) && void 0 !== h?h:1) && this.PG.push(q);return null !== (p=null === (n=(k=this.options).Fcc) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};l.prototype.Pua=function(m){this.PG=this.PG.filter(function(d,g){return !m(d,g);});};l.prototype.Yua=function(){var m;m=this;this.lW.Pab();this.PG.forEach(function(d){var g;(g=m.cq).emit.apply(g,c.__spread([d.uw],d.zr));});this.lW.b0a();};Object.defineProperties(l.prototype,{length:{get:function(){return this.PG.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.PG=[];};l.prototype.Lb=function(){this.lW.Pab();};return l;})();b.xCa=r;f=(function(){function l(m,d){var g;g=this;this.cq=m;this.bU=d;this.lW=function(h){for(var k,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.bU.apply(g,c.__spread([h],n))?(k=g.N4a).call.apply(k,c.__spread([g.cq,h],n)):!1;};this.N4a=this.cq.emit;this.b0a();}l.prototype.b0a=function(){this.cq.emit=this.lW;};l.prototype.Pab=function(){this.cq.emit=this.N4a;};return l;})();},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=void 0;c=a(2);f=a(67);l=a(255);r=(function(){function m(){}m.prototype.q2a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Od.key;if(!l.sW(g))return [3,2];h=g.X;k=d.Od.Ej.En(h);return [4,Promise.resolve(k.Ns)];case 1:return (n=q.Ic(),p=n.oa,p.Bo?[2,f.AC(p.Bo,{config:n.config})]:[2,f.OI(h,"ps0")]);case 2:return [2,g.za];}});});};return m;})();b.lBa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=void 0;c=a(2);f=a(5);l=a(255);r=(function(){function m(){}m.oq=function(d){var g,h;g=d.pa;d=d.Md;h=g[d].X;Object.keys(g).forEach(function(k){return f.assert(g[k].X === h);});return g[d].X;};m.prototype.rWa=function(d,g){var h;h=Object.keys(g.za.pa).length;return c.__read(d.filter(function(k){var n,p;return m.oq(g.za) === l.oq(k.context.Od.key) && (1 === h || h === Object.keys(null !== (p=null === (n=k.za) || void 0 === n?void 0:n.za.pa) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.mBa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PAa=b.TAa=void 0;c=a(99);f=a(951);b.TAa=625E3;r=(function(){function l(m){this.config=m;}l.prototype.RRa=function(m){var d,g,h;d=this.config.E4;g=(this.config.Y2a || this.config.D4) * b.TAa / 1E3;h=Math.floor(m.iIb.mH / g);return {Hm:m.l3b.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var p;p=k.key.config;return {U0a:{mH:n > h - 1?0:g},Od:k,S9:1,Vi:p,OZb:{audio:[c.EC(p),new f.Oea()],video:[c.FC(p),new f.Oea()]}};})};};return l;})();b.PAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oea=void 0;c=a(16);r=(function(){function f(){}f.prototype.vm=function(l,m){return m === c.Kc.dj?[]:l;};return f;})();b.Oea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sJa=void 0;c=a(20);b.sJa=(function(){function f(){}f.bWb=function(l,m,d){l.events.once("opening",function(){c.ga && d.log("Replaying " + m.length + " events from prefetched playgraph");m.Yua();m.Lb();});};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zKa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.RRa=function(c,f){var l,m;l=this;c=f(c);m=c.Hm.map(function(d){return d.Od.priority;}).sort();c.Hm.forEach(function(d){d.S9=l.config.GTb / (2 << m.lastIndexOf(d.Od.priority));});return c;};return a;})();b.zKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=void 0;r=(function(){function a(c){var f;f=this;c=c.Qk;this.iH=function(){f.Qk();};this.Qk=c;}a.prototype.bG=function(c){c.events.on("requestsPruned",this.iH);};a.prototype.Uu=function(c){c.events.removeListener("requestsPruned",this.iH);};return a;})();b.jJa=r;},function(r,b){function a(c,f,l,m){return c && f?Math.min(c - f * l,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.TRa=void 0;b.TRa=function(c,f){var l,m,d;m=a(f.audio,f.Aia,c.hTa,c.fTa);d=a(f.video,f.nya,c.hTa,c.gTa);return (l={},l[0]=m,l[1]=d,l.total=(f.total || Infinity) - c.fTa - c.gTa,l);};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZSa=void 0;c=a(2);f=a(408);l=a(957);m=a(958);d=a(414);b.ZSa=function(g){var n,p;for(var h=[],k=1;k < arguments.length;k++){h[k - 1]=arguments[k];}k=c.__assign({Cjb:f.C_,Yfb:l.VCa},g);n=k.Cjb;p=k.Yfb;k=m.E4a(h[5]);h[5]=k.vI;h=new (n.bind.apply(n,c.__spread([void 0],h)))();n={MVa:new p(),Avb:h};k=new m.IAa(n,k.h_b);return d.Dta.zUb(h,k,n);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=void 0;r=(function(){function a(){}a.prototype.QAb=function(c){return c;};a.prototype.o1b=function(c){return c;};return a;})();b.VCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.E4a=b.IAa=void 0;c=a(2);f=a(959);r=(function(){return function(l,m){var d;d=this;this.BRb=m;this.events=f.zTa(l);this.BRb(function(g){var h;h=g.wE;return c.__awaiter(d,void 0,void 0,function(){return c.__generator(this,function(k){switch(k.label){case 0:return [4,h];case 1:return (k.Ic(),[2]);}});});});};})();b.IAa=r;b.E4a=function(l){var m;m=[];return {vI:function(d){var g;g=l(d);m.forEach(function(h){return h({X:d,wE:g.wE});});return g;},h_b:function(d){m.push(d);}};};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zTa=void 0;c=a(2);f=a(17);b.zTa=function(l){var m;m=l.Avb;return new ((function(d){function g(){var h;h=null !== d && d.apply(this,arguments) || this;h.Zfa={};return h;}c.__extends(g,d);g.prototype.emit=function(h){for(var k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}return d.prototype.emit.call(this,h,k[0]);};g.prototype.subscribe=function(h){var k,n;k=this;if(!this.listeners(h).length){n=function(){for(var p=[],q=0;q < arguments.length;q++){p[q]=arguments[q];}return k.emit.apply(k,c.__spread([h],p));};this.Zfa[h]=n;m.events.addListener(h,n);}};g.prototype.addListener=function(h,k){this.subscribe(h);d.prototype.addListener.call(this,h,k);return this;};g.prototype.removeListener=function(h,k){d.prototype.removeListener.call(this,h,k);this.listeners(h) || (m.events.removeListener(h,this.Zfa[h]),delete this.Zfa[h]);return this;};g.prototype.on=function(h,k){this.addListener(h,k);return this;};g.prototype.once=function(h,k){var p;function n(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}p.removeListener(h,n);k.apply(void 0,c.__spread(q));}p=this;this.addListener(h,n);return this;};g.prototype.TX=function(h,k){this.subscribe(h);d.prototype.TX.call(this,h,k);return this;};g.prototype.k6a=function(h,k){var p;function n(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}p.removeListener(h,n);k.apply(void 0,c.__spread(q));}p=this;this.TX(h,n);return this;};return g;})(f.EventEmitter))();};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.CKa=void 0;c=a(2);f=a(17);l=c.__importStar(a(10));m=a(16);d=a(216);g=a(16);h=a(9);k=a(5);n=a(22);p=a(217);q=a(54);u=a(99);t=a(118);w=a(253);v=c.__importDefault(a(6));x=a(214);y=a(961);z=a(962);A=0;r=(function(B){function E(D,F,C,G,K,J,I,M,R,H,P){var N,L,Q,S,U;S=B.call(this) || this;S.console=D;S.Uo=F;S.TS=C;S.vL=K;S.bZ=J;S.nw=M;S.V=H;S.config=P;S.qr=!1;S.lS=!1;S.qt=void 0;S.Pe=function(){var ca,ka,ya,qa,Y;null === (ca=S.HK) || void 0 === ca?void 0:ca.clear();ca=S.wlb;Y=S.Aob;k.assert(ca);S.Jg && k.assert(Y);S.vl.value !== g.ma.jr && S.vl.value !== g.ma.cj && (null !== (ka=S.Ha) && void 0 !== ka && ka.wm?(ka=null === (qa=null === (ya=S.Uo.Ka.Qb.get()) || void 0 === ya?void 0:ya.Ra) || void 0 === qa?void 0:qa.Fa,S.qa.LZ("startplay",q.de.cp),S.waa.BT("emitBufferingComplete",{}),y.W4(S,ca,S.Ha.Wg,ka,Y,S.qa.JL)):S.console.error("Shim received buffering complete but player has no position (player " + (S.Ha?"":"un") + "defined, state " + S.vl.value + ")"));};S.NT=function(){var ca,ka,ya;S.waa.BT("audioTrackSwitchComplete",{});k.assert(void 0 !== S.ln);ka=S.TS.audio_tracks[S.ln];ya=S.ln;S.ln=void 0;y.hVa(S,ka,ya);null === (ca=S.rX) || void 0 === ca?void 0:ca.call(S);S.rX=void 0;};k.assert(2 >= G.length,"Ase session shim suports a maximum of 1 parallel graph.");C=c.__read(G,2);D=C[0];C=C[1];S.Fi=new f.Xh();S.X=D.za.pa[J[0].ya].X;S.vl=new h.gr(g.ma.Ah);S.gB=new u.sF(S.console);I.ue && (S.s8=new x.cK(S.console,P));S.qa=D;S.Jg=C;G.forEach(function(ca){var ka,ya;ka=ca.FC(S.gB);S.s8 && (ka=new u.et([S.s8,ka]));ya=ca.EC();ca.S$(ya,ka);});S.c$b=!1;S.yUa=!1;y.r2a(S.console,F,S,D,C);U=A++;S.waa=new t.MB({Au:S,source:"ShimSession",console:S.console,AD:50,$ha:function(){return {shimId:U};}});S.qa.Ji(new w.LB(S.waa));S.Ibb=void 0 !== (null === (Q=null === (L=(N=S.V).GV) || void 0 === L?void 0:L.call(N)) || void 0 === Q?void 0:Q.Y);S.Cd=z.ZQa(H);F=S.mTa({Bd:S.o2a(S.qa.za.Bd),HV:S.l6.bind(S)});S.Ha=F;S.Jg && (S.uj=S.mTa({Bd:S.o2a(S.Jg.za.Bd),HV:S.l6.bind(S)}));S.Ha.events.on("segmentPresenting",function(){S.qt=S.uNa();});S.on("streamerend",function(){return S.UZb();});S.f9a();return S;}c.__extends(E,B);Object.defineProperties(E.prototype,{J:{get:function(){return this.X;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ba:{get:function(){return this.nw.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{Zg:{get:function(){return this.Fi;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{Ge:{get:function(){return {rac:{1:{U:{Ga:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{jJ:{get:function(){return void 0 !== this.ln;},enumerable:!1,configurable:!0}});E.prototype.UMb=function(){var D,F,C,G,K;D=this;K=null === (G=null === (C=(F=this.V).GV) || void 0 === C?void 0:C.call(F)) || void 0 === G?void 0:G.Y;k.assert(K,"video element is not defined");K.addEventListener("play",function(){return D.pPa();});K.addEventListener("pause",function(){return D.Wj();});};E.prototype.UZb=function(){this.Uo.Mp(!0,this.nw.sessionId);};E.prototype.UP=function(D,F){var C;this.qa.yi((C={},C[D]=F,C));};E.prototype.open=function(){var D,F,C,G;D=this;if(!this.qr){this.qr=!0;this.Uo.Mp(this.config.yr,this.nw.sessionId);G=new Promise(function(K){setTimeout(K,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.qa.open();null === (F=this.Jg) || void 0 === F?void 0:F.open();this.qa.bE(this.bZ[0]);k.assert(this.Ha,"asePlayer should be defined on session.open");this.bZ[1] && (F=this.qa.bD(this.bZ[0]),k.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (C=this.Jg) || void 0 === C?void 0:C.bE(this.bZ[1],F.xG));y.p2a(this.Uo,this,this.Ha,this.console);this.vl.set(g.ma.xd);G.then(function(){D.Uq(D.Pe);});this.qa.wia(this.Ha);this.Jg && (k.assert(this.uj,"parallelPlayer should be defined on session.open"),this.Jg.wia(this.uj));this.Ibb && this.UMb();}};E.prototype.l6=function(){this.rj || (this.rj=new v.default.MediaSource(this.Cd),this.rj.qc || (this.rj.qc=v.default.MediaSource.qc));return this.rj;};E.prototype.mTa=function(D){void 0 === D && (D={});D=c.__assign({ED:this.config.ED,Ata:this.config.Ata},D);return this.Uo.Ka.PPa(this.Cd,D);};E.prototype.o2a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};E.prototype.close=function(){this.qr && (this.qr=!1);this.Uo.Mp(!0,this.nw.sessionId,!0);};Object.defineProperties(E.prototype,{eG:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});E.prototype.flush=function(){var D;this.qr && this.vl.value !== g.ma.cj && this.vl.value !== g.ma.jr && this.stop();this.qa.LZ("endplay",q.de.$p);this.qa.Ff();null === (D=this.Jg) || void 0 === D?void 0:D.Ff();this.Uo.Mh.save();this.Uo.Jn.save();};E.prototype.paused=function(){this.Ibb || this.Wj();};E.prototype.Wj=function(){this.vl.value === g.ma.Lc && (this.vl.set(g.ma.jh),this.Cd.emit("paused",{type:"paused",Ed:this.Cd.Nc}));};E.prototype.pPa=function(){this.vl.value === g.ma.jh && (this.vl.set(g.ma.Lc),this.Cd.emit("playing",{type:"playing",Ed:this.Cd.Nc}));};E.prototype.fd=function(){var D,F;this.qr && this.vl.value !== g.ma.cj && this.vl.value !== g.ma.jr && this.stop();this.Uo.TVb(this);this.qr && this.close();this.ey && (clearInterval(this.ey),this.ey=void 0);null === (D=this.HK) || void 0 === D?void 0:D.clear();this.Ha && this.Uo.Ka.RO(this.Ha);this.uj && this.Uo.Ka.RO(this.uj);null === (F=this.rj) || void 0 === F?void 0:F.Yp();};E.prototype.suspend=function(){};E.prototype.resume=function(){};E.prototype.play=function(){var D;D=this;this.qa.state !== d.Hj.CLOSED && (k.assert(this.Ha,"ShimSession.play(), expected asePlayer to exist."),this.Ha.resume(this.lS?[1]:void 0),this.Jg && (k.assert(this.uj,"ShimSession.play(), expected parallelPlayer to exist."),this.uj.resume(this.lS?[1]:void 0)),this.vl.set(g.ma.Lc),this.Cd.emit("playing",{type:"playing",Ed:this.Cd.Nc}),this.emit("play"),this.ey || (this.ey=setInterval(function(){return D.$Pb();},this.config.OL)));};E.prototype.stop=function(){this.vl.set(g.ma.jr);k.assert(this.Ha,"ShimSession.stop(), expected asePlayer to exist.");this.Ha.pause();this.Jg && (k.assert(this.uj,"ShimSession.stop(), expected parallelPlayer to exist."),this.uj.pause());this.Cd.emit("paused",{type:"paused",Ed:this.Cd.Nc});this.emit("stop");};E.prototype.mz=function(D){var F,C,G,K;void 0 === F && (F=!0);this.Ha?(D=parseInt(D),l.isFinite(D) && (null === (C=this.s8) || void 0 === C?void 0:C.H$a(),F?(this.Ha.RY(D),null === (G=this.uj) || void 0 === G?void 0:G.RY(D)):(this.Ha.$va(D),null === (K=this.uj) || void 0 === K?void 0:K.$va(D)))):this.fail("Must call open prior to drmReady");};E.prototype.H6=function(){var D;if(!this.Ha || !this.Ha.wm)return !1;D=this.Ha.Po(this.qa.za.pa[this.Ha.Rk.ya].X);return D && this.Jg && this.uj?this.uj.Po(this.Jg.za.pa[this.uj.Rk.ya].X):D;};E.prototype.Zn=function(){var D;null === (D=this.s8) || void 0 === D?void 0:D.H$a();this.vl.set(g.ma.Qf);this.Cd.emit("underflow",{type:"underflow",Ed:this.Cd.Nc});this.Uq(this.Pe);};E.prototype.h6=function(D){var F;F=q.de.cp;switch(D){case "intrplay":F=q.de.Zn;break;case "endplay":F=q.de.$p;}D=this.qa.h6(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.eG});};E.prototype.xta=function(){this.Cd.emit("playbackRateChanged",{type:"playbackRateChanged",Ed:this.Cd.Nc});};E.prototype.Wn=function(){var D;D=this.Cd.Re();D={type:"skipped",pts:n.T.Ab(D)};this.Cd.emit(D.type,D);return new p.qF(Promise.resolve()).ova;};E.prototype.rja=function(D,F){var C;F=this.Yna(F || 0,D);return null === (C=this.qa.An(F,D)) || void 0 === C?void 0:C.gd;};E.prototype.Ht=function(D,F){var C;C=new n.T(F,1E3);return (C=this.qa.ls(C,{M9a:!0,L9a:!0}))?this.qa.za.pa[C.ya].Db + Number(C.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};E.prototype.eM=function(D,F){D=this.Yna(D || 0,F);D={ya:D,offset:new n.T(F - this.qa.za.pa[D].Db,1E3)};return (D=this.qa.TV(D))?D.W:F;};E.prototype.j7=function(){var D,F,C;F={};C=null === (D=this.qa) || void 0 === D?void 0:D.yw();D=this.Jg?this.Jg.yw():C;C && (F.vbuflmsec=C.totalvbuflmsecs,F.vbuflbytes=C.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};E.prototype.S5=function(){return {Fe:0};};E.prototype.Lo=function(){var D,F;return null !== (D=this.qt) && void 0 !== D?D:(null === (F=this.Ha) || void 0 === F?0:F.J6())?this.uNa():{id:this.bZ[0].ya,Fe:0,gd:0,Mc:Infinity,me:Infinity,zd:0};};E.prototype.uNa=function(){var D,F,C,G,K,J,I,M,R;k.assert(this.Ha,"attempted to get presenting branch information with no player");k.assert(this.Ha.J6(),"attempted to get presenting branch information but player has no branches");J=this.Ha.Lo() || ({});I=J.O;M=J.Sf;R=J.EO;J=J.gI;return {id:I.id,Fe:null !== (D=null === M || void 0 === M?void 0:M.W) && void 0 !== D?D:0,gd:null !== (F=null === I || void 0 === I?void 0:I.Og.W) && void 0 !== F?F:0,Mc:null !== (C=null === I || void 0 === I?void 0:I.Vk.W) && void 0 !== C?C:Infinity,me:null !== (G=null === R || void 0 === R?void 0:R.W) && void 0 !== G?G:Infinity,zd:null !== (K=null === J || void 0 === J?void 0:J.W) && void 0 !== K?K:0};};E.prototype.q7a=function(){this.IH("removeSession");};E.prototype.xs=function(D,F){void 0 === F && (F=0);k.assert(!this.Jg,"Seeking with dual playgraphs not supported.");F=this.Yna(F,D);this.Uo.Mp(this.config.yr,this.nw.sessionId);D={ya:F,offset:n.T.Ab(D - this.qa.za.pa[F].Db)};this.qt=void 0;this.qa.bE(D);k.assert(this.Ha);this.Ha.resume();this.vl.set(g.ma.xd);this.Uq(this.Pe);D=this.qa.xva(D);k.assert(D,"Valid position must be provided for seek");return D.offset.W;};E.prototype.seek=function(D,F){D=this.Ht(F,D);return this.xs(D,F);};E.prototype.Er=function(D,F,C){var G,K;G=this.Lo().id;K=this.qa.eN(G,D);if(F){if(!K.Kbb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + G)),!1);if(void 0 !== K.gO)return (this.qa.ti(G,D,!1,F),K.gO === D);this.qa.ti(G,D,!1,F);return !0;}if(void 0 !== K.gO)return (C || this.xs(K.gd,0),!1);K.PL?(k.assert(this.Ha),this.Ha.reset(),this.qa.ti(G,D,!1,F),this.Ha.resume(),this.vl.set(g.ma.xd),this.Uq(this.Pe)):C || this.xs(K.gd,0);return ! !K.PL;};E.prototype.CL=function(){this.IH("addManifest");};E.prototype.xT=function(){return this.IH("activateManifest");};E.prototype.u4a=function(){this.OMa();};E.prototype.kaa=function(D){var F,C,G,K,J;F=this.Jg?this.uj:this.Ha;C=D.sn;k.assert(!this.Jg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.ln)return !1;D=this.TS.audio_tracks;if(!D.some(function(I,M){if(I.track_id === C)return (G=I,K=M,!0);}))return !1;D=D[this.vL[0]];this.ln=K;J=null === F || void 0 === F?void 0:F.WA;J?this.OMa():(this.lS=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:G.language,newNumChannels:G.channels,sourceBufferReset:J}));return !0;};E.prototype.Mq=function(D,F){this.gB.Mq(D,F);};E.prototype.Li=function(D){return this.Ha?this.Ha.Li(n.T.Ab(D)):!1;};E.prototype.i5=function(){this.IH("evaluateQoE");};E.prototype.Nwa=function(){this.IH("stopBuffering");};E.prototype.TI=function(){return this.IH("startBuffering");};E.prototype.lZa=function(){return this.IH("getStreamingStatistics");};E.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};E.prototype.Yna=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.hV(F);};E.prototype.hV=function(D){var F,C,K,J,I,M,R;F=this.qa.za;C=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var G in F.pa){K=F.pa[G];J=K.Db;K=K.Ob;I=D < Number(null !== K && void 0 !== K?K:Infinity);if(J <= D && I)C.push(G);else if((J=Math.min(Math.abs(D - J),Math.abs(D - K)),void 0 === M || J < M))(M=J,R=G);}k.assert(1 >= C.length,"Overlapped segments detected in branching, this is not supported");D=C[0] || R;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};E.prototype.$Pb=function(){var D,F;F=null === (D=this.qa) || void 0 === D?void 0:D.yw();D=this.Jg?this.Jg.yw():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};E.prototype.IH=function(D){return this.fail("Method not implemented " + D);};E.prototype.OMa=function(){k.assert(void 0 !== this.ln);this.vL[0]=this.ln;this.f9a();this.Uq(this.NT);};E.prototype.f9a=function(){var D;D=this;this.Jg?(this.qa.eE({ys:function(){}},{ys:function(){return D.vL[1];}}),this.Jg.eE({ys:function(){return D.vL[0];}},{ys:function(){}})):this.qa.eE({ys:function(){return D.vL[0];}},{ys:function(){return D.vL[1];}});this.lS && ((this.Jg?this.uj:this.Ha).resume([0]),this.lS=!1);};E.prototype.OXb=function(D){this.wlb=D;};E.prototype.iYb=function(D){this.Aob=D;};E.prototype.Uq=function(D){var F,C;F=this;D !== this.NT && void 0 !== this.ln?this.rX=D:(null === (C=this.HK) || void 0 === C?void 0:C.clear(),!this.Jg && this.Ha?this.HK=h.gr.tya([this.qa.Ef,this.Ha.vW],function(G){var K,J;G=c.__read(G,2);J=G[1];return G[0] === m.Kc.dj && (null === (K=F.Ha) || void 0 === K?void 0:K.wm) && J.greaterThan(F.Ha.Wg);},this.nTa(D)):this.Ha && (this.HK=h.gr.tya([this.qa.Ef,this.Ha.vW,this.Jg.Ef,this.uj.vW],function(G){var K,J,I,M,R;G=c.__read(G,4);I=G[1];M=G[2];R=G[3];return G[0] === m.Kc.dj && (null === (K=F.Ha) || void 0 === K?void 0:K.wm) && I.greaterThan(F.Ha.Wg) && M === m.Kc.dj && (null === (J=F.uj) || void 0 === J?void 0:J.wm) && R.greaterThan(F.uj.Wg);},this.nTa(D))));};E.prototype.nTa=function(D){var F;F=this;return function(C){var G;C && (null === (G=F.HK) || void 0 === G?void 0:G.clear(),F.HK=void 0,Promise.resolve().then(D));};};c.__decorate([t.bc({methodName:"updateChoiceMapEntry",zr:!0})],E.prototype,"UP",null);c.__decorate([t.bc({methodName:"open"})],E.prototype,"open",null);c.__decorate([t.bc({methodName:"close"})],E.prototype,"close",null);c.__decorate([t.bc({methodName:"paused"})],E.prototype,"Wj",null);c.__decorate([t.bc({methodName:"unpaused"})],E.prototype,"pPa",null);c.__decorate([t.bc({methodName:"cleanup"})],E.prototype,"fd",null);c.__decorate([t.bc({methodName:"suspend"})],E.prototype,"suspend",null);c.__decorate([t.bc({methodName:"resume"})],E.prototype,"resume",null);c.__decorate([t.bc({methodName:"play"})],E.prototype,"play",null);c.__decorate([t.bc({methodName:"stop"})],E.prototype,"stop",null);c.__decorate([t.bc({zr:!0,methodName:"drmReady"})],E.prototype,"mz",null);c.__decorate([t.bc({methodName:"underflow"})],E.prototype,"Zn",null);c.__decorate([t.bc({methodName:"getLogdataReport"})],E.prototype,"h6",null);c.__decorate([t.bc({methodName:"skipped"})],E.prototype,"Wn",null);c.__decorate([t.bc({methodName:"seekByContentPts"})],E.prototype,"xs",null);c.__decorate([t.bc({methodName:"seek"})],E.prototype,"seek",null);c.__decorate([t.bc({methodName:"chooseNextSegment",zr:!0})],E.prototype,"Er",null);c.__decorate([t.bc({methodName:"onAudioTrackSwitchStarted"})],E.prototype,"u4a",null);c.__decorate([t.bc({methodName:"switchTracks"})],E.prototype,"kaa",null);return E;})(f.EventEmitter);b.CKa=r;},function(r,b,a){var l,m;function c(d,g,h){var k,n;k=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(k,function(p){d.emit(n,l.__assign(l.__assign({},p),{type:n}));});}function f(d,g,h,k){var n,p;g.events.once(d,function(q){(n=q) && p && k(n,p);});h.events.once(d,function(q){p=q;n && p && k(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.hVa=b.W4=b.p2a=b.r2a=void 0;l=a(2);m=a(20);b.r2a=function(d,g,h,k,n){var q;function p(u,t){c(h,u,t);}g=n?[k,n]:[k];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(u){return p(k.events,u);});n?(p(n.events,"initialAudioTrack"),f("streamerEnd",k,n,function(u){h.emit("streamerend",l.__assign(l.__assign({},u),{type:"streamerend"}));})):(p(k.events,["streamerEnd","streamerend"]),p(k.events,"initialAudioTrack"));k.events.on("logdata",function(u){h.emit("logdata",l.__assign(l.__assign({},u),{fields:l.__assign(l.__assign({},u.fields),{aseApiVersion:h.eG})}));});q=!0;k.events.on("bufferingStarted",function(u){h.jJ && q?q=!1:(h.waa.BT("bufferingStarted",{}),h.emit("bufferingStarted",u));});k.events.on("bufferingComplete",function(u){h.jJ?q=!0:h.OXb(u);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(u){h.jJ || h.iYb(u);});k.events.on("maxVideoBitrateChanged",function(u){h.emit("maxvideobitratechanged",l.__assign(l.__assign({},u),{type:"maxvideobitratechanged",Occ:u.streaming.W}));});k.events.on("error",function(u){u=l.__assign(l.__assign({},u),{manifestIndex:0});h.emit("error",u);});h.on("error",function(){});k.events.on("segmentComplete",function(u){h.emit("segmentComplete",{type:"segmentComplete",mediaType:u.mediaType,manifestIndex:0,segmentId:u.segmentId});});k.events.on("segmentNormalized",function(u){var t;t=Math.floor(u.viewableContentEnd.W);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:t,maxPts:t,maxSeekPts:Math.floor(u.viewableEarliestContentEnd.W)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:t,maxPts:t});});k.events.on("segmentStarting",function(u){h.emit("maxBitrates",{type:"maxBitrates",audio:u.maxBitrates.audio,video:u.maxBitrates.video});h.emit("segmentStarting",u);});g.forEach(function(u){u.events.on("serverSwitch",function(t){h.emit("serverSwitch",{type:"serverSwitch",segmentId:t.segmentId,mediatype:t.mediatype,server:t.server,reason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver});});u.events.on("streamSelected",function(t){var w;w=u.bD(t.position);h.emit("streamSelected",{type:"streamSelected",nativetime:t.nativetime,mediaType:t.mediaType,streamId:t.streamId,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex,movieTime:w.xG.W,bandwidth:t.bandwidth,longtermBw:t.longtermBw,rebuffer:t.rebuffer});});u.events.on("updateStreamingPts",function(t){var w;w=h.J;m.ga && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:t.mediaType,manifestIndex:0,trackIndex:t.trackIndex,segmentId:t.position.ya,movieTime:Math.floor(t.completePlayerStreamingTimestamp.W)});});});};b.p2a=function(d,g,h,k){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.W;q=g.qa.bD(n.position);void 0 === q?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.xG.W),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,u;p=g.qa.bD(n.position);q=n.playerTimestamp.Ma(p.xG);u=n.position.ya;g.yUa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.W,movieId:p.X.toString(),replace:!1,contentOffset:q.W}),g.yUa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:u,contentOffset:q.W,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.W);g.Cd.emit("skipped");});};b.W4=function(d,g,h,k,n,p){var q;h=h.W;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:g.reason,actualbw:k,initSelReason:null !== (q=g.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.hVa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZQa=void 0;r=a(2);c=a(17);f=r.__importDefault(a(124));l=a(9);b.ZQa=function(m){if(m.Wkb)return m;f.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{Wkb:{value:!0},Nc:{get:function(){return new l.T(this.Re(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Ko?this.Ko():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vvb={Rw:["minInitVideoBitrate",-Infinity],Pra:["minHCInitVideoBitrate",-Infinity],jA:["maxInitVideoBitrate",Infinity],bX:["minInitAudioBitrate",-Infinity],aX:["minHCInitAudioBitrate",-Infinity],NW:["maxInitAudioBitrate",Infinity],C8:["minAcceptableVideoBitrate",-Infinity],YW:["minAcceptableVMAF",0],$Ob:["minAcceptableVMAFRebufferScalingFactor",0],Ora:["minAllowedVideoBitrate",-Infinity],YNb:["maxAllowedVideoBitrate",Infinity],KH:["minAllowedVmaf",-Infinity],x2a:["maxAllowedVmaf",Infinity],GP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],a5:["enableResolutionVMAFStreamFilter",!1],mta:["percentCapTitlesForResolutionVMAFStreamFilter",100],u$:["resolutionVMAFCappingRuleList",[]],r_a:["ignoreUserFilterOnEmptyResult",!0],cX:["minRequiredBuffer",2E4],J8:["minRequiredAudioBuffer",0],sj:["minPrebufSize",5800],F8:["minCheckBufferingCompleteInterval",200],Z4:["enableMoreFrequentBufferingCompleteCheck",!1],Sra:["minimumBufferingCompleteInterval",1E4],p$:["requireDownloadDataAtBuffering",!1],I_a:["indicatorForDownloadDataAtBuffering","oncomplete"],q$:["requireSetupConnectionDuringBuffering",!1],Cua:["rebufferingFactor",1],ds:["maxBufferingTime",2E3],eya:["useMaxPrebufSize",!0],zD:["maxPrebufSize",4E4],tra:["maxRebufSize",Infinity],WCb:["fastRebufferRecoveryThreshold",Infinity],VCb:["fastRebufferRecoverBwThrehold",3E3],c7:["initialBitrateSelectionCurve",null],N_a:["initSelectionLowerBound",-Infinity],O_a:["initSelectionUpperBound",Infinity],naa:["throughputPercentForAudio",15],Mia:["bandwidthMargin",0],Oia:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Msb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Vy:76376,scale:18862.4,gamma:3.0569}],Nia:["bandwidthMarginContinuous",!1],Nsb:["bandwidthMarginForAudio",!0],fxa:["switchConfigBasedOnInSessionTput",!0],hka:["conservBandwidthMargin",20],mU:["conservBandwidthMarginTputThreshold",6E3],ika:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],G$a:["switchAlgoBasedOnHistIQR",!1],nE:["switchConfigBasedOnThroughputHistory","iqr"],sra:["maxPlayerStateToSwitchConfig",-1],Uqa:["lowEndMarkingCriteria","iqr"],Oca:["IQRThreshold",.5],Uoa:["histIQRCalcToUse","simple"],At:["bandwidthManifold",{curves:[{min:.05,max:.82,Vy:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Vy:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],vu:["maxTotalBufferLevelPerSession",0],e_a:["highWatermarkLevel",3E4],nab:["toStableThreshold",3E4],taa:["toUnstableThreshold",0],ywa:["skipBitrateInUpswitch",!1],vya:["watermarkLevelForSkipStart",8E3],Ooa:["highStreamRetentionWindow",9E4],Vqa:["lowStreamTransitionWindow",51E4],Qoa:["highStreamRetentionWindowUp",5E5],Xqa:["lowStreamTransitionWindowUp",1E5],Poa:["highStreamRetentionWindowDown",6E5],Wqa:["lowStreamTransitionWindowDown",0],Noa:["highStreamInfeasibleBitrateFactor",.5],cA:["lowestBufForUpswitch",9E3],Z7:["lockPeriodAfterDownswitch",15E3],Zqa:["lowWatermarkLevel",15E3],dA:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],$qa:["lowestWaterMarkLevelBufferRelaxed",!1],Cra:["mediaRate",1.5],n8:["maxTrailingBufferLen",15E3],IT:["audioBufferTargetAvailableSize",262144],XZ:["videoBufferTargetAvailableSize",1048576],S2a:["maxVideoTrailingBufferSize",8388608],z2a:["maxAudioTrailingBufferSize",393216],r5:["fastUpswitchFactor",3],dWa:["fastUpswitchFactorWithoutHeaders",3],dma:["fastDownswitchFactor",3],kA:["maxMediaBufferAllowed",27E4],tbc:["minMediaBufferLen",1E4],wwa:["simulatePartialBlocks",!0],E9a:["simulateBufferFull",!0],jka:["considerConnectTime",!0],gka:["connectTimeMultiplier",1],W1a:["lowGradeModeEnterThreshold",12E4],X1a:["lowGradeModeExitThreshold",9E4],C2a:["maxDomainFailureWaitDuration",3E4],y2a:["maxAttemptsOnFailure",18],UVa:["exhaustAllLocationsForFailure",!0],I2a:["maxNetworkErrorsDuringBuffering",20],g8:["maxBufferingTimeAllowedWithNetworkError",6E4],DL:["alwaysRunUnderflowTimer",!0],bWa:["fastDomainSelectionBwThreshold",2E3],T$a:["throughputProbingEnterThreshold",4E4],U$a:["throughputProbingExitThreshold",34E3],J1a:["locationProbingTimeout",1E4],jWa:["finalLocationSelectionBwThreshold",1E4],R$a:["throughputHighConfidenceLevel",.75],S$a:["throughputLowConfidenceLevel",.4],Hqa:["locationStatisticsUpdateInterval",6E4],iNb:["locationSelectorPersistFailures",!0],uVa:["enablePerfBasedLocationSwitch",!1],Xac:["maxRateMaxFragmentGroups",4500],sta:["pipelineScheduleTimeoutMs",2],lA:["maxPartialBuffersAtBufferingStart",2],fPb:["minPendingBufferLen",3E3],l8:["maxPendingBufferLen",6E3],TBb:["enableNginxRateLimit",!1],d9:["nginxSendingRate",4E4],XBb:["enableRequestPacingToken",!1],GOb:["mediaRequestPacingSpeed",2],qpa:["initialMediaRequestToken",2E4],e8:["maxActiveRequestsSABCell100",2],K2a:["maxPendingBufferLenSABCell100",500],P7a:["resetActiveRequestsAtSessionInit",!0],Ela:["enableCprAudio",!1],Fla:["enableCprVideo",!1],Tja:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],FZb:["staticPacingRateKbps",0],YRb:["paceRateSelectorAlgorithm","default"],tVa:["enablePaceReportLogging",!1],h1b:["unpacedFragmentInterval",0],MJb:["ignorePacedRequestsThroughput",!1],LJb:["ignoreInferredPacedRequestsThroughput",!1],z9:["pacedThresholdPct",.1],Lua:["regressionAlgoPacingCoefficients",[{bufferLevelMs:0,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:2,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}},{bufferLevelMs:3E4,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:1,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}]],Y4:["enableInitialTputLogging",!1],ura:["maxResponsesInitialTput",6],vra:["maxStreamingSkew",2E3],aOb:["maxBufferOccupancyForSkewCheck",Infinity],a2b:["useBufferOccupancySkipBack",!0],qra:["maxPendingBufferPercentage",10],N2a:["maxRequestsInBuffer",120],K6:["headerRequestSize",4096],Ula:["estimateHeaderSize",!0],eac:["headerCacheEstimateHeaderSize",!1],RH:["neverWipeHeaderCache",!1],m2b:["useSidxInfoFromManifestForHeaderRequestSize",!1],cWa:["fastPlayHeaderRequestSize",0],VN:["maxRequestSize",0],aO:["minRequestSize",65536],ZW:["minBufferLenForHeaderDownloading",1E4],K9a:["smartHeaderPreDownloading",!1],DBb:["enableAllHeadersPreDownloading",!1],Qbc:["onlyAllowPtsUpdatePolling",!1],gPb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],bP:["reserveForSkipbackBufferMs",15E3],usa:["numExtraFragmentsAllowed",2],zq:["pipelineEnabled",!0],UN:["maxParallelConnections",3],j2b:["usePipelineForAudio",!1],i2b:["usePipelineDetectionForAudio",!1],N9a:["socketReceiveBufferSize",0],x3:["audioSocketReceiveBufferSize",32768],ZP:["videoSocketReceiveBufferSize",65536],Ebb:["usePipelineDetectionForVideo",!1],kPb:["minVideoSocketReceiveBufferSize",65536],Loa:["headersSocketReceiveBufferSize",32768],IYb:["shareDownloadTracks",!0],JYb:["shareOpenRangeTracks",!1],xAb:["disableHeaderDownloadTracks",!1],Rra:["minTimeBetweenHeaderRequests",void 0],Laa:["updatePtsIntervalMs",1E3],Zia:["bufferTraceDenominator",0],OL:["bufferLevelNotifyIntervalMs",2E3],Xwa:["streamingStatusIntervalMs",2E3],yA:["prebufferTimeLimit",6E4],E8:["minBufferLevelForTrackSwitch",2E3],VBb:["enablePenaltyForLongConnectTime",!1],kta:["penaltyFactorForLongConnectTime",2],Sqa:["longConnectTimeThreshold",200],Yha:["additionalBufferingLongConnectTime",2E3],Zha:["additionalBufferingPerFailure",8E3],jY:["rebufferCheckDuration",6E4],rVa:["enableLookaheadHints",!1],T1a:["lookaheadFragments",2],pz:["enableOCSideChannel",!0],Yta:["probeRequestTimeoutMilliseconds",3E4],dcc:["probeRequestConnectTimeoutMilliseconds",8E3],S0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],YBb:["enableSCByteRangeHints",!1],Zab:["updateDrmRequestOnNetworkFailure",!0],B2a:["maxDiffAudioVideoEndPtsMs",1E3],Szb:["deferAseHeaderCache",!1],lUa:["deferAseScheduling",!1],Z$a:["timeBeforeEndOfStreamBufferMark",6E3],i8:["maxFastPlayBufferInMs",2E4],dOb:["maxFastPlayContentTimeThresholdMs",112E3],ora:["maxFastPlayBitThreshold",2E8],nra:["maxBufferingCompleteBufferInMs",Infinity],rtb:["bufferingCompleteOnMemoryLimit",!1],D8:["minAudioMediaRequestSizeBytes",0],L8:["minVideoMediaRequestSizeBytes",0],$Nb:["maxAudioMediaRequestSizeBytes",Infinity],qOb:["maxVideoMediaRequestSizeBytes",Infinity],hOb:["maxMediaRequestSizeBytesInFraction",1],Qw:["minAudioMediaRequestDuration",0],pA:["minVideoMediaRequestDuration",0],H8:["minMediaRequestDuration",0],ZNb:["maxAudioMediaRequestDuration",Infinity],pOb:["maxVideoMediaRequestDuration",Infinity],j8:["maxMediaRequestDuration",Infinity],dia:["allowFirstRequestAggregation",!1],cPb:["minAudioMediaRequestDurationCache",0],iPb:["minVideoMediaRequestDurationCache",0],SBb:["enableMultiFragmentRequest",!1],zbb:[["useHeaderCache","usehc"],!0],dya:[["useHeaderCacheData","usehcd"],!0],E4:["defaultHeaderCacheSize",4],hUa:["defaultHeaderCacheDataCount",4],D4:["defaultHeaderCacheDataPrefetchMs",0],YIb:["headerCacheMaxPendingData",6],fac:["headerCachePriorityLimit",5],ZZa:["headerCacheAdoptBothAV",!1],k2b:["usePipelineForBranchedAudio",!0],Tub:["childBranchBatchedAmount",1E4],ED:["minimumTimeBeforeBranchDecision",2E3],mPb:["minimumAppendedMediaBeforePlayback",5E3],Wbc:["parallelBranchesDuringBuffering",!1],kOb:["maxRequestsToAttachOnBranchActivation",void 0],dX:["minimumJustInTimeBufferLevel",3E3],MBb:["enableJustInTimeAppends",!1],xQa:["appendPacingFactor",0],Hrb:["appendPacingThreshold",3E3],nVa:["enableDelayedSeamless",!1],B9b:["branchEndPtsIntervalMs",250],NJb:["ignorePtsJustBeforeCurrentSegment",!1],E2a:["maxFragsForFittableOnBranching",300],qSb:["pausePlaylistAtEnd",!0],xqb:["adaptiveParallelTimeoutMs",1E3],AM:["enableAdaptiveParallelStreaming",!1],Yia:["bufferThresholdToSwitchToSingleConnMs",45E3],Xia:["bufferThresholdToSwitchToParallelConnMs",35E3],ABb:["enableAPSForBranching",!1],aba:["waitForPendingConnAdaptation",!1],dsa:["networkFailureResetWaitMs",2E3],csa:["networkFailureAbandonMs",6E4],m8:["maxThrottledNetworkFailures",5],maa:["throttledNetworkFailureThresholdMs",200],Yqa:["lowThroughputThreshold",400],Yla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],$_b:["timeAtEachBitrateRoundRobin",1E4],OWb:["roundRobinDirection","forward"],wJb:["httpsConnectErrorAsPerm",!1],B3a:["mp4ParsingInNative",!1],ii:["enableManagerDebugTraces",!1],j2a:["managerDebugMessageInterval",1E3],i2a:["managerDebugMessageCount",20],f4a:["notifyManifestCacheEom",!0],cCb:["enableUsingHeaderCount",!1],P9a:["sourceBufferInOrderAppend",!0],ZD:["requireAudioStreamToEncompassVideo",!1],fQa:["allowAudioToStreamPastVideo",!1],lTa:["countGapInBuffer",!1],gQa:["allowCallToStreamSelector",!1],zRa:["bufferThresholdForAbort",2E4],Swa:["ase_stream_selector","optimized"],VQa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],opa:["initBitrateSelectorAlgorithm","default"],dja:["bufferingSelectorAlgorithm","default"],RZb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],wVa:["enableThroughputTraceResearchData",!1],V$a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],fx:["researchEnvironmentEnabled",!1],$Bb:["enableStreamSelectionAugmentData",!1],zsb:["augmentDataNumOfChunks",30],ZTa:["ase_ls_failure_simulation",""],Oka:["ase_dump_fragments",!1],Qka:["ase_location_history",0],Rka:["ase_throughput",0],aUa:["ase_simulate_verbose",!1],dh:["stallAtFrameCount",void 0],T9a:["stallAtFrameCountAudio",void 0],kra:["marginPredictor","simple"],ubb:["useBackupUnderflowTimer",!0],SPb:["noDuplicateUnderflowTimer",!1],rdc:["useManifestDrmHeader",!0],sdc:["useOnlyManifestDrmHeader",!0],esa:["networkMeasurementGranularity","video_location"],JPb:["netIntrStoreWindow",36E3],Abc:["minNetIntrDuration",8E3],tmb:["fastHistoricBandwidthExpirationTime",10368E3],Smb:["bandwidthExpirationTime",5184E3],smb:["failureExpirationTime",86400],xOa:["historyTimeOfDayGranularity",4],pmb:["expandDownloadTime",!0],Cnb:["minimumMeasurementTime",500],Bnb:["minimumMeasurementBytes",131072],Pob:["throughputMeasurementTimeout",2E3],Oob:["initThroughputMeasureDataSize",262144],lnb:["historicBandwidthUpdateInterval",2E3],Anb:["minimumBufferToStopProbing",1E4],i9b:["throughputPredictor","ewma"],Fva:["secondThroughputEstimator","slidingwindow"],t8a:["secondThroughputMeasureWindowInMs",3E5],h9b:["throughputMeasureWindow",5E3],j9b:["throughputWarmupTime",5E3],g9b:["throughputIQRMeasureWindow",1E3],T8b:["IQRBucketizerWindow",15E3],F2a:["maxIQRSamples",100],q3a:["minIQRSamples",5],d9b:["connectTimeHalflife",10],Y8b:["responseTimeHalflife",10],GNa:["historicThroughputHalflife",14400],FNa:["historicResponseTimeHalflife",100],ENa:["historicHttpResponseTimeHalflife",100],CDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],jOa:["minReportedNetIntrDuration",4E3],f9b:["throughputBucketMs",500],W8b:["bucketHoltWintersWindow",2E3],hmb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],qmb:["experimentalFilter",["throughput-wssl"]],aga:["filterDefinitionOverrides",{}],Xlb:["defaultFilter","throughput-ewma"],vpb:["secondaryFilter","throughput-sw"],QK:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],Ila:["enableWsslEstimate",!1],$ac:["maxWsslRequestSize",131072],Zac:["maxWsslRequestRatio",.2],lcb:["wsslAggregationMethod","max"],YU:["enableSessionHistoryReport",!0],Bla:["earlyStageEstimatePeriod",1E4],s1a:["lateStageEstimatePeriod",3E4],k8:["maxNumSessionHistoryStored",10],K8:["minSessionHistoryDuration",3E5],eJb:["highAndStableModelName","baseline"],Hla:["enableHighAndStablePredictor",!1],I8:["minNumSessionHistory",5],x9b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],M6:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],fJb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Rha:["addHeaderDataToNetworkMonitor",!0],Hwa:["startMonitorOnLoadStart",!1],$ua:["reportFailedRequestsToNetworkMonitor",!1],H9:["periodicHistoryPersistMs",0],z$:["saveVideoBitrateMs",0],hX:["needMinimumNetworkConfidence",!0],Ria:["biasTowardHistoricalThroughput",!1],mNb:["logMemoryUsage",!1],Pu:["probeServerWhenError",!0],Gy:["allowSwitchback",!0],mI:["probeDetailDenominator",100],h8:["maxDelayToReportFailure",300],yr:["allowParallelStreaming",!1],kbc:["mediaPrefetchDisabled",!1],n3a:["minBufferLevelToAllowPrefetch",5E3],B$:["seamlessAudio",!1],xcc:["seamlessAudioProfiles",[]],ycc:["seamlessAudioProfilesAndTitles",{}],Dva:["seamlessAudioMaximumSyncError",void 0],Eva:["seamlessAudioMinimumSyncError",void 0],Z_a:["insertSilentFrames",0],wpa:["insertSilentFramesOnSeek",!1],$_a:["insertSilentFramesOnSeekForTitles",[]],tKb:["insertSilentFramesOnSeekCount",3],I$b:["forceDiscontinuityAtTransition",!0],cxa:["supportAudioResetOnDiscontinuity",void 0],q_b:["supportAudioEasingOnDiscontinuity",void 0],qBb:["editCompleteFragments",!0],nPb:["minimumAudioFramesPerFragment",1],gG:["applyProfileTimestampOffset",!1],gm:["applyProfileStreamingOffset",!0],u6a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],ssb:["audioProfilesNonSyncSamples",["xheaac-dash"]],T0b:["truncateEndOfStreamAudio",!1],c2b:["useDpiAssumedAacEncoderDelay",!0],Era:["mediaSourceSupportsNegativePts",!1],$N:["minAudioPtsGap",void 0],qsb:["audioOverlapGuardSampleCount",2],vVa:["enableRecordJSBridgePerf",!1],Tca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],X_b:["throughputThresholdSelectorParam",0],Y1b:["upswitchDuringBufferingFactor",2],yrb:["allowUpswitchDuringBuffering",!1],bTa:["contentOverrides",void 0],nka:["contentProfileOverrides",void 0],Toa:["hindsightDenominator",0],Soa:["hindsightDebugDenominator",0],N6:["hindsightAlgorithmsEnabled",[]],O6:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],wQa:["appendMediaRequestOnComplete",!1],$aa:["waitForDrmToAppendMedia",!1],A5:["forceAppendHeadersAfterDrm",!1],Ska:["declareBufferingCompleteAtSegmentEnd",!1],Lw:["maxActiveRequestsPerSession",void 0],Cqa:["limitAudioDiscountByMaxAudioBitrate",!1],hia:["appendFirstHeaderOnComplete",!0],hZ:["strictBufferCapacityCheck",!1],IL:["aseReportDenominator",0],s3:["aseReportIntervalMs",3E5],Caa:["translateToVp9Draft",!1],JP:["switchableAudioProfiles",[]],tsb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],I$a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],wsb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Q2a:["maxStartingVideoVMAF",110],yu:["minStartingVideoVMAF",1],yT:["activateSelectStartingVMAF",!1],H$:["selectStartingVMAFTDigest",-1],hP:["selectStartingVMAFMethod","fallback"],y8a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],xO:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],yAb:["disablePtsStartsEvent",!0],Fua:["recordFirstFragmentOnSubBranchCreate",!0],X2a:["mediaCacheConvertToBinaryData",!1],yra:["mediaCacheSaveOneObject",!1],v2a:["markRequestActiveOnFirstByte",!1],V4:["earlyAppendSingleChildBranch",!0],dB:["useNativeDataViewMethods",!0],b2b:["useCorrectDrainingAmounts",!0],BM:["enableNewAse",!1],TZ:["useNewApi",!1],K4:["aseDiagnostics",[{lj:"queue-audit",enabled:!0},{lj:"task-audit",enabled:!0},{lj:"trace-ShimSession",enabled:!0},{lj:"trace-engine",enabled:!0},{lj:"trace-RequestPacer",enabled:!0},{lj:"trace-BufferStateTracker",enabled:!0},{lj:"trace-GraphStreamingProcess",enabled:!0},{lj:"trace-AsePlaygraph",enabled:!0},{lj:"playgraph-branch-audit",enabled:!0}]],itb:["branchDistanceThreshold",6E4],f8:["maxAllowedOutstandingRequests",4],Qra:["minStreamableConcurrencyWindow",3E3],oOb:["maxStreamableConcurrencyWindow",Infinity],Twa:["streamableConcurrencyFactor",.3],ZT:["bufferingConcurrencyWindow",7800],Uia:["branchCreationThreshold",12E4],X4:["enableDiscontiguousBuffering",!1],Gma:["forceImmediateTransitionTypeForTitles",[]],Fma:["forceImmediateTransitionExitZone",0],hTa:["contiguousBufferMultiplier",3],fTa:["contiguousBufferMinimumAudio",1048576],gTa:["contiguousBufferMinimumVideo",8388608],DTb:["prefetchBudgetInBytes",0],W6a:["rebufferRiskHalfLife",1E4],bya:["useBufferSizeLimiter",!1],n2b:["useStaticBufferSizeLimiter",!1],GTb:["prefetchWeightBudget",32],Tra:["minimumDownstreamBranchProbability",.075],cya:["useExitZones",!0],HTb:["prefetchWhilePlaying",!0],MTb:["prefetcherSoftReset",!0],V5a:["playgraphDefaultWeight",65520],Tzb:["delayNotificationOfEoS",!1],LOb:["memDeadlockShouldCheckMemory",!0],KOb:["memDeadlockOverageThreshold",.9],JOb:["memDeadlockMaxUtilizationPercentage",.5],Ata:["playerPtsPadding",1],$W:["minFragmentVmaf",void 0],Dla:["enableCombinedPlaygraphs",!1]};b.mj=b.Vvb;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.er=b.dr=b.fr=b.gA=b.o1=void 0;c=a(2);f=a(116);Object.defineProperties(b,{dr:{enumerable:!0,get:function(){return f.dr;}}});Object.defineProperties(b,{er:{enumerable:!0,get:function(){return f.er;}}});Object.defineProperties(b,{gA:{enumerable:!0,get:function(){return f.gA;}}});Object.defineProperties(b,{o1:{enumerable:!0,get:function(){return f.o1;}}});l=c.__importDefault(a(6));r=(function(m){function d(g,h,k,n,p){return m.call(this,d.console,g,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.fr);b.fr=r;},function(r,b,a){var c;b=a(177);c=a(966);a=b(function(f,l,m){return c(function(d,g,h){return f(g,h);},l,m);});r.exports=a;},function(r,b,a){var c,f;b=a(177);c=a(417);f=a(967);a=b(function h(m,d,g){return f(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,g);});r.exports=a;},function(r,b,a){var c;b=a(177);c=a(256);a=b(function(f,l,m){var d,g;d={};for(g in l){c(g,l) && (d[g]=c(g,m)?f(g,l[g],m[g]):l[g]);}for(g in m){c(g,m) && !c(g,d) && (d[g]=m[g]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(418);c=a(977);a=a(987);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=[];c < f;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(r,b,a){var c,f;b=a(130);c=a(420);f=a(972);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || f(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(258);b=a(60)(function(f,l){return c(f.length,function(){return f.apply(l,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(60);c=a(421);f=(function(){function l(m,d){this.k_=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.k_["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c,f;c=a(256);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(l){return "[object Arguments]" === f.call(l);}:function(l){return c("callee",l);};};},function(r,b,a){var c;b=a(130);c=a(978);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,l,m,d;b=a(60);c=a(423);f=a(424);l=a(980);m=a(981);d=a(986);a=b(function(g,h){return f(d(l,0,m("length",h)),function(){var k,n;k=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var f,l;function c(m,d,g){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!l(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;l(q) || --n;p+=1;}return 0 >= n?g.apply(this,h):f(n,c(m,h,g));};}f=a(258);l=a(178);r.exports=c;},function(r,b,a){b=a(60)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(60);c=a(982);f=a(984);a=b(function(l,m){return c(f(l),m);});r.exports=a;},function(r,b,a){var c,f,l,m,d,g;b=a(60);c=a(419);f=a(423);l=a(257);m=a(983);d=a(424);g=a(422);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,p){n[p]=h(k[p]);return n;},{},g(k));default:return f(h,k);}}));r.exports=a;},function(r,b,a){var c,f;b=a(60);c=a(421);f=(function(){function l(m,d){this.k_=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.k_["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c;b=a(60);c=a(985);a=b(function(f,l){return c([f],l);});r.exports=a;},function(r,b,a){b=a(60)(function(c,f){for(var l=0;l < c.length;){if(null == f)return;f=f[c[l]];l+=1;}return f;});r.exports=b;},function(r,b,a){b=a(177);a=a(257);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(988);b=a(60);f=a(418);a=b(function(l,m){return f(c(l),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.h_a=void 0;r=a(0);c=a(429);f=a(990);l=a(431);m=a(991);d=a(425);g=a(1016);h=a(439);k=a(1018);n=a(426);p=a(1019);q=a(427);u=a(1020);t=a(443);w=a(261);v=a(1021);x=a(440);y=a(1022);z=a(1023);A=a(428);B=a(1025);b.h_a=new r.rd(function(E){E(c.wDa).to(f.vDa).aa();E(l.ADa).to(m.zDa).aa();E(d.iDa).to(g.hDa).aa();E(h.kDa).to(k.jDa).aa();E(x.uAa).to(y.tAa).aa();E(n.VIa).to(p.UIa).aa();E(q.Qea).to(u.WKa);E(t.sR).to(z.rR);E(A.vR).to(B.uR);E(w.Dca).to(v.DDa);});},function(r,b,a){var f,l,m,d;function c(g,h){this.vJb=g;this.log=h.hb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;r=a(1);f=a(0);l=a(7);m=a(430);d=a(87);c.prototype.download=function(g){var k,n,p,q,u;function h(t){if(u < n.length - 1)return (!1,u++,k.QUa(n[u].url,p,q).catch(h));throw t;}k=this;n=g.urls;p=g.offset;q=g.length;u=0;return this.QUa(n[u].url,p,q).catch(h);};c.prototype.QUa=function(g,h,k){return this.vJb.download({url:g,withCredentials:!1,responseType:d.ResponseType.pdb,HC:"hls_headers",Ls:!0,offset:h,length:k},{P2a:1});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.GDa)),(0,r.__param)(1,(0,f.l)(l.qb))],a);b.vDa=a;},function(r,b,a){var f,l,m;function c(d){this.ta=d.hb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;r=a(1);f=a(0);l=a(262);a=a(7);c.prototype.parse=function(d,g,h){d=new l.fr(this.ta,{mediaType:d},g,["sidx"]).parse();if(d.Em && d.U)return this.k3(d.U,h);};c.prototype.k3=function(d,g){var h,k,n,p,q;h=0;k=0;n=0;p=d.offset;q=[];d.vd.forEach(function(u,t){k+=u;n+=d.sizes[t];if(1E3 * k / d.S >= g || t === d.vd.length - 1)(q.push({duration:k / d.S,Z:h / d.S,byteOffset:p,Atb:n}),h+=k,k=0,p+=n,n=0);});return q;};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.qb))],m);b.zDa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Ac();this.ic=1 === this.version?this.Wi([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Wi([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};l.Wb="mvhd";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Wb="trak";l.Oa=!0;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.Ac();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{tMb:"int16"},{zrb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ic=this.Wi(m);this.ic.y0b=! !(this.flags & 1);this.ic.z0b=! !(this.flags & 2);this.ic.A0b=! !(this.flags & 4);this.ic.B0b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Wb="tkhd";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Ac();this.ic=this.Wi(1 === this.version?[{G5:"int64"}]:[{G5:"int32"}]);return !0;};l.Wb="mehd";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic=this.Wi([{oJb:"int32"},{I2b:"int32"}]);return !0;};l.Wb="pasp";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.ic=this.Wi([{ptb:"int32"},{maxBitrate:"int32"},{Jia:"int32"}]);return !0;};l.Wb="btrt";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Nl();this.u.Nl();for(this.sG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.sG.push(this.u.Nl());}return !0;};l.Wb="ftyp";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(88);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.ic=this.Wi([{xTb:"int32"},{WV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ic.WV=f.ko(this.ic.WV);return !0;};m.Wb="hdlr";m.Oa=!1;return m;})(a(33).Dc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(104);l=a(264);m=a(179);r=a(33);d=a(105);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.Ac();this.um=this.u.Aa();return !0;};h.prototype.Ut=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.sa=new l.T(n.yz,n.samplerate):n instanceof d.default && (n=n.Ua[f.$E]) && n.length && (n=n[0].ic,1E3 !== n.iz && 1001 !== n.iz || 0 !== n.VH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.VH + "/" + n.iz):this.sa=new l.T(n.iz,n.VH)),this.sa && (k.sa=this.sa)));return !0;};h.prototype.rY=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.fh(this.um - 1,this.byteOffset + 12),k=this.Ua[k][0],this.Ie(k.byteLength,k.byteOffset));};h.Wb="stsd";h.Oa=!0;return h;})(r.Dc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Qma=this.u.zc(2);this.Via=this.u.zc(5);this.Wia=this.u.zc(3);this.Hha=this.u.zc(3);this.u.zc(1);this.u.zc(5);this.u.zc(5);return !0;};l.Wb="dac3";return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.ysa=this.u.$c() & 7;this.$wa=[];for(var m=0;m < this.ysa;m++){d={Qma:this.u.zc(2),Via:this.u.zc(5),Wia:this.u.zc(5),Hha:this.u.zc(3),wMb:this.u.zc(1),xsa:this.u.zc(4)};0 < d.xsa?d.wub=this.u.zc(9):this.u.zc(1);this.$wa.push(d);}return !0;};l.Wb="dec3";return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.FY=this.u.Nl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.FY);"cenc" === this.FY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.h_("piff"));this.u.Aa();return !0;};m.Wb="schm";m.Oa=!1;return m;})(f.Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.mb();this.wba=this.u.mb();this.u.mb();this.u.mb();this.u.mb();this.aZ=this.MF(this.u.mb() & 31);this.MF(this.u.mb());this.BA=this.aZ.length?this.aZ[0][0]:this.wba;this.bT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.BA || 110 === this.BA || 122 === this.BA || 144 === this.BA) && (this.u.mb(),this.u.mb(),this.MF(this.u.mb()));m=this.startOffset + this.length - this.bT;0 < m && this.Ie(m,this.bT);return !0;};l.prototype.MF=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.$c();d.push(this.u.FA(h));}return d;};l.Wb="avcC";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Ut=function(){var m;m=this.Dl("esds");if(m=m && m.pca.Dl(5))this.yz=m.yz;return !0;};l.Wb="mp4a";l.Oa=!0;return l;})(a(179).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(266);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.pca=f.NQ.gY(this.u);return !0;};m.Wb="esds";m.Oa=!1;return m;})(a(33).Dc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(104);a=a(33);f=r.$E;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Ac();this.ic=this.Wi([{VH:"int32"},{iz:"int16"}]);return !0;};m.Wb=f;m.Oa=!1;return m;})(a.Dc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.Ac();m=this.Wi([{lJ:"int32"},{EU:"int32"},{fz:"int32"},{hz:"int32"},{gz:"int32"}]);d=m.lJ;g=m.EU;h=m.fz;k=m.gz;m=m.hz;this.ic={trackId:d,Lzb:g,ez:h,Mzb:k,Nzb:m};this.lJ=d;this.EU=g;this.fz=h;this.hz=m;this.gz=k;return !0;};l.Wb="trex";l.Oa=!1;return l;})(a(33).Dc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(1010);l=a(270);m=a(150);d=a(264);g=a(33);r=a(434);h=a(435);k=a(437);n=a(151);p=a(263);q=a(104);u=a(438);a=(function(){function t(w,v,x,y,z,A){this.console=w;this.stream=v;this.Qh=y;this.Xha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.PZa=n.lna();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},w);};t.Dna=function(w){return w && w.sG && -1 !== w.sG.indexOf("mcl0")?"mcl0":void 0;};t.lma=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.U;w=x.vd;v=new d.T(120,1).ag(x.S).vc;y=0;for(x=x.ll;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.yva();if(!v.done){if(v.iX)return {Em:!1,ZPa:v.iX};this.console.error("Scan error: " + v.error);return {Em:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.Xsa(w);return w.done?this.lka():(this.console.error("Parse error: " + w.error),{Em:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.zn=function(w){return g.Dc.zn(this,w);};t.prototype.Dl=function(w){return g.Dc.Dl(this,w);};t.prototype.yva=function(){var w,v;w=new u.Jca(this.Qh,this.Xha?[q.Sx,q.Rx]:[],this.config && this.config.P_b || ["moof",q.ER],this.config && this.config.GX);v=c.__assign(c.__assign({},this.config),{bI:!1});return new k.CE(t.DI,w,this.view,this.console,v).parse();};t.prototype.Xsa=function(w){var v,x,y;v=new u.IQ(this.view.byteLength);x=Object.create(p.xq.Ua);this.config && ((this.config.C9 || this.config.Baa || this.config.hE) && f(p.xq.BI,x),this.config.Caa && f(p.xq.yxa,x),this.config.Baa && f(p.xq.IZ,x));y=c.__assign(c.__assign({},this.config),{bI:!0});this.uc=new k.CE(x,v,this.view,this.console,y);w=this.uc.parse(w);w.done && (this.Ua=this.uc.Ua);return w;};t.prototype.lka=function(){var w,v,x,y,z,A;w={Em:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.C9)if(x)(w.sa=x.sa,w.WWb=x.Ua);else return {Em:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[q.JR])) && (w.AVa={awb:y.nj,vH:y.vH,WLb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.S=y.S;if(y=t.path(v,["mvex","trex"]))w.ez=y && y.ic.ez;w.ez && w.S && (w.sa=new d.T(w.ez,w.S));if(y=t.path(this,["sidx"])){z=t.path(this,[q.Sx]);z=z && z.wra;A=t.path(this,[q.Rx]);A=A && A.di;w.U=y.U;w.NH=z;w.di=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])w.zi=z.zi;if(this.config.b8a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.hE && x && 1 < x.um && y && (w.Yg=this.hE(x,y)),void 0 === w.Yg && (v=this.uc.nz?l.concat(this.uc.va()):this.view.buffer,w.Yg=[{Rd:0,data:v}]));else return {Em:!1,parseError:"Missing movie box"};w.Em=!0;w.HX=this.uc.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.uc.trim(w);this.view=new DataView(v);};t.prototype.hE=function(w,v){var x,y,z;x=Object.keys(w.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Dna(x);if(z)return (x=[],this.uc.lua(),w.rY("encv"),x.push({Rd:0,Uk:!1,data:l.concat(this.uc.va())}),this.uc.Jta(),w.rY(y[0]),w=t.lma(z,v),x.push({Rd:w,Uk:!0,data:l.concat(this.uc.va())}),x);}};t.DI={};return t;})();b.fr=a;a.DI[q.aF]=r.default;a.DI[q.bF]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(150);l=a(270);m=a(88);r=a(1012);d=(function(){function g(h){h?(this.Lf=h.Lf.slice(),this.hh=h.hh.slice(),this.Td=h.Td.slice(),this.trim=h.trim):(this.Lf=[],this.hh=[],this.Td=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Lf.length && 0 === this.hh.length && 0 === this.Td.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,p){k=g.call(this,k,n,p) || this;k.SU=[];k.kb=new d();return k;}c.__extends(h,g);h.nia=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.cv?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.cv?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.cv);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{nz:{get:function(){return !this.kb.empty;},enumerable:!0,configurable:!0}});h.prototype.iB=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.xya=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,cv:!1});void 0 === n && (this.offset+=2);};h.prototype.fh=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,cv:!1});void 0 === n && (this.offset+=4);};h.prototype.yya=function(k,n){this.kb.hh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,cv:!1});void 0 === n && (this.offset+=8);};h.prototype.h_=function(k){this.fh(m.uS(k));};h.prototype.wJ=function(k,n){this.kb.Td.push({offset:this.offset,yl:k,value:n});this.offset+=4;};h.prototype.Ie=function(k,n,p){this.kb.Lf.push({offset:n,remove:k,$a:p});};h.prototype.Vu=function(k,n,p,q){this.kb.Lf.push({offset:p,remove:k,replace:n,$a:q});};h.prototype.trim=function(k){this.kb.trim=k;};h.prototype.lua=function(){this.SU.push(new d(this.kb));};h.prototype.Jta=function(){this.kb=this.SU.pop() || new d();};h.prototype.va=function(){var k,n,p,q,u,t,w;k=this;if(0 === this.kb.Lf.length && 0 === this.kb.hh.length && 0 === this.kb.Td.length)return [void 0 === this.kb.trim?this.view.buffer:this.view.buffer.slice(0,this.kb.trim)];this.kb.Lf.sort(function(v,x){return v.offset - x.offset;});this.kb.hh.sort(function(v,x){return v.offset - x.offset;});this.kva();n=this.ima();p=this.view.buffer.slice(0,n);q=new DataView(p);this.kb.hh.forEach(h.nia.bind(void 0,q));this.Txa(q);this.Rxa(q);u=[];t=void 0 !== this.kb.trim?Math.min(this.kb.trim,this.view.byteLength):this.view.byteLength;w=0;this.kb.Lf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(p.byteLength,w),t));return u;};h.prototype.ima=function(){var k,n,p;k=[];n=this.kb.hh[this.kb.hh.length - 1];p=this.kb.Td[this.kb.Td.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.kb.Lf.filter(function(q){return q.$a;}).forEach(function(q){return k.push(q.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.kb.trim?Math.min(n,this.kb.trim):n;};h.prototype.kva=function(){this.kb.Lf=this.kb.Lf.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (f.assert(p.$a === n.$a),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.Txa=function(k){var n;n=this;this.kb.Td.forEach(function(p){var q,u,t,w;q=k;u=p.offset;n.kb.Lf.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.yl + (void 0 !== p.value?p.value:q.getInt32(u));w=n.kb.Lf.reduce(function(v,x){return x.offset > p.yl && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.yl - w);});};h.prototype.Rxa=function(k){this.kb.Lf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.ffa);b.efa=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);a(151);f=a(88);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.In=this.Ny=this.offset=0;}l.prototype.ina=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.zc=function(m){for(;this.In < m;){this.Ny=(this.Ny << 8) + this.mb();this.In+=8;}this.In-=m;return this.Ny >>> this.In & (1 << m) - 1;};l.prototype.mb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.$c=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.Aa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.pI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.ita=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Ud=function(m,d){m=this.ita(m,d);this.offset+=8;return m;};l.prototype.jta=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.yua=function(){var m;m=this.jta(void 0,void 0);this.offset+=8;return m;};l.prototype.Nl=function(){return f.ko(this.Aa());};l.prototype.HA=function(){var d,g,h,k,n,p;function m(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Aa(!0);g=this.$c(!0);h=this.$c(!0);k=this.$c();n=this.$c();p=this.Aa();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.vua=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.tua=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.mb();0 !== g && 0 <= --m;){d.push(g);g=this.mb();}return String.fromCharCode.apply(null,d);};l.prototype.FA=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Oh(this.config.dB && c.uoa || c.nq,1,m,d,g);};l.prototype.rua=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Oh(this.config.dB && c.soa || c.Fz,2,m,d,g,h);};l.prototype.EA=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Oh(this.config.dB && c.toa || c.du,4,m,d,g,h);};l.prototype.wua=function(){for(var m=this.mb(),d=m & 127;m & 128;){m=this.mb();d=d << 7 | m & 127;}return d;};l.prototype.Oh=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.ffa=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){m.call(this,h,k,n,p);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(104);m=a(271).dr;d=a(436);g=a(88).uS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.iga=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Dwa[h]:d.Dwa[h];};f.prototype.Qua=function(h,k,n){return this.va(h,k,!1,n,void 0);};f.prototype.Uua=function(h,k,n){return this.va(h,k,!0,n,void 0);};f.prototype.va=function(h,k,n,p,q){var t,w,v,x,y,z,A,B,E,D,F,C,G,K;function u(J){w=t[J];v=w.Th("traf");if(void 0 === v || void 0 === v.bk)return !1;A=v.Th("tfdt");if(void 0 === A)return !1;x=v.Th("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Ua.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.uc.console.trace))return !1;if(x.Mb > y || n && x.Mb === y)break;y-=x.Mb;}}else if((h=n?t.length - 1:0,!u(h,this.uc.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.uc.Ie(this.hzb - z.startOffset,z.startOffset);}else !n && 0 < h && this.uc.Ie(w.startOffset,0);z=v.Th("tfhd");if(void 0 === z)return !1;A=v.Th("tfdt");B=x.Mb;E=v.Th("saiz");D=v.Th("saio");F=v.Th(l.IR);C=v.Th("sbgp");if(!(!E && !D || E && D))return !1;G=v.Th("sdtp");if(this.Ua.mdat && h < this.Ua.mdat.length)K=this.Ua.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.Mb:0);if(x.va(v,z,K || this.uc,k,y,v.bk,n))x.nz && (!n && A && A.va(x.Bwa),E && D && (E.va(x.Oq,n),D.va(F?0:E.AI,v.bk,n)),F && F.va(x.Oq,n),G && G.va(x.Oq,B,n),C && C.va(x.Oq,n));else if(!n){if(h === t.length - 1)return !1;this.uc.Ie(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.Oq)return !1;p && (k=this.iga(this.stream.profile,q)) && x.Xua(v,z,K,n,p,k);n=this.uc.va();p=n.reduce(function(J,I){return J + I.byteLength;},0);n={Ld:n,length:p,Rn:this.uc.view.byteLength};x.nz && !K && (n.Hq=v.bk + x.Hq,n.Yi=x.Yi);return n;};r.exports={er:f,gA:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(271);f=a(270);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.va=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ua.moov;if(!h || 0 === h.length)return !1;k=h[0].Dl("tenc");if(!k)return !1;n=new Uint8Array(k.nj);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.uc.Vu(p.from.length,p.to,k.vH);});return f.concat(this.uc.va());};return m;})(r.dr);b.XJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Oj || (b.Oj={});r[r.Vb=0]="AUDIO";r[r.Nb=1]="VIDEO";},function(r,b,a){var d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A){this.DU=z;this.Gc=y.filter(function(B){return B.Hxa[q.cn.z1];}).map(function(B){return {track:B,stream:B.Hxa[q.cn.z1],id:B.UUa[q.cn.z1]};});A || (this.Gc=this.Gc.filter(function(B){return B.track.tg === z;}));}function f(y,z,A){var B;this.aJ=z;this.yu=A;B=y[0];this.kJ=B.streams.map(function(E){return {track:B,tN:E.U9a,stream:E};});}function l(y,z,A,B,E){function D(F,C){return F.bitrate > C.bitrate?F:C;}this.log=y;this.aJ=A;this.DU=B;this.kJ=z.map(function(F){var C;C=F.streams.reduce(D);return {track:F,tN:C.SA?C.SA.offset + C.SA.size:void 0,stream:C};});E || (this.kJ=this.kJ.filter(function(F){return F.track.tg === B;}));}function m(y,z,A,B,E,D){this.$Ib=y;this.aJb=z;this.nTb=A;this.pub=B;this.jH=E;this.Zf=D;this.ta=D.hb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ykb=b.Kkb=b.Vcb=b.hDa=void 0;r=a(1);d=a(0);g=a(262);h=a(429);k=a(431);n=a(3);p=a(41);q=a(45);u=a(439);t=a(440);w=a(261);v=a(7);x=a(1017);m.prototype.gi=function(y,z){var A,B,E,D,F,C;A=this;D=y.$b;y=this.HEb(D,z);F=this.cIb(D,z);C=null !== (E=null === (B=D.kY) || void 0 === B?void 0:B.OP) && void 0 !== E?E:D.zZ.find(function(G){var K;return G.id === (null === (K=D.F4) || void 0 === K?void 0:K[0].w$a);}).tg;B=new c(D.zZ,C,this.jH.eia);return Promise.all([y,F,B]).then(function(G){var K,J;K=aa(G);G=K.next().value;J=K.next().value;K=K.next().value;G={audio:G.getMetadata(),video:J.getMetadata(),text:K.getMetadata(),fUa:G.jna(),Pzb:K.jna(),duration:D.duration,kl:D.kl};J=A.pub.fFb(G);z("h_s");return {MNb:A.nTb.transform(G,J),tub:J,PZb:G};});};m.prototype.cIb=function(y,z){var A;A=new f(y.hB,this.jH.i_a,this.jH.yu);return this.OUa(A.kJ,g.Oj.Nb,z).then(function(B){A.awa(B);return A;});};m.prototype.HEb=function(y,z){var A,B,E,D;E=null !== (B=null === (A=y.kY) || void 0 === A?void 0:A.sn) && void 0 !== B?B:y.hG.find(function(F){var C;return F.id === (null === (C=y.F4) || void 0 === C?void 0:C[0].sn);}).tg;D=new l(this.ta,y.hG,this.jH.Qw,E,this.jH.eia);return this.OUa(D.kJ,g.Oj.Vb,z).then(function(F){D.awa(F);return D;});};m.prototype.$sa=function(y,z,A,B){if(y=this.aJb.parse(z,y,A))return y;this.ta.error("Failed to parse headers",{type:z === g.Oj.Vb?"audio":"video",downloadableId:B.stream.Ir});};m.prototype.OUa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(E,D){if(E.tN)return B.$Ib.download({urls:E.stream.urls,offset:0,length:E.tN}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.$sa(F,z,z == g.Oj.Vb?B.jH.Qw:B.jH.pA,E);}).catch(function(){A("h_" + E.track.ol[0] + "_" + D + "_f");B.ta.warn("Failed to download and parse headers for " + E.stream.Ir);});B.ta.warn("Stream data offset is missing",{downloadableId:E.stream.Ir});}));};a=m;a=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(h.wDa)),(0,r.__param)(1,(0,d.l)(k.ADa)),(0,r.__param)(2,(0,d.l)(u.kDa)),(0,r.__param)(3,(0,d.l)(t.uAa)),(0,r.__param)(4,(0,d.l)(w.Dca)),(0,r.__param)(5,(0,d.l)(v.qb))],a);b.hDa=a;l.prototype.awa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.qd.gcb(n.M.dEa,n.L.nda);this.Gc=this.kJ.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,U:B,aJ:z.aJ};}).filter(x.Upa);};l.prototype.getMetadata=function(){return this.Gc;};l.prototype.jna=function(){var y,z;y=this;if(!this.Gc.find(function(A){return A.track.tg === y.DU;}) && 0 < this.Gc.length){z=this.Gc[0].track.tg;this.log.warn("Did not find metadata for audio track " + this.DU + ", falling back to " + z);return z;}return this.DU;};b.Vcb=l;f.prototype.awa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.qd.gcb(n.M.dEa,n.L.oda);A=this.kJ.map(function(B,E){if(E=y[E])return {track:B.track,stream:B.stream,U:E,aJ:z.aJ};}).filter(x.Upa);this.Gc=this.SGb(A);};f.prototype.getMetadata=function(){return this.Gc;};f.prototype.SGb=function(y){var z,A,B;z=this;y.sort(function(E){return E.stream.bitrate;});A=y.findIndex(function(E){var D;return (null !== (D=E.stream.sb) && void 0 !== D?D:0) >= z.yu;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Kkb=f;c.prototype.jna=function(){return this.DU;};c.prototype.getMetadata=function(){return this.Gc;};b.ykb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Upa=void 0;b.Upa=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var f,l,m,d,g,h;function c(k){this.ta=k.hb("HLSPlaylistTransformerImpl");this.R2b=d.kca.Up();this.rsb=g.jca.Up();}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;r=a(1);f=a(0);l=a(7);m=a(131);d=a(441);g=a(442);h=[0,1];c.prototype.transform=function(k,n){var p,q,u,t,w,v,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=k.text;t=k.audio;w=k.video;v=k.duration;x=k.fUa;y=k.Pzb;u.forEach(function(A){h.forEach(function(B){var E,D,F,C;E=0 === B;D=A.stream;F=A.track;C=n.get(A.id);E=E?C.KO:C.C$;D=p.PHb({url:E.url,duration:v / 1E3,size:D.size,mm:"Manifest for subtitles " + F.language + ' stream "' + F.tD + '", ' + F.tg + ", cdn " + E.Sp});p.ta.trace("Text variant manifest",D.join("\n"));B=p.QHb({groupId:B,name:F.tD,Bpa:F.tg === y,Qo:F.u7,MKb:F.ol === m.wp.lba,language:F.language,uri:p.d8(D)});q.push(B);});});t.forEach(function(A){h.forEach(function(B){var E,D,F,C,G,K;E=0 === B;D=A.stream;F=A.track;C=A.U;G=A.aJ;K=n.get(D.Ir);E=E?K.KO:K.C$;D=p.DYa({url:E.url,tN:D.SA.offset + D.SA.size,U:C,L$a:Math.floor(G / 1E3),mm:"Manifest for audio " + F.language + ' stream "' + F.tD + '", ' + F.tg + ", cdn " + E.Sp});p.ta.trace("Audio variant manifest",D.join("\n"));B=p.IEb({groupId:B,language:F.language,name:F.tD,Bpa:F.tg === x,uri:p.d8(D)});q.push(B);});});z=this.rsb[t[0].track.profile];w.forEach(function(A){h.forEach(function(B){var E,D,F,C,G,K;E=0 === B;D=A.stream;F=A.track;C=A.U;G=A.aJ;K=n.get(D.Ir);K=E?K.KO:K.C$;E=0 < u.length;F=p.DYa({url:K.url,tN:D.SA?D.SA.offset + D.SA.size:D.U9a,U:C,L$a:Math.floor(G / 1E3),mm:"Manifest for video bitrate " + D.bitrate + ", stream " + F.tg + ", cdn " + K.Sp});p.ta.trace("Video variant manifest",F.join("\n"));B=p.dIb({groupId:B,RT:1E3 * D.bitrate,Fsb:1E3 * D.bitrate,mLb:0 <= D.yG.indexOf("-hdr-") || 0 <= D.yG.indexOf("-dv5-"),framerate:(D.TWa / D.SWa).toFixed(3),yI:D.M7a + "x" + D.N7a,N2b:p.R2b[D.yG],nsb:z,R_b:E});q.push(B);B=p.d8(F);q.push("" + B);});});this.ta.trace("Primary manifest",q.join("\n"));return this.d8(q);};c.prototype.IEb=function(k){var n;n=k.Bpa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.DYa=function(k){var n;n=["#EXTM3U","# " + k.mm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.L$a,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k.tN + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.U.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.Z.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.Atb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.dIb=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.RT,"AVERAGE-BANDWIDTH=" + k.Fsb,"VIDEO-RANGE=" + (k.mLb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.yI,'CODECS="' + k.N2b + "," + k.nsb + '"'];k.R_b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.PHb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.mm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.QHb=function(k){var n,p,q;n=k.Bpa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.Qo?"YES":"NO")];k.MKb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.d8=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb))],a);b.jDa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){var p;function n(){p.gta.then(function(q){p.ta.trace("Unloading PBO Playdata Services");q.close();});d.ve.removeListener(d.Gl,n);}p=this;this.y5a=k;this.gta=k();this.ta=h.hb("PlayerPlaydataMonitorImpl");d.ve.addListener(d.Gl,n);}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(1);f=a(0);l=a(7);m=a(153);d=a(61);g=a(15);c.prototype.cp=function(h,k){this.gta.then(function(n){n.cp(k,!0,function(p){return h.close(p);});n.Jwa(k);h.addEventListener(g.Da.Hta,function(){h.sq() && n.C8a(k).catch(function(p){(p=p.DO) && h.close(p);});});h.addEventListener(g.Da.Rl,function(){n.K$(k).catch(function(p){(p=p.DO) && h.close(p);});});h.addEventListener(g.Da.hm,function(){n.K$(k).catch(function(p){(p=p.DO) && h.close(p);});});});};c.prototype.fZ=function(h){return this.gta.then(function(k){k.e$a();return k.fZ(h).catch();});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.NR))],a);b.UIa=a;},function(r,b,a){var f,l,m,d;function c(g){this.Ira={};this.Z6={};this.O7=-1;this.Ywa=new m.dc(null);this.Rta=new m.dc(null);this.ta=g.hb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(1);f=a(0);l=a(44);m=a(80);a=a(7);c.prototype.xb=function(g,h,k){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.Ira[q.url]=[p,q.Sp];});});this.Xka=h;this.Hzb=k;new PerformanceObserver(function(p){n.v1b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.S8a=function(g){var h,k,n;if(this.Xka){k=this.c6(g);if(k !== this.O7){for(this.O7=k;0 <= k && !this.Z6[k];){k--;}n=aa(null !== (h=this.Z6[k]) && void 0 !== h?h:[this.Xka,this.Hzb]);h=n.next().value;n=n.next().value;this.ta.debug("Setting time to " + g + ", using metadata from fragment " + k + " for " + ((0,l.c3a)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));g=h.U[this.O7];k=g.Z;this.Rta.set({stream:h,jm:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + g.duration))},zC:n});}}};c.prototype.c6=function(g){var h,k,n,p,q;h=this.Xka.U;g/=1E3;k=0;n=h.length - 1;if(g >= h[n].Z)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=h[p];if(g < q.Z)n=p - 1;else if(g >= q.Z + q.duration)k=p + 1;else return p;}return h.length - 1;};c.prototype.v1b=function(g){var h;h=this;g.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(h.Ira[p]){q=aa(h.Ira[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (h.Z6[n] && (h.O7=-1),h.Z6[n]=[k,q],p=k.U[n].Z,!1,h.Ywa.set(k,{oG:Math.floor(1E3 * p),zC:q}));}}});};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.qb))],d);b.WKa=d;},function(r,b,a){var f,l,m,d;function c(g){return l.$e.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);a=a(46);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{$5a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Qw:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},pA:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},i_a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},yu:{configurable:!0,enumerable:!0,get:function(){return 80;}},eia:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.ed,"playsInline")],d.prototype,"$5a",null);r.__decorate([a.config(a.kD,"minAudioMediaRequestDuration")],d.prototype,"Qw",null);r.__decorate([a.config(a.kD,"minVideoMediaRequestDuration")],d.prototype,"pA",null);r.__decorate([a.config(a.kD,"hlsVideoMediaRequestTargetDuration")],d.prototype,"i_a",null);r.__decorate([a.config(a.kD,"minStartingVideoVMAF")],d.prototype,"yu",null);r.__decorate([a.config(a.ed,"allowMultipleAudioTextTracks")],d.prototype,"eia",null);d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl))],d);b.DDa=d;},function(r,b,a){var f,l;function c(m){this.ta=m.hb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;r=a(1);f=a(0);a=a(7);c.prototype.fFb=function(m){var g,h,k,n,p,q,u;function d(t,w,v){var x,y,z;x=t.map(function(A){return A.Sp;});x.sort(function(A,B){return w[A] - w[B];});if(1 === x.length)(!1,k.set(v,{KO:t[0],C$:t[0]}));else {y=x.find(function(A){return g.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?g.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !g.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));k.set(v,{KO:t.find(function(A){return A.Sp === y;}),C$:t.find(function(A){return A.Sp === z;})});}}g=new Set();h=new Set();k=new Map();n=m.video;p=m.audio;q=m.text;u=m.kl.reduce(function(t,w){t[w.id]=w.jc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Ir);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Ir);});q.forEach(function(t){var w,v;if(!t.track.oD || t.track.u7){w=t.track;v=t.id;t=Object.entries(t.stream.pw).map(function(x){var y;y=aa(x);x=y.next().value;y=y.next().value;return {Sp:Number(x),url:y};});w=w.YRa.reduce(function(x,y){x[y.id]=y.jc;return x;},{});d(t,w,v);}});return k;};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.qb))],l);b.tAa=l;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t){this.Zf=n;this.bA=p;this.Yf=q;this.yc=u;this.Ba=t;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(49);g=a(180);h=a(89);k=a(1024);c.prototype.create=function(n){return new k.tR(this.Zf,this.bA,this.Yf,this.Ba,this.yc,n);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(h.Ox)),(0,r.__param)(2,(0,f.l)(d.Xm)),(0,r.__param)(3,(0,f.l)(g.dda)),(0,r.__param)(4,(0,f.l)(l.kd))],a);b.rR=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t,w){var v;v=this;this.bA=p;this.Yf=q;this.Ba=u;this.yc=t;this.Lra=this.lD=this.vY=0;this.yH=!1;this.CD=function(){var x;x=v.OX();x.prstate=v.Dz();x.paustate=v.j.qW();x.midplayseq=v.Lra++;v.yc.vN(x);v.Hc(f.dd.CD,void 0,k.Ae | k.dt,x);};this.ei=function(){v.Hc(f.dd.qRa,void 0,k.Ae | k.lp,{});};this.Rl=function(x){v.vqa=v.getTime();v.wqa=x.oldValue;};this.LT=function(x){v.iqa=x.oldValue;};this.E9=function(x){x != v.yH && (v.Lwa(v.yH,x),v.yH=x);};this.Lwa=function(x,y){var z;z=v.j.wa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};v.yc.pq(x,z.oe.value && z.oe.value.stream,z.lf.value && z.lf.value.stream);v.Hc(f.dd.c$a,void 0,k.Ae,x);};this.$Y=function(x){v.Hc(f.dd.S9a,void 0,k.Ae,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.XA=function(x){var y,z,A,B;z=v.j.wa;A=z.kc.value;if(x.newValue || A && A.rq() && !A.Qo()){B={};x=null !== (y=x.newValue) && void 0 !== y?y:A;B.newtrackinfo=x?{trackId:x.trackId,bcp47:x.Xd,lang:x.Xd,downloadableId:x.Bc,rank:x.jc,isImageBased:x.kk}:{};y=v.wqa;B.oldtrackinfo=y?{trackId:y.trackId,bcp47:y.Xd,lang:y.Xd,downloadableId:y.Bc,rank:y.jc,isImageBased:y.kk}:{};B.switchDelay=(0,l.Vf)(v.getTime() - v.vqa);v.yc.pq(B,z.oe.value && z.oe.value.stream,z.lf.value && z.lf.value.stream);v.Hc(f.dd.gab,void 0,k.Ae,B);}};this.tta=function(x,y){var z;z=v.j.wa;x={waittime:(0,l.Vf)(x),abortedevent:"resumeplay",resumeplayreason:y};v.yc.pq(x,z.Xe.value,z.mh.value);v.Hc(f.dd.N9,void 0,k.Ae | k.lp,x);};this.eP=function(x,y,z){x={playdelay:(0,l.Vf)(x),reason:z,intrplayseq:v.lD - 1,skipped:y};"repos" === z && (x.prstate=!0 === v.j.wj.value?"playing":"paused");v.Hc(f.dd.eP,void 0,k.Ae | k.Zs,x);};this.Dia=function(){var x,y,z,A,B;y=v.j.wa.pc.value;z=v.j.wa.mh.value.Bc;y=y?{trackId:y.trackId,bcp47:y.Xd,lang:y.Xd,downloadableId:z,rank:y.jc}:{};A=v.Yz;B=null === (x=v.iqa) || void 0 === x?void 0:x.Bc;x=A?{trackId:A.trackId,bcp47:A.Xd,lang:A.Xd,downloadableId:B,rank:A.jc}:{};v.Hc(f.dd.XQa,void 0,k.Ae,{switchdelay:(0,l.Vf)(v.getTime() - v.jqa),newtrackinfo:y,oldtrackinfo:x,oldAudioDownloadableId:B,newAudioDownloadableId:z});};this.hm=function(x){v.jqa=v.getTime();v.Yz=x.oldValue;};this.uta=function(){var x,y,z;x=v.j.wa;y={abortedevent:"startplay",trackid:x.Dj,prstate:v.Dz(),paustate:v.j.qW()};try{z=(0,m.eH)();z && (y.pdltime=z);(0,l.Zb)(y,x.Sc,{prefix:"sm_"});}catch(A){}v.yc.Y6(y,x);v.yc.wN(y,x.yg.value);v.yc.pq(y,x.Xe.value,x.mh.value);v.nH(y);v.Hc(f.dd.N9,void 0,k.Ae | k.dt | k.lp,y);};this.YL=function(x,y,z,A){x={moff:(0,l.Ho)(z),moffms:(0,l.Vf)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Bc,vdlidold:x.Bc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};v.Hc(f.dd.YL,void 0,0,x);};this.WO=function(x,y,z){x={moffold:(0,l.Ho)(x),reposseq:v.vY++,prstate:v.Dz(),paustate:v.j.qW()};v.yc.pq(x,z && z.stream,y && y.stream);v.Hc(f.dd.WO,void 0,k.Ae,x);};this.jE=function(x){var y,z,A,B,E;B=x.wa;E={playdelaysdk:(0,l.Vf)(v.j.aU()),applicationPlaydelay:(0,l.Vf)(v.j.mja()),playdelay:(0,l.Vf)(v.j.oja()),trackid:B.Dj,bookmark:(0,l.Vf)(B.gw || 0),pbnum:B.index};v.j.ei && (E.blocked=v.j.ei);E.initvbitrate=v.j.jW;v.yc.ipa(E);v.yc.x_a(E);E.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.h5;v.H_a(E,B);E.pdltime=(0,m.eH)();(0,l.Zb)(E,B.Sc,{prefix:"sm_"});E.ttTrackFields=null === (z=B.kc.value) || void 0 === z?void 0:z.Ri;v.yc.t_a(E,B.pc.value);v.yc.wN(E,B.yg.value);E.packageId=null === (A=B.oa) || void 0 === A?void 0:A.$b.Xo;v.yc.vN(E);v.yc.Y6(E,B);v.nH(E);v.Hc(f.dd.jE,x.ki,k.Ae | k.Zs | k.dt | k.GE | k.lp,E);};this.NG=function(){var x,y,z,A;x=v.j;y=x.wa;x=x.ki;z=v.OX();z.paustate=!v.j.sq();z.muted=v.j.Lpa();z.endreason=x?"error":v.j.Dpa()?"ended":"stopped";x && x && (0,d.qca)(x.errorCode) && (A="info");v.yc.wN(z,y.yg.value);v.yc.vN(z);v.nH(z);v.Hc(f.dd.NG,x,k.Ae | k.Zs | k.dt | k.GE | k.lp,z,A);};this.Vua=function(x,y,z){var A;A=v.j.wa.lf;x={moff:(0,l.Ho)(z),moffms:(0,l.Vf)(z),vdlidold:x.Bc,vbitrateold:x.bitrate};v.yc.pq(x,y,A.value && A.value.stream);v.Hc(f.dd.t7a,void 0,0,x);};this.Dz=function(){var x;x=v.j.yb.value;return x === g.cb.Lc?"playing":x === g.cb.jh?"paused":x === g.cb.Yq?"ended":"waiting";};this.ta=n.hb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;f=a(272);l=a(24);m=a(50);d=a(3);g=a(15);h=a(4);c.prototype.getTime=function(){return this.Ba.Xb().da(h.ja);};c.prototype.H_a=function(n,p){var q;if(p=null === (q=p.yg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,m.nQ)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,m.nQ)(p.map(function(u){return u.height;})));};c.prototype.nH=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.OX=function(){var n,p,q,u;n=this.j.wa;p=n.Ml;q={totaltime:(0,l.Ho)(p.mN()),totalcontenttime:(0,l.Ho)(p.poa()),reposcount:this.vY,intrplaycount:this.lD};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Xe.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.Zma()) && (q.abrdel=u);(u=p.TZa() && p.hXa()) && (q.tw_vmaf=u);(p=p.fXa()) && (0,l.Zb)(q,p);q.rbfrs=this.lD;this.H_a(q,n);return q;};c.prototype.Hc=function(n,p,q,u,t){var w,v;w=this;v=this.j.wa;this.Nha(u,p,q);p=t || (p?"error":"info");u=this.bA.Kt(n,p,u,v);this.Yf.Hc(u);"error" !== p && n !== f.dd.NG || this.Yf.flush(!1).catch(function(){w.ta.debug("Failed to flush the logblobs");});};c.prototype.Nha=function(n,p,q){var u;u=this.j.wa;this.yc.w_a(n,u);q & k.Ae && this.yc.D_a(n,u);q & k.Zs && this.yc.F_a(n,u);q & k.dt && this.yc.G_a(n,this.j.Fn());p && q & k.GE && this.yc.z_a(n,u,p);q & k.lp && this.yc.ipa(n);};b.tR=c;(function(n){n[n.Ae=1]="MOFF";n[n.Zs=2]="PRESENTEDSTREAMS";n[n.dt=4]="SCREEN";n[n.GE=8]="FATALERROR";n[n.lp=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t){this.Yf=n;this.config=p;this.xa=q;this.Ba=u;this.Qqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;r=a(1);f=a(0);l=a(18);m=a(38);d=a(13);g=a(49);h=a(443);k=a(1026);c.prototype.create=function(n){return new k.wR(n,this.Yf,this.config,this.Ba,this.Qqa.create(n));};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(g.Xm)),(0,r.__param)(1,(0,f.l)(d.ad)),(0,r.__param)(2,(0,f.l)(m.Vh)),(0,r.__param)(3,(0,f.l)(l.kd)),(0,r.__param)(4,(0,f.l)(h.sR))],a);b.uR=a;},function(r,b,a){var f,l,m;function c(d,g,h,k,n){var p;p=this;this.j=d;this.Yf=g;this.config=h;this.Ba=k;this.jb=n;this.gU=function(){p.mg();p.j.wa.Ii.removeListener(p.XA);p.j.wa.kc.removeListener(p.jb.Rl);p.j.wa.pc.removeListener(p.hm);p.j.wa.mh.removeListener(p.jb.LT);p.j.wj.removeListener(p.Z5a);p.j.XO.removeListener(p.xk);p.j.wa.oe.removeListener(p.UX);p.j.yb.removeListener(p.kw);p.j.yb.removeListener(p.WL);p.j.wa.Xe.removeListener(p.a_);p.j.wa.playbackRate.removeListener(p.jb.$Y);p.j.removeEventListener(m.Da.closed,p.gU);p.j.removeEventListener(m.Da.C3,p.jb.ei);};this.WL=function(){p.j.yb.value === m.cb.Lc && (p.j.yb.removeListener(p.WL),p.Cq());};this.XA=function(q){p.xA && p.jb.XA(q);};this.xk=function(q){p.xA && void 0 !== q.newValue && (p.us && p.kp && p.jb.tta(p.getTime() - p.kp,p.us),p.us="repos",p.jb.WO(q.newValue,p.j.wa.lf.value,p.j.wa.oe.value),p.kp=p.getTime(),(0,l.Uf)(p.kw));};this.Z5a=function(q){p.xA && p.jb.E9(!q.newValue);};this.hm=function(q){q.oldValue && (p.Yz=q.oldValue,p.jb.hm(q),p.us="repos",p.kp=p.getTime(),(0,l.Uf)(p.kw));};this.kw=function(){var q;if(p.kp && p.j.yb.value !== m.cb.Rf){q=p.getTime() - p.kp;p.jb.eP(q,!1,p.us);p.Yz && p.Yz != p.j.wa.pc.value && p.jb.Dia();p.kp=void 0;p.us=void 0;}};this.Cq=function(){p.xA || (p.xA=!0,p.jb.jE(p.j),p.ppa(),p.config().f7 && (p.Sz=nb.setTimeout(function(){p.Yf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.Sz=void 0;},p.config().f7)));};this.mg=function(){p.Sz && (nb.clearTimeout(p.Sz),p.Sz=void 0);p.PZ && p.PZ();p.xA?p.jb.NG():p.j.ki?p.jb.jE(p.j):p.jb.uta();};this.a_=function(q){q.oldValue && q.qm && q.qm.oG && p.jb.YL(q.oldValue,q.newValue,q.qm.oG,q.qm.RT);};this.UX=function(q){var u;if(q.newValue){u=q.newValue.stream;p.zH != u && (p.zH && p.jb.Vua(p.zH,u,q.newValue.jm.startTime),p.zH=u);}};this.Z$();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;f=a(4);l=a(62);m=a(15);c.prototype.Z$=function(){this.j.addEventListener(m.Da.closed,this.gU);this.j.addEventListener(m.Da.C3,this.jb.ei);this.j.wa.Ii.addListener(this.XA);this.j.wa.kc.addListener(this.jb.Rl);this.j.wa.pc.addListener(this.hm);this.j.wa.mh.addListener(this.jb.LT);this.j.wj.addListener(this.Z5a);this.j.XO.addListener(this.xk);this.j.wa.oe.addListener(this.UX);this.j.yb.addListener(this.kw);this.j.yb.addListener(this.WL);this.j.wa.Xe.addListener(this.a_);this.j.wa.playbackRate.addListener(this.jb.$Y);};c.prototype.getTime=function(){return this.Ba.Xb().da(f.ja);};c.prototype.ppa=function(){var d,g,h;d=this;h=[];this.config().i3a && (this.config().j3a.forEach(function(k){h.push(nb.setTimeout(d.jb.CD,k));}),this.config().B8 && (g=nb.setInterval(this.jb.CD,this.config().B8)),this.PZ=function(){h.forEach(function(k){nb.clearTimeout(k);});g && nb.clearInterval(g);});};b.wR=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.cJ=void 0;r=a(0);c=a(1028);f=a(1029);l=a(444);m=a(445);b.cJ=new r.rd(function(d){d(m.tLa).to(c.sLa);d(l.qLa).$i(new f.pLa());d(m.rLa).yf(function(g){return function(){return g.$a.get(m.tLa);};});});},function(r,b,a){var f,l,m,d;function c(g){this.config=g;this.xwa=l.Eb;this.xP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;r=a(1);f=a(0);l=a(52);m=a(4);a=a(444);c.prototype.cu=function(){var h;for(var g;0 < this.xP.length;){g=this.xP.shift();this.DPa(g);}g=void 0 === this.MU || void 0 === this.IG?m.Eb:this.IG.Ma(this.MU);h=g.Q0a()?0:this.xwa.da(l.BE) / g.da(m.ja);return {nxa:Math.floor(h),j$b:g.da(m.ja)};};c.prototype.Bqb=function(g){this.xwa=this.xwa.add(g.size);this.xP.push(g.YAb);for(this.xP.sort(function(h,k){return h.start.Al(k.start);});this.xP.length > this.config.ZAb;){g=this.xP.shift();this.DPa(g);}};c.prototype.DPa=function(g){void 0 === this.MU && (this.MU=g.start);void 0 !== this.IG && 0 > this.IG.Al(g.start) && (this.MU=this.MU.add(g.start.Ma(this.IG)));if(void 0 === this.IG || 0 > this.IG.Al(g.end))this.IG=g.end;};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.qLa))],d);b.sLa=d;},function(r,b,a){function c(f){this.ZAb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(1);a=a(0);c=r.__decorate([(0,a.R)()],c);b.pLa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F;Object.defineProperty(b,"__esModule",{value:!0});b.vn=void 0;r=a(0);c=a(26);f=a(13);l=a(1031);m=a(154);d=a(155);g=a(1032);h=a(273);k=a(1033);n=a(446);p=a(447);q=a(1034);u=a(274);t=a(11);w=a(452);v=a(1038);x=a(453);y=a(1039);z=a(276);A=a(1040);B=a(454);E=a(39);D=a(451);F=a(1041);b.vn=new r.rd(function(C){C(d.YR).to(g.JKa).aa();C(c.Ex).to(l.nBa).aa();C(h.yEa).to(k.xEa).aa();C(p.nAa).to(q.mAa).aa();C(h.tIa).$i({isTypeSupported:t.cF && t.cF.isTypeSupported});C(u.J_).$i(nb.cast || null);C(u.oAa).$i(nb.castReceiverEme || null);C(n.CCa).qE(function(G){return {KFb:function(){return G.$a.get(E.PR);}};});C(m.JJ).qE(function(G){return G.$a.get(f.ad);});C(w.bGa).to(v.ZFa).aa();C(D.YFa).to(F.XFa).aa();C(x.aGa).to(y.$Fa).aa();C(z.uca).to(A.BCa).aa();C(B.AJa).$i(nb);});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){this.config=k;this.XRa=n;this.PSb=p;this.sUb=this.Hyb();}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(1);f=a(26);l=a(154);m=a(0);d=a(45);g=a(446);a=a(447);c.prototype.qZa=function(k){return this.cXa().rZa(k);};c.prototype.sZa=function(k){return this.eu().rZa(k);};c.prototype.cXa=function(){this.yia && this.yia.type == this.config().zia || (this.yia=this.XRa.Rxb(this.config().zia));return this.yia;};c.prototype.eu=function(){this.Taa && this.Taa.type == this.config().Uaa || (this.Taa=this.XRa.Wyb(this.config().Uaa),this.Taa.Pha(this.PSb.KFb()));return this.Taa;};c.prototype.YFb=function(k){var q;if(!k || !k.length)return f.se.m0;k=this.ADb(k);for(var n=[f.se.WR,f.se.m0,f.se.rK,f.se.Kx,f.se.Ts,f.se.lB,f.se.by,f.se.Fj],p=n.length;p--;){q=n[p];if((0,this.sUb[q])(k))return q;}return f.se.WR;};c.prototype.lx=function(k){return this.eu().lx(k);};c.prototype.Ty=function(k){return this.eu().Ty(k);};c.prototype.$t=function(){return this.eu().$t();};c.prototype.Z5=function(){return this.eu().Z5();};c.prototype.lZ=function(){return this.eu().lZ();};c.prototype.jZ=function(){return this.cXa().jZ();};c.prototype.iaa=function(){return this.eu().iaa();};c.prototype.mZ=function(){return this.eu().mZ();};c.prototype.VM=function(k){return this.eu().VM(k);};c.prototype.fN=function(){return this.eu().fN();};c.prototype.n6=function(){return this.eu().n6();};c.prototype.ADb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.oh]="";});return Object.keys(n);};c.prototype.Hyb=function(){var k;k={};k[f.se.Fj]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[f.se.lB]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[f.se.by]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[f.se.Ts]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[f.se.Kx]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[f.se.rK]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[f.se.m0]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=aa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.N.IE]);k[f.se.WR]=function(){return !0;};return k;};h=c;h=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(l.JJ)),(0,r.__param)(1,(0,m.l)(a.nAa)),(0,r.__param)(2,(0,m.l)(g.CCa))],h);b.nBa=h;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u){this.vn=p;this.ib=q;this.s$a=u;this.fqb="video/mp4;codecs={0}";this.plb="audio/mp4;codecs={0}";p=this.vn.VM(l.se.Ts);this.eqb=d.Gd.LTa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;r=a(1);l=a(26);m=a(0);d=a(110);g=a(27);h=a(200);k=a(448);n=a(12);c.prototype.q4=function(p){p=this.vn.YFb(p);p=this.ib.FG(p)?p:l.se.WR;return this.s$a.format(this.fqb,this.eqb[p]);};c.prototype.n4=function(p){if(0 === p.length)return this.s$a.format(this.plb,d.Gd.m_);p=k.qza[p[0].oh] || f.Eya;return p === f.Eya?n.aK:p === f.Kcb?n.BFa:n.AFa;};a=f=c;a.Eya="AAC";a.Kcb="XHEAAC";a=f=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(l.Ex)),(0,r.__param)(1,(0,m.l)(g.dg)),(0,r.__param)(2,(0,m.l)(h.Tea))],a);b.JKa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){this.config=k;this.jUa=n;this.cast=p;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;r=a(1);f=a(0);l=a(273);m=a(154);d=a(26);g=a(274);h=a(275);c.prototype.BTa=function(){switch(this.config().Uaa){case d.fj.Uba:return g.Vba.ska(this.jUa,this.cast);case d.fj.Qx:return h.yB.ska(this.config);default:return this.jUa;}};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.JJ)),(0,r.__param)(1,(0,f.l)(l.tIa)),(0,r.__param)(2,(0,f.l)(g.J_))],a);b.xEa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;function c(B,E,D,F,C,G,K,J,I,M,R){this.L0a=B;this.cast=E;this.config=D;this.Pc=F;this.xa=C;this.is=G;this.qk=K;this.Zr=J;this.platform=I;this.Wc=M;this.Ow=R;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;r=a(1);f=a(0);l=a(26);m=a(273);d=a(154);g=a(274);h=a(1035);k=a(1036);n=a(181);p=a(450);q=a(48);u=a(38);t=a(27);w=a(1037);v=a(71);x=a(7);y=a(34);z=a(36);a=a(451);c.prototype.Rxb=function(B){var E;E=this.L0a.BTa();switch(B){case l.qv.Qx:return new h.xGa(this.config,E,this.is,this.platform,this.Ow);default:return new p.a0(this.config,E,this.Ow);}};c.prototype.Wyb=function(B){var E;E=this.L0a.BTa();switch(B){case l.fj.Uba:B=new g.Vba(this.config,E,this.is,this.cast,this.Ow);break;case l.fj.GJ:B=new w.xAa(this.config,E,this.is,this.qk,this.Zr,this.xa,this.Ow);break;case l.fj.Qx:B=new k.GFa(this.config,E,this.is,this.Pc,this.xa,this.Zr,this.Wc,this.Ow,this.qk);break;default:B=new n.ao(this.config,E,this.is,this.Ow);}return B;};A=c;A=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.yEa)),(0,r.__param)(1,(0,f.l)(g.J_)),(0,r.__param)(2,(0,f.l)(d.JJ)),(0,r.__param)(3,(0,f.l)(q.Pj)),(0,r.__param)(4,(0,f.l)(u.Vh)),(0,r.__param)(5,(0,f.l)(t.dg)),(0,r.__param)(6,(0,f.l)(v.Ys)),(0,r.__param)(7,(0,f.l)(x.qb)),(0,r.__param)(8,(0,f.l)(y.Ik)),(0,r.__param)(9,(0,f.l)(z.Bi)),(0,r.__param)(10,(0,f.l)(a.YFa))],A);b.mAa=A;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q){h=d.a0.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=f.qv.Qx;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;f=a(26);l=a(45);m=a(109);d=a(450);g=a(275);na(c,d.a0);c.prototype.jZ=function(){return Promise.resolve(this.config().UU && this.Sy(m.Ib.Vx,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Up=function(){var h;h={};h[l.ze.JE]="mp4a.40.2";h[l.ze.KE]="mp4a.40.2";"browser" === this.platform.jla?this.config().UU && (h[l.ze.CQ]={Gf:"avc1",keySystem:m.Ib.Vx,features:["audio-endpoint-codec=DD+JOC"]},h[l.ze.DQ]={Gf:"avc1",keySystem:m.Ib.Vx,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().mVa && (h[l.ze.CQ]="ec-3"),this.config().lVa && (h[l.ze.Xba]="ec-3"),this.config().UU && (h[l.ze.DQ]={Gf:"avc1",keySystem:m.Ib.Vx,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.iWa=function(h){var k;k=this;h=h.filter(function(n){var u;for(var p=aa(k.Qu),q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !0;}p=aa(k.Sn);for(q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !1;}n=k.eua[n];p=[];u=m.Ib.Vx;if(n)return (k.is.Jp(n)?q=n:(p=n.features,q=n.Gf,u=n.keySystem),k.Sy(u,q,p));});return Promise.resolve(h);};c.prototype.Sy=function(h,k,n){h=g.yB.o4(h,k,n);return this.Ty(h);};b.xGa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D;function c(F,C,G,K,J,I,M,R,H){F=l.ao.call(this,F,C,G,R) || this;F.Pc=K;F.xa=J;F.Zr=I;F.Wc=M;F.Ow=R;F.qk=H;F.type=m.fj.Qx;F.AQ="hvc1";F.Sdb="avc1";F.K5a={};F.log=F.Zr.hb("MicrosoftVideoCapabilityDetector");F.zZb();F.kZ && F.config().SOb?F.WUa=F.hyb():(F.WUa=Promise.resolve(""),F.config().UOb?F.myb():F.config().TOb && F.lyb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;f=a(45);l=a(181);m=a(26);r=a(111);d=a(109);g=a(4);h=a(329);k=a(110);n=a(275);p=a(57);q=a(182);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];E=new r.JB();D=new h.Lba();na(c,l.ao);c.prototype.VM=function(F){return F === m.se.Ts && this.config().d2b?k.Gd.SQ:l.ao.prototype.VM.call(this,F);};c.prototype.lx=function(F){switch(F){case m.Kj.QE:return this.D$a();case m.Kj.xv:return this.$X;default:return Promise.resolve(!1);}};c.prototype.$t=function(){var C;function F(){return C.kZ?C.zJb?C.D$a().then(function(G){return Promise.resolve(G?d.Ib.Vd:d.Ib.jF);}):Promise.resolve(d.Ib.jF):C.w_b?Promise.resolve(d.Ib.jF):Promise.resolve(d.Ib.Vx);}C=this;this.keySystem || (this.keySystem=this.config().ip?this.qk.Aw().then(function(G){return G.keySystem;}):F());return this.keySystem;};c.prototype.Z5=function(){return this.WUa;};c.prototype.lZ=function(){return Promise.resolve({result:this.C$a(),reason:"is-type-supported"});};c.prototype.mZ=function(){return this.kZ && this.F$a()?this.$X:Promise.resolve(!1);};c.prototype.iaa=function(){return Promise.resolve(this.B$a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Pha=function(F){this.Aq=F;Object.assign(this.Aq,this.K5a);F.itshwdrm=this.kZ;F.itsqhd=this.E$a();F.itshevc=this.F$a();F.itshdr=this.C$a();F.itsdv=this.B$a();F.itsav1=this.t_b();this.Wxa();};c.prototype.AT=function(F,C){(this.Aq?this.Aq:this.K5a)[F]=C;};c.prototype.fN=function(){var F;F=this;return this.lx(m.Kj.xv).then(function(C){return C?F.qU(m.Kj.xv):F.lx(m.Kj.QE).then(function(G){return G?F.qU(m.Kj.QE):F.qU(void 0);});});};c.prototype.n6=function(){return this.config().ip?Promise.resolve(void 0):this.$t().then(function(F){return F === d.Ib.Vd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.uz=function(F){var C;C=this;return this.$t().then(function(G){var K,J,I;if(C.Vpa(G,F))return !1;K=C.eua[F];if(K){J=[];if(C.is.Jp(K))I=K;else (J=K.features,I=K.Gf,G=K.keySystem);return C.Sy(G,I,J);}return !1;});};c.prototype.Up=function(){var F;F=l.ao.prototype.Up.call(this);F[f.N.gS]=F[f.N.tK]=F[f.N.sK]=F[f.N.x1]={Gf:"vp09.00.11.08.02",keySystem:d.Ib.Vd,features:u};F[f.N.p0]=F[f.N.o0]={Gf:"hev1.2.6.L90.B0",keySystem:d.Ib.Vd,features:t};F[f.N.r0]=F[f.N.q0]={Gf:"hev1.2.6.L93.B0",keySystem:d.Ib.Vd,features:t};F[f.N.t0]=F[f.N.s0]={Gf:"hev1.2.6.L120.B0",keySystem:d.Ib.Vd,features:t};F[f.N.v0]=F[f.N.u0]={Gf:"hev1.2.6.L123.B0",keySystem:d.Ib.Vd,features:t};F[f.N.eR]=F[f.N.dR]={Gf:"hev1.2.6.L150.B0",keySystem:d.Ib.Vd,features:t};F[f.N.gR]=F[f.N.fR]={Gf:"hev1.2.6.L153.B0",keySystem:d.Ib.Vd,features:t};F[f.N.UQ]=F[f.N.TQ]={Gf:"hev1.2.6.L90.B0",keySystem:d.Ib.Vd,features:v};F[f.N.WQ]=F[f.N.VQ]={Gf:"hev1.2.6.L93.B0",keySystem:d.Ib.Vd,features:v};F[f.N.XQ]=F[f.N.TJ]={Gf:"hev1.2.6.L120.B0",keySystem:d.Ib.Vd,features:v};F[f.N.ZQ]=F[f.N.YQ]={Gf:"hev1.2.6.L123.B0",keySystem:d.Ib.Vd,features:x};F[f.N.aR]=F[f.N.$Q]={Gf:"hev1.2.6.L150.B0",keySystem:d.Ib.Vd,features:x};F[f.N.cR]=F[f.N.bR]={Gf:"hev1.2.6.L153.B0",keySystem:d.Ib.Vd,features:x};F[f.N.Q_]=F[f.N.P_]={Gf:"hev1.2.6.L90.B0",keySystem:d.Ib.Vd,features:y};F[f.N.S_]=F[f.N.R_]={Gf:"hev1.2.6.L93.B0",keySystem:d.Ib.Vd,features:y};F[f.N.T_]=F[f.N.FQ]={Gf:"hev1.2.6.L120.B0",keySystem:d.Ib.Vd,features:y};F[f.N.V_]=F[f.N.U_]={Gf:"hev1.2.6.L123.B0",keySystem:d.Ib.Vd,features:z};F[f.N.X_]=F[f.N.W_]={Gf:"hev1.2.6.L150.B0",keySystem:d.Ib.Vd,features:z};F[f.N.Z_]=F[f.N.Y_]={Gf:"hev1.2.6.L153.B0",keySystem:d.Ib.Vd,features:z};F[f.N.r_]={Gf:"av01.0.04M.10",keySystem:d.Ib.Vd,features:u};F[f.N.s_]={Gf:"av01.0.05M.10",keySystem:d.Ib.Vd,features:u};F[f.N.t_]={Gf:"av01.0.08M.10",keySystem:d.Ib.Vd,features:u};F[f.N.u_]={Gf:"av01.0.09M.10",keySystem:d.Ib.Vd,features:u};F[f.N.v_]={Gf:"av01.0.12M.10",keySystem:d.Ib.Vd,features:w};F[f.N.w_]={Gf:"av01.0.13M.10",keySystem:d.Ib.Vd,features:w};return F;};c.prototype.Sy=function(F,C,G){F=n.yB.o4(F,C,G);return this.Ty(F);};c.prototype.E$a=function(){return this.Sy(d.Ib.Vd,this.AQ,t);};c.prototype.C$a=function(){return this.Sy(d.Ib.Vd,this.AQ,v);};c.prototype.B$a=function(){return this.Sy(d.Ib.Vd,this.AQ,y);};c.prototype.t_b=function(){return this.Sy(d.Ib.Vd,k.Gd.Fj,u);};c.prototype.F$a=function(){return this.Sy(d.Ib.Vd,this.AQ,w);};c.prototype.D$a=function(){var F;F=this;return this.$X.then(function(C){return C?Promise.resolve(C):F.w6a;});};c.prototype.Wxa=function(){this.Aq && (this.Aq.itshdcp=JSON.stringify({hdcp1:this.UZa,time1:this.X$a - this.X9a,hdcp2:this.VZa,time2:this.Y$a - this.Y9a}));};c.prototype.zZb=function(){var F;F=this;this.kZ?(this.$X=this.VYa(this.config().h3a,this.config().WOb,function(){var C;C=F.WFb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.w6a=this.$X.then(function(C){return C?!0:F.VYa(F.config().h3a,F.config().VOb,function(){var G;G=F.VFb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.w6a=Promise.resolve(!0),this.$X=Promise.resolve(!1));};c.prototype.VYa=function(F,C,G){var K;K=this;return new Promise(function(J){var I,M,R,H;I=aa(G());M=I.next().value;I=I.next().value;if(M)return J(I);R=K.Pc.A$((0,g.Oc)(F),function(){var P,N;P=aa(G());N=P.next().value;P=P.next().value;N && (R.cancel(),H.cancel(),J(P));});H=K.Pc.Ak((0,g.Oc)(C),function(){R.cancel();H.cancel();J("timeout");});});};c.prototype.VFb=function(){var F;F=n.yB.o4(d.Ib.jF,this.Sdb,A).split("|");this.UZa=n.yB.dxa(F[0],F[1]);this.X$a=this.xa.gf.da(g.ja);this.X9a=this.X9a || this.X$a;this.Wxa();return this.UZa;};c.prototype.WFb=function(){var F;F=n.yB.o4(d.Ib.Vd,this.AQ,B).split("|");this.VZa=n.yB.dxa(F[0],F[1]);this.Y$a=this.xa.gf.da(g.ja);this.Y9a=this.Y9a || this.Y$a;this.Wxa();return this.VZa;};c.prototype.hyb=function(){var F;F=this;return this.vka(d.Ib.Vd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.Lda + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.AT("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.lyb=function(){var F;F=this;this.vka(d.Ib.Vx,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Wc.decode(C));F.AT("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.AT("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.myb=function(){var F;F=this;this.vka(d.Ib.Vx,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Wc.decode(C));F.AT("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.AT("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.vka=function(F,C){var G;G=this;return new Promise(function(K,J){var N,L,Q;function I(S){try{H(S.target,"Unexpectedly got an mskeyerror event: 0x" + D.VG(S && S.target && S.target.error && S.target.error.Ycc || 0,4));}catch(U){H(S.target,U);}}function M(S){H(S.target,"Unexpectedly got an mskeyadded event");}function R(S){var U;try{U=G.bma(S.message,"PlayReadyKeyMessage","Challenge");P(S.target);K(U);}catch(ca){H(S.target,ca);}}function H(S,U){G.log.error("PlayReadyChallenge error",{cdmData:C});P(S);J(U);}function P(S){S.removeEventListener("mskeymessage",R);S.removeEventListener("mskeyadded",M);S.removeEventListener("mskeyerror",I);Q && Q.cancel();}try{N=new Uint8Array(E.q$a(C));L=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);L.addEventListener("mskeymessage",R);L.addEventListener("mskeyadded",M);L.addEventListener("mskeyerror",I);Q=G.Pc.Ak((0,g.Oc)(1E3),function(){H(L,Error("timeout"));});}catch(S){J(S);}});};c.prototype.bma=function(F,C){var K,J,I;for(var G=1;G < arguments.length;++G){;}G="";J=F.length;for(K=0;K < J;K++){I=F[K];0 < I && (G+=String.fromCharCode(I));}J="\\s*(.*)\\s*";for(K=arguments.length - 1;0 < K;K--){I=arguments[K];if(0 > G.search(I))return;I="(?:[^:].*:|)" + I;J="[\\s\\S]*<" + I + "[^>]*>" + J + "</" + I + ">[\\s\\S]*";}if(G=G.match(new RegExp(J)))return G[1];};c.prototype.Vpa=function(F,C){return [q.Ye.lB,q.Ye.by].some(function(G){return G.test(C);}) && this.config().Kra && ![d.Ib.jF,d.Ib.yIa].some(function(G){return G === F;});};Wa.Object.defineProperties(c.prototype,{zJb:{configurable:!0,enumerable:!0,get:function(){return this.config().IBb && (!this.config().XOb || this.E$a());}},kZ:{configurable:!0,enumerable:!0,get:function(){try{return this.Ty(d.Ib.Vd + "|" + k.Gd.Nra);}catch(F){return !1;}}},w_b:{configurable:!0,enumerable:!0,get:function(){try{return this.Ty(d.Ib.jF);}catch(F){return !1;}}}});b.GFa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q,u,t){h=f.ao.call(this,h,k,n,t) || this;h.qk=p;h.Zr=q;h.xa=u;h.Ow=t;h.type=l.fj.GJ;h.log=h.Zr.hb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;f=a(181);l=a(26);m=a(4);d=a(57);g=a(182);na(c,f.ao);c.prototype.lx=function(h){switch(h){case l.Kj.xv:return this.u_b;default:return Promise.resolve(!1);}};c.prototype.fN=function(){var h;h=this;return this.lx(l.Kj.xv).then(function(k){return k?l.Kj.xv:void 0;}).then(function(k){return h.qU(k);});};c.prototype.Pha=function(h){this.Aq=h;};c.prototype.uz=function(h){var k;k=this;return this.config().Kra?this.qk.Aw().then(function(n){return k.Vpa((0,d.Cna)(n),h)?!1:f.ao.prototype.uz.call(k,h);}):f.ao.prototype.uz.call(this,h);};c.prototype.JLb=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.UJ;}));};c.prototype.fbb=function(){var h;if(this.Aq){h=this.WZa && this.YZa && this.WZa.Ma(this.YZa).da(m.ja);this.Aq.itshdcp=JSON.stringify({hdcp2:this.gu,time2:h});}};c.prototype.Vpa=function(h,k){return [g.Ye.lB,g.Ye.by].some(function(n){return n.test(k);}) && this.config().Kra && h === d.UJ;};Wa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.a3a || (this.a3a=this.qk.Aw().then(function(h){return h.createMediaKeys();}));return this.a3a;}},u_b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.exa || (this.config().JBb?this.exa=Promise.all([this.qk.Aw(),this.mediaKeys]).then(function(k){var n;n=aa(k);k=n.next().value;n=n.next().value;if(!h.JLb(k))return (h.gu="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.gu),!1);if(n && n.getStatusForPolicy)return (h.YZa=h.xa.gf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.WZa=h.xa.gf;h.gu=p;h.log.trace("hdcpStatus: " + h.gu);return "usable" === h.gu;}));h.gu="not available";h.log.trace("hdcpStatus: " + h.gu);return !1;}).catch(function(k){h.gu="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.gu},k);return !1;}).then(function(k){h.fbb();return k;}):(this.gu="not enabled",this.log.trace("hdcpStatus: " + this.gu),this.fbb(),this.exa=Promise.resolve(!1)));return this.exa;}}});b.xAa=c;},function(r,b,a){var f,l;function c(m){this.navigator=m;this.Z2a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(1);f=a(0);a=a(39);c.prototype.fma=function(m){return this.Z2a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.gK))],l);b.ZFa=l;},function(r,b,a){var f,l,m;function c(d,g){this.mediaCapabilities=d;this.log=g.hb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;r=a(1);f=a(452);l=a(7);a=a(0);c.prototype.fma=function(d){var g,h,k;g=this;h={qc:void 0};if(this.mediaCapabilities.Z2a){k={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.fma(k).then(function(n){return h.qc=Object.assign(Object.assign({},n),k);}).catch(function(n){return g.log.error("Error calling MediaCapabilities API",n);});}return h;};m=c;m=r.__decorate([(0,a.R)(),(0,r.__param)(0,(0,a.l)(f.bGa)),(0,r.__param)(1,(0,a.l)(l.qb))],m);b.$Fa=m;},function(r,b,a){var f,l,m;function c(d){this.VTb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;r=a(1);f=a(0);l=a(276);a=a(454);c.prototype.aDb=function(){var d,g;d={bV:l.rB.Hkb};g=this.VTb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.bV=h.value?l.rB.zJa:l.rB.Hya;if(d.bV === l.rB.Hya){k=function(){h.value && (d.bV=l.rB.zJa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.bV=l.rB.Error;});return d;};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.AJa))],m);b.BCa=m;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Zr=u;this.BD=t;this.type=l.fj.tv;this.UQa={};this.Obb={};this.log=this.Zr.hb("MediaCapabilityDetector");this.UQa=this.Qxb();this.Obb=this.Vyb();}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(1);f=a(0);l=a(26);m=a(45);d=a(7);g=a(39);h=a(71);k=a(154);n=a(57);c.prototype.uz=function(p){var q;q=this;return this.BD.Aw().then(function(u){return q.mDb(p,u);}).catch(function(){return !1;});};c.prototype.cLb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.Gpa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.mDb=function(p,q){var u,t,w,v;u=this;try{t={type:"media-source"};w=this.UQa[p];v=this.Obb[p];if(w)t.audio=w;else if(v){t.video=v;if(this.cLb(v) && !this.Gpa())return Promise.resolve(!1);q && (t.keySystemConfiguration=this.nGb(q));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(t).then(function(x){var y;x.configuration || (x.configuration=t);y=u.ALb(t,x);y?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){u.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.nGb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,n.Cna)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.Qxb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[m.ze.JE]=q;p[m.ze.fDa]=q;p[m.ze.KE]=q;p[m.ze.uF]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[m.ze.CQ]=q;p[m.ze.Xba]=q;p[m.ze.DQ]=q;return p;};c.prototype.Vyb=function(){var p,q,u,t,w,v,x,y,z,A,B,E,D;p={};q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};w={width:3840,height:2160};v=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});t=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});w=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);p[m.N.YCa]=A;p[m.N.QQ]=A;p[m.N.RQ]=A;p[m.N.yca]=A;A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);p[m.N.x1]=A;p[m.N.sK]=A;p[m.N.tK]=A;p[m.N.gS]=A;A=Object.assign(Object.assign({},q),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),t);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),w);p[m.N.o0]=A;p[m.N.q0]=A;p[m.N.s0]=A;p[m.N.u0]=B;p[m.N.dR]=E;p[m.N.fR]=D;p[m.N.p0]=A;p[m.N.r0]=A;p[m.N.t0]=A;p[m.N.v0]=B;p[m.N.eR]=E;p[m.N.gR]=D;A=Object.assign(Object.assign(Object.assign({},q),v),y);B=Object.assign(Object.assign(Object.assign({},q),x),y);E=Object.assign(Object.assign(Object.assign({},q),t),y);q=Object.assign(Object.assign(Object.assign({},q),w),y);p[m.N.TQ]=A;p[m.N.VQ]=A;p[m.N.TJ]=A;p[m.N.YQ]=B;p[m.N.$Q]=E;p[m.N.bR]=q;p[m.N.UQ]=A;p[m.N.WQ]=A;p[m.N.XQ]=A;p[m.N.ZQ]=B;p[m.N.aR]=E;p[m.N.cR]=q;q=Object.assign(Object.assign(Object.assign({},u),v),z);y=Object.assign(Object.assign(Object.assign({},u),x),z);A=Object.assign(Object.assign(Object.assign({},u),t),z);u=Object.assign(Object.assign(Object.assign({},u),w),z);p[m.N.P_]=q;p[m.N.R_]=q;p[m.N.FQ]=q;p[m.N.U_]=y;p[m.N.W_]=A;p[m.N.Y_]=u;p[m.N.Q_]=q;p[m.N.S_]=q;p[m.N.T_]=q;p[m.N.V_]=y;p[m.N.X_]=A;p[m.N.Z_]=u;v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),v);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),x);t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),t);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),w);p[m.N.Fya]=v;p[m.N.Gya]=v;p[m.N.r_]=v;p[m.N.s_]=v;p[m.N.t_]=v;p[m.N.u_]=x;p[m.N.v_]=t;p[m.N.w_]=w;return p;};c.prototype.ALb=function(p,q){return p.video && this.config().uTb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(k.JJ)),(0,r.__param)(1,(0,f.l)(g.gK)),(0,r.__param)(2,(0,f.l)(d.qb)),(0,r.__param)(3,(0,f.l)(h.Ys))],a);b.XFa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(455);f=a(79);l=a(183);m=a(1043);d=a(458);g=a(1044);h=a(457);k=a(184);n=a(1045);p=a(1047);q=a(1048);u=a(1049);t=a(79);w=a(459);v=a(1051);b.storage=new r.rd(function(x){x(l.IGa).yf(function(){return function(){return nb.localStorage;};});x(l.MDa).yf(function(){return function(){return nb.indexedDB;};});x(w.uGa).to(v.tGa).aa();x(t.mB).to(u.Pya).aa();x(d.ZEa).to(g.YEa).aa();x(c.C0).to(p.mEa).aa();x(k.oEa).to(n.nEa).aa();x(f.VKa).to(m.MAa).aa();x(k.LDa).to(n.KDa).aa();x(k.Qca).to(n.pEa).aa();x(h.OAa).to(q.NAa).aa();});},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.Zo=k;this.config=n;this.ta=h.hb(d.Pea);}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;r=a(1);f=a(0);l=a(7);m=a(64);d=a(456);a=a(457);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.Zo.Jq(this.config.timeout,this.KUa(h)):this.KUa(h):Promise.resolve();};c.prototype.KUa=function(h){var k;k=this;return new Promise(function(n,p){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(q){"true" !== q.value && p();k.ta.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){k.ta.error("Failed to remove testValue");n();});});}).catch(function(q){return p(q);});});};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.Wx)),(0,r.__param)(2,(0,f.l)(a.OAa))],g);b.MAa=g;},function(r,b,a){var f,l,m;function c(d){this.QD=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;r=a(1);f=a(0);l=a(3);a=a(183);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,k){var n,p;try{n=g.QD.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({na:l.L.IB});}catch(q){k({na:l.L.kKa,cause:q});}});};c.prototype.save=function(d,g,h){var k;k=this;return new Promise(function(n,p){if(h && k.QD.getItem(d))n(!1);else try{"string" === typeof g?k.QD.setItem(d,g):k.QD.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({na:l.L.lKa,cause:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,k){try{g.QD.removeItem(d);h();}catch(n){k({na:l.L.Iea,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.mib))],m);b.YEa=m;},function(r,b,a){var m,d,g,h,k,n,p,q,u,t,w,v;function c(x,y,z,A,B,E){this.config=y;this.xU=z;this.Xn=A;this.D2b=B;this.nl=E;this.ta=x.hb(n.Pea);}function f(x,y){this.config=x;this.AZ=y;}function l(x,y,z,A,B){this.config=y;this.AZ=z;this.nl=B;this.ta=x.hb(n.Pea);this.xU=new Promise(function(E,D){var F;try{F=A();F?E(F):D({na:k.L.NDa});}catch(C){D({na:k.L.B0,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=b.nEa=b.KDa=void 0;r=a(1);m=a(0);d=a(7);g=a(1046);h=a(183);k=a(3);n=a(456);p=a(455);q=a(64);u=a(79);t=a(72);w=a(184);v=a(63);l.prototype.create=function(){this.Mka || (this.Mka=this.fM());return this.Mka;};l.prototype.Yp=function(x){var y;y=this;this.Mka=null;return this.AZ.Jq(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.kr?Promise.reject({na:k.L.B0}):z.na?Promise.reject(z):Promise.reject({na:k.L.B0,cause:z});});};l.prototype.delete=function(x){var y;y=this;return this.AZ.Jq(this.config.timeout,new Promise(function(z,A){y.xU.then(function(B){var E;E=B.deleteDatabase(x);E.onsuccess=function(){z();};E.onerror=function(){A({na:k.L.B0,cause:E.error});};}).catch(function(B){A(B);});}));};l.prototype.fM=function(){var x,y;x=this;return this.AZ.Jq(this.config.timeout,new Promise(function(z,A){if(x.config.vwa)return A({na:x.config.vwa});x.xU.then(function(B){x.nl.mark(v.Qj.tgb);y=B.open(x.config.name,x.config.version);if(!y)return A({na:k.L.ODa});y.onblocked=function(){x.nl.mark(v.Qj.qgb);A({na:k.L.mgb});};y.onupgradeneeded=function(){var E;x.nl.mark(v.Qj.Agb);E=y.result;try{E.createObjectStore(x.config.qX,{keyPath:"name"});}catch(D){x.ta.error("Exception while creating object store",D);}};y.onsuccess=function(E){var D,F;x.nl.mark(v.Qj.zgb);try{D=E.target.result;F=D.objectStoreNames.length;x.ta.trace("objectstorenames length ",F);if(0 === F){x.ta.error("invalid indexedDb state, deleting");x.nl.mark(v.Qj.sgb);try{D.close();}catch(C){}B.deleteDatabase(x.config.name);setTimeout(function(){A({na:k.L.lgb});},1);return;}}catch(C){x.ta.error("Exception while inspecting indexedDb objectstorenames",C);}z(y.result);};y.onerror=function(){x.nl.mark(v.Qj.rgb);x.ta.error("IndexedDB open error",y.error);A({na:k.L.ngb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.kr){try{y && y.readyState && x.nl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.q3 && y && "done" === y.readyState){if(x.y2b(y))return (x.nl.mark(v.Qj.xgb),Promise.resolve(y.result));x.nl.mark(v.Qj.wgb);}x.nl.mark(v.Qj.vgb);return Promise.reject({na:k.L.pgb});}if(z.na)return Promise.reject(z);x.nl.mark(v.Qj.ugb);x.ta.error("IndexedDB open exception occurred",z);return Promise.reject({na:k.L.ogb,cause:z});});};l.prototype.y2b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.nl.mark(v.Qj.ygb);this.ta.error("failed to check open request state",y);}return !1;};a=l;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.qb)),(0,r.__param)(1,(0,m.l)(p.C0)),(0,r.__param)(2,(0,m.l)(q.Wx)),(0,r.__param)(3,(0,m.l)(h.MDa)),(0,r.__param)(4,(0,m.l)(t.pF))],a);b.KDa=a;f.prototype.create=function(x){return Promise.resolve(new g.lEa(this.config,this.AZ,x));};a=f;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(p.C0)),(0,r.__param)(1,(0,m.l)(q.Wx))],a);b.nEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.rU || (this.rU=this.fM(this.D2b));return this.rU;};c.prototype.fM=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.nl.mark(v.Qj.fkb);y.xU.create().then(function(B){y.Xn.create(B).then(function(E){Promise.all(x.map(function(D){return D.validate(E);})).then(function(){y.storage=E;z(y.storage);}).catch(function(D){y.ta.debug("DB validation failed, cause: " + D);y.config.CWa?(y.ta.debug("Fixing corrupt DB"),y.xU.Yp(B).then(function(){y.ta.error("Invalid database deleted, creating new database.");y.fM().then(function(F){y.ta.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.ta.error("Couldn't delete invalid database.");A(F);})):(y.ta.debug("Ignoring invalid DB due to config"),y.storage=E,z(y.storage));});}).catch(function(E){A(E);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.qb)),(0,r.__param)(1,(0,m.l)(p.C0)),(0,r.__param)(2,(0,m.l)(w.LDa)),(0,r.__param)(3,(0,m.l)(w.oEa)),(0,r.__param)(4,(0,m.OH)(u.VKa)),(0,r.__param)(5,(0,m.l)(t.pF))],a);b.pEa=a;},function(r,b,a){var l,m,d;function c(g,h,k){this.config=g;this.Zo=h;this.QD=k;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=b.MJa=void 0;l=a(3);m=a(64);(function(g){g[g.Bda=0]="NoData";g[g.Error=1]="Error";g[g.qK=2]="Timeout";})(d=b.MJa || (b.MJa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(k,n){h.m5("get",!1,g).then(function(p){k({key:g,value:p});}).catch(function(p){var q;q=l.L.kKa;switch(p.reason){case d.Bda:q=l.L.IB;break;case d.qK:q=l.L.gkb;}n({na:q,cause:p.cause});});});};c.prototype.save=function(g,h,k){var n;n=this;return new Promise(function(p,q){n.m5(k?"add":"put",!0,{name:g,data:h}).then(function(){p(!k);}).catch(function(u){var t;t=l.L.lKa;switch(u.reason){case d.qK:t=l.L.jkb;}q({na:t,cause:u.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(k,n){h.m5("delete",!0,g).then(function(){k();}).catch(function(p){var q;q=l.L.Iea;switch(p.reason){case d.qK:q=l.L.jKa;}n({na:q,cause:p.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,k){g.m5("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=l.L.Iea;switch(n.reason){case d.qK:p=l.L.jKa;}k({na:p,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.Zo.Jq(this.config.timeout,new Promise(function(h,k){var n,p,q;if(g.config.uwa)k(new f(g.config.uwa));else {n=[];p=g.QD.transaction(g.config.qX,"readonly");q=p.objectStore(g.config.qX).openCursor();p.onerror=function(){k(new f(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){k(new f(d.Error,t));}else h(n);};q.onerror=function(){k(new f(d.Error,q.error));};}})).catch(function(h){return h instanceof m.kr?Promise.reject(new f(d.qK,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.m5=function(g,h,k){var n;n=this;return this.Zo.Jq(this.config.timeout,new Promise(function(p,q){var u,t;u=n.QD.transaction(n.config.qX,h?"readwrite":"readonly");t=u.objectStore(n.config.qX)[g](k);u.onerror=function(){q(new f(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new f(d.Bda));}catch(x){q(new f(d.Bda,x));}else p(void 0);};t.onerror=function(){q(new f(d.Error,t.error));};})).catch(function(p){return p instanceof m.kr?Promise.reject(new f(d.qK,p)):p instanceof f?Promise.reject(p):Promise.reject(new f(d.Error,p));});};b.lEa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.$e.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.qX="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(1);f=a(0);l=a(46);m=a(47);d=a(40);a=a(37);na(c,m.$e);Wa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.tw?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Pwa;}},q3:{configurable:!0,enumerable:!0,get:function(){return this.config.q3;}},vwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},uwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},CWa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([l.config(l.bB,"simulateIdbOpenError")],g.prototype,"vwa",null);r.__decorate([l.config(l.bB,"simulateIdbLoadAllError")],g.prototype,"uwa",null);r.__decorate([l.config(l.ed,"fixInvalidDatabase")],g.prototype,"CWa",null);g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Xl)),(0,r.__param)(1,(0,f.l)(d.Wm))],g);b.mEa=g;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;r=a(1);f=a(0);a=a(40);Wa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Pwa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.O$a;}}});l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Wm))],l);b.NAa=l;},function(r,b,a){var l,m,d,g,h,k,n;function c(p,q,u,t){this.ta=p;this.config=q;this.EJb=u;this.Gra=t;this.uG={mem:{storage:this.Gra,key:"mem"}};this.lE=this.config.lE;}function f(p,q,u,t){this.Zf=p;this.Xn=q;this.Gra=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.xba=b.Pya=void 0;r=a(1);l=a(0);m=a(3);d=a(184);g=a(7);h=a(459);k=a(1050);a=a(40);f.prototype.create=function(){this.rU || (this.rU=this.fM());return this.rU;};f.prototype.fM=function(){this.Drb=new c(this.Zf.hb("AppStorage"),this.config,this.Xn,this.Gra);return this.Drb.create();};n=f;n=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(g.qb)),(0,r.__param)(1,(0,l.l)(d.Qca)),(0,r.__param)(2,(0,l.l)(h.uGa)),(0,r.__param)(3,(0,l.l)(a.Wm))],n);b.Pya=n;c.prototype.create=function(){var p;p=this;return this.nyb().then(function(q){if(!p.hub(q,p.config.eW))throw p.UPb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.wV(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.wV(p).storage.save(p,q,u).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.wV(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.j7a("mem").then(function(){return p.j7a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.ta.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.B1a("mem").then(function(u){q=q.concat(u);return p.B1a("idb");}).catch(function(u){p.xLb(u) || p.ta.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.ta.error("load all failed",u);throw u;});};c.prototype.nyb=function(){var p;p=this;return this.EJb.create().then(function(q){p.uG.idb={storage:q,key:"idb"};}).catch(function(q){p.ta.error("idb failed to load",q);return q || ({na:m.L.Wl});});};c.prototype.hub=function(p,q){return !p || p && q?!0:!1;};c.prototype.UPb=function(p){var q;q="";p && (q+=p.na);return {na:q};};c.prototype.j7a=function(p){return (p=this.uG[p])?p.storage.removeAll():Promise.resolve();};c.prototype.B1a=function(p){return (p=this.uG[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.vDb=function(p){for(var q in this.lE){if(p.startsWith(q))return this.lE[q];}return this.lE[k.Geb];};c.prototype.wV=function(p){var q,u;q=this;this.vDb(p).every(function(t){return q.uG[t]?(u=q.uG[t],!1):!0;});if(!u){this.ta.error("component not found for storageKey",{KZb:p,t9b:Object.keys(this.uG),rules:this.lE});u=this.uG.mem;}this.ta.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.xLb=function(p){return (p && (p.na || p.errorSubCode)) === m.L.IB;};b.xba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Geb="__default_rule_key__";},function(r,b,a){var f,l,m;function c(d){this.Zf=d;this.QH={};this.ta=this.Zf.hb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(1);f=a(0);l=a(3);a=a(7);c.prototype.load=function(d){var g;if(this.QH.hasOwnProperty(d)){g=this.QH[d];this.ta.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.ta.debug("Storage entry not found",{key:d});return Promise.reject({na:l.L.IB});};c.prototype.save=function(d,g,h){if(h && this.QH.hasOwnProperty(d))return Promise.resolve(!1);this.QH[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.QH[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.QH).map(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.QH={};return Promise.resolve();};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.qb))],m);b.tGa=m;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ML=void 0;r=a(0);c=a(460);f=a(461);l=a(462);m=a(1053);d=a(1054);g=a(1055);b.ML=new r.rd(function(h){h(c.Eza).to(m.Dza).aa();h(f.Cza).to(d.zza).aa();h(l.Bza).to(g.Aza).aa();});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t){this.F3=p;this.ib=q;this.ctb=u;this.config=t;this.ta=n.hb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;r=a(1);f=a(0);l=a(461);m=a(462);d=a(7);g=a(27);h=a(4);a=a(13);c.prototype.hrb=function(n){var p,q;p=n.bb.playbackState && n.bb.playbackState.currentTime;q=this.kFb(n.J);p=this.ib.FG(p)?(0,h.Oc)(p):q;if(this.ib.Hg(p))(this.ta.info("Overriding bookmark",{From:n.pJ.da(h.ja),To:p.da(h.ja)}),n=Object.assign({},n,{pJ:p}));else if(this.JJb(n))return (this.ta.trace("Ignoring bookmark because it's too close to beginning"),(0,h.wh)(0));return n.pJ.Npa()?(this.ta.trace("Ignoring bookmark because it's negative"),(0,h.wh)(0)):this.IJb(n)?(this.ta.trace("Ignoring bookmark because it's too close to end"),(0,h.wh)(0)):this.HJb(n)?(this.ta.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.wh)(0)):n.pJ;};c.prototype.JJb=function(n){return 0 > n.pJ.Al(this.una(n));};c.prototype.una=function(n){return this.sRa(this.F3.una(),n.J9);};c.prototype.IJb=function(n){return 0 < n.pJ.Al(this.vna(n));};c.prototype.vna=function(n){var p;p=n.bb.Hl?this.F3.$Fb():this.F3.vna();return n.J9.Ma(this.sRa(p,n.J9));};c.prototype.HJb=function(n){return 0 < n.pJ.Al(this.IFb(n));};c.prototype.IFb=function(n){var p;p=n.bb.Hl?this.config().J4a:this.config().$H;return n.J9.Ma((0,h.Oc)(p));};c.prototype.kFb=function(n){var p;n=this.F3.$ma()[n];p=-1;this.ib.Jp(n)?p=parseInt(n):this.ib.Hi(n) && (p=n);if(this.ib.CT(p))return (0,h.Oc)(p);};c.prototype.sRa=function(n,p){return this.ctb.YZb(n,p);};k=c;k=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(d.qb)),(0,r.__param)(1,(0,f.l)(l.Cza)),(0,r.__param)(2,(0,f.l)(g.dg)),(0,r.__param)(3,(0,f.l)(m.Bza)),(0,r.__param)(4,(0,f.l)(a.ad))],k);b.Dza=k;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;r=a(1);f=a(0);a=a(13);c.prototype.una=function(){return this.SC().dtb;};c.prototype.vna=function(){return this.SC().etb;};c.prototype.$Fb=function(){return this.SC().ftb;};c.prototype.$ma=function(){return this.SC().rRa;};c.prototype.SC=function(){return this.config();};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.ad))],l);b.zza=l;},function(r,b,a){var f,l,m;function c(d){this.ib=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;r=a(1);f=a(0);l=a(27);m=a(4);c.prototype.YZb=function(d,g){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.ib.Hi(h)?k=Math.round(h * g.da(m.ja) / 100):(d=parseInt(d),this.ib.CT(d) && (k=d));return (0,m.Oc)(Math.min(k,g.da(m.ja)));};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.dg))],a);b.Aza=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;r=a(0);c=a(463);f=a(1057);b.MRa=new r.rd(function(l){l(c.Vza).to(f.Uza).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v,x){this.config=q;this.GD=t;this.profile=w;this.Daa=v;this.cU=x;this.log=u.hb("CDMAttestedDescriptor");this.tXa(n.zv.RR);}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;r=a(1);f=a(0);l=a(13);m=a(7);d=a(156);g=a(277);h=a(94);k=a(166);n=a(40);p=a(58);c.prototype.tXa=function(q){var u;u=this;return this.Daa.U$(q)?this.config().EBb?this.rXa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.v1a || (!1,u.v1a=u.cU.aoa(p.Yh.eo));return u.v1a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.ac.close();return null === t || void 0 === t?void 0:t.zja;}).then(function(t){return Promise.all([Promise.resolve(t),u.rXa()]);}).then(function(t){var w;t=aa(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.GD().then(function(t){t.fX.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.rXa=function(){var q;q=this;return this.GD().then(function(u){return (u=u.fX.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.ad)),(0,r.__param)(1,(0,f.l)(m.qb)),(0,r.__param)(2,(0,f.l)(d.DR)),(0,r.__param)(3,(0,f.l)(h.TR)),(0,r.__param)(4,(0,f.l)(g.w1)),(0,r.__param)(5,(0,f.l)(k.I_))],a);b.Uza=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.l2a=void 0;r=a(0);c=a(260);f=a(1059);l=a(464);m=a(1066);d=a(467);g=a(468);h=a(470);k=a(1067);n=a(157);p=a(1068);q=a(472);u=a(1069);b.l2a=new r.rd(function(t){t(l.NFa).to(m.MFa).aa();t(c.qda).to(f.OFa).aa();t(d.WIa).$i(function(w){for(var v=[],x=0;x < arguments.length;++x){v[x - 0]=arguments[x];}x=a(279).oF;return new (Function.prototype.bind.apply(x,[null].concat(ea(v))))();});t(g.BLa).$i(function(w){for(var v=[],x=0;x < arguments.length;++x){v[x - 0]=arguments[x];}x=a(476).kAa;return new (Function.prototype.bind.apply(x,[null].concat(ea(v))))();});t(h.RFa).yf(function(){return function(w){return new k.SFa(w);};});t(n.yR).to(p.KFa).aa();t(q.JFa).to(u.IFa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t;function c(w,v,x,y,z){this.Zf=w;this.config=v;this.Cta=x;this.zxa=y;this.zaa=z;}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(1);f=a(0);l=a(7);m=a(464);d=a(1060);g=a(1061);h=a(1062);k=a(1063);n=a(1064);p=a(1065);q=a(467);u=a(468);a=a(469);c.prototype.create=function(w){var v,x;v=this.Zf.hb("ManifestParser",w);x=new d.sAa(v,this.config);return new h.PFa(x,new g.nLa(v,this.config,w,x,this.Cta),new k.LLa(v,w,this.zxa),new n.pza(v,this.config,w,this.zaa),new p.kMa(v,this.zaa));};t=c;t=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.NFa)),(0,r.__param)(2,(0,f.l)(q.WIa)),(0,r.__param)(3,(0,f.l)(a.JLa)),(0,r.__param)(4,(0,f.l)(u.BLa))],t);b.OFa=t;},function(r,b,a){var f,l,m;function c(d,g){this.log=d;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;f=a(129);l=a(278);m=a(21);c.prototype.Ysa=function(d,g,h){var k,n,p,q,u;k=this;n=this.config.xja;p=this.config.wja;d=aa((0,f.Cu)(function(t){return (!n.length || 0 <= n.indexOf(t.id)) && 0 > p.indexOf(t.id);},d || []));q=d.next().value;d.next().value.forEach(function(t){return k.log.warn("Cdn is not allowed",{Id:t.id});});u=q.map(function(t){var w;w=(g?g.find(function(v){return v.key === t.key;}):void 0) || ({});return {id:t.id,name:t.name,jc:t.jc,type:t.type,Gqa:t.key,xac:t.$1a,location:{id:w.key,jc:w.jc,level:w.level,weight:w.weight,kj:[]}};});u.sort(function(t,w){return t.jc - w.jc;});u.forEach(function(t){return t.location.kj=u.filter(function(w){return w.Gqa === t.Gqa;});});this.log.trace("Transformed cdns",{Count:u.length});if(h && !u.length)throw Error("no valid cdns");return u;};c.prototype.AJb=function(d,g,h,k){var n;n=d.filter(function(p){return -1 === h.findIndex(function(q){return q.id === p.id;});}).map(function(p){return {M4a:!0,Qc:p};}).concat(h.map(function(p){return {M4a:!1,Qc:p};})).sort(function(p,q){return p.Qc.jc === q.Qc.jc?p.M4a?-1:1:p.Qc.jc - q.Qc.jc;}).map(function(p,q){(0,l.SN)(p.Qc).jc=q + 1;return p.Qc;});d=g.filter(function(p){return -1 === k.findIndex(function(q){return q.key === p.key;});}).concat(k).map(function(p){var q;q=n.findIndex(function(u){return u.key === p.key;});(0,m.gb)(-1 !== q);q=n[q];(0,l.SN)(p).jc=q.jc;return p;});return {GXb:n,hNb:d};};b.sAa=c;},function(r,b,a){var f,l,m,d;function c(g,h,k,n,p){this.log=g;this.config=h;this.j=k;this.eU=n;this.Cta=p;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;f=a(45);l=a(11);m=a(131);d=a(465);c.prototype.r5a=function(g,h){var k;k=this;h=h.map(function(n){var p,q,u,t,w;u=k.G0b(n);n.oD || !n.mi || u && 0 < u.length || k.log.error("track without downloadables",k.tGb(n));t={};w=[];0 < u.length && (t=u[0],t.profile == f.cn.eK && (t=k.tXb(u),!1),w=k.eU.Ysa(n.YRa,void 0,!1));n=k.Cta(k.j,n.tg,n.id,null !== (p=n.jc) && void 0 !== p?p:-1,null !== (q=n.mi) && void 0 !== q?q:!0,g,t.Bc,t.urls || ({}),w,n.language,n.tD,m.u1[n.ol.toLowerCase()] || m.wp.iK,n.YI,n.variant,n.oI.toUpperCase(),t.profile,k.zGb(t) || ({}),n.oD,n.u7,n.x7,n.hu);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.e0b=function(g){var h,k;h=this;k=this.config.Ima;if(k){if(g=aa(g.filter(function(n){return n.Xd == k || n.trackId == k;})).next().value)return g;}else if(this.j.C5 && (g=aa(g.filter(function(n){return n.trackId == h.j.C5;})).next().value))return g;};c.prototype.G0b=function(g){var h,k;h=this;k=g.UUa;g=Object.entries(g.Hxa || ({})).map(function(n){var p;p=aa(n);n=p.next().value;p=p.next().value;return {Bc:k[n],profile:n,size:p.size || 0,priority:h.BFb(n,p),offset:p.Mra || 0,HSb:p.width,F5a:p.height,urls:p.pw};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.BFb=function(g,h){var k,n;k=this.config.hv.indexOf(g);h=h.size;n=this.config.NP;return g === f.cn.$ba && 0 < n && h > n?this.config.hv.length + 1:0 <= k?k:this.config.hv.length;};c.prototype.zGb=function(g){if(g.profile === f.cn.eK)return {offset:g.offset,length:g.size,yI:{width:g.HSb,height:g.F5a}};};c.prototype.tXb=function(g){var h,k;h=this.config.cpa || d.Uea.XYa();k=aa(g.filter(function(n){return n.profile === f.cn.eK;}).filter(function(n){return n.F5a === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.Bv.height,intendedResolution:h});return g[0];};c.prototype.tGb=function(g){return {isNone:g.oD,isForced:g.u7,bcp47:g.language,id:g.tg};};b.nLa=c;},function(r,b,a){var f;function c(l,m,d,g,h){this.eU=l;this.jxa=m;this.P0b=d;this.A3=g;this.Tbb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;f=a(278);c.prototype.p5a=function(l){var m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;g=l.$b;h=null !== (d=null === (m=g.W3) || void 0 === m?void 0:m.gs) && void 0 !== d?d:"";k=! !g.kY;m=this.eU.Ysa(g.kl,g.pj,!0);d=this.jxa.r5a(h,g.zZ);l=this.P0b.mSb(g.S0b);n=k?this.A3.f5a(h,g.hG,d):this.A3.hSb(h,g.hG,g.media,d);h=this.Tbb.nSb(h,g.hB);p=h[0];q=this.A3.xsb(n) || n.find(function(B){return k?B.trackId === g.kY.sn:B.Tz === g.F4[0].sn;}) || n[0];u=this.jxa.e0b(q.Sh) || d.find(function(B){return k?B.trackId === g.kY.OP:B.Tz === g.F4[0].w$a;}) || q.Sh[0];t=this.Tbb.jSb(g.hB);w=g.Ti;v=g.nvb;x=g.ZV;y=g.sm;z=g.hG.findIndex(function(B){return B.tg == q.trackId;});A=g.hB.findIndex(function(B){return B.tg == p.trackId;});return {Ru:t,kj:m,Ki:n,jp:h,Sh:d,$A:l,Ti:w,KXb:v,rD:x,sm:y,Gzb:z,Qzb:A,G4:p,AU:q,CU:u};};c.prototype.BJb=function(l,m,d){var g,h,k,n,p,q;g=this;n=this.eU.AJb(l.$b.kl,l.$b.pj,d.$b.kl,d.$b.pj);p=n.GXb;n=n.hNb;(0,f.SN)(l.$b).kl=p;(0,f.SN)(l.$b).pj=n;m.kj=this.eU.Ysa(p,n,!0);q=null !== (k=null === (h=d.$b.W3) || void 0 === h?void 0:h.gs) && void 0 !== k?k:"";d=d.$b;h=d.hG;d.zZ.forEach(function(u){var t;if(u.mi){t=g.x7a(l.$b.zZ,m.Sh,u,function(w){return g.jxa.r5a(q,[w])[0];});t && m.Ki.forEach(function(w){var v;w=w.Sh;v=w.findIndex(function(x){return x.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});h.forEach(function(u){u.mi && g.x7a(l.$b.hG,m.Ki,u,function(t){return g.A3.f5a(q,[t],m.Sh)[0];});});return {oa:l,Tc:m};};c.prototype.x7a=function(l,m,d,g){var h,k,n,p;h=l.findIndex(function(q){return q.tg === d.tg;});k=-1 !== h?l[h]:void 0;n=m.findIndex(function(q){return q.trackId === d.tg;});p=-1 !== n?m[n]:void 0;if(k && !k.mi && p && !p.mi)return (g=g(d),l[h]=d,m[n]=g);};b.PFa=c;},function(r,b){function a(c,f,l){this.log=c;this.j=f;this.zxa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;a.prototype.mSb=function(c){var f;f=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return f.zxa(f.j,l.id,l.height,l.width,l.MSb,l.NSb,l.size,l.hu,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.LLa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p){h=l.AR.call(this,h,p) || this;h.config=k;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;f=a(448);l=a(466);m=a(129);d=a(90);g=a(131);na(c,l.AR);c.prototype.f5a=function(h,k,n){var p,q;p=this;q=this.config.haa;k=k.filter(function(u){var t,w;t=u.oD || !u.mi || u.streams && 0 < u.streams.length;t || p.log.warn("Audio track is missing streams",p.u6(u));w=0 === q.length || 0 <= q.indexOf(u.ol);w || p.log.warn("Audio track is not supported",p.u6(u));return t && w;});if(!k.length)throw Error("no valid audio tracks");k=k.map(function(u){return p.e5a(h,u,p.DEb(u,n));});this.log.trace("Parsed audio tracks",{Count:k.length});return k;};c.prototype.hSb=function(h,k,n,p){var q,u,t,w;q=this;u=aa((0,m.Cu)(function(v){return v.oD;},k));k=u.next().value;u=u.next().value;u=aa((0,m.Cu)(function(v){return v.streams && 0 < v.streams.length;},u));t=u.next().value;u.next().value.forEach(function(v){return q.log.warn("Audio track is missing streams",q.u6(v));});w=this.config.haa;u=aa((0,m.Cu)(function(v){return 0 === w.length || 0 <= w.indexOf(v.ol);},t));t=u.next().value;u.next().value.forEach(function(v){return q.log.warn("Audio track is not supported",q.u6(v));});k=[].concat(ea(t),ea(k)).map(function(v){return q.e5a(h,v,q.pGb(v.tg,n,p));});if(!k.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:k.length});return k;};c.prototype.xsb=function(h){var k,n;k=this;n=this.config.Ema;if(n){if(h=aa(h.filter(function(p){return p.Xd == n || p.trackId == n;})).next().value)return h;}else if(this.j.B5 && (h=aa(h.filter(function(p){return p.trackId == k.j.B5;})).next().value))return h;};c.prototype.e5a=function(h,k,n){var p,q,u,t;t=k.ol;h={type:d.Di.audio,YI:k.YI,variant:k.variant,trackId:k.tg,Tz:k.RP,ol:g.u1[t.toLowerCase()] || g.wp.iK,oI:t,Gg:h,Xd:k.language,displayName:k.tD,jc:null !== (p=k.jc) && void 0 !== p?p:-1,mi:null !== (q=k.mi) && void 0 !== q?q:!0,channels:k.channels,L9b:k.channels,Sh:n,Ri:{Bcp47:k.language,TrackId:k.tg},streams:[],isNative:k.isNative,rq:k.oD,nZ:k.nZ};h.streams=this.yab(k.streams,h);this.log.trace("Transformed audio track",h,{StreamCount:h.streams.length,AllowedTimedTextTracks:h.Sh.length});h.vvb=f.qza[null === (u=h.streams[0]) || void 0 === u?void 0:u.oh];return h;};c.prototype.u6=function(h){return {language:h.tD,bcp47:h.language,type:h.ol};};c.prototype.DEb=function(h,k){return k.filter(function(n){if(0 <= h.CAb.indexOf(n.Tz))return !1;if(h.kUa){if(h.kUa !== n.Tz && (n.rq() || n.Qo()))return !1;}else if(h.HQb){if(n.rq() || n.Qo())return !1;}else if(n.Qo())return !1;return !0;});};c.prototype.pGb=function(h,k,n){return k.filter(function(p){return p.wg.Vb === h;}).map(function(p){return p.wg.$m;}).map(function(p){return n.find(function(q){return q.trackId === p;});}).filter(Boolean);};b.pza=c;},function(r,b,a){var f,l,m,d;function c(g,h){return l.AR.call(this,g,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;f=a(129);l=a(466);m=a(90);d=a(131);na(c,l.AR);c.prototype.nSb=function(g,h){var k,n;k=this;h=aa((0,f.Cu)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.tg});});h=n.map(function(p){var q;q=p.ol;q={type:m.Di.video,trackId:p.tg,Tz:p.RP,ol:d.u1[q.toLowerCase()] || d.wp.iK,oI:q,Gg:g,streams:[],Ri:{},Ou:p.Ou};q.streams=k.yab(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.jSb=function(g){var h;h=g.map(function(k){return k.Ou;}).filter(Boolean);h=[].concat.apply([],ea(h)).map(function(k){return k.fa;});g=g.map(function(k){return k.vla;}).filter(Boolean).map(function(k){return k.fa;});return 0 < h.length?h:g;};b.kMa=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.$e.call(this,k,"ManifestParserConfigImpl") || this;k.mj=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(46);g=a(108);h=a(52);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{haa:{configurable:!0,enumerable:!0,get:function(){return [];}},Ema:{configurable:!0,enumerable:!0,get:function(){return "";}},xja:{configurable:!0,enumerable:!0,get:function(){return [];}},wja:{configurable:!0,enumerable:!0,get:function(){return [];}},Ima:{configurable:!0,enumerable:!0,get:function(){return "";}},cpa:{configurable:!0,enumerable:!0,get:function(){return 0;}},NP:{configurable:!0,enumerable:!0,get:function(){return this.mj.NP.da(h.rv);}},hv:{configurable:!0,enumerable:!0,get:function(){return this.mj.hv;}}});a=c;r.__decorate([d.config(d.iZ,"supportedAudioTrackTypes")],a.prototype,"haa",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Ema",null);r.__decorate([d.config(d.Kxa,"cdnIdWhiteList")],a.prototype,"xja",null);r.__decorate([d.config(d.Kxa,"cdnIdBlackList")],a.prototype,"wja",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Ima",null);r.__decorate([d.config(d.bB,"imageSubsResolution")],a.prototype,"cpa",null);r.__decorate([d.config(d.bB,"timedTextSimpleFallbackThreshold")],a.prototype,"NP",null);r.__decorate([d.config(d.iZ,"timedTextProfiles")],a.prototype,"hv",null);a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl)),(0,r.__param)(1,(0,f.l)(g.iF))],a);b.MFa=a;},function(r,b){function a(c){this.Tc=c;this.ub=JSON.stringify(this.wGb());}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;a.prototype.wGb=function(){var c;c=[];(!this.Tc.kj || 0 >= this.Tc.kj.length) && c.push({error:"No CDN."});this.Tc.AU || c.push({error:"No default audio track.",foundTracks:this.sna(this.Tc.Ki)});this.Tc.G4 || c.push({error:"No default video track.",foundTracks:this.sna(this.Tc.jp)});this.Tc.CU || c.push({error:"No default subtitle track.",foundTracks:this.sna(this.Tc.Sh)});return c;};a.prototype.sna=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.SFa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.BMb=h;this.JNb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(1);f=a(0);l=a(471);m=a(472);d=a(41);g=a(3);c.prototype.create=function(h){var k;if(h && !this.fLb(h)){if(this.jLb(h))throw d.qd.n3b(g.M.xR,g.L.kkb,h);k=this.BMb();k.KPa(h.links);this.JNb.EM(h);return {$b:h,mk:k,t0a:!1,s0a:!1};}};c.prototype.jLb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.fLb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.PHa)),(0,r.__param)(1,(0,f.l)(m.JFa))],a);b.KFa=a;},function(r,b,a){var f,l;function c(m){this.pCb=m;this.KNb={Fo:"drmType",n$b:"drmVersion",expiration:"expiration",J:"movieId",Xo:"packageId",duration:"duration",Ti:"playbackContextId",F4:["defaultTrackOrderList",{WN:"mediaId",$P:"videoTrackId",w$a:"subtitleTrackId",sn:"audioTrackId",bcc:"preferenceOrder"}],s$b:["eligibleABTestMap",{dn:l.dn}],w9b:["badgingInfo",{g$b:"dolbyDigitalAudio",dac:"hdrVideo",h$b:"dolbyVisionVideo",kdc:"ultraHdVideo","3dVideo":"3dVideo",f$b:"dolbyAtmosAudio",p9b:"assistiveAudio",wcc:"sdVideo",cac:"hdVideo"}],type:"type",s9b:["audioTextShortcuts",{id:"id",sn:"audioTrackId",$cc:"textTrackId"}],Xbc:"partiallyHydrated",L2a:"maxRecommendedAudioRank",M2a:"maxRecommendedTextRank",sm:"drmContextId",IIb:"hasDrmProfile",HIb:"hasClearProfile",ZV:"hasDrmStreams",Eoa:"hasClearStreams",pj:["locations",{jc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],kl:["servers",{id:"id",name:"name",type:"type",jc:"rank",$1a:"lowgrade",MAb:["dns",{host:"host",GKb:"ipv4",HKb:"ipv6",UDb:"forceLookup"}],key:"key"}],hG:["audio_tracks",{type:"type",YI:"subType",variant:"variant",ol:"trackType",tg:"new_track_id",RP:"track_id",tUb:"profileType",HZb:"stereo",profile:"profile",channels:"channels",language:"language",Bub:"channelsFormat",nZ:"surroundFormatLabel",tD:"languageDescription",CAb:"disallowedSubtitleTracks",kUa:"defaultTimedText",isNative:"isNative",oD:"isNoneTrack",streams:["streams",{Ir:"downloadable_id",size:"size",yG:"content_profile",ol:"trackType",bitrate:"bitrate",$k:"isDrm",urls:["urls",{Sp:"cdn_id",url:"url"}],LPb:"new_stream_id",type:"type",channels:"channels",Bub:"channelsFormat",nZ:"surroundFormatLabel",language:"language",r9b:"audioKey",vPb:["moov",{size:"size",offset:"offset"}],Cs:["sidx",{size:"size",offset:"offset"}],SA:["ssix",{size:"size",offset:"offset"}],Yn:"tags"}],vvb:"codecName",oI:"rawTrackType",id:"id",jc:"rank",mi:"hydrated",HQb:"offTrackDisallowed"}],hB:["video_tracks",{ol:"trackType",tg:"new_track_id",type:"type",RP:"track_id",IIb:"hasDrmProfile",HIb:"hasClearProfile",ZV:"hasDrmStreams",Eoa:"hasClearStreams",Iz:"groupName",streams:["streams",{Ir:"downloadable_id",size:"size",yG:"content_profile",ol:"trackType",XUa:"drmHeaderId",bitrate:"bitrate",$k:"isDrm",urls:["urls",{Sp:"cdn_id",url:"url"}],LPb:"new_stream_id",type:"type",Zbc:"peakBitrate",uAb:"dimensionsCount",vAb:"dimensionsLabel",H5a:"pix_w",G5a:"pix_h",N7a:"res_w",M7a:"res_h",czb:"crop_x",dzb:"crop_y",bzb:"crop_w",azb:"crop_h",TWa:"framerate_value",SWa:"framerate_scale",U9a:"startByteOffset",sb:"vmaf",vPb:["moov",{size:"size",offset:"offset"}],Cs:["sidx",{size:"size",offset:"offset"}],SA:["ssix",{size:"size",offset:"offset"}],Lq:["segmentVmaf",{offset:"offset",sb:"vmaf"}],Yn:"tags"}],tUb:"profileType",HZb:"stereo",profile:"profile",uAb:"dimensionsCount",vAb:"dimensionsLabel",Mcc:["snippets",{dn:[l.dn,{Lcc:"snippetSpec",Db:"startTimeMs",Ob:"endTimeMs"}]}],vla:["drmHeader",{fa:"bytes",Sub:"checksum",XUa:"drmHeaderId",nj:"keyId",yI:["resolution",{height:"height",width:"width"}]}],Ou:["prkDrmHeaders",{fa:"bytes",Sub:"checksum",XUa:"drmHeaderId",nj:"keyId",yI:["resolution",{height:"height",width:"width"}]}],Xt:"flavor",mac:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",KSb:"pixelAspectX",LSb:"pixelAspectY",Tac:"maxCroppedWidth",Sac:"maxCroppedHeight",Uac:"maxCroppedX",Vac:"maxCroppedY",bbc:"max_framerate_value",abc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",qbc:"minCroppedWidth",pbc:"minCroppedHeight",rbc:"minCroppedX",sbc:"minCroppedY",Ig:["license",{yMb:"licenseResponseBase64",ecc:"providerSessionToken",Acc:"secureStopExpected",m$b:"drmSessionId",links:["links",{}]}]}],W3:["cdnResponseData",{JI:"sessionABTestCell",gs:"pbcid"}],Bo:["choiceMap",{Md:"initialSegment",type:"type",X:"viewableId",pa:["segments",{dn:[l.dn,{Db:"startTimeMs",Ob:"endTimeMs",next:["next",{dn:[l.dn,{weight:"weight"}]}],Qe:"defaultNext",hq:"exitZones"}]}]}],bwb:["contentPlaygraph",{za:["playgraph",{Md:"initialSegment",pa:["segments",{dn:[l.dn,{X:"viewableId",Db:"startTimeMs",Ob:"endTimeMs",next:["next",{dn:[l.dn,{weight:"weight"}]}],Qe:"defaultNext"}]}]}],Qcc:["startIdent",{FJb:"identToken",X:"viewableId"}]}],media:["media",{id:"id",wg:["tracks",{Vb:"AUDIO",$m:"TEXT",Nb:"VIDEO"}]}],kY:["recommendedMedia",{$P:"videoTrackId",sn:"audioTrackId",OP:"timedTextTrackId"}],zZ:["timedtexttracks",{ol:"trackType",tg:"new_track_id",type:"type",YI:"subType",variant:"variant",oI:"rawTrackType",tD:"languageDescription",language:"language",id:"id",oD:"isNoneTrack",u7:"isForcedNarrative",UUa:["downloadableIds",{}],YRa:["cdnlist",{id:"id",name:"name",type:"type",jc:"rank",$1a:"lowgrade",MAb:["dns",{host:"host",GKb:"ipv4",HKb:"ipv6",UDb:"forceLookup"}],key:"key"}],Hxa:["ttDownloadables",{dn:[l.dn,{id:"id",size:"size",Zcc:"textKey",bac:"hashValue",aac:"hashAlgo",wac:"isImage",Mra:"midxOffset",k3a:"midxSize",height:"height",width:"width",pw:["downloadUrls",{}],urls:["urls",{url:"url",Sp:"cdn_id"}]}]}],x7:"isLanguageLeftToRight",hu:"headIdentDuration",jc:"rank",mi:"hydrated"}],S0b:["trickplays",{Ir:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",NSb:"pixelsAspectY",MSb:"pixelsAspectX",width:"width",height:"height",hu:"headIdentDuration"}],dcb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],l$b:"dpsid",Hl:"isBranching",vdc:"viewableType",qD:"isSupplemental",nvb:"clientIpAddress",pdc:"urlExpirationDuration",Nac:"manifestExpirationDuration",Rcc:["steeringAdditionalInfo",{Scc:"steeringId",m9b:"additionalGroupNames",Ucc:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(1);f=a(0);l=a(208);c.prototype.EM=function(m){this.pCb.EM(m,this.KNb);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.rCa))],a);b.IFa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JTa=void 0;b.JTa=function(a,c,f,l){return {hHb:function(){var m;m=a.Nna();l.hu && (m+=l.hu);return m;},ta:c,request:f,tf:!1};};},function(r,b,a){var f,l,m,d,g;function c(h,k){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];(0,l.gb)(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (h.content=null !== (n=k.xml) && void 0 !== n?n:"",h.fB=k.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;f=a(17);l=a(21);m=a(14);d=a(30);g=a(1072);na(c,f.EventEmitter);c.prototype.XG=function(h){var k;(0,d.Zc)(h) && (0,d.Zc)(this.duration) && h < this.duration && this.entries && (k=this.MPb || this.entries[Math.floor(h * this.c0b)] || this.entries[0]);if(k){for(;k && k.endTime < h;){k=k.next;}for(;k && k.previous && k.previous.endTime >= h;){k=k.previous;}this.MPb=k;}return k?[k]:[];};c.prototype.lN=function(h,k){var n;n=[];try{n=this.entries.filter(function(p){var q;q=aa([p.startTime,p.endTime]);p=q.next().value;q=q.next().value;return p >= h && p <= k || p <= h && h <= q;});}catch(p){}return n;};c.prototype.Or=function(h,k){return this.lN(h,k).reduce(function(n,p){return n + p.blocks.length;},0);};c.prototype.start=function(){var h,k;h=this;if(this.content)(0,g.o5a)(this.content,this.fB.width / this.fB.height,m.config.qxa,m.config.qaa).then(function(n){h.duration=n && Math.max.apply(Math,ea(n.map(function(p){return p.endTime;}))) || 0;h.c0b=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.iua=function(){throw Error("Method not implemented.");};c.prototype.Ks=function(){throw Error("Method not implemented.");};c.prototype.QA=function(){throw Error("Method not implemented.");};c.prototype.ti=function(){throw Error("Method not implemented.");};c.prototype.yi=function(){throw Error("Method not implemented.");};b.REa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.o5a=void 0;c=a(1073);f=a(280);b.o5a=function(l,m,d,g){return new Promise(function(h,k){(0,f.Aya)(l,function(n){n.$?(n=n.object,(0,c.g5a)(n,m,d,g,function(p){p.$?h(p.entries):k(p);})):k(n);});});};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.i5a=b.h5a=b.Zsa=b.k5a=b.cSb=b.dSb=b.j5a=b.l5a=b.B9=b.m5a=b.n5a=b.g5a=void 0;c=a(21);f=a(30);l=a(12);m=a(158);d=a(11);g=a(19);h=a(24);b.g5a=(function(){var F,C,G,K,J,I,M,R,H,P,N,L;function k(Q){if((0,f.Xz)(Q)){Q=Q.toLowerCase();if("#" == Q[0]){if(7 == Q.length)return Q;if(4 == Q.length)return "#" + Q[1] + Q[1] + Q[2] + Q[2] + Q[3] + Q[3];}return b.l5a[Q];}}function n(Q,S,U){S=S[Q];0 <= S || (S=parseFloat(Q));if(0 <= S)return (0,d.op)(S,U);}function p(Q,S){var U,ca;U=Q.length;ca=Q[U - 1];if("t" === ca)return parseFloat(Q) * S | 0;if("s" === ca)return "m" === Q[U - 2]?parseFloat(Q) | 0:parseFloat(Q) * l.Ul | 0;if((Q=Q.match(H)) && 4 <= Q.length)return (3600 * parseInt(Q[1],10) + 60 * parseInt(Q[2],10) + parseFloat(Q[3])) * l.Ul | 0;throw Error("dfxp-badtime");}function q(Q,S,U,ca,ka){var ya,qa,Y,ua,O,T,ja,ma;ya=void 0;if(Q){qa=Q.style;U=qa?U[qa]:void 0;ca=(qa=Q.region)?ca[qa]:void 0;qa=ka.length;for(Y=0;Y < qa;Y++){O=ka[Y];T=Q[O];void 0 === T && U && (T=U[O]);void 0 === T && ca && (T=ca[O]);if(void 0 !== T && T !== S[O]){if(!ya)for((ya={},ua=0);ua < qa;ua++){ja=ka[ua];ma=S[ja];void 0 !== ma && (ya[ja]=ma);}ya[O]=T;}}}return ya || S;}function u(Q,S,U,ca,ka,ya,qa,Y,ua){var T,ja;function O(ma,ta,Ka){var Ua,Ya,ab,ib,$a,Sa;Ua=ma[m.Gk];Ya=Ua.style || ta.style || "";ab=Ua.region || ta.region || "";if(Ya || ab)(ib=Ya + "/" + ab,$a=U[ib]);else $a=S;if(!$a){$a=S;Sa=(0,f.tP)(ca);(0,f.Zb)(Sa,ka[Ya]);$a=x($a,Sa,qa,Y,ua);U[Ya + "/"]=$a;ab && ((0,f.Zb)(Sa,ya[ab]),(0,f.Zb)(Sa,ka[Ya]),$a=x($a,Sa,qa,Y,ua),U[ib]=$a);}if(!Ka)a:{for(Ka=I.length;Ka--;){if(void 0 !== Ua[I[Ka]]){Ka=!0;break a;}}Ka=void 0;}Ka && (Ua=q(Ua,ta,ka,ya,M),$a=x($a,Ua,qa,Y,ua));ta=(ma=ma[m.gQ]) && ma.length;for(Ya=0;Ya < ta;Ya++){ab=ma[Ya];(0,f.Lh)(ab)?P.test(ab[m.hQ])?ja++:O(ab,Ua,Ka):(T.push({text:ab,lineBreaks:ja,style:$a}),ja=0);}}T=[];ja=0;O(Q,ca,!1);0 < ja && T.push({text:"",lineBreaks:ja,style:S});return T;}function t(Q,S,U,ca,ka,ya,qa,Y){var ua,O;U && (U=C[U] || "top",Q.verticalAlignment !== U && (Q.verticalAlignment=U));ca && (U=G[ca] || "left",Q.horizontalAlignment !== U && (Q.horizontalAlignment=U));if(ka){if(ua=Y[ka])(ca=ua.marginLeft,U=ua.marginTop);else {O=ka.split(" ");ca=z(O[0],qa.x) || 0;U=z(O[1],qa.y) || 0;ua={um:0,marginLeft:ca,marginTop:U,krb:ca * S.Aoa + S.VV,mrb:U * S.lya + S.Saa};30 > Y.um && (Y.um++,Y[ka]=ua);}Q.marginLeft=ua.krb;Q.marginTop=ua.mrb;}else (U=ca=0,(ua=Y["default"]) || (Y["default"]=ua={um:0}));ya && (ka=ua[ya],ka || (O=ya.split(" "),ka={lrb:(1 - (ca + (z(O[0],qa.x) || 0))) * S.Aoa + S.VV,jrb:(1 - (U + (z(O[1],qa.y) || 0))) * S.lya + S.Saa},30 > ua.um && (ua.um++,ua[ya]=ka)),Q.marginRight=ka.lrb,Q.marginBottom=ka.jrb);}function w(Q,S,U,ca,ka){var ya,qa,Y;ya=Q.displayAlign;qa=Q.textAlign;Y=Q.origin;Q=Q.extent;U=(0,f.tP)(U);t(U,S,ya,qa,Y,Q,ca,ka);U.id=F++;return U;}function v(Q,S,U,ca){var ka,ya,qa,Y,ua,O;ka=n(U.characterSize || S.characterSize,b.m5a,2) || 1;ya=(ya=Q.fontSize) && N.test(ya)?(0,f.pp)((0,f.He)(ya),25,200):void 0;ka*=ya / 100 || 1;if((ya=Q.textOutline) && "none" != ya){qa=ya.split(" ");if(L.test(qa))(Y=0,ua=Q.color);else (Y=1,ua=k(qa[0]));O=y(qa[Y]);qa=y(qa[Y + 1]);}return {characterStyle:U.characterStyle || b.n5a[Q.fontFamily] || S.characterStyle,characterSize:ka * ca,characterColor:k(U.characterColor || Q.color || S.characterColor),characterOpacity:n((0,f.c4)(U.characterOpacity,Q.opacity,S.characterOpacity),b.B9,1),characterEdgeAttributes:U.characterEdgeAttributes || ya && ("none" === ya?b.j5a:qa?b.Zsa:b.k5a) || S.characterEdgeAttributes,characterEdgeColor:k(U.characterEdgeColor || ua || S.characterEdgeColor),characterEdgeWidth:O,characterEdgeBlur:qa,characterItalic:"italic" === Q.fontStyle,characterUnderline:"underline" === Q.textDecoration,backgroundColor:k(U.backgroundColor || Q.backgroundColor || S.backgroundColor),backgroundOpacity:n((0,f.c4)(U.backgroundOpacity,Q.opacity,S.backgroundOpacity),b.B9,1)};}function x(Q,S,U,ca,ka){var ya;S=v(S,U,ca,ka);(0,h.te)(S,function(qa,Y){Y !== Q[qa] && (ya || (ya=(0,d.gF)(Q)),ya[qa]=Y);});return ya || Q;}function y(Q){Q=(0,f.He)(Q);return (0,g.Wz)(Q,0,100)?Q:0;}function z(Q,S){var U;U=Q[Q.length - 1];if("%" === U)return (0,f.pp)(.01 * parseFloat(Q),0,1);if("c" === U)return (0,f.pp)((0,f.He)(Q) / S,0,1);}function A(Q){for(var S=Q.length,U=Q[--S].endTime;S--;){U=(0,d.op)(Q[S].endTime,U);}return U;}function B(Q){(0,h.te)(Q,function(S,U){0 <= S.toLowerCase().indexOf("color") && (Q[S]=k(U));});}function E(Q,S){var U,ca,ka,ya;U=Q.pixelAspectRatio;ca={VV:0,Aoa:1,Saa:0,lya:1};Q=(Q.extent || "640px 480px").split(" ");if(2 <= Q.length){U=(U || "").split(" ");ka=parseFloat(Q[0]) * (parseFloat(U[0]) || 1);ya=parseFloat(Q[1]) * (parseFloat(U[1]) || 1);}ka=0 < ka && 0 < ya?ka / ya:1280 / 720;S=S || 1280 / 720;U=ka / S;.01 < (0,d.VE)(S - ka) && (S >= ka?(ca.VV=(1 - U) / 2,ca.Aoa=U):(0,c.gb)(!1,"not implemented"));return ca;}function D(Q){var S,U,ca,ka,ya;if(S=Q.cellResolution)if((S=S.split(" "),2 <= S.length)){U=(0,f.He)(S[0]);S=(0,f.He)(S[1]);if(0 < U && 0 < S)return {x:U,y:S};}if((S=Q.extent) && (S=S.split(" "),2 <= S.length)){U=(0,f.He)(S[0]);ca=(0,f.He)(S[1]);if(Q=Q.pixelAspectRatio){S=Q.split(" ");ka=(0,f.He)(S[0]);ya=(0,f.He)(S[1]);}if(U && ca && 1.5 < U * (ka || 1) / (ca * (ya || 1)))return b.i5a;}return b.h5a;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};K={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};J={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};I=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");M=I.concat(["style","region"]);R=["region","textAlign","displayAlign","extent","origin"];H=/^([0-9]+):([0-9]+):([0-9.]+)$/;P=/^br$/i;N=/^[0-9]{1,3}%$/;L=/^[0-9]/;return function(Q,S,U,ca,ka){var ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa,Da,Ha,Qa,Xa,gb,wb,Eb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd;function ya(){var ec,hc,Xb,nc,dc,tb,Vc,qb,Sb,bc,rc,Wc,fc,vc,Od,Xc,hd;try{for(var qc;Kb;){gb=Kb[m.Gk];ec=Ub;hc=ec.push;Xb=F++;nc=p(gb.begin,T);dc=p(gb.end,T);tb=void 0;Vc=Ua;qb=ja;Sb=$a;bc=Qa;rc=Kb[m.Gk];Wc=q(Kb[m.Gk],Ec,ta,Ka,R);fc=Wc.region;vc=rc.displayAlign;Od=Wc.textAlign;Xc=rc.origin;hd=rc.extent;fc || vc || Od || Xc || hd?((tb=Vc[fc])?tb=(0,d.gF)(tb):vc || Xc || hd?(tb=(0,d.gF)(J),tb.id=F++):tb=(0,d.gF)(K),t(tb,qb,vc,Od,Xc,hd,Sb,bc)):tb=K;hc.call(ec,{id:Xb,startTime:nc,endTime:dc,region:tb,textNodes:u(Kb,Md,se,mc,ta,Ka,Da,Ha,Sa)});Kb=Kb[m.xE];qc=(0,d.IJ)();if(100 < qc - Nd){Nd=Date.now();gd=setTimeout(ya,1);return;}}}catch(te){Y({na:f.L.j0,ub:(0,f.wd)(te)});return;}gd=setTimeout(qa,1);}function qa(){var ec,hc,Xb,nc,dc,tb,Vc;function qc(qb,Sb){for(var bc,rc=[],Wc={},fc,vc=hc.length;vc--;){bc=hc[vc];fc=bc.region.id;Wc[fc] || (Wc[fc]=1,rc.unshift(bc));}(bc=ec[ec.length - 1]) && bc.endTime == qb && (0,f.Ft)(bc.blocks,rc)?bc.endTime=Sb:ec.push({id:F++,startTime:qb,endTime:Sb,blocks:rc});}try{if(!Ub.length){Y({$:!0,entries:[]});return;}(0,f.IQa)(Ub,"startTime");ec=[];hc=[];Xb=Ub[0];nc=Ub[0].startTime;for(dc=1;hc.length || Xb;){for(;!hc.length || Xb && Xb.startTime == nc;){hc.push(Xb);nc=Xb.startTime;Xb=Ub[dc++];}Vc=A(hc);if(!Xb || Vc <= Xb.startTime)for((qc(nc,Vc),nc=Vc,tb=hc.length);tb--;){hc[tb].endTime <= nc && hc.splice(tb,1);}else (qc(nc,Xb.startTime),nc=Xb.startTime,hc.push(Xb),Xb=Ub[dc++]);}for(dc=ec.length;dc--;){ec[dc].index=dc;ec[dc].previous=ec[dc - 1];ec[dc].next=ec[dc + 1];}}catch(qb){Y({na:f.L.j0,ub:(0,f.wd)(qb)});return;}Y({$:!0,entries:ec});}function Y(qc){setTimeout(function(){ua.abort=f.rl;ka(qc);},1);}ua={abort:function(){gd && clearTimeout(gd);}};try{O=Q[m.Gk];T=l.Ul / ((0,f.He)(O.tickRate) || 1);ja=E(O,S);ma=(0,f.Zb)(J,{marginLeft:ja.VV,marginTop:ja.Saa,marginRight:ja.VV,marginBottom:ja.Saa});ta={};Ka={};Ua={};ab=Q.head;ib=Q.body;$a=D(O,S);Sa=1 / $a.y * ja.lya;Da=(0,f.Zb)({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.Zsa,characterEdgeColor:"#000000",characterSize:1},U,{tA:!0});Ha=ca || ({});Qa={um:0};if(ab){Xa=ab.styling;if(Xa)for(Ya=Xa.style;Ya;){gb=Ya[m.Gk];B(gb);ta[gb.id]=gb;Ya=Ya[m.xE];}wb=ab.layout;if(wb)for(var Fb=wb.region;Fb;){gb=Fb[m.Gk];Eb=gb.id;Nb=(0,f.tP)(ta[gb.style]);Nb=(0,f.Zb)(Nb,gb);for(Ya=Fb.style;Ya;){(0,f.Zb)(Nb,Ya[m.Gk]);Ya=Ya[m.xE];}B(Nb);Ka[Eb]=Nb;Ua[Eb]=w(Nb,ja,ma,$a,Qa);Fb=Fb[m.xE];}}Cb=ib.div;Kb=Cb.p;Ub=[];mc={};mc=q(ib[m.Gk],mc,ta,Ka,M);mc=q(Cb[m.Gk],mc,ta,Ka,M);Ec={};Ec=q(ib[m.Gk],Ec,ta,Ka,R);Ec=q(Cb[m.Gk],Ec,ta,Ka,R);Md=v(mc,Da,Ha,Sa);(0,f.Zb)(Md,{windowColor:k(Ha.windowColor || Da.windowColor),windowOpacity:n((0,f.c4)(Ha.windowOpacity,Da.windowOpacity),b.B9,1),cellResolution:$a},{tA:!0});se={};Cb.p=void 0;Cb[m.gQ]=[];}catch(qc){Y({na:f.L.j0,ub:(0,f.wd)(qc)});return;}Nd=(0,d.IJ)();gd=setTimeout(ya,1);return ua;};})();b.n5a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.m5a={SMALL:.5,MEDIUM:1,LARGE:2};b.B9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.l5a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.j5a="NONE";b.dSb="RAISED";b.cSb="DEPRESED";b.k5a="UNIFORM";b.Zsa="DROP_SHADOW";b.h5a={x:40,y:19};b.i5a={x:52,y:19};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.ukb=void 0;c=a(1);r=a(114);f=a(1075);l=a(1080);m=a(1087);a=(function(d){function g(h,k){var n,p;n=d.call(this) || this;n.Wj=!0;n.LS=[];n.Rv=0;p=h.tf || !1;n.Ja=h.ta || console;n.OF=h.request;n.my=h.hHb;n.Vg=null;n.Wj=!0;n.LS=[];n.aT=k.profile;n.wl=k.url;n.LF=k.Ed;n.$S=k.preferences;n.wS=k.mj;n.Rv=n.LF || 0;h={url:n.wl,request:n.OF,Ed:n.LF,xml:k.xml,preferences:n.$S,mj:n.wS,ta:n.Ja,tf:p,bufferSize:k.bufferSize,xu:k.xu,gua:k.gua || 0,ARa:k.ARa};if("nflx-cmisc" === n.aT)(h.offset=k.Mra,h.size=k.k3a,h.E$=k.E$,h.kVa=k.kVa,n.md=new l(h));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(n.aT) && "function" === typeof f)n.md=new f(h);else throw Error("SubtitleManager: " + n.aT + " is an unsupported profile");n.md.on("ready",function(){var q,u;q=! !k.eRa;n.Ja.info("ready event fired by subtitle stream");n.emit("ready");u=n.md.XG.bind(n.md);n.Vg=new m(n.my,u,function(){return n.Wj;},n.Ja,k);if("dfxp-ls-sdh" === n.aT && "function" === typeof f)n.Vg.on("stagesubtitle",n.uZb.bind(n));n.Vg.on("showsubtitle",n.rwa.bind(n));n.Vg.on("removesubtitle",n.Sua.bind(n));n.Vg.on("underflow",n.Zn.bind(n));n.Vg.on("bufferingComplete",n.Pe.bind(n));q && (n.Ja.info("autostarting subtitles"),setTimeout(function(){n.Ks(n.my());},10));});n.md.on("error",n.emit.bind(n,"error"));return n;}c.__extends(g,d);g.prototype.start=function(){this.md.start();};g.prototype.iua=function(){this.Wj || (this.Wj=!0,this.BVa(this.Rv));};g.prototype.Ks=function(h){!this.Wj && 1E4 < Math.abs(h - this.Rv) && (this.Ja.warn("Detected an unexpected pts jump larger than",1E4,"at",h,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.iua());this.Rv=h;this.Wj && (this.Wj=!1,this.wZb(h));null !== this.Vg && (this.w1b(h),this.Vg.Ks(h));};g.prototype.stop=function(){var h;this.Ja.info("stop called");this.Wj || this.pause();this.md.removeAllListeners(["ready"]);null !== this.Vg && this.Vg.stop();h=this.LS.reduce(function(k,n){k.C9a+=n.WY;k.n5+=n.o5 || 0;k.BKb.push(n);return k;},{C9a:0,n5:0,BKb:[]});"object" === typeof this.md && this.md.close();this.Ja.info("metrics: " + JSON.stringify(h));return h;};g.prototype.pause=function(){var h;h=this.my();this.Wj?this.Ja.warn("pause called on subtitle manager, but it was already paused!"):(this.Ja.info("pause called at " + h),this.Wj=!0,this.BVa(h));null !== this.Vg && this.Vg.pause();};g.prototype.lN=function(h,k){return "function" === typeof this.md.lN?this.md.lN(h,k):[];};g.prototype.Or=function(h,k){return this.md.Or(h,k);};g.prototype.XG=function(h){return this.md.XG(h);};g.prototype.QA=function(h){var n;function k(){n.Ja.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.md.QA?this.md.QA(h,k):k();};g.prototype.ti=function(h,k){"function" === typeof this.md.ti && this.md.ti(h,k);};g.prototype.yi=function(h,k){"function" === typeof this.md.yi && this.md.yi(h,k);};g.prototype.hna=function(){return this.LS[this.LS.length - 1];};g.prototype.rwa=function(h){var k,n,p,t;n=0;this.Ja.info("show subtitle called at " + this.my() + " for displayTime " + h.displayTime);this.emit("showsubtitle",h);p=this.hna();p.uP || (p.uP={});if("dfxp-ls-sdh" === this.aT)try{for(var q=c.__values(h.blocks),u=q.next();!u.done;u=q.next()){t=u.value;p.uP[t.id] || (n++,p.uP[t.id]=!0);}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (k=q.return) && k.call(q);}finally{if(w)throw w.error;}}else p.uP[h.id] || (n++,p.uP[h.id]=!0);p.WY+=n;};g.prototype.Sua=function(h){this.Ja.info("remove subtitle called at " + this.my() + " for remove time " + (h.displayTime + h.duration));this.emit("removesubtitle",h);};g.prototype.uZb=function(h){this.Ja.info("stage subtitle called at " + this.my() + " for displayTime " + h.displayTime);this.emit("stagesubtitle",h);};g.prototype.Zn=function(){this.Ja.info("underflow fired by the subtitle timer");this.emit("underflow");};g.prototype.Pe=function(){this.Ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};g.prototype.wZb=function(h){this.Ja.info("creating a new subtitle interval at " + h);this.LS.push({Z:h,WY:0});};g.prototype.w1b=function(h){var k;k=this.hna();k && (k.pqa=h);};g.prototype.BVa=function(h){var k;this.Ja.info("ending subtitle interval at " + h);k=this.hna();k && (k.Ga=h,k.Ga < k.Z && (this.Ja.warn("correcting for interval where endPts is smaller than startPts"),k.Z=0 < k.Ga?k.Ga - 1:0),k.o5=this.md.Or(k.Z,k.Ga),delete k.uP,k.o5 > k.WY && k.pqa && 500 > k.Ga - k.pqa && (k.o5=this.md.Or(k.Z,k.pqa)),this.Ja.info("showed " + k.WY + " during this interval"),this.Ja.info("expected " + k.o5 + " for this interval"));};return g;})(r.EventEmitter);b.ukb=a;b.default=a;},function(r,b,a){var w,v,x,y,z,A,B,E,D;function c(F){var C,G,K,J,I;C=F.preferences;G=F.mj;K=F.Ed;J=F.xml;I=F.ta;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.Me=this.lga=null;this.$S="object" === typeof C?F.preferences:{};this.wS="object" === typeof G?F.mj:{};this.hC="number" === typeof K?F.Ed:0;this.ZF="string" === typeof J?F.xml:"";this.Ja="object" === typeof I?F.ta:D;this.OF=F.request;this.wl=F.url;this.OB=[];this.Rv=this.hC;this.Vg=null;this.Wga=this.JOa=!1;this.qlb=F.gua || 0;}function f(F,C){return F && "object" === typeof F[C] && null !== F[C]?F[C]:{};}function l(F,C){return F !== C && !(F && 0 === Object.keys(F).length && C && 0 === Object.keys(C).length);}function m(){var F,C,G;F=this;C=F.ZF.indexOf("<p");if(-1 < C){G=F.ZF.slice(0,C);h(G,function(K,J){null !== K?(K.gac=G,F.emit("error",K)):(F.lga=J,F.Me=new x(F.ZF,J.tickRate),g.call(F,F.hC));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,C){var G;G=F.filter(function(K){return K.startTime <= C && C <= K.endTime;});F=F.filter(function(K){return K.startTime > C;});return 0 < F.length?G.concat([F[0]]):G;}function g(F){var C,G,K,J,I,M,R;C=this;G=C.lga;K=0;J=[];I=G.defaultStyle?[G.defaultStyle]:[];C.Ja.info("parsing the next 5 entries...");M=C.Me.JGb(F);C.Ja.info(M);R=v.uc(!0);R.onerror=function(H){H.xml=M;C.emit("error",H);};R.onend=function(){var H;H=C.OB.reduce(function(P,N){N=N.blocks.reduce(function(L,Q){return L.concat([Q.id]);},[]);return P.concat(N);},[]);J.forEach(function(P){var N;if(-1 === H.indexOf(P.id)){N=P && P.blocks && P.blocks.filter(function(L){return 0 < L.textNodes.length;});N && 0 < N.length && (P.blocks=N,C.OB.push(P));}});C.Wga=!1;C.JOa || (C.JOa=!0,C.emit("ready"));};R.ontext=function(H){("" !== H.trim() || H.match(/ +/)) && q(q(J).blocks).textNodes.push({text:H.match(/ +/)?H:H.trim(),style:q(I),lineBreaks:K});K=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && I.pop();};R.onopentag=function(H){var P,N,L,Q,S;P=H.attributes;N=H.name;H=G.tickRate;if("p" === N){K=0;N=P["xml:id"];P.style && I.push(P.style);L=Math.floor(parseInt(P.begin) / H * 1E3);if(0 === J.length || q(J).displayTime !== L){L=J.push;Q={};S=parseInt(P.begin) / H;H=parseInt(P.end) / H;Q.id=N;Q.startTime=Math.floor(1E3 * S);Q.endTime=Math.floor(1E3 * H);Q.style=P.style;Q.region=P.region;Q.displayTime=Q.startTime;Q.duration=Q.endTime - Q.startTime;Q.extent=P["tts:extent"] || null;Q.origin=P["tts:origin"] || null;Q.latestEndSoFar=0 > Q.endTime?0:Q.endTime;Q.blocks=[{textNodes:[],region:Q.region,id:N,extent:Q.extent,origin:Q.origin}];L.call(J,Q);}else q(J).blocks.push({textNodes:[],region:P.region,id:N,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === N?I.push(P.style):"br" === N && K++;};R.write("<entries>").write(M).write("</entries>").close();}function h(F,C){var G,K,J,I,M;G=v.uc(!0);K={};J=[];I=null;M=[];G.onerror=function(R){C(R,null);};G.onend=function(){C(null,K);};G.onclosetag=function(){J.pop();};G.onopentag=function(R){var H,P,N,L;H=R.attributes;P=R.name;N=K.regions;L=K.styles;J.push(R);"tt" === P?K=k(H):"body" === P?"undefined" !== typeof H.style && (K.defaultStyle=H.style,M.push(H.style)):"style" === P && p(J,"styling")?L[H["xml:id"]]=n(H,A):"style" === P && p(J,"region")?(R=Object.keys(H)[0],"string" === typeof R && (N[I][R.slice(4)]=H[R])):"region" === P && p(J,"layout") && (I=H["xml:id"],N[I]=n(H,E));};setTimeout(function(){var R;for(G.write(F);0 < J.length && !G.error;){R=q(J).name;G.write("</" + R + ">");}G.close();},10);}function k(F){var C;F=n(F,B);if("string" === typeof F.extent){C=F.extent.split(" ").map(function(G){return parseInt(G,10);});F.width=C[0];F.height=C[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(C=F.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),F.cellResolution={},F.cellResolution.x=C[0],F.cellResolution.y=C[1]):F.cellResolution={x:52,y:19};return F;}function n(F,C){var G;G={};C.forEach(function(K){"undefined" !== typeof F["tts:" + K]?G[K]=F["tts:" + K]:"undefined" !== typeof F["ttp:" + K] && (G[K]=F["ttp:" + K]);});G.styles={};G.regions={};return G;}function p(F,C){var G;for(G=F.length - 1;0 <= G;G--){if(F[G].name === C)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function u(F,C){return {lineBreaks:C.lineBreaks,text:C.text,style:z.Oyb(F[C.style] || ({}),this.wS,this.$S),id:C.id};}function t(F,C){var G,K;G=this;K=F.styles || ({});return {startTime:C.startTime,id:C.id,endTime:C.endTime,displayTime:C.displayTime,duration:C.duration,blocks:C.blocks.map(function(J){var I;I=y.Jyb(F,J);return {textNodes:J.textNodes.map(u.bind(G,K)),region:I,id:J.id};})};}w=a(114).EventEmitter;v=a(1076);x=a(1077);y=a(1078);z=a(1079);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");B=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];E=["backgroundColor","displayAlign","extent","origin"];D={info:function(){}};b=Object.create(w.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ja.info("incremental text stream created, starting at pts " + F.hC);F.ZF?m.call(F):F.OF({url:F.wl},function(C,G){F.ZF=G;m.call(F);});};b.XG=function(F){var C,G,K;C=this;F < C.Rv - C.qlb && (C.OB=[]);G=C.OB;K=0 < G.length?G[G.length - 1].startTime:F;C.Rv=F;for(!C.Vg && 5 > C.OB.length && !C.Wga && (C.Ja.info("buffer size: " + C.OB.length + "; minimum: 5"),C.Wga=!0,C.Vg=setTimeout(function(){C.Vg=null;g.call(C,K + 1);},10));0 < G.length && G[0].endTime < F;){G.shift();}G=d(G,F).map(t.bind(C,C.lga));F < C.Me.nDb() && 0 === G.length && (G=null);return G;};b.Or=function(F,C){return this.Me?this.Me.Or(F,C):0;};b.close=function(){};b.odc=function(F){var C;C=f(F,"preferences");F=f(F,"defaults");return l(C,this.$S) || l(F,this.wS)?(this.$S=C,this.wS=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H;function c(){}function f(P,N){if(!(this instanceof f))return new f(P,N);for(var L=0,Q=x.length;L < Q;L++){this[x[L]]="";}this.q=this.c=this.yn=this.textNode="";this.wRa=a.jda;this.Qn=N || ({});this.Qn.Y1a=this.Qn.Y1a || this.Qn.Gac;this.Tqa=this.Qn.Y1a?"toLowerCase":"toUpperCase";this.Yn=[];this.closed=this.hU=this.fP=!1;this.tag=this.error=null;this.dv=! !P;this.a4a=!(!P && !this.Qn.a4a);this.state=H.Hba;this.Gx=(this.p$a=this.Qn.p$a)?Object.create(a.Rkb):Object.create(a.Gx);this.qC=[];this.Qn.l_ && (this.sk=Object.create(I));if(this.yaa=!1 !== this.Qn.position)this.position=this.line=this.iU=0;this.onready && this.onready(void 0);}function l(P,N){var L;if(!(this instanceof l))return new l(P,N);c.apply(this);this.qy=new f(P,N);this.readable=this.writable=!0;L=this;this.qy.onend=function(){L.emit("end");};this.qy.onerror=function(Q){L.emit("error",Q);L.qy.error=null;};y.forEach(function(Q){Object.defineProperty(L,"on" + Q,{get:function(){return L.qy["on" + Q];},set:function(S){if(!S)return (L.removeAllListeners(Q),L.qy["on" + Q]=S);L.on(Q,S);},enumerable:!0,configurable:!1});});}function m(P){return P.split("").reduce(function(N,L){N[L]=!0;return N;},{});}function d(P,N){return "[object RegExp]" === Object.prototype.toString.call(P)?! !N.match(P):P[N];}function g(P,N,L){P.textNode && h(P);P[N] && P[N](L);}function h(P){P.textNode=k(P.Qn,P.textNode);P.textNode && P.ontext && P.ontext(P.textNode);P.textNode="";}function k(P,N){P.trim && (N=N.trim());P.normalize && (N=N.replace(/\s+/g," "));return N;}function n(P,N){h(P);P.yaa && (N+="\nLine: " + P.line + "\nColumn: " + P.iU + "\nChar: " + P.c);N=Error(N);P.error=N;P.onerror && P.onerror(N);return P;}function p(P){P.fP && !P.hU && q(P,"Unclosed root tag");P.state !== H.Hba && P.state !== H.Iba && P.state !== H.$m && n(P,"Unexpected end");h(P);P.c="";P.closed=!0;P.onend && P.onend(void 0);f.call(P,P.dv,P.Qn);return P;}function q(P,N){if("object" !== typeof P || !(P instanceof f))throw Error("bad call to strictFail");P.dv && n(P,N);}function u(P,N){var L,Q;L=0 > P.indexOf(":")?["",P]:P.split(":");Q=L[0];L=L[1];N && "xmlns" === P && (Q="xmlns",L="");return {prefix:Q,local:L};}function t(P){var N,L,Q;P.dv || (P.hj=P.hj[P.Tqa]());if(-1 !== P.qC.indexOf(P.hj) || P.tag.attributes.hasOwnProperty(P.hj))return P.hj=P.ij="";if(P.Qn.l_){N=u(P.hj,!0);L=N.local;if("xmlns" === N.prefix)if("xml" === L && P.ij !== K)q(P,"xml: prefix must be bound to " + K + "\nActual: " + P.ij);else if("xmlns" === L && P.ij !== J)q(P,"xmlns: prefix must be bound to " + J + "\nActual: " + P.ij);else {N=P.tag;Q=P.Yn[P.Yn.length - 1] || P;N.sk === Q.sk && (N.sk=Object.create(Q.sk));N.sk[L]=P.ij;}P.qC.push([P.hj,P.ij]);}else (P.tag.attributes[P.hj]=P.ij,g(P,"onattribute",{name:P.hj,value:P.ij}));P.hj=P.ij="";}function w(P,N){var L,Q,U,ca,ka,ya,qa;if(P.Qn.l_){L=P.tag;Q=u(P.tagName);L.prefix=Q.prefix;L.local=Q.local;L.uri=L.sk[Q.prefix] || "";L.prefix && !L.uri && (q(P,"Unbound namespace prefix: " + JSON.stringify(P.tagName)),L.uri=Q.prefix);Q=P.Yn[P.Yn.length - 1] || P;L.sk && Q.sk !== L.sk && Object.keys(L.sk).forEach(function(Y){g(P,"onopennamespace",{prefix:Y,uri:L.sk[Y]});});Q=0;for(var S=P.qC.length;Q < S;Q++){U=P.qC[Q];ca=U[0];ka=U[1];ya=u(ca,!0);U=ya.prefix;qa="" == U?"":L.sk[U] || "";ka={name:ca,value:ka,prefix:U,local:ya.local,uri:qa};U && "xmlns" != U && !qa && (q(P,"Unbound namespace prefix: " + JSON.stringify(U)),ka.uri=U);P.tag.attributes[ca]=ka;g(P,"onattribute",ka);}P.qC.length=0;}P.tag.Aac=! !N;P.fP=!0;P.Yn.push(P.tag);g(P,"onopentag",P.tag);N || (P.state=P.a4a || "script" !== P.tagName.toLowerCase()?H.$m:H.mK,P.tag=null,P.tagName="");P.hj=P.ij="";P.qC.length=0;}function v(P){var N,L,S;if(P.tagName){if(P.Bk){if("script" !== P.tagName){P.Bk+="</" + P.tagName + ">";P.tagName="";P.state=H.mK;return;}g(P,"onscript",P.Bk);P.Bk="";}N=P.Yn.length;L=P.tagName;P.dv || (L=L[P.Tqa]());for(var Q=L;N--;){if(P.Yn[N].name !== Q)q(P,"Unexpected close tag");else break;}if(0 > N)(q(P,"Unmatched closing tag: " + P.tagName),P.textNode+="</" + P.tagName + ">");else {P.tagName=L;for(L=P.Yn.length;L-- > N;){S=P.tag=P.Yn.pop();P.tagName=P.tag.name;g(P,"onclosetag",P.tagName);for(var U in S.sk){;}Q=P.Yn[P.Yn.length - 1] || P;P.Qn.l_ && S.sk !== Q.sk && Object.keys(S.sk).forEach(function(ca){g(P,"onclosenamespace",{prefix:ca,uri:S.sk[ca]});});}0 === N && (P.hU=!0);P.tagName=P.ij=P.hj="";P.qC.length=0;}}else (q(P,"Weird empty close tag."),P.textNode+="</>");P.state=H.$m;}a.uc=function(P,N){return new f(P,N);};a.S7b=f;a.T7b=l;a.GTa=function(P){return new l(P,void 0);};a.jda=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Le=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(P){function N(){this.__proto__=P;}N.prototype=P;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(P){return P.__proto__;});Object.keys || (Object.keys=function(P){var N,L;N=[];for(L in P){P.hasOwnProperty(L) && N.push(L);}return N;});f.prototype={end:function(){p(this);},write:function(P){var S,U,ca,ka,ya,qa;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === P)return p(this);if(this.error)throw this.error;for(var N=0,L;this.c=L=P.charAt(N++);){switch((this.yaa && (this.position++,"\n" === L?(this.line++,this.iU=0):this.iU++),this.state)){case H.Hba:if((this.state=H.Iba,"\ufeff" === L))continue;case H.Iba:"<" === L?(this.state=H.Eda,this.Kwa=this.position):d(z,L) || (q(this,"Non-whitespace before first tag."),this.textNode=L,this.state=H.$m);continue;case H.$m:if(this.fP && !this.hU){for(var Q=N - 1;L && "<" !== L && "&" !== L;){(L=P.charAt(N++)) && this.yaa && (this.position++,"\n" === L?(this.line++,this.iU=0):this.iU++);}this.textNode+=P.substring(Q,N - 1);}"<" !== L || this.fP && this.hU && !this.dv?(d(z,L) || this.fP && !this.hU || q(this,"Text data outside of root node."),"&" === L?this.state=H.Vea:this.textNode+=L):(this.state=H.Eda,this.Kwa=this.position);continue;case H.mK:"<" === L?this.state=H.cKa:this.Bk+=L;continue;case H.cKa:"/" === L?this.state=H.Qba:(this.Bk+="<" + L,this.state=H.mK);continue;case H.Eda:"!" === L?(this.state=H.Gea,this.Bs=""):d(z,L) || (d(M,L)?(this.state=H.WGa,this.tagName=L):"/" === L?(this.state=H.Qba,this.tagName=""):"?" === L?(this.state=H.sHa,this.a$=this.nI=""):(q(this,"Unencoded <"),this.Kwa + 1 < this.position && (L=Array(this.position - this.Kwa).join(" ") + L),this.textNode+="<" + L,this.state=H.$m));continue;case H.Gea:(this.Bs + L).toUpperCase() === C?(g(this,"onopencdata"),this.state=H.F_,this.im=this.Bs=""):"--" === this.Bs + L?(this.state=H.H_,this.Bs=this.mm=""):(this.Bs + L).toUpperCase() === G?(this.state=H.N_,(this.doctype || this.fP) && q(this,"Inappropriately located doctype declaration"),this.Bs=this.doctype=""):">" === L?(g(this,"onsgmldeclaration",this.Bs),this.Bs="",this.state=H.$m):(d(E,L) && (this.state=H.fKa),this.Bs+=L);continue;case H.fKa:L === this.q && (this.state=H.Gea,this.q="");this.Bs+=L;continue;case H.N_:">" === L?(this.state=H.$m,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=L,"[" === L?this.state=H.aca:d(E,L) && (this.state=H.aBa,this.q=L));continue;case H.aBa:this.doctype+=L;L === this.q && (this.q="",this.state=H.N_);continue;case H.aca:this.doctype+=L;"]" === L?this.state=H.N_:d(E,L) && (this.state=H.$Aa,this.q=L);continue;case H.$Aa:this.doctype+=L;L === this.q && (this.state=H.aca,this.q="");continue;case H.H_:"-" === L?this.state=H.Zza:this.mm+=L;continue;case H.Zza:"-" === L?(this.state=H.Yza,(this.mm=k(this.Qn,this.mm)) && g(this,"oncomment",this.mm),this.mm=""):(this.mm+="-" + L,this.state=H.H_);continue;case H.Yza:">" !== L?(q(this,"Malformed comment"),this.mm+="--" + L,this.state=H.H_):this.state=H.$m;continue;case H.F_:"]" === L?this.state=H.Sza:this.im+=L;continue;case H.Sza:"]" === L?this.state=H.Tza:(this.im+="]" + L,this.state=H.F_);continue;case H.Tza:">" === L?(this.im && g(this,"oncdata",this.im),g(this,"onclosecdata"),this.im="",this.state=H.$m):"]" === L?this.im+="]":(this.im+="]]" + L,this.state=H.F_);continue;case H.sHa:"?" === L?this.state=H.Qda:d(z,L)?this.state=H.Pda:this.a$+=L;continue;case H.Pda:if(!this.nI && d(z,L))continue;else "?" === L?this.state=H.Qda:this.nI+=L;continue;case H.Qda:">" === L?(g(this,"onprocessinginstruction",{name:this.a$,body:this.nI}),this.a$=this.nI="",this.state=H.$m):(this.nI+="?" + L,this.state=H.Pda);continue;case H.WGa:if(d(R,L))this.tagName+=L;else {this.dv || (this.tagName=this.tagName[this.Tqa]());Q=this.Yn[this.Yn.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.Qn.l_ && (S.sk=Q.sk);this.qC.length=0;">" === L?w(this):"/" === L?this.state=H.T0:(!d(z,L) && q(this,"Invalid character in tag name"),this.state=H.zJ);}continue;case H.T0:">" === L?(w(this,!0),v(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=H.zJ);continue;case H.zJ:if(d(z,L))continue;else ">" === L?w(this):"/" === L?this.state=H.T0:d(M,L)?(this.hj=L,this.ij="",this.state=H.q_):q(this,"Invalid attribute name");continue;case H.q_:"=" === L?this.state=H.mba:">" === L?(q(this,"Attribute without value"),this.ij=this.hj,t(this),w(this)):d(z,L)?this.state=H.Cya:d(R,L)?this.hj+=L:q(this,"Invalid attribute name");continue;case H.Cya:if("=" === L)this.state=H.mba;else if(d(z,L))continue;else (q(this,"Attribute without value"),this.ij=this.tag.attributes[this.hj]="",g(this,"onattribute",{name:this.hj,value:""}),this.hj="",">" === L?w(this):d(M,L)?(this.hj=L,this.state=H.q_):(q(this,"Invalid attribute name"),this.state=H.zJ));continue;case H.mba:if(d(z,L))continue;else d(E,L)?(this.q=L,this.state=H.pba):(q(this,"Unquoted attribute value"),this.state=H.qba,this.ij=L);continue;case H.pba:if(L !== this.q){"&" === L?this.state=H.nba:this.ij+=L;continue;}t(this);this.q="";this.state=H.Dya;continue;case H.Dya:d(z,L)?this.state=H.zJ:">" === L?w(this):"/" === L?this.state=H.T0:d(M,L)?(q(this,"No whitespace between attributes"),this.hj=L,this.ij="",this.state=H.q_):q(this,"Invalid attribute name");continue;case H.qba:if(!d(F,L)){"&" === L?this.state=H.oba:this.ij+=L;continue;}t(this);">" === L?w(this):this.state=H.zJ;continue;case H.Qba:if(this.tagName)">" === L?v(this):d(R,L)?this.tagName+=L:this.Bk?(this.Bk+="</" + this.tagName,this.tagName="",this.state=H.mK):(!d(z,L) && q(this,"Invalid tagname in closing tag"),this.state=H.Wza);else if(d(z,L))continue;else d(M,L)?this.tagName=L:this.Bk?(this.Bk+="</" + L,this.state=H.mK):q(this,"Invalid tagname in closing tag.");continue;case H.Wza:if(d(z,L))continue;">" === L?v(this):q(this,"Invalid characters in closing tag");continue;case H.Vea:case H.nba:case H.oba:switch(this.state){case H.Vea:(U=H.$m,ca="textNode");break;case H.nba:U=H.pba;ca="attribValue";break;case H.oba:(U=H.qba,ca="attribValue");}if(";" === L){L=ca;Q=this[L];S=this.yn;ka=S.toLowerCase();ya="";if(this.Gx[S])S=this.Gx[S];else if(this.Gx[ka])S=this.Gx[ka];else {S=ka;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);qa=parseInt(S,16);ya=qa.toString(16);}else (S=S.slice(1),qa=parseInt(S,10),ya=qa.toString(10));S=S.replace(/^0+/,"");S=ya.toLowerCase() !== S?(q(this,"Invalid character entity"),"&" + this.yn + ";"):String.fromCodePoint(qa);}this[L]=Q + S;this.yn="";this.state=U;}else d(D,L)?this.yn+=L:(q(this,"Invalid character entity"),this[ca]+="&" + this.yn + L,this.yn="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.wRa){P=Math.max(a.jda,10);L=N=0;for(U=x.length;L < U;L++){ca=this[x[L]].length;if(ca > P)switch(x[L]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.im);this.im="";break;case "script":g(this,"onscript",this.Bk);this.Bk="";break;default:n(this,"Max buffer length exceeded: " + x[L]);}N=Math.max(N,ca);}this.wRa=a.jda - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.im && (g(this,"oncdata",this.im),this.im="");"" !== this.Bk && (g(this,"onscript",this.Bk),this.Bk="");}};y=a.Le.filter(function(P){return "error" !== P && "end" !== P;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(P){this.qy.write(P.toString());this.emit("data",P);return !0;};l.prototype.end=function(P){P && P.length && this.write(P);this.qy.end();return !0;};l.prototype.on=function(P,N){var L;L=this;L.qy["on" + P] || -1 === y.indexOf(P) || (L.qy["on" + P]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,P);L.emit.apply(L,Q);});return c.prototype.on.call(L,P,N);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";E="'\"";D=A + B + "#";F=z + ">";C="[CDATA[";G="DOCTYPE";K="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";I={xml:K,l_:J};z=m(z);A=m(A);B=m(B);M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;E=m(E);D=m(D);F=m(F);H=0;a.HB={Hba:H++,Iba:H++,$m:H++,Vea:H++,Eda:H++,Gea:H++,fKa:H++,N_:H++,aBa:H++,aca:H++,$Aa:H++,o4b:H++,H_:H++,Zza:H++,Yza:H++,F_:H++,Sza:H++,Tza:H++,sHa:H++,Pda:H++,Qda:H++,WGa:H++,T0:H++,zJ:H++,q_:H++,Cya:H++,mba:H++,pba:H++,Dya:H++,qba:H++,nba:H++,oba:H++,Qba:H++,Wza:H++,mK:H++,cKa:H++};a.Rkb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.Gx={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.Gx).forEach(function(P){var N;N=a.Gx[P];N="number" === typeof N?String.fromCharCode(N):N;a.Gx[P]=N;});for(H in a.HB){a.HB[a.HB[H]]=H;}H=a.HB;String.fromCodePoint || (function(){var N,L;function P(){var Q,S,U,ka,ya;Q=[];S=-1;U=arguments.length;if(!U)return "";for(var ca="";++S < U;){ka=Number(arguments[S]);if(!isFinite(ka) || 0 > ka || 1114111 < ka || L(ka) != ka)throw RangeError("Invalid code point: " + ka);if(65535 >= ka)Q.push(ka);else {ka-=65536;ya=(ka >> 10) + 55296;ka=ka % 1024 + 56320;Q.push(ya,ka);}if(S + 1 == U || 16384 < Q.length)(ca+=N.apply(null,Q),Q.length=0);}return ca;}N=String.fromCharCode;L=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:P,configurable:!0,writable:!0}):String.fromCodePoint=P;})();})(b);},function(r){function b(a,c){var f,l,m,d,g,h;f=[];l=a.indexOf("<p");m=-1;do {d={};d.oZb=l;g=a.indexOf("begin=",l) + 7;h=a.indexOf("end=",l) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=g;d.endTime=h;d.latestEndSoFar=m;d.LVa=a.indexOf("/p>",l) + 3;l=d.LVa;f.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.b2=f;this.ZF=a;}b.prototype.nDb=function(){return this.b2[this.b2.length - 1].endTime;};b.prototype.Or=function(a,c){return this.b2.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.JGb=function(a){for(var c="",f=this.b2.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < f.length && f[l + 1].startTime === f[4].startTime;){l++;}f=f.slice(0,l + 1);0 < f.length && (c=this.ZF.slice(f[0].oZb,f[f.length - 1].LVa));return c;};r.exports=b;},function(r,b,a){var l,m,d;function c(g){return "string" !== typeof g?null:m[g];}function f(g){return g.split(" ").map(function(h){return .01 * parseFloat(h);});}l=a(475);r.exports={Jyb:function(g,h){var k,n,p,q,u,t;k=h.textNodes[0] || ({});n=g.regions;p=g.styles;g=g.aspectRatio;n=n && n[h.region]?n[h.region]:{};k=p && p[k.style]?p[k.style]:{};p=f(l(h.extent,n.extent,"80% 80%"));q=f(l(h.origin,n.origin,"10% 10%"));h=Object;g/=1280 / 720;u=(1 - g) / 2;t=q[0];q=q[1];p=h.create.call(h,{marginLeft:t * g + u,marginTop:q,marginRight:(1 - (t + p[0])) * g + u,marginBottom:1 - (q + p[1])});1 < Object.keys(n).length?p.verticalAlignment=c(l(k.displayAlign,n.displayAlign,"before")):p.verticalAlignment=c(l(k.displayAlign,"after"));n=l(k.textAlign,n.textAlign,"center");p.horizontalAlignment="string" !== typeof n?null:d[n];return p;}};m={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var l,m,d,g,h,k,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function f(p){var q,u,t;q=(p || "").split(" ");u=(/^[0-9]/).test(q);p=u?"#000000":c(q[0]);t=u?0:1;u=parseInt(q[t]);q=parseInt(q[t + 1]);return {color:p,width:0 < u?u:0,blur:0 < q?q:0};}l=a(475);r.exports={Oyb:function(p,q,u){var t,w,v,x,y,z,A,B,E,D,F,C,G,K;t=l(u.characterSize,q.characterSize,"MEDIUM");w=p.fontFamily;w=l(u.characterStyle,"string" !== typeof w?null:g[w],q.characterStyle,"PROPORTIONAL_SANS_SERIF");v=parseInt(p.fontSize,10) / 100 || 1;x="underline" === p.textDecoration;y="italic" === p.fontStyle;z=m[l(u.i3b,q.i3b,"OPAQUE")];A=m[l(u.characterOpacity,q.characterOpacity,"OPAQUE")];B=m[l(u.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];E=c(l(u.characterColor,p.color,q.characterColor,"#ffffff"));D=c(l(u.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(l(u.fcb,p.fcb,q.fcb,null));C=l(u.characterEdgeAttributes,q.characterEdgeAttributes,null);v*=h[t] || 1;G=1;k[t] && (G=k[t][w] || 1);v*=1 / 19 * G;G=0;n[t] && (G=n[t][w] || 0);t=G;G=p.textOutline;G="string" !== typeof G?null:f(G).width;G=l(G,0);K=p.textOutline;K="string" !== typeof K?null:f(K).blur;K=l(K,0);u=u.characterEdgeColor;p=p.textOutline;p="string" !== typeof p?null:f(p).color;return {characterUnderline:x,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:E,backgroundColor:D,windowColor:F,characterEdgeAttributes:C,characterSize:v,characterTracking:t,characterEdgeWidth:G,characterEdgeBlur:K,characterEdgeColor:c(l(u,p,q.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var f,l,m,d,g,h;function c(k){f.call(this);this.wl=k.url;this.OF=k.request;this.LF=k.Ed || 0;this.Ja=k.ta;this.Gi=this.sr=null;k.xu?this.sr=k.xu:(this.Ne=k.offset,this.qL=k.size);this.dm;this.Tga=k;}f=a(114).EventEmitter;l=a(1081);m=a(1082);d=a(1083);g=a(159);h=c.events={Fhb:"midxready",Zjb:"sidxready",Kjb:"ready",Of:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Ap:{get:function(){return this.dm && this.dm.Kka;}}});c.prototype.start=function(){this.sr?(this.Ja.warn("midx was prefectched and provided"),this.fNa(this.sr)):this.bmb(this.Ne,this.qL,this.Rob.bind(this));};c.prototype.close=function(){};c.prototype.lN=function(k,n){return this.dm && this.dm.goa(k,n);};c.prototype.Or=function(k,n){return (k=this.lN(k,n))?k.length:k;};c.prototype.QA=function(k,n){this.Ja.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.LF=k;this.dm?this.dm.QA(k,n):n && n();};c.prototype.XG=function(k){var n,p,q;if(!this.dm || k > g.OFb(this.sr))return [];this.dm && this.dm.tla(k);n=this.Ap.Cs;p=this.Ap.index;q=[];p=g.Zc(p) && this.Gi[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.rNa(n,k,[]));2 > q.length && p && p.images.length && (n=this.rNa(p,k,q),q.push.apply(q,n));return this.dm.pwa(k)?null:g.XSa(q);};c.prototype.yi=function(k,n){this.dm && this.dm.yi(k,n);};c.prototype.ti=function(k,n){this.dm && this.dm.ti(k,n);};c.prototype.bmb=function(k,n,p){this.Ja.debug("downloading midx...");this.DNa(k,n,"binary",p);};c.prototype.cmb=function(k,n,p){this.Ja.debug("downloading sidx...");this.DNa(k,n,void 0,p);};c.prototype.DNa=function(k,n,p,q){this.OF({url:this.wl,offset:k,size:n,responseType:p},q);};c.prototype.Rob=function(k,n){if(k)this.emit(h.Of,g.BV(k,"midxdownloaderror"));else try{this.sr=new l(n);this.fNa(this.sr);}catch(p){this.emit(h.Of,g.BV(p,"midxparseerror"));}};c.prototype.fNa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.Fhb,k),this.cmb(k.startOffset,n,this.Uob.bind(this,k))):this.emit(h.Of,g.BV({},"nosidxfoundinmidx"));};c.prototype.Uob=function(k,n,p){var q,u,t,w;q=this;if(n)q.emit(h.Of,g.BV(n,"sidxdownloaderror"));else {u=0;t=0;q.Gi=[];try{w=0;k.entries.forEach(function(v){var x;x=new m(p,u,k.npa,q.Ja,t,t + v.duration,w);q.Gi.push(x);v.dZb=x;t=x.Eq;u+=v.size;w++;});}catch(v){q.emit(h.Of,g.BV(v,"sidxparseerror"));return;}q.emit(h.Zjb,q.Gi);this.dm=new d(q.Tga,k,q.Gi);n=q.LF;q.Tga && q.Tga.E$ || (n=Math.max(q.LF - 1E4,0));this.dm.tla(n,function(v){v && q.Ja.error("initial sidx download failed");q.emit(h.Kjb);});}};c.prototype.rNa=function(k,n,p){var y;for(var q=k.entries,u=0,t=q.length,w=[],v,x=this.sr;u < t;){v=q[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.Aka(v,k.images[u].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.lH !== v.lH && w.push(g.Aka(v,k.images[u].data,x));}u++;}return w;};r.exports=c;},function(r,b,a){var f,l;function c(m,d){this.duration=m;this.size=d;this.dZb=void 0;}f=a(281);l=a(159);r.exports=function(m){var k;m=new f(m);this.identifier=m.uua(4);l.assert("midx" === this.identifier);this.version=m.Fq(4);l.assert(0 === this.version);this.npa=m.Oh(36);this.creationTime=m.OO();this.Xo=m.OO();this.J=m.OO();this.LWb=m.vh();this.MWb=m.vh();this.language=m.Oh(16);m.Oh(16);this.startOffset=m.OO();this.um=m.vh();for(var d=[],g=0,h=0;h < this.um;h++){k=new c(m.Fq(4),m.vh());d.push(k);g+=k.duration;}this.entries=d;this.endTime=g;};},function(r,b,a){var l,m;function c(d,g,h,k,n,p,q,u){this.displayTime=d;this.duration=g;this.GRb=h;this.HRb=k;this.jZb=n;this.kZb=p;this.lH=q;this.bpa=u;}function f(d,g,h,k,n,p,q){var u;d=new l(d);u=0;d.position=g;this.Ja=k;this.identifier=d.uua(4);m.assert("sidx" === this.identifier,k);this.npa=d.Oh(36);m.Cvb(this.npa,h,k);this.duration=d.Fq(4);this.um=d.vh();this.cx=n;this.Eq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.iha=0;u < this.um;){g=new c(d.Fq(4),d.Fq(4),d.vh(),d.vh(),d.vh(),d.vh(),d.OO(),d.Fq(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(281);m=a(159);f.prototype.cKb=function(){this.iha++;};f.prototype.Fzb=function(){var d;d=0;this.iha--;1 > this.iha?this.images && 0 < this.images.length && (d+=m.coa([this]),this.images=[]):this.Ja.debug("Not cleaning up shared sidx with range",this.cx,"-",this.Eq);return d;};r.exports=f;},function(r,b,a){var m,d;function c(g,h){var n;g=g || 0;if(h)for(var k in h.pa){n=h.pa[k];if(g >= (n.Db || 0) && (!n.Ob || g < n.Ob))return k;}}function f(g,h){return g && h && h.pa[g];}function l(g,h,k){var n;this.Ja=g.ta;this.Gi=k;this.eC=this.Hlb(g.E$);this.kh=[];n=k && k[k.length - 1];this.Rv=n && (n.endTime || n.Eq);this.Qg=new m(g,h,k);g=c(g.Ed || 0,this.eC);this.lo=this.iy(g);}m=a(1084);d=a(1086);Object.defineProperties(l.prototype,{Kka:{get:function(){return this.Qg.Kka;}}});l.prototype.goa=function(g,h){return this.Qg && this.Qg.goa(g,h);};l.prototype.tla=function(g,h){this.Qg.SXb(g);this.qPa(g);if(!this.eC && this.Rv && g > this.Rv)h && h();else if((g=this.cNa(g,this.lo,2,h),this.eC && 0 < this.lo.R3a.length))h && h();else if(this.eC && this.lo.CN && g){2 > this.kh.length && this.Nlb(this.lo);h=Math.ceil(2 / (this.kh.length - 1));for(var k=0;k < this.kh.length && g && 3 > k;k++){g=this.kh[k];g=this.cNa(g.startTime,g,h);}}};l.prototype.pwa=function(g){return this.Qg.pwa(g)?(this.Qg.prb(),this.tla(g),this.lo.CN=!1,!0):!1;};l.prototype.QA=function(g,h){var k;this.qPa(g);this.kh.forEach(function(n){n.CN=!1;});k=this.lo.Un && this.lo.Un[0];this.Qg.QA(g,k && k.index);(g=this.Qg.BHb(g)) && g.length?this.Qg.SUa(g,h):h && h();};l.prototype.ti=function(g,h){var k;this.Ja.debug("Set next segment to",h,"for segment",g);g=this.jNa(g) || this.iy(g);g.z8a=h;k=this;g.mX=g.mX.filter(function(n){if(n.id === h)return !0;k.Ofa(n);return !1;});};l.prototype.yi=function(g,h){var k;k=f(g,this.eC);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};l.prototype.Hlb=function(g){var h,n;h={};if(g=(g || ({})).pa){h.pa={};for(var k in g){n=g[k] || ({});h.pa[k]={Db:n.Db,Ob:n.Ob,Qe:n.Qe,next:this.Glb(n.next)};}}return h;};l.prototype.Glb=function(g){var h,k;h={};for(k in g){h[k]={weight:(g[k] || ({})).weight};}return h;};l.prototype.qPa=function(g){var h,k;if(this.eC && this.lo.startTime > g || this.lo.endTime && this.lo.endTime < g){h=this.lo;k=c(g,this.eC);k?(this.Ja.debug("Switching segments from",this.lo.id,"to",k,"at pts",g),this.lo=this.jNa(k) || this.iy(k),this.Ofa(h)):this.Ja.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.iy=function(g){this.Ja.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.eC),this.Gi,this.Ja);this.kh.push(g);this.Ja.debug("SegmentManager: segment contains",g.Un.length,"sidxes");return g;};l.prototype.Ofa=function(g){var h;if(g && g !== this.lo){this.Ja.debug("SegmentManager: deleting segment",g.id);g.mX.forEach(this.Ofa.bind(this));this.kh=this.kh.filter(function(k){return k !== g;});h=g.mSa();this.Qg.FVb(h && h.size || 0,h && h.Un);}};l.prototype.jNa=function(g){var k;for(var h=0;g && h < this.kh.length;h++){k=this.kh[h];if(g === k.id)return k;}};l.prototype.Nlb=function(g){var h,n;h=g.z8a;if(h && "" !== h)g.mX.push(this.iy(h));else {h=g.R3a;for(var k in h){n=h[k];if(!n || !n.weight)break;g.mX.push(this.iy(k));}}};l.prototype.cNa=function(g,h,k,n){if(!h || h.CN)return (this.Ja.debug("Done driving segment",h && h.id),!0);if(!this.Qg.dub)return (this.Ja.debug("Throttling buffering in quiet period"),!1);this.Ja.debug("Drive streaming of segment",h.id,"from pts",g);k=(g=this.Qg.CHb(g,h,k)) && g.length || 0;if(0 === k)return (this.Ja.debug("Segment is fully downloaded",h && h.id),h.CN=!0,n && n(),!0);this.Ja.debug("Downloading",k,"sidxes in segment",h.id);return this.Qg.SUa(g,function(p,q){p && (h.CN=!1);n && n(p,q);});};r.exports=l;},function(r,b,a){var h,k;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function f(n,p,q){return p && (!p.entries.length && n > p.cx || n > p.endTime) && q.entries.length && n < q.endTime;}function l(n,p,q){this.QF=this.Kv=0;this.qnb=n.bufferSize || 4194304;this.Ap=new g();this.KF;this.CF=n.tf;this.Ja=n.ta;this.sr=p;this.Gi=q;this.uo=new h(n);this.$F=new d(this.Gi.length,n.kVa);this.dT=new m(n.ARa);}function m(n){this.jmb=0 !== n;this.on=!1;this.Sj=n || 3E3;this.Vg;}function d(n,p){if(this.enabled=p)this.Un=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.Cs=n;this.index=p;}h=a(1085);k=a(159);g.prototype.reset=function(){this.index=this.Cs=void 0;};d.prototype.da=function(n){this.enabled && n < this.Un.length && (this.Un[n]="x");};d.prototype.P4a=function(n){this.enabled && n < this.Un.length && (this.Un[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Un.join("") + "|";};m.prototype.start=function(){var n;if(this.jmb){n=this;this.on=!0;this.Vg=setTimeout(function(){n.on=!1;n.Vg=void 0;},this.Sj);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Vg);this.Vg=void 0;};Object.defineProperties(l.prototype,{Kka:{get:function(){return this.Ap;}},dub:{get:function(){return !this.dT.on;}}});l.prototype.SS=function(){this.$F.enabled && this.Ja.debug("Buffer: " + this.$F.toString());};l.prototype.npb=function(n){this.QF+=n;this.Ja.debug("Reserved buffer size is",this.Kv + this.QF,"after reserving",n);};l.prototype.Xpb=function(n){this.QF-=n;this.Ja.debug("Reserved buffer size is",this.Kv + this.QF,"after unreserving",n);};l.prototype.Flb=function(n){this.Kv+=n;this.Ja.debug("Buffer size is",this.Kv,"after claiming",n);};l.prototype.NOa=function(n){this.Kv-=n;this.Ja.debug("Buffer size is",this.Kv,"after clearing",n);};l.prototype.FVb=function(n,p){var q;this.NOa(n);q=this;p && this.$F.enabled && (p.forEach(function(u){q.$F.P4a(u.index);}),this.SS());};l.prototype.pwa=function(n){var p;p=this.vmb(n);return k.s_a(p) && k.i_b(n,p);};l.prototype.SXb=function(n){var p;p=this.wNa(n);(!p || p.index) !== (!this.Ap || this.Ap.index) && (this.KF=this.Ap.Cs,p?(this.CF && this.Ja.debug("Current sidx is index",p.index),this.Ap=p):(this.CF && this.Ja.debug("Current sidx is out of range"),this.Ap.reset()));this.KF && "number" === typeof this.KF.index && (n < this.KF.cx - 35E3 || n > this.KF.Eq + 35E3) && (this.Ffa(this.KF.index),this.KF=void 0,this.SS());};l.prototype.QA=function(n,p){var q,u;q=this.Gi && this.Gi.length;for(p;p < q;p++){(u=this.Gi[p]) && ((u.endTime || u.Eq) >= n - 1E4 && (u.endTime || u.Eq) < n + 3E5 || this.Ffa(p));}this.dT.stop();this.SS();};l.prototype.prb=function(){var n,p;this.Ja.debug("executing aggressive cleanup");n=this.Gi && this.Gi.length;for(p=0;p < n;p++){p === this.Ap.index && (p+=2);this.Ffa(p);}this.dT.stop();this.SS();};l.prototype.BHb=function(n){var p,q,u,t;p=[];q=this.wNa(n);if(!q)return (this.Ap.reset(),p);this.Ap=q;u=n + 1E4;q=q.index;t=this.Gi[q];q;for(t;q < this.Gi.length && u > t.cx;(q++,t=this.Gi[q])){k.s_a(t) && k.j_b(n,u,t) && p.push(t);}return p;};l.prototype.SUa=function(n,p){var q,u,t,w,v,x;if(!n || !n.length)return (p && p(null),!0);this.uo.YS && 2 <= Object.keys(this.uo.YS).length && !this.dT.on && (this.Ja.debug("Enabling buffering quiet period"),this.dT.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].lH,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (k.Zc(w) || (w=t.entries[0].lH),v=t.entries[t.entries.length - 1]);if(w)x=v.lH + v.bpa - w;else return (p && p(null),!0);u=k.nna(w,x);if(this.uo.YS[u])(this.Ja.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Pmb(k.coa(n)))(this.Ja.debug("Reserving",x,"bytes for subtitle request",n[0].cx,n[n.length - 1].Eq),this.npb(x),this.uo.WAb(n,w,x,function(y,z){q.Ja.debug("Claiming reserved space.  Expected",x,"received",z);q.$F.enabled && (n.forEach(function(A){q.$F.da(A.index);}),q.SS());q.Xpb(x);q.Flb(z);p && p(y);}));else return (this.Ja.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};l.prototype.goa=function(n,p){var q,u,t;q=this.sr;u=this.vNa(n,p,this.Gi);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var w=0;w < u.length;w++){n=u[w];t=t.concat(n.entries.filter(p));}t=t.map(function(v){return k.Aka(v,null,q);});return k.XSa(t);};l.prototype.CHb=function(n,p,q){return this.vNa(n,p.endTime,p.Un,q,!0);};l.prototype.vNa=function(n,p,q,u,t){var w,v,x,y;if(p && n > p || 0 > n)this.Ja.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){x=q[0].duration;y=q[0].cx;if(k.Zc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.CF && this.Ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!k.OAb(y,n));x++){;}for(;x < w && (!u || v.length < u);){y=q[x];if(!t || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(p && p <= y.Eq)break;x++;}return v;}}};l.prototype.vmb=function(n){var p,q,t;p=this.Gi;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.cx > n || n > q.Eq))a:{this.kmb || (this.kmb=!0,q=k.oGb(this.sr.language),this.Ja.error("bruteforce search for ",{movieId:this.sr.J,packageId:this.sr.Xo,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.cx <= n && n <= t.Eq){q=t;break a;}}q=void 0;}return q;}};l.prototype.wNa=function(n){var p,q,u,t,w,v,x,y;p=this.Ap;q=p.Cs;u=p.index;t=this.Gi;this.Mfa(k.Zc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,v=p);else {if(0 < u){x=t[u - 1];f(n,x,q) && (w=!0,v=p);}}}else {x=t[u - 1];y=t[u + 1];f(n,x,q)?(w=!0,v=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Eq) && (w=!0,v=new g(y,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){v=new g(u,q);break;}}return v;};l.prototype.Pmb=function(n){return this.Kv + this.QF + n <= this.qnb;};l.prototype.Ffa=function(n){var p,q,u;p=this.Gi[n];q=p && p.images && p.images.length || 0;if(0 < q){u=k.coa([p]);p.images=[];this.$F.P4a(n);this.NOa(u);this.CF && this.Ja.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,Ebc:this.Kv});}};l.prototype.Mfa=function(n){this.CF && k.assert(n,this.Ja);};r.exports=l;},function(r,b,a){var f,l;function c(m){this.wl=m.url;this.OF=m.request;this.LF=m.Ed || 0;this.CF=m.tf;this.Ja=m.ta;this.YS={};}f=a(281);l=a(159);c.prototype.WAb=function(m,d,g,h){this.YS[l.nna(d,g)]=!0;m && m.forEach(function(k){k.C7a=!0;});this.OF({url:this.wl,offset:d,size:g},this.pob.bind(this,m,d,g,h));};c.prototype.pob=function(m,d,g,h,k,n){var p,q,u,t;p=this;q=l.nna(d,g);setTimeout(function(){delete p.YS[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(w){delete w.C7a;}));else {u=new f(n);t=0;m && m.forEach(function(w){delete w.C7a;w.entries.forEach(function(v,x){u.position=v.lH - d;v={data:u.Oh(v.bpa)};w.images[x]=v;l.A2b(w.images[x].data,p.Mfa.bind(p));t+=w.images[x].data.length;});});h && h(null,t);}};c.prototype.Mfa=function(m){this.CF && l.assert(m,this.Ja);};r.exports=c;},function(r){function b(a,c,f,l){this.Ja=l;this.id=a;this.startTime=c && c.Db || 0;this.endTime=c && c.Ob;this.R3a=c && c.next || [];this.z8a;this.mX=[];this.CN=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < f.length;d++){(l=f[d]) && (!c || c > l.cx) && a < l.Eq && (l.cKb(),m.push(l));}this.Un=m;}b.prototype.mSa=function(){this.Ja.debug("Cleaning up segment",this.id);for(var a,c=0,f,l=[],m=0;m < this.Un.length;m++){a=this.Un[m];(f=a.Fzb()) && l.push(a);a && (c+=f);}this.Un=[];return {size:c,Un:l};};r.exports=b;},function(r,b,a){var m;function c(d,g){return g.reduce(f.bind(this,d),[]);}function f(d,g,h){var k,n;k=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < g.length?g[0].timeout:Infinity;return 0 < k && k < n?[l("showsubtitle",h,k)]:k === n?g.concat([l("showsubtitle",h,k)]):0 < d && d < n?[l("removesubtitle",h,d)]:d === n?g.concat([l("removesubtitle",h,d)]):g;}function l(d,g,h){return {timeout:h,type:d,entry:g};}m=a(114).EventEmitter;b=a(1088)({});a=function q(g,h,k,n,p){if(!(this instanceof q))return new q(g,h,k,n,p);m.call(this);this.my=g;this.Fmb=h;this.cnb=k;this.xy={};this.UF={};this.Ja=n || console;this.nS=!1;this.Xob=p && p.gua || 0;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){clearTimeout(this.Vg);this.JVb();};a.prototype.JVb=function(){var g;g=this;Object.keys(g.xy).forEach(function(h){g.emit("removesubtitle",g.xy[h]);});g.xy={};g.UF={};};a.prototype.pause=function(){this.nS || clearTimeout(this.Vg);};a.prototype.Ks=function(g,h){var k,n;k=this;n=k.my();clearTimeout(this.Vg);g=k.Fmb(n);null !== g && k.nS && (k.nS=!1,this.Ja.info("bufferingComplete"),k.emit("bufferingComplete"),this.cnb())?this.Ja.info("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(k.xy).forEach(function(p){p=k.xy[p];p.displayTime - k.Xob <= n && n < p.displayTime + p.duration || (delete k.xy[p.id],k.emit("removesubtitle",p));}),Object.keys(k.UF).forEach(function(p){p=k.UF[p];n >= p.displayTime + p.duration && delete k.UF[p.id];}),null !== g && 0 < g.length?(h=g.length,k.Ja.info("found " + h + " entries for pts " + n),g.forEach(function(p){p.displayTime - 0 <= n && n < p.displayTime + p.duration && !k.xy[p.id] && (k.emit("showsubtitle",p),k.xy[p.id]=p,delete k.UF[p.id]);}),h=g[g.length - 1],k.xy[h.id] || k.UF[h.id] || (k.emit("stagesubtitle",h),k.UF[h.id]=h),h=c(n,g),0 < h.length?k.F2(h[0].timeout):k.F2(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),k.Ja.warn("checking buffer again in " + g + "ms"),k.nS || (k.nS=!0,k.emit("underflow")),k.F2(g,h + 1)):k.F2(2E4));};a.prototype.F2=function(g,h){var k;k=this;k.Ja.info("Scheduling pts check.");k.Vg=setTimeout(function(){k.Ks(k.my(),h);},g);};r.exports=b(["function","function","function","object","object"],a);},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,g;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function f(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function l(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)f(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){f(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(m);return l(["array","function"],l);};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.GD=void 0;r=a(0);c=a(477);f=a(1090);l=a(156);b.GD=new r.rd(function(m){m(c.zda).to(f.DGa).aa();m(l.DR).CZ(function(d){return function(){return d.$a.get(c.zda).DPb;};});});},function(r,b,a){var f;function c(){var l;l=this;this.ready=!1;this.DPb=new Promise(function(m){l.AWb=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;r=a(1);a=a(0);c.prototype.EPb=function(l){this.ready || (this.AWb(l),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};f=c;f=r.__decorate([(0,a.R)()],f);b.DGa=f;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;r=a(0);c=a(91);f=a(478);l=a(1092);m=a(480);d=a(1093);b.gk=new r.rd(function(g){g(c.Fx).yf(function(){return function(){return nb._cad_global.device;};});g(m.sBa).to(d.rBa).aa();g(f.pBa).to(l.oBa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.xa=k;this.oua=n;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;r=a(1);f=a(38);l=a(4);m=a(140);d=a(479);g=a(56);a=a(0);c.prototype.qEb=function(){for(var k="",n=this.xa.gf.da(l.ja),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.oua.H6a(new d.Cea(0,31,g.q4a))];}return k;};h=c;h=r.__decorate([(0,a.R)(),(0,r.__param)(0,(0,a.l)(f.Vh)),(0,r.__param)(1,(0,a.l)(m.g1))],h);b.oBa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t;function c(w,v,x,y,z,A,B,E,D){this.oAb=w;this.Xn=v;this.ib=y;this.Eka=z;this.Wc=A;this.debug=B;this.v2b=E;this.tSb=D;this.$Ba=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.hb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(1);f=a(3);l=a(27);m=a(1094);d=a(7);g=a(478);h=a(36);k=a(96);n=a(29);p=a(0);q=a(79);u=a(481);a=a(482);c.prototype.XVa=function(w){try{return w.match(this.$Ba)[2];}catch(v){}};c.prototype.ZVa=function(w){try{return w.match(this.$Ba)[1];}catch(v){}};c.prototype.create=function(w){var v;v=this;return new Promise(function(x,y){v.Xn.create().then(function(z){var B,E,D,F,C,G;function A(K){v.ib.pn(K) && v.ib.pn(B)?(E=new m.qBa(K,B,void 0,D,w.GU || "cadmium"),x(E)):y({na:f.L.XAa});}B=w.Go;if(w.kna){D="bind_device";v.tSb.pg(v.log,{}).then(function(K){A(K.esn);}).catch(function(K){y(K);});}else if(w.TM){C=w.Wk;if(v.ib.pn(C)){G=v.ZVa(C);G != w.Go && v.log.error("esn prefix from ui is different",{ui:G,cad:w.Go,ua:w.userAgent});}else w.Kqa && v.log.error("esn from ui is missing");!w.sJ && v.ib.pn(C)?(D="config",A(C)):z.load(w.vUa).then(function(K){F=K.value;v.ib.pn(F) && (!1,v.ib.pn(C)?(K=v.XVa(C),D=K === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):D="storage_esn_not_in_config",A(B + F));}).catch(function(K){var M;function J(){z.save(w.vUa,M,!1).then(function(){A(B + M);}).catch(function(R){y(R);});}function I(){M=v.oAb.qEb();!1;J();}if(K.na === f.L.IB){if(v.ib.pn(w.Wk)){M=v.XVa(w.Wk);v.ib.pn(M)?(D="config_since_not_in_storage",J()):(D="generated_since_invalid_in_config_and_not_in_storage",v.log.error("invalid esn passed from UI",w.Wk),I());}else (D="generated_since_not_in_config_and_storage",I());}else y(K);});}else w.pAb && v.Eka && v.Eka.getKeyByName?v.Eka.getKeyByName(w.Asb).then(function(K){K=K.id;if(v.ib.Jp(K))(K=String.fromCharCode.apply(void 0,v.Wc.decode(K)),v.debug.assert("" != K),B=v.ZVa(K),A(K));else throw "ESN from getKeyByName is not a string";}).catch(function(K){y({na:f.L.WAa,ub:v.v2b.wd(K)});}):A();}).catch(function(z){y(z);});});};t=c;t=r.__decorate([(0,p.R)(),(0,r.__param)(0,(0,p.l)(g.pBa)),(0,r.__param)(1,(0,p.l)(q.mB)),(0,r.__param)(2,(0,p.l)(d.qb)),(0,r.__param)(3,(0,p.l)(l.dg)),(0,r.__param)(4,(0,p.l)(u.QAa)),(0,r.__param)(5,(0,p.l)(h.Bi)),(0,r.__param)(6,(0,p.l)(k.sv)),(0,r.__param)(7,(0,p.l)(n.eg)),(0,r.__param)(8,(0,p.l)(a.BHa))],t);b.rBa=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;b.qBa=function(a,c,f,l){this.Wk=a;this.Go=c;this.h5=l;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G;Object.defineProperty(b,"__esModule",{value:!0});b.R1a=void 0;r=a(0);c=a(156);f=a(1096);l=a(1097);m=a(1098);d=a(1099);g=a(1100);h=a(13);k=a(1101);n=a(1102);p=a(1103);q=a(48);u=a(91);t=a(487);w=a(484);v=a(483);x=a(89);y=a(282);z=a(49);A=a(180);B=a(1104);E=a(489);D=a(490);F=a(1107);C=a(491);G=a(1108);b.R1a=new r.rd(function(K){K(z.Xm).to(l.bFa).aa();K(w.wGa).to(m.vGa).aa();K(v.qFa).to(d.pFa).aa();K(y.mFa).to(g.lFa).aa();K(z.ada).to(k.aFa).aa();K(x.Ox).to(n.iFa).aa();K(y.kFa).to(p.jFa).aa();K(A.sR).to(B.rR).aa();K(A.dda).to(F.nFa).aa();K(C.vR).to(G.uR).aa();K(E.zBa).to(D.yBa).aa();K(t.Oya).to(f.Nya).aa();K(z.cFa).CZ(function(J){return function(){return J.$a.get(c.DR)().then(function(I){return new Promise(function(M){var H,P,N;function R(){P() && N() && I.fX?M(J.$a.get(z.Xm)):H.Pl(R);}H=J.$a.get(q.Pj);P=J.$a.get(h.ad);N=J.$a.get(u.Fx);H.Pl(R);});});};});});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u){var t;t=this;this.uNb=n;this.bA=p;this.config=u;this.Gua=[];this.uNb.k$(f.ucb,this.uIb.bind(this));q().then(function(w){var v;v=u().Kr.TDb;t.gOb=v?k.Lj[v.toUpperCase()]:k.Lj.Of;t.Yf=w;t.CXb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;r=a(1);l=a(0);m=a(13);d=a(113);g=a(49);h=a(89);k=a(7);c.prototype.uIb=function(n,p){this.Yf?this.E6a(n,p):this.Gua.push([n,p]);};c.prototype.CXb=function(){var n,p;n=this;p=this.Gua;this.Gua=[];p.forEach(function(q){n.E6a(q[0],q[1]);});};c.prototype.E6a=function(n,p){var q;if(this.Yf && this.OYb(n)){q={debugMessage:n.message,debugCategory:n.Ao};n.ic.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.bA.Kt("debug",k.Lj[n.level].toLowerCase(),q,p);this.Yf.Hc(n);}};c.prototype.OYb=function(n){var p;p=this.gOb;return void 0 !== p && n.level <= p && !n.ic.find(function(q){return q.$U(k.KQ);});};a=f=c;a.ucb="adaptorAll";a=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(d.$J)),(0,r.__param)(1,(0,l.l)(h.Ox)),(0,r.__param)(2,(0,l.l)(g.cFa)),(0,r.__param)(3,(0,l.l)(m.ad))],a);b.Nya=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x,y,z,A){this.config=t;this.json=w;this.Pc=v;this.kNb=x;this.VW=z;this.Pka=A;this.w7=this.Gn=!1;this.listeners=[];(0,l.So)(this,"json");this.ta=y.hb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;r=a(1);f=a(0);l=a(56);m=a(39);d=a(483);g=a(48);h=a(7);k=a(49);n=a(484);p=a(3);q=a(97);a(187);u=a(272);c.prototype.xb=function(){this.Gn=!0;};c.prototype.Hc=function(t){var w;w=this;this.VYb(t) || (!1,0 < t.size.Al(this.config.cOb)?this.ta.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.POb(t);}),!1,this.VW.Tha(t),this.Pc.Pl(function(){w.EDb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.w7?(this.ta.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.ta.trace("Flushing",h.KQ);w.Es();w.Pc.Pl(function(){w.Ova(t).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Ova=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.Gn)return (this.ta.trace("LogBatcher is not initialized"),Promise.resolve());if(this.w7)return (this.ta.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.VW.REb();if(0 === v.length && !t)return (this.ta.trace("No logblobs to send"),Promise.resolve());!1;this.Es();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=aa(v),z=y.next();!z.done;(x={fba:x.fba},z=y.next())){x.fba=z.value;t=t.then((function(A){return function(){return w.yXb(A.fba);};})(x));}return t.then(function(){return w.OG();}).catch(function(A){v.filter(function(B){return !B.Vz;}).forEach(function(B){return B.Tt();});w.OG();throw Error("Send failure. " + A);});};c.prototype.yXb=function(t){var w;w=this;this.ta.trace("Sending batch: " + t.size,h.KQ);return Promise.resolve(this.VW.KVb(t)).then(function(){return w.kNb.send(t.HH);}).then(function(){return t.IP();}).catch(function(v){w.ta.warn("Failed to send batch of logblobs.",v,h.KQ);t.Tt();w.LYb(v) && w.VW.yqb(t);w.WYb(v) && (w.w7=!0);throw v;});};c.prototype.LYb=function(t){return t.Kd === p.z0.wHa?!1:this.config.Qha;};c.prototype.WYb=function(t){return t.Cc === p.L.RCa || t.Cc === p.L.hR || t.Cc === p.L.lR?!0:!1;};c.prototype.EDb=function(){var t;t=this;0 < this.VW.size.Al(this.config.G2a)?this.Ova().catch(function(w){return t.ta.warn("Failed to send log messages on size threshold. " + w);}):this.OG();};c.prototype.Es=function(){this.K7 && (!1,this.K7.cancel(),this.K7=void 0);};c.prototype.OG=function(){this.K7 || (!1,this.K7=this.Pc.Ak(this.config.zXb,this.rO.bind(this)));};c.prototype.rO=function(){var t;t=this;this.w7=!1;this.Es();this.Ova().catch(function(w){return t.ta.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.VYb=function(t){return 0 <= this.config.w9a.indexOf(t.type)?!0:t.type === u.dd.debug?0 <= this.config.v9a.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(k.ada)),(0,r.__param)(1,(0,f.l)(m.OE)),(0,r.__param)(2,(0,f.l)(g.Pj)),(0,r.__param)(3,(0,f.l)(d.qFa)),(0,r.__param)(4,(0,f.l)(h.qb)),(0,r.__param)(5,(0,f.l)(n.wGa)),(0,r.__param)(6,(0,f.l)(q.$_))],a);b.bFa=a;},function(r,b,a){var l,m,d,g,h,k,n;function c(p){this.qL=d.Eb;this.Jga=[];this.MS=this.j2=!1;p && (this.qL=p.size,this.Jga=p.HH);}function f(p,q,u,t){this.QOb=p;this.config=q;this.Zf=u;this.json=t;(0,m.So)(this,"json");this.ta=this.Zf.hb("MessageQueue");this.Bt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(1);l=a(0);m=a(56);d=a(52);g=a(282);h=a(7);k=a(39);a=a(49);f.prototype.Tha=function(p){var q,u;0 === this.Bt.length && this.Bt.push(this.pna());if(p=this.sHb(p)){q=this.QOb.measure([p]);u=this.Bt[this.Bt.length - 1];0 < u.size.add(q).Al(this.config.G2a) && (u=this.pna(),this.Bt.push(u));u.Tha(p);}};f.prototype.REb=function(){var p;p=this.Bt.filter(function(q){return q.iub;});this.Bt.push(this.pna());p.forEach(function(q){return q.RNb();});return p;};f.prototype.yqb=function(p){p.Vz || this.Bt.unshift(new c(p));};f.prototype.KVb=function(p){p=this.Bt.indexOf(p);0 <= p && this.Bt.splice(p,1);};f.prototype.sHb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ta.error("JSON.stringify error: " + t.message,q);}};f.prototype.pna=function(){return new c();};Wa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Bt.reduce(function(p,q){return p.add(q.size);},d.Eb);}}});n=f;n=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(g.mFa)),(0,r.__param)(1,(0,l.l)(a.ada)),(0,r.__param)(2,(0,l.l)(h.qb)),(0,r.__param)(3,(0,l.l)(k.OE))],n);b.vGa=n;c.prototype.IP=function(){this.j2=!1;this.MS=!0;};c.prototype.Tt=function(){this.j2=!1;};c.prototype.Tha=function(p){this.Jga.push(p);this.qL=this.qL.add(p.size);};c.prototype.RNb=function(){this.j2=!0;};Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.qL;}},HH:{configurable:!0,enumerable:!0,get:function(){return this.Jga;}},iub:{configurable:!0,enumerable:!0,get:function(){return 0 < this.HH.length && !1 === this.j2;}},Vz:{configurable:!0,enumerable:!0,get:function(){return this.MS;}}});},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t;function c(w,v,x,y,z,A,B,E){this.Ba=w;this.platform=x;this.gk=y;this.json=z;this.ce=A;this.$g=B;this.sNb=E;(0,m.So)(this,"json");this.ta=v.hb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(1);l=a(0);m=a(56);d=a(39);g=a(4);h=a(29);k=a(18);n=a(34);p=a(91);q=a(7);u=a(485);a=a(66);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(A,B){A.entries.push(v.tyb(B));return A;},new f());x(v.tEb(z));}catch(A){v.ta.error(A.message);y(A);}}).then(function(x){return v.Rva(x);});};c.prototype.tyb=function(w){return this.ce.LH(this.ce.LH({},w.data),{esn:this.gk().Wk,sev:w.severity,type:w.type,lver:this.platform.Pqa,jssid:this.Ba.id,devmod:this.platform.lz,jsoffms:w.timestamp.Ma(this.Ba.$z).da(g.ja),clienttime:w.timestamp.da(g.ja),client_utc:w.timestamp.da(g.io),uiver:this.$g.aB});};c.prototype.tEb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={lQ:x.lQ,nv:x.nv},++y)){x.nv=Object.assign({},w.entries[y]);try{this.json.stringify(x.nv);}catch(A){x.lQ=void 0;this.ce.NC(x.nv,(function(B){return function(E,D){try{v.json.stringify(D);}catch(F){B.lQ=F.message;B.nv[E]=B.lQ;}};})(x));x.nv.stringifyException=x.lQ;x.nv.originalType=x.nv.type;x.nv.type="debug";x.nv.sev="error";}}return this.json.stringify(w);}};c.prototype.Rva=function(w){var v;v=this;return this.sNb.pg(this.ta,{logblobs:w}).then(function(){!1;}).catch(function(x){v.ta.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(k.kd)),(0,r.__param)(1,(0,l.l)(q.qb)),(0,r.__param)(2,(0,l.l)(n.Ik)),(0,r.__param)(3,(0,l.l)(p.Fx)),(0,r.__param)(4,(0,l.l)(d.OE)),(0,r.__param)(5,(0,l.l)(h.eg)),(0,r.__param)(6,(0,l.l)(a.$s)),(0,r.__param)(7,(0,l.l)(u.THa))],t);b.pFa=t;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;r=a(1);f=a(0);l=a(282);m=a(52);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.nNb());}).reduce(function(h,k){return h.add(k);},(0,m.fa)(0));};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kFa))],a);b.lFa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p){n=h.$e.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.cOb=(0,f.fa)(5E5);n.zXb=(0,l.N8)(1);n.G2a=(0,f.fa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(1);f=a(52);l=a(4);m=a(0);d=a(13);g=a(46);h=a(47);a=a(37);na(c,h.$e);Wa.Object.defineProperties(c.prototype,{Qha:{configurable:!0,enumerable:!0,get:function(){return this.config().Qha;}},w9a:{configurable:!0,enumerable:!0,get:function(){return [];}},v9a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],k.prototype,"w9a",null);r.__decorate([g.config(g.Iy("string"),"shedDebugTypes")],k.prototype,"v9a",null);k=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(a.Xl)),(0,r.__param)(1,(0,m.l)(d.ad))],k);b.aFa=k;},function(r,b,a){var l,m,d,g,h,k,n,p,q;function c(u,t,w,v,x,y,z,A,B,E){this.platform=t;this.Fka=w;this.type=v;this.severity=x;this.timestamp=y;this.Ba=A;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.lz;this.data.clver=this.platform.version;u && u.he && (u.he.os && (this.data.osplatform=u.he.os.name,this.data.osver=u.he.os.version),this.data.browsername=u.he.name,this.data.browserver=u.he.version);u.$pa && (this.data.tester=!0);u.Iz && !this.data.groupname && (this.data.groupname=u.Iz);u.UL && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + u.UL:u.UL);u.nJ && (this.data.uigroupname=u.nJ);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ba.uGb();this.data.uniqueLogId=B.YWa();this.data.appId=this.Ba.id;E && (u=this.Ba.Xb(),this.data.soffms=u.Ma(E.wk).da(g.ja),this.data.mid=this.data.mid || E.J,this.data.lvpi=E.Oqa,this.data.uiLabel=E.ye,this.data.uxLabels=E.Qaa,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || E.ba,E.JI && (v=E.JI,(E=E.JI.split(".")) && 1 < E.length && "S" !== E[0][0] && (v="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function f(u,t,w,v,x,y){this.xa=u;this.Fka=t;this.config=w;this.Ba=v;this.x2b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(1);l=a(52);m=a(0);d=a(38);g=a(4);h=a(331);k=a(40);n=a(18);p=a(486);a=a(34);f.prototype.Kt=function(u,t,w,v){return new c(this.config,this.platform,this.Fka,u,t,this.xa.gf,w,this.Ba,this.x2b,v);};q=f;q=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.Vh)),(0,r.__param)(1,(0,m.l)(h.SAa)),(0,r.__param)(2,(0,m.l)(k.Wm)),(0,r.__param)(3,(0,m.l)(n.kd)),(0,r.__param)(4,(0,m.l)(p.YLa)),(0,r.__param)(5,(0,m.l)(a.Ik))],q);b.iFa=q;Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.LRa || (this.LRa=(0,l.fa)(this.Fka.encode(this.data).length));return this.LRa;}}});},function(r,b,a){var f,l,m;function c(d){this.gk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;r=a(1);f=a(0);l=a(52);a=a(91);c.prototype.nNb=function(){var d;d=this.gk()?this.gk().Wk.length:40;return (0,l.fa)(d + 33);};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Fx))],m);b.jFa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D;function c(F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa){this.W$a=F;this.Yf=C;this.zra=G;this.ama=K;this.pe=J;this.R4=I;this.jf=M;this.config=R;this.Fd=H;this.xa=P;this.Ba=N;this.platform=L;this.Aq=Q;this.bA=S;this.Vi=U;this.Mr=ca;this.JH=ka;this.yc=ya;this.BD=qa;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;r=a(1);f=a(445);l=a(49);m=a(29);d=a(453);g=a(276);h=a(0);k=a(180);n=a(488);p=a(489);q=a(87);u=a(13);t=a(38);w=a(18);v=a(34);x=a(89);y=a(120);z=a(161);A=a(39);B=a(40);E=a(283);a=a(71);c.prototype.create=function(F,C){return new n.tR(F,C,this.W$a,this.Yf,this.zra,this.ama,this.pe,this.R4,this.jf,this.config,this.Fd,this.xa,this.Ba,this.Aq,this.bA,this.Vi,this.Mr,this.JH,this.yc,this.BD);};D=c;D=r.__decorate([(0,h.R)(),(0,r.__param)(0,(0,h.l)(f.rLa)),(0,r.__param)(1,(0,h.l)(l.Xm)),(0,r.__param)(2,(0,h.l)(d.aGa)),(0,r.__param)(3,(0,h.l)(g.uca)),(0,r.__param)(4,(0,h.l)(m.eg)),(0,r.__param)(5,(0,h.l)(p.zBa)),(0,r.__param)(6,(0,h.l)(q.Nx)),(0,r.__param)(7,(0,h.l)(u.ad)),(0,r.__param)(8,(0,h.l)(y.tF)),(0,r.__param)(9,(0,h.l)(t.Vh)),(0,r.__param)(10,(0,h.l)(w.kd)),(0,r.__param)(11,(0,h.l)(v.Ik)),(0,r.__param)(12,(0,h.l)(A.PR)),(0,r.__param)(13,(0,h.l)(x.Ox)),(0,r.__param)(14,(0,h.l)(z.kF)),(0,r.__param)(15,(0,h.l)(B.Wm)),(0,r.__param)(16,(0,h.l)(E.wda)),(0,r.__param)(17,(0,h.l)(k.dda)),(0,r.__param)(18,(0,h.l)(a.Ys))],D);b.rR=D;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;c=a(52);b.xBa=function(f,l){this.YAb=f;this.size=l.Npa()?c.Eb:l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A2a=void 0;b.A2a=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],l=c(f),m=1;m < a.length;m++){d=a[m];g=c(d);g > l && (f=d,l=g);}return f;}};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w){this.platform=u;this.config=t;this.Ba=w;this.hMa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(1);f=a(0);l=a(44);m=a(18);d=a(3);g=a(34);h=a(4);k=a(13);n=a(24);p=a(11);q=a(160);c.prototype.pq=function(u,t,w){w && (u.adlid=w.Bc,u.abitrate=w.bitrate);t && (u.vdlid=t.Bc,u.vbitrate=t.bitrate);};c.prototype.z_a=function(u,t,w){w?u=Object.assign(u,(0,q.Mna)(this.platform.bq,w)):u.errorcode=d.M.Wl;u.errorcode === this.platform.bq + d.M.jHa && (u.lastSyncWithVideoElement=this.getTime() - t.pZ);};c.prototype.G_a=function(u,t){var w;Object.assign(u,(0,q.Xna)());try{w=t.getBoundingClientRect();u.rendersize=w.width + "x" + w.height;u.renderpos=w.left + "x" + w.top;}catch(v){}};c.prototype.F_a=function(u,t){var w,v,x;w=t.tc[l.Tb.Ta.Nb].value;v=t.tc[l.Tb.Ta.Vb].value;x=t.lf.value;t=t.oe.value;w && (u.cdnid=w.id,u.cdnname=w.name);v && (u.acdnid=v.id,u.acdnname=v.name);if(null === x || void 0 === x?0:x.stream)(u.adlid=x.stream.Bc,u.abitrate=x.stream.bitrate);if(null === t || void 0 === t?0:t.stream)(u.vdlid=t.stream.Bc,u.vbitrate=t.stream.bitrate,u.vheight=t.stream.height,u.vwidth=t.stream.width);};c.prototype.D_a=function(u,t){0 <= t.mediaTime.value && (u.moff=(0,n.Ho)(t.mediaTime.value),u.moffms=(0,n.Vf)(t.mediaTime.value));};c.prototype.w_a=function(u,t){t.Gg && (u.pbcid=t.Gg);t.Ti && (u.playbackcontextid=t.Ti);};c.prototype.ipa=function(u){var t,w;u.browserua=p.BB;u.browseruad=null === (w=null === (t=p.mf.userAgentData) || void 0 === t?void 0:t.brands) || void 0 === w?void 0:w.map(function(v){return [v.brand,v.version];});u.browserhref=location.href;(t=p.mf && p.mf.connection && p.mf.connection.type) && (u.nettype=t);};c.prototype.vN=function(u){var t,w,v,x,y;if(this.config().WBb){y=null === (t=null === p.mf || void 0 === p.mf?void 0:p.mf.connection) || void 0 === t?void 0:t.effectiveType;t=null === p.mf || void 0 === p.mf?void 0:p.mf.deviceMemory;y && (u.effectiveType=y);t && (u.deviceMemory=t);}(y=null === (w=null === p.mf || void 0 === p.mf?void 0:p.mf.connection) || void 0 === w?void 0:w.type) && (u.connectionType=y);w=null === (v=null === p.mf || void 0 === p.mf?void 0:p.mf.connection) || void 0 === v?void 0:v.downlink;"number" === typeof w && isFinite(w) && (u.downlink=w);v=null === (x=null === p.mf || void 0 === p.mf?void 0:p.mf.connection) || void 0 === x?void 0:x.rtt;"number" === typeof v && isFinite(v) && (u.rtt=v);};c.prototype.Y6=function(u,t){if(t=t.bb.Lm)(t.isUIAutoPlay && (u.isUIAutoPlay=!0),t.clLogId && (u.cl_log_id=t.clLogId));};c.prototype.wN=function(u,t){var w,v,x,y;w=this;if(t=t && t.streams){v=new Set();x=new Set();y=new Set();t.forEach(function(z){z=z.oh;v.add(z);x.add(z.replace(w.hMa,""));(z=z.match(w.hMa)) && 0 < z.length && y.add(z[1]);});u.videoProfiles=[].concat(ea(v));u.videoProfile=0 === x.size?"none":[].concat(ea(x))[0];u.videoProfileLevels=[].concat(ea(y));}};c.prototype.t_a=function(u,t){var w;if(t=t && t.streams){w={};t.forEach(function(v){w[v.oh]=void 0;});u.audioProfiles=Object.keys(w);}};c.prototype.x_a=function(u){u.configversion=this.config().version;this.config().endpoint || (u.configendpoint="error");};c.prototype.getTime=function(){return this.Ba.Xb().da(h.ja);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(g.Ik)),(0,r.__param)(1,(0,f.l)(k.ad)),(0,r.__param)(2,(0,f.l)(m.kd))],a);b.nFa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t){this.Yf=n;this.config=p;this.xa=q;this.Ba=u;this.Qqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;r=a(1);f=a(49);l=a(0);m=a(180);d=a(13);g=a(38);h=a(18);k=a(1109);c.prototype.create=function(n,p,q){var u;u=this.Qqa.create(n,p);return new k.wR(n,p,q,this.Yf,this.config,this.Ba,u);};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(f.Xm)),(0,r.__param)(1,(0,l.l)(d.ad)),(0,r.__param)(2,(0,l.l)(g.Vh)),(0,r.__param)(3,(0,l.l)(h.kd)),(0,r.__param)(4,(0,l.l)(m.sR))],a);b.uR=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q,u,t){var w;w=this;this.j=h;this.wa=k;this.Yf=p;this.config=q;this.Ba=u;this.jb=t;this.aA=function(v,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.J && v(y);};};this.m2a=this.aA(function(v){w.Z$(v.t7);},function(v){return v.J;});this.k2a=this.aA(function(){w.gU();},function(v){return v.J;});this.zSa=this.aA(function(){w.gU();},function(v){return v.movieId;});this.Dja=this.aA(function(){w.j.yb.value === g.cb.Lc && (w.j.yb.removeListener(w.Dja),w.Cq());},function(){return w.j.J;});this.XA=function(v){w.xA && w.jb.XA(v);};this.ESa=this.aA(this.jb.xvb,function(v){return v.J;});this.PUa=this.aA(this.jb.SAb,function(v){return v.J;});this.K1a=this.aA(this.jb.GW,function(v){return w.j.Fl(v.segmentId).J;});this.H8a=this.aA(this.jb.MY,function(v){return w.j.Fl(v.segmentId).J;});this.EUa=this.aA(this.jb.pla,function(v){return v.J;});this.xk=function(v){v.skip && (w.Wn=!0);switch(v.cause){case g.Ce.GB:case g.Ce.ZR:w.us && w.kp && w.jb.tta(w.getTime() - w.kp,w.us);w.us="repos";w.jb.WO(v.Hsa,v.lf,v.oe);w.kp=w.getTime();(0,d.Uf)(w.kw);break;case g.Ce.i0:(w.us="force_rebuffer",w.kp=w.getTime(),(0,d.Uf)(w.kw));}};this.hm=function(v){w.Yz=v.oldValue;w.jb.hm(v);};this.kw=function(){var v;if(w.kp && w.j.yb.value !== g.cb.Rf){v=w.getTime() - w.kp;w.jb.eP(v,w.Wn,w.us);w.Yz && w.Yz != w.j.pc.value && w.jb.Dia();w.kp=void 0;w.us=void 0;w.Wn=void 0;}};this.Cq=function(){w.xA || (w.xA=!0,w.jb.jE(!1),w.ppa(),w.config().f7 && (w.Sz=nb.setTimeout(function(){w.Yf.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.Sz=void 0;},w.config().f7)));};this.mg=function(){w.Sz && (nb.clearTimeout(w.Sz),w.Sz=void 0);if(w.config().S4 || w.config().IL)(w.rla && (nb.clearInterval(w.rla),w.rla=void 0),w.jb.CUa());w.PZ && w.PZ();w.xA?w.jb.NG(! !w.j.ki):w.j.ki?w.jb.jE(!0):w.wa.background || w.jb.uta();};this.a_=function(v){v.oldValue && v.qm && v.qm.oG && w.jb.YL(v.oldValue,v.newValue,v.qm.oG,v.qm.RT);};this.UX=function(v){var x;if(v.newValue){x=v.newValue.stream;w.zH != x && (w.zH && w.jb.Vua(w.zH,x,v.newValue.jm.startTime),w.zH=x);}};this.J=k.J;this.log=(0,l.Jh)(h,"LogblobBuilder");this.xb();n && this.Z$();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;f=a(12);l=a(8);m=a(4);d=a(62);g=a(15);c.prototype.xb=function(){this.j.addEventListener(g.ca.CH,this.m2a);this.j.addEventListener(g.ca.fra,this.k2a);this.j.addEventListener(g.ca.GW,this.K1a);this.j.addEventListener(g.ca.MY,this.H8a);this.j.addEventListener(g.ca.mg,this.zSa);this.j.addEventListener(g.ca.HG,this.EUa,f.V0);if(this.config().S4 || this.config().IL)(this.j.addEventListener(g.ca.HG,this.PUa),this.rla=nb.setInterval(this.jb.CUa,this.config().XAb));this.config().ava && this.j.addEventListener(g.ca.HG,this.ESa);};c.prototype.Z$=function(h){var k;k=this;this.y3a || (this.j.yb.value !== g.cb.Lc || (void 0 === h?0:h)?this.j.yb.addListener(this.Dja):this.Cq(),this.j.Ii.addListener(this.XA),this.j.kc.addListener(this.jb.Rl),this.j.pc.addListener(this.hm),this.j.mh.addListener(this.jb.LT),this.j.paused.addListener(this.jb.E9),this.j.oe.addListener(this.UX),this.j.yb.addListener(this.kw),this.j.yb.addListener(this.jb.sab),this.j.Xe.addListener(this.a_),this.j.playbackRate.addListener(this.jb.$Y),this.j.addEventListener(g.ca.ei,this.jb.ei),this.j.addEventListener(g.ca.HL,this.jb.HL),this.j.addEventListener(g.ca.HP,this.jb.HP),this.j.addEventListener(g.ca.Py,function(n){k.us="rebuffer";k.jb.Py(n);k.kp=k.getTime();(0,d.Uf)(k.kw);}),this.j.addEventListener(g.ca.xk,this.xk),this.j.addEventListener(g.ca.MP,this.jb.MP),this.wa.Op && this.wa.Op.addListener(this.jb.Op),this.y3a=!0);};c.prototype.gU=function(){this.mg();this.y3a && (this.j.removeEventListener(g.ca.CH,this.m2a),this.j.removeEventListener(g.ca.fra,this.k2a),this.j.removeEventListener(g.ca.GW,this.K1a),this.j.removeEventListener(g.ca.MY,this.H8a),this.j.Ii.removeListener(this.XA),this.j.kc.removeListener(this.jb.Rl),this.j.pc.removeListener(this.hm),this.j.mh.removeListener(this.jb.LT),this.j.paused.removeListener(this.jb.E9),this.j.oe.removeListener(this.UX),this.j.yb.removeListener(this.kw),this.j.yb.removeListener(this.Dja),this.j.yb.removeListener(this.jb.sab),this.j.Xe.removeListener(this.a_),this.j.playbackRate.removeListener(this.jb.$Y),this.j.removeEventListener(g.ca.HG,this.EUa),this.j.removeEventListener(g.ca.mg,this.zSa),this.j.removeEventListener(g.ca.ei,this.jb.ei),this.j.removeEventListener(g.ca.HL,this.jb.HL),this.j.removeEventListener(g.ca.HP,this.jb.HP),this.j.removeEventListener(g.ca.Py,this.jb.Py),this.j.removeEventListener(g.ca.xk,this.xk),this.j.removeEventListener(g.ca.MP,this.jb.MP),this.wa.Op && this.wa.Op.removeListener(this.jb.Op),this.j.removeEventListener(g.ca.HG,this.PUa),this.j.removeEventListener(g.ca.HG,this.ESa));};c.prototype.getTime=function(){return this.Ba.Xb().da(m.ja);};c.prototype.ppa=function(){var h,k,n;h=this;n=[];this.config().i3a && (this.config().j3a.forEach(function(p){n.push(nb.setTimeout(h.jb.CD,p));}),this.config().B8 && (k=nb.setInterval(this.jb.CD,this.config().B8)),this.PZ=function(){n.forEach(function(p){nb.clearTimeout(p);});k && nb.clearInterval(k);});};b.wR=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.L3a=void 0;r=a(0);c=a(1111);f=a(87);l=a(492);m=a(1112);d=a(284);g=a(493);h=a(1113);k=a(430);n=a(1117);b.L3a=new r.rd(function(p){p(l.vMa).to(c.uMa).aa();p(f.Nx).qE(function(){return nb._cad_global.http;});p(d.Q0).to(m.MGa).aa();p(g.NGa).$i(h.default);p(k.GDa).to(n.FDa).aa();});},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};f=c;f=r.__decorate([(0,a.R)()],f);b.uMa=f;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.fNb=h;this.Qb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(1);f=a(320);l=a(0);m=a(183);a=a(493);c.prototype.uka=function(){if(this.config.Bbb)return this.Qb(this.fNb());};d=c;d=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(f.LGa)),(0,r.__param)(1,(0,l.l)(m.IGa)),(0,r.__param)(2,(0,l.l)(a.NGa))],d);b.MGa=d;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1114);f=a(1115);l=a(1116);b.default=function(m){var d;m=new c.xba(m);d=new l.pib(m);return new f.oib(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.I1a=c;}a.prototype.bwa=function(c){try{this.I1a.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.eYa=function(){var c;try{c=this.I1a.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.cu=function(){var c;c=this.eYa();if(c && c.tp)return c.tp.a;};a.prototype.iGb=function(){var c;c=this.wna();if(c)return c.p25;};a.prototype.jGb=function(){var c;c=this.wna();if(c)return c.p50;};a.prototype.kGb=function(){var c;c=this.wna();if(c)return c.p75;};a.prototype.wna=function(){var c;c=this.eYa();if(c && (c=c.iqr))return c;};return a;})();b.xba=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.dw=c;this.nX=f;}a.prototype.bwa=function(c){return this.dw.bwa(c);};a.prototype.cu=function(){return this.dw.cu();};a.prototype.LGb=function(){return this.nX.nX();};return a;})();b.oib=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.dw=c;}a.prototype.nX=function(){var c,f,l;c=this.dw.iGb();f=this.dw.jGb();l=this.dw.kGb();if("number" === typeof c && "number" === typeof f && "number" === typeof l)return (l - c) / f;};return a;})();b.pib=r;},function(r,b,a){var f,l,m;function c(d,g){this.jf=g;this.ta=d.hb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.download=function(d,g){var h;h=this;g=void 0 === g?{P2a:0}:g;return new Promise(function(k,n){var q;function p(u){if(u.$)return k(u.content);if(q === g.P2a)return n({na:u.na,fD:u.ik});q++;!1;h.jf.download(d,p);}q=0;h.jf.download(d,p);});};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(a.Nx))],m);b.FDa=m;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.UWa=void 0;r=a(0);c=a(1119);f=a(1120);l=a(1121);m=a(1122);d=a(1123);g=a(494);h=a(495);k=a(167);b.UWa=new r.rd(function(n){n(k.PCa).to(c.OCa).aa();n(k.TJa).to(f.SJa).aa();n(k.RJa).to(l.QJa).aa();n(g.LCa).to(m.KCa).aa();n(h.JDa).to(d.IDa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t,w,v,x){this.config=p;this.l_a=q;this.Pc=u;this.uc=t;this.eWb=w;this.Zua=v;this.PLb=0;this.ta=x.hb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;r=a(1);l=a(0);m=a(4);d=a(48);g=a(7);h=a(494);k=a(495);a=a(167);c.prototype.start=function(){this.config.enabled && !this.ws && (this.ws=this.Pc.Ak(this.config.V9a,this.gx.bind(this)));};c.prototype.stop=function(){this.ws && (this.ws.cancel(),this.ws=void 0);};c.prototype.gx=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.PLb++;this.NHb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.EIb(u,t.url,t.name);})).then(function(t){0 < t.length && p.eWb.tY({data:t,context:u.context,Rqa:u.Rqa});}).then(function(){return u;});}).then(function(u){p.ws && (u.$0a?p.ws=p.Pc.Ak(u.$0a,p.gx.bind(p)):p.stop());}).catch(function(u){return p.ta.error("FTL run failed",u);});};c.prototype.NHb=function(p){var q;q=this;return this.l_a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.Zua.tY({url:p,status:u.status,qta:"FTL API request failed",ke:u.ke}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.uc.parse(u.body);return t instanceof Error?(q.Zua.tY({url:p,status:4,qta:"FTL Probe API JSON parsing error",ke:u.ke}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.Zua.tY({url:p,status:0,qta:u.message}),q.ta.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.EIb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var F;for(var x,y,z,A,B=[],E={},D=0;D < p.EUb;(E={gba:E.gba,hba:E.hba},++D)){E.gba=D < p.B6a.length?p.B6a[D]:m.Eb;E.hba="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(C){return function(){return new Promise(function(G,K){t.Pc.Ak(C.gba,function(){f.jUb(t.l_a,C.hba,p.DUb).then(function(J){function I(M,R,H){M || (M=H.headers[R]);return M;}x=I(x,"via",J);y=I(y,"x-ftl-probe-data",J);z=I(z,"x-ftl-error",J);A=I(A,"latency-trace",J);J={status:J.status,ke:J.ke,J2b:x || "",Wub:y || "",aV:z || "",rMb:t.lSb(A)};G(J);}).catch(function(J){K(J);});});});};})(E);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(C){w({url:q,name:u,data:C});}).catch(function(C){v(C);});});};c.prototype.lSb=function(p){var q;if(p){q={};p=aa(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.jUb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=f=c;n=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(a.NCa)),(0,r.__param)(1,(0,l.l)(k.JDa)),(0,r.__param)(2,(0,l.l)(d.Pj)),(0,r.__param)(3,(0,l.l)(h.LCa)),(0,r.__param)(4,(0,l.l)(a.TJa)),(0,r.__param)(5,(0,l.l)(a.RJa)),(0,r.__param)(6,(0,l.l)(g.qb))],n);b.OCa=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Yf=k;this.Hra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;r=a(1);l=a(0);m=a(52);d=a(4);g=a(49);a=a(89);c.prototype.tY=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return f.p3b({d:q.ke.duration.da(d.ja),sc:q.status,sz:q.ke.size.da(m.rv),via:q.J2b,cip:q.Wub,err:q.aV},q);})};})};k=this.Hra.Kt(k.Rqa,"info",n);this.Yf.Hc(k);};c.p3b=function(k,n){f.cw(k,"dns",n.ke.JUa);f.cw(k,"tcp",n.ke.ixa);f.cw(k,"tls",n.ke.sxa);f.cw(k,"ttfb",n.ke.oxa);f.Qqb(k,n.rMb);return k;};c.Qqb=function(k,n){n && (k.rtts=n);};c.cw=function(k,n,p){p && (k[n]=p.da(d.ja));};h=f=c;h=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(g.Xm)),(0,r.__param)(1,(0,l.l)(a.Ox))],h);b.SJa=h;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Yf=k;this.Hra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;r=a(1);l=a(0);m=a(52);d=a(4);g=a(49);a=a(89);c.prototype.tY=function(k){k=this.Hra.Kt("ftlProbeError","info",f.o3b({url:k.url,sc:k.status,pf_err:k.qta},k));this.Yf.Hc(k);};c.o3b=function(k,n){n.ke && (n=n.ke,f.cw(k,"d",n.duration),f.cw(k,"dns",n.JUa),f.cw(k,"tcp",n.ixa),f.cw(k,"tls",n.sxa),f.cw(k,"ttfb",n.oxa),k.sz=n.size.da(m.rv));return k;};c.cw=function(k,n,p){p && (k[n]=p.da(d.ja));};h=f=c;h=f=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(g.Xm)),(0,r.__param)(1,(0,l.l)(a.Ox))],h);b.QJa=h;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.is=h;this.json=k;(0,l.So)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;r=a(1);f=a(0);l=a(56);m=a(39);d=a(4);a=a(27);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Fha(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.uT(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.uT(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.Hy(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.uT(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Hy(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.pn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.EL(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Fha(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Jp(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Jp(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {EUb:h.pulses,B6a:h.pulse_delays?h.pulse_delays.map(d.Oc):[],DUb:(0,d.Oc)(h.pulse_timeout),$0a:h.next?(0,d.Oc)(h.next):void 0,urls:h.urls,Rqa:h.logblob,context:h.ctx};};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.dg)),(0,r.__param)(1,(0,f.l)(m.OE))],g);b.KCa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t){this.xa=q;this.r3b=u;this.performance=t;(0,l.So)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;r=a(1);l=a(56);m=a(278);d=a(52);g=a(39);h=a(38);k=a(0);n=a(492);p=a(4);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,x){var y,z,A;try{y=w.r3b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);u && (y.withCredentials=!0);t && (y.timeout=t.da(p.ja));z=w.xa.gf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.xa.gf.Ma(z);break;case XMLHttpRequest.DONE:B=w.xa.gf.Ma(z);B={body:y.responseText,status:y.status,headers:f.$sa(y.getAllResponseHeaders()),ke:w.Fna(q,(0,d.fa)(y.responseText.length),B,A)};v(B);}};y.send();}catch(B){x(B);}});};c.$sa=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Fna=function(q,u,t,w){u={size:u,duration:t,oxa:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,m.SN)(u);q.decodedBodySize && (u.size=(0,d.fa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.JUa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.ixa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.oxa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.sxa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.sxa=(0,p.timestamp)(t),u.ixa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return u;};a=f=c;a=f=r.__decorate([(0,k.R)(),(0,r.__param)(0,(0,k.l)(h.Vh)),(0,r.__param)(1,(0,k.l)(n.vMa)),(0,r.__param)(2,(0,k.l)(g.Yda)),(0,r.__param)(2,(0,k.optional)())],a);b.IDa=a;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.z6a=void 0;r=a(0);c=a(321);f=a(1125);l=a(188);m=a(1126);b.z6a=new r.rd(function(d){d(c.HBa).to(f.GBa).aa();d(l.qR).to(m.WEa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t){this.ce=p;this.Ly=q;this.u2b=u;this.MN=t;}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;r=a(1);f=a(0);l=a(29);m=a(36);d=a(78);g=a(137);h=a(58);k=a(57);a=a(188);c.prototype.Ig=function(p){var q;q=this;return this.ce.Ft(p.ck[0].data[0],[8,4])?Promise.resolve({we:[{id:"ddd",BH:"cert",FW:void 0}],oj:[{sessionId:"ddd",data:new Uint8Array(this.Ly.decode(k.lMa))}]}):this.ce.Ft(p.ck[0].data[0],this.u2b.decode("certificate"))?Promise.resolve({we:[{id:"ddd",BH:"cert",FW:void 0}],oj:[{sessionId:"ddd",data:new Uint8Array(this.Ly.decode(k.h0))}]}):this.MN.By(this.gEb(p)).then(function(u){return q.hEb(u);});};c.prototype.release=function(p){return this.MN.release(this.kEb(p)).then(function(){});};c.prototype.gEb=function(p){var q,u;q=this;u=p.ck.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.Ly.encode(w)};});});return {ba:p.ba,Ti:p.Ti,T4:p.T4,Xf:(0,h.Bqa)(p.Xf),Fo:g.bo[p.Fo],ck:u.reduce(function(t,w){return t.concat(w);},[]),SW:p.SW,mk:p.mk};};c.prototype.kEb=function(p){return {ba:p.ba,we:p.we};};c.prototype.hEb=function(p){return {we:p.we,oj:p.oj};};n=c;n=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.eg)),(0,r.__param)(1,(0,f.l)(m.Bi)),(0,r.__param)(2,(0,f.l)(d.Fv)),(0,r.__param)(3,(0,f.l)(a.qR))],n);b.GBa=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,u){this.rqb=k;this.DVb=n;this.H7a=q;this.EWb=u;this.ta=p.hb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(1);f=a(0);l=a(7);m=a(496);a(497);d=a(498);g=a(499);a=a(285);c.prototype.By=function(k){var n,p;n=this;!1;p=this.H7a.F0b(k);return this.rqb.gq(this.ta,k.mk,p).then(function(q){q.map(function(u){return u.yMb;});return n.EWb.xab(q);}).catch(function(q){n.ta.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.H7a.I0b(k);return this.DVb.pg(this.ta,k).then(function(){return {$:!0};}).catch(function(p){n.ta.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.yHa)),(0,r.__param)(1,(0,f.l)(d.lIa)),(0,r.__param)(2,(0,f.l)(l.qb)),(0,r.__param)(3,(0,f.l)(g.NHa)),(0,r.__param)(4,(0,f.l)(a.Uda))],h);b.WEa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v;function c(x){return function(){return x.$a.get(f.gIa).xb();};}Object.defineProperty(b,"__esModule",{value:!0});b.fI=void 0;r=a(0);f=a(153);l=a(211);m=a(286);d=a(500);g=a(1128);h=a(1129);k=a(501);n=a(1130);p=a(502);q=a(1131);u=a(287);t=a(1132);w=a(503);v=a(1133);b.fI=new r.rd(function(x){x(k.PIa).to(n.OIa).aa();x(l.Wda).to(m.cIa).aa();x(d.DHa).to(g.CHa).aa();x(f.gIa).to(h.fIa).aa();x(f.NR).CZ(c);x(w.eIa).to(v.dIa).aa();x(p.JHa).to(q.IHa).aa().f_();x(u.iIa).to(t.hIa).aa();x(u.$Ha).to(t.ZHa).aa();x(u.bIa).to(t.aIa).aa();});},function(r,b,a){var m,d,g,h,k,n,p,q,u,t;function c(){}function f(){}function l(w,v,x,y,z){var A;A=this;this.is=w;this.Xn=v;this.config=x;this.GG=y;this.vSb=z;this.nx=function(){return new c().encode({version:A.version,data:A.fI});};this.T1b=function(B){B=A.upgrade(B);A.vSb.validate(B);return B;};this.upgrade=function(B){var E;if(A.is.pn(B))return A.W1b(B);E=B.version;if(void 0 != E && A.is.Hi(E) && 1 == E)return A.X1b(B);E=B.version;if(void 0 != E && A.is.Hi(E) && 2 == E)return new c().decode(B);if(B.version && A.is.Hi(B.version))throw new k.qd(g.M.uB,g.L.Qza,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.qd(g.M.uB,g.L.qB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.As=new n.Pca(2,this.config().S5a,"" !== this.config().S5a && 0 < this.config().ZSb,this.Xn,this.nx);}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(1);m=a(0);d=a(13);g=a(3);h=a(27);k=a(41);n=a(318);p=a(79);q=a(91);u=a(286);a=a(287);l.prototype.RUb=function(){return this.As.load(this.T1b).catch(function(w){throw new k.qd(g.M.uB,w.na || w.Cc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};l.prototype.Uqb=function(w){return this.As.add(w);};l.prototype.p7a=function(w){return this.As.remove(w,function(v,x){return v.ba === x.ba;});};l.prototype.Xxa=function(w){return this.As.update(w,function(v,x){return v.ba === x.ba;});};l.prototype.toString=function(){return JSON.stringify(this.nx(),null,"  ");};l.prototype.pbb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.GG().Wk:"";};l.prototype.aya=function(w){return w.map(function(v){return {Bc:v.downloadableId,duration:v.duration};});};l.prototype.qbb=function(w){var v;return w?{total:w.playTimes.total,hJ:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.aya(w.playTimes.audio || []),video:this.aya(w.playTimes.video || []),text:this.aya(w.playTimes.timedtext || [])}:{total:0,hJ:0,audio:[],video:[],text:[]};};l.prototype.W1b=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.pbb(w.playbackContextId),ba:w.xid?w.xid.toString():"",J:w.movieId,position:w.position,fU:w.timestamp,NY:w.playback?1E3 * w.playback.startEpoch:-1,WN:w.mediaId,MX:this.qbb(w.playback),trackId:"",Lm:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.Xn.create().then(function(z){z.save(v.config().OU,y,!1);});if("" === x.href || "" === x.ba)throw new k.qd(g.M.uB,g.L.qB);return {version:2,data:[x]};};l.prototype.X1b=function(w){var v;v=this;if(!w.playdata || !this.is.Hy(w.playdata))throw new k.qd(g.M.uB,g.L.qB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.pbb(y.playbackContextId),ba:y.xid?y.xid.toString():"",J:y.movieId,position:y.position,fU:y.timestamp,NY:y.playback?1E3 * y.playback.startEpoch:-1,WN:y.mediaId,MX:v.qbb(y.playback),trackId:"",Lm:{},profileId:y.profileId};});})(w.playdata)};};Wa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.As.version;}},fI:{configurable:!0,enumerable:!0,get:function(){return this.As.hw;}}});t=l;t=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(h.dg)),(0,r.__param)(1,(0,m.l)(p.mB)),(0,r.__param)(2,(0,m.l)(d.ad)),(0,r.__param)(3,(0,m.l)(q.Fx)),(0,r.__param)(4,(0,m.l)(a.bIa))],t);b.CHa=t;f.prototype.encode=function(w){var v;v=new u.Z0();return w.map(v.encode);};f.prototype.decode=function(w){var v;v=new u.Z0();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new f().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new f().decode(w.data)};};},function(r,b,a){var m,d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A,B,E,D,F,C){this.config=y;this.Pc=A;this.qx=B;this.Fu=E;this.O9=D;this.Nh=F;this.xH=Promise.resolve();this.closed=!1;this.log=z.hb("PlaydataServices");this.eI=[];this.active=new Set();this.IWb=new f(y,C);}function f(y,z){this.config=y;this.xa=z;}function l(y,z,A,B,E,D){this.log=y;this.Pc=z;this.Ui=A;this.Fu=B;this.qx=E;this.SSb=D;this.$Va=this.Fh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=b.tjb=void 0;r=a(1);m=a(0);d=a(4);g=a(7);h=a(48);k=a(211);n=a(500);p=a(501);q=a(3);u=a(286);t=a(502);w=a(129);v=a(38);a=a(141);l.prototype.P8=function(y,z){var B;function A(){var E;E=B.Fu.create(B.Ui);B.qx.Xxa(E).catch(function(D){var F;F=B.$Va?g.Lj.hfa:g.Lj.Of;B.$Va=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.qx.Uqb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.ws=B.Pc.A$(y,A);}).catch(function(E){B.log.error("Unable to add playdata",{error:E,playdata:new u.Z0().encode(z)});B.ws=B.Pc.A$(y,A);});};l.prototype.stop=function(y){var z,A;z=this;if(this.Fh)return Promise.resolve();this.ws && this.ws.cancel();A=this.Fu.create(this.Ui);return this.qx.Xxa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.Ui.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.SSb.E8a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.qx.p7a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.J);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};l.prototype.cancel=function(){this.Fh=!0;this.ws && this.ws.cancel();this.qx.Xxa(this.Fu.create(this.Ui));};Wa.Object.defineProperties(f.prototype,{eub:{configurable:!0,enumerable:!0,get:function(){var y;y=this.xa.gf;return !this.xH || 0 <= y.Ma(this.xH).Al(this.config.b1a)?(this.xH=y,!0):!1;}}});b.tjb=f;c.prototype.xb=function(){var y;y=this;this.jD || (this.log.trace("Starting playdata services"),this.jD=this.qx.RUb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.jD;};c.prototype.close=function(){this.closed=!0;this.eI.forEach(function(y){y.P8.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.yO && z.Pva?this.xXb(y):Promise.resolve();};c.prototype.cp=function(y,z,A,B){var E;E=this;this.closed || (this.Jwa(y),this.Sva(y,B).catch(function(D){E.log.error("Start command failed",{playdata:D.fI,error:D.aV});}),z && this.Gwa(this.lGb(y),y,A));};c.prototype.fZ=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Fu.create(y);this.active.delete(A.ba);y=aa((0,w.Cu)(function(E){return E.key === A.ba;},this.eI));B=y.next().value;this.eI=y.next().value;return Promise.all(B.map(function(E){E.stopped=!0;return E.P8.stop(z.config.Pva);})).then(function(){});};c.prototype.Jwa=function(y){var z,A;y.Dd("pdb");if(this.config.ota.oLb()){z=this.Fu.create(y);A=z.ba;this.eI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.eI.push({key:A,P8:this.CGb(y,z),kx:!1,stopped:!1}));}};c.prototype.xXb=function(y){var z,A,B,E;z=this;A=this.qx.fI.filter(function(D){return !z.active.has(D.ba);});B=void 0;E=void 0;y && Infinity === y?B=A:(A=aa((0,w.Cu)(function(D){return D.J === y;},A)),B=A.next().value,E=A.next().value);E && 0 < E.length && this.Pc.Ak(this.config.B8a,function(){z.D8a(E);});return B && 0 !== B.length?this.D8a(B):Promise.resolve();};c.prototype.D8a=function(y){var A;function z(B){return A.O9.E8a(B).then(function(){return A.QVb(B);});}A=this;return y.reduce(function(B,E){return B.then(function(){return z(E);});},Promise.resolve());};c.prototype.QVb=function(y){var z;z=this;return this.qx.p7a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.CGb=function(y,z){y=new l(this.log,this.Pc,y,this.Fu,this.qx,this.O9);y.P8(this.config.ota,z);return y;};c.prototype.Sva=function(y,z){var A,B;A=this;B=this.Fu.kyb(y,z);return this.O9.Sva(y,B).then(function(){!1;A.eI.filter(function(E){return E.key === y.ba.toString();}).forEach(function(E){E.kx=!0;});}).catch(function(E){throw {fI:B,aV:E};});};c.prototype.C8a=function(y){return this.IWb.eub?this.JY(t.Tda.uW,y,q.M.Vca):Promise.resolve();};c.prototype.K$=function(y){return this.JY(t.Tda.splice,y,q.M.gKa);};c.prototype.JY=function(y,z,A){var E;function B(D){var F;F=E.eI.filter(function(C){return C.key === D.ba.toString();});return 0 === F.length?!0:F.reduce(function(C,G){return C || G.stopped || !G.kx;},!1);}E=this;return B(z)?this.xH:this.xH=this.xH.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=E.Fu.create(z);return E.O9.JY(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;E.log.error("Failed to send event",{eventKey:y,xid:z.ba,error:D});D.hk?F=E.Nh(A,D):D.qA === q.J0.cfa && (F=E.Nh(A,D));throw {aV:D,DO:F};});};c.prototype.Gwa=function(y,z,A){var B;B=this;!1;this.Rja();this.fqa=this.Pc.Ak(y,function(){B.Rja();B.JY(t.Tda.uW,z,q.M.Vca).then(function(){B.Gwa(y,z,A);}).catch(function(E){var D;D=E.aV;(E=E.DO) && A(E);D.qA === q.J0.cfa && B.Gwa(y,z,A);});});};c.prototype.e$a=function(){this.Rja();};c.prototype.Rja=function(){this.fqa && (this.fqa.cancel(),this.fqa=void 0);};c.prototype.lGb=function(y){return y.bb.Moa?(0,d.Oc)(y.bb.Moa):this.config.a1a;};x=c;x=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(p.PIa)),(0,r.__param)(1,(0,m.l)(g.qb)),(0,r.__param)(2,(0,m.l)(h.Pj)),(0,r.__param)(3,(0,m.l)(n.DHa)),(0,r.__param)(4,(0,m.l)(k.Wda)),(0,r.__param)(5,(0,m.l)(t.JHa)),(0,r.__param)(6,(0,m.l)(a.QR)),(0,r.__param)(7,(0,m.l)(v.Vh))],x);b.fIa=x;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.$e.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(46);g=a(4);a=a(40);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{yO:{configurable:!0,enumerable:!0,get:function(){return this.config.tw?"unsentplaydatatest":"unsentplaydata";}},Pva:{configurable:!0,enumerable:!0,get:function(){return !0;}},B8a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Oc)(1E4);}},ota:{configurable:!0,enumerable:!0,get:function(){return (0,g.Oc)(4E3);}},a1a:{configurable:!0,enumerable:!0,get:function(){return (0,g.N8)(1);}},b1a:{configurable:!0,enumerable:!0,get:function(){return (0,g.wh)(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"yO",null);r.__decorate([d.config(d.ed,"sendPersistedPlaydata")],h.prototype,"Pva",null);r.__decorate([d.config(d.al,"playdataSendDelayMilliseconds")],h.prototype,"B8a",null);r.__decorate([d.config(d.al,"playdataPersistIntervalMilliseconds")],h.prototype,"ota",null);r.__decorate([d.config(d.al,"heartbeatCooldown")],h.prototype,"a1a",null);r.__decorate([d.config(d.al,"keepAliveWindow")],h.prototype,"b1a",null);h=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl)),(0,r.__param)(1,(0,f.l)(a.Wm))],h);b.OIa=h;},function(r,b,a){var f,l,m;function c(d,g){this.jU=g;this.log=d.hb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(1);f=a(82);l=a(7);a=a(0);c.prototype.Sva=function(d,g){var h;h=this.jU(f.np.start);return this.TVa(h,d,g);};c.prototype.E8a=function(d){var g;g=this;return this.jU(f.np.stop).pg(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.JY=function(d,g,h){d=this.jU(d);return this.TVa(d,g,h);};c.prototype.TVa=function(d,g,h){var k;k=this;return d.gq(this.log,g.oa.mk,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([(0,a.R)(),(0,r.__param)(0,(0,a.l)(l.qb)),(0,r.__param)(1,(0,a.l)(f.sca))],m);b.IHa=m;},function(r,b,a){var m,d,g,h;function c(){}function f(k){this.uSb=k;}function l(k){this.wSb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=b.aIa=b.ZHa=void 0;r=a(1);m=a(0);d=a(287);g=a(41);h=a(3);l.prototype.validate=function(k){k.map(this.wSb.validate);};a=l;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.iIa))],a);b.ZHa=a;f.prototype.validate=function(k){this.uSb.validate(k.data);};a=f;a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.$Ha))],a);b.aIa=a;c.prototype.validate=function(k){var n;k.ba && "string" === typeof k.ba?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.qd(h.M.uB,h.L.qB,void 0,void 0,void 0,n,void 0,k.ba);};d=c;d=r.__decorate([(0,m.R)()],d);b.hIa=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.y5a=h;this.log=g.hb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;r=a(1);f=a(0);l=a(7);m=a(15);a=a(153);c.prototype.cp=function(g){var h;h=this;this.y5a().then(function(k){g.addEventListener(m.ca.CH,function(n){var p;if(void 0 !== n.IO){p=g.gN(n.IO);k.fZ(p);n.t7 || new Promise(function(q){var u;if(g.wj.value)q();else {u=function(t){t.newValue && (q(),g.wj.removeListener(u));};g.wj.addListener(u);}}).then(function(){return k.cp(g,h.z9a(g),function(q){return g.rG(q);},g.cM);});}});g.addEventListener(m.ca.Cq,function(){k.cp(g.ha,h.z9a(g),function(n){return g.rG(n);},g.cM);});g.background || g.addEventListener(m.ca.NN,function(n){n=g.gN(n.J);k.Jwa(n);});g.addEventListener(m.ca.mg,function(){k.e$a();});g.addEventListener(m.ca.Jbb,function(){k.C8a(g.ha).catch(function(n){(n=n.DO) && g.rG(n);});});g.kc.addListener(function(){g.bb.nla?h.log.trace("stickiness is disabled for timedtext"):k.K$(g.ha);});g.pc.addListener(function(){g.bb.nla?h.log.trace("stickiness is disabled for audio"):k.K$(g.ha).catch(function(n){(n=n.DO) && g.rG(n);});});});};c.prototype.z9a=function(g){return g.state.value == m.Rb.re;};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(a.NR))],d);b.dIa=d;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.$a.get(l.PBa);t.xb().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.bVa=void 0;r=a(0);f=a(504);a(1135);l=a(506);m=a(1137);d=a(98);g=a(1138);h=a(507);k=a(1139);n=a(1140);a(1141);b.bVa=new r.rd(function(p){p(h.eFa).to(k.dFa).aa();p(f.MBa).to(n.fFa);p(d.oQ).to(g.Rya).aa();p(l.PBa).to(m.NBa).aa();p(l.OBa).CZ(c);});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q){var u;u=g.aS.call(this,n,p,"idb") || this;u.Xn=q;u.f8a=function(t){u.Xzb(t.target.id).then(function(){return u.refresh();});};u.RQb=function(){u.fvb().then(function(){return u.refresh();});};u.nRb=function(){u.refresh();};u.UQb=function(){u.mwb();};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.mhb=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(184);g=a(505);h=a(133);k=a(288);na(c,g.aS);c.prototype.xb=function(){var n;n=this;if(this.Gn)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == h.wv.kgb && n.toggle();});return this.Xn.create().then(function(p){n.storage=p;n.Gn=!0;});};c.prototype.Yk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Wna=function(n,p,q){var u;n=n.toString();u='<font color="#C41A16">"' + p + '"</font>';q=this.jb.gi({name:p,data:q});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + u + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + q + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + p + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.ioa=function(n){var p,q;p=this;q='<table class="' + this.prefix + '-display-table" width="100%">' + this.Yk();Object.entries(n).forEach(function(u,t){var w;w=aa(u);u=w.next().value;w=w.next().value;q+=p.Wna(t,u,w);});return q + "</table>";};c.prototype.AXa=function(){var n,p,q;n=this.ce.createElement("button",g.FJ,"Clear",{"class":this.prefix + "-display-btn"});p=this.ce.createElement("button",g.FJ,"Refresh",{"class":this.prefix + "-display-btn"});q=this.ce.createElement("button",g.FJ,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.RQb;p.onclick=this.nRb;q.onclick=this.UQb;return [n,p,q];};c.prototype.aNb=function(){var n;n=this;return this.storage.loadAll().then(function(p){n.q_a=p.reduce(function(q,u){q[u.key]=u.value;return q;},{});return n.q_a;});};c.prototype.Xzb=function(n){return this.storage.remove(n);};c.prototype.fvb=function(){return this.storage.removeAll();};c.prototype.g7a=function(){var n;n=this;return this.aNb().then(function(p){return n.ioa(p);});};c.prototype.mwb=function(){var n;n=JSON.stringify(this.q_a,null,4);k.K_.qka(n);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.eg)),(0,r.__param)(1,(0,f.l)(m.dg)),(0,r.__param)(2,(0,f.l)(d.Qca))],a);b.mhb=a;},function(r,b){function a(c){this.is=c;this.VLb="#881391";this.WZb="#C41A16";this.gtb=this.vQb="#1C00CF";this.CKb="#D79BDB";this.g1b=this.sQb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;a.prototype.gi=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.UC=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.CKb:this.VLb) + '">' + c + ": </font>";};a.prototype.bXa=function(c,f){f=f || "";c='<li><a href="#">' + this.UC(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var l=0;l < f.length;++l){c+=this.getValue(l.toString(),f[l]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.IYa=function(c,f){var l,m;l=this;if(f instanceof CryptoKey)return this.oFb(c,f);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.UC(c):"") + "Object</a>";m+="<ul>";Object.entries(f).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,g);});m+="</ul>";return m+="</li>";};a.prototype.oFb=function(c,f){c='<li><a href="#">' + this.UC(c) + "CryptoKey</a>";c=c + "<ul>" + this.IYa("algorithm",f.algorithm);c+=this.iXa("extractable",f.extractable);c+=this.mZa("type",f.type);c+=this.bXa("usages",f.usages);return c + "</ul></li>";};a.prototype.PGb=function(c,f,l){return '<li><a href="#">' + this.UC(c,void 0 === l?!1:l) + ('<font color="' + this.vQb + '">' + f.toString() + "</font></a></li>");};a.prototype.iXa=function(c,f,l){return '<li><a href="#">' + this.UC(c,void 0 === l?!1:l) + ('<font color="' + this.gtb + '">' + f.toString() + "</font></a></li>");};a.prototype.mZa=function(c,f,l){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.UC(c,void 0 === l?!1:l) + ('<font color="' + this.WZb + '">"' + f + '"</font></a></li>');};a.prototype.OGb=function(c){return '<li><a href="#">' + this.UC(c) + ('<font color="' + this.sQb + '">null</font></a></li>');};a.prototype.XHb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.UC(c) + ('<font color="' + this.g1b + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,l){l=void 0 === l?!1:l;return null === f?"" + this.OGb(c):this.is.Hy(f)?"" + this.bXa(c,f):this.is.EL(f)?"" + this.IYa(c,f):this.is.Jp(f)?"" + this.mZa(c,f,l):this.is.Hi(f)?"" + this.PGb(c,f,l):this.is.tT(f)?"" + this.iXa(c,f,l):"" + this.XHb(c,f);};b.ILa=a;},function(r,b,a){var f,l;function c(m){this.HAb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;r=a(1);f=a(0);a=a(504);c.prototype.xb=function(){var m;m=this;this.jD || (this.jD=new Promise(function(d,g){var h;h=[];m.HAb.forEach(function(k){h.push(k.xb());});Promise.all(h).then(function(){d();}).catch(function(k){g(k);});}));return this.jD;};l=c;l=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.OH)(a.MBa))],l);b.NBa=l;},function(r,b,a){var f,l;function c(){this.Iva="";this.Wbb=[[],[]];this.U=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(1);f=a(0);a(4);l=a(98);c.prototype.downloadRequest=function(m){var d;"" === this.Iva && (this.Iva=m.ya);if(!m.cd){d=this.k0b(m);this.U[m.mediaType].push(d);this.Wbb[m.mediaType].forEach(function(g){g.l9b(d);});}};c.prototype.k0b=function(m){return {id:m.li(),ya:m.ya,mediaType:m.mediaType,ek:m.ek,startTime:m.DA,endTime:m.ax,offset:m.Su,SL:m.SL,RL:m.RL,duration:m.Jr,bitrate:m.bitrate,state:l.Aba.VUa,wj:!1,pac:!1,MZa:!1,i$b:l.zba.waiting};};c.prototype.update=function(m){this.Wbb[m.mediaType].forEach(function(d){d.ndc(m);});};Wa.Object.defineProperties(c.prototype,{ya:{configurable:!0,enumerable:!0,get:function(){return this.Iva;}}});a=c;a=r.__decorate([(0,f.R)()],a);b.Rya=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.$e.call(this,h,"LogDisplayConfigImpl") || this;h.mj=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(1);f=a(0);l=a(46);m=a(47);d=a(37);a=a(108);na(c,m.$e);Wa.Object.defineProperties(c.prototype,{sY:{configurable:!0,enumerable:!0,get:function(){return !0;}},PN:{configurable:!0,enumerable:!0,get:function(){return this.mj.PN;}},P1a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([l.config(l.ed,"renderDomDiagnostics")],g.prototype,"sY",null);r.__decorate([l.config(l.kD,"logDisplayMaxEntryCount")],g.prototype,"PN",null);r.__decorate([l.config(l.kD,"logDisplayAutoshowLevel")],g.prototype,"P1a",null);g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(d.Xl)),(0,r.__param)(1,(0,f.l)(a.iF))],g);b.dFa=g;},function(r,b,a){var m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;function c(B,E,D,F,C,G,K,J,I,M){var R;R=this;this.xa=B;this.jg=E;this.ce=D;this.Pc=F;this.Vn=C;this.config=G;this.GG=K;this.kxa=J;this.kzb=I;this.Xn=M;this.S_b=function(){R.RZ.Pl(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.r3a=function(){R.Ke.HN=!R.Ke.HN;R.yD && R.DD && (R.Ke.HN?(R.yD.style.display="inline-block",R.DD.style.display="none"):(R.DD.style.display="inline-block",R.yD.style.display="none"));R.MI(!1);};this.tNb=function(H){var P;R.entries.push(H);P=R.config.PN;0 <= P && R.entries.length > P && R.entries.shift();void 0 === R.Ke.Uy[H.Ao] && (R.Ke.Uy[H.Ao]=!0,R.MI(!1));R.Ke.isVisible && !R.P$a?R.S_b():R.RZ.Pl();};this.RAb=function(){l.download("all",R.entries.map(function(H){return H.saa(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.Gn=!1;this.Ke={isVisible:!1,HN:!0,P4:!0,Mqa:t.Lj.Lca,Uy:{}};this.RZ=this.kxa((0,p.wh)(1));this.jDb=this.kzb((0,p.Oc)(250));this.entries=[];!1;!1;}function f(B){var E;this.elements=[];E=document.createElementNS(f.oZ,"svg");E.setAttribute("viewBox",B);this.elements.push(E);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;r=a(1);m=a(0);d=a(29);g=a(112);h=a(340);k=a(48);n=a(38);p=a(4);q=a(18);u=a(91);t=a(7);w=a(113);v=a(289);x=a(507);y=a(79);z=a(133);A=a(288);l.download=function(B,E){return l.MFb(B).then(function(D){return l.OHb(D,E.join("\r\n")).then(function(F){return l.NAb(F.filename,F.text);});});};l.MFb=function(B){return new Promise(function(E,D){var F,C,G,K,J,I,M;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();K=F.getFullYear().toString();J=F.getHours().toString();I=F.getMinutes().toString();M=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === J.length && (J="0" + J);1 === I.length && (I="0" + I);1 === M.length && (M="0" + M);E(K + G + C + J + I + M + "." + B + ".log");}catch(R){D(R);}});};l.OHb=function(B,E){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([E],{type:"text/plain"}))});}catch(C){F(C);}});};l.NAb=function(B,E){var D;try{D=document.createElement("a");D.setAttribute("href",E);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.BP=function(){var B;B=document.createElementNS(f.oZ,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.DP=function(B,E,D){var F;F=document.createElementNS(f.oZ,"path");F.setAttribute("d",B);E && F.setAttribute("fill",E);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};f.prototype.cZ=function(B,E,D,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(f.oZ,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",E.toString());G.setAttribute("height",D.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};f.prototype.AZb=function(){var B;B=document.createElementNS(f.oZ,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.gi=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Wa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},DG:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.oZ="http://www.w3.org/2000/svg";c.prototype.xb=function(){var B;B=this;this.jD || (this.jD=new Promise(function(E){nb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.wv.phb?B.toggle():D.keyCode == z.wv.E && A.K_.qka(B.GG().Wk));});B.Vn.k$(v.eda.Keb,B.tNb);E();}));return this.jD;};c.prototype.show=function(){document.body && (this.element || (this.Zxb(),this.Gn=!0),!this.Ke.isVisible && this.element && (document.body.appendChild(this.element),this.Ke.isVisible=!0,this.update(!0)));};c.prototype.Sr=function(){this.Gn && this.Ke.isVisible && this.element && (document.body.removeChild(this.element),this.Ke.isVisible=!1);};c.prototype.toggle=function(){this.Ke.isVisible?this.Sr():this.show();this.MI(!1);};c.prototype.Zxb=function(){var B,E;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});E=this.createElement("style");E.type="text/css";E.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(E);B.appendChild(this.ep=this.Qyb());B.appendChild(this.Ryb());B.appendChild(this.Txb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.Qyb=function(){var B,E;B=this;E=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");E.setAttribute("wrap","off");E.setAttribute("readonly","readonly");E.addEventListener("focus",function(){B.P$a=!0;B.update();B.ep && (B.ep.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});E.addEventListener("blur",function(){B.P$a=!1;B.update();B.ep && (B.ep.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return E;};c.prototype.Ryb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.syb());B.appendChild(this.iyb());B.appendChild(this.dyb());B.appendChild(this.Tyb());B.appendChild(this.Xxb());B.appendChild(this.yyb());B.appendChild(this.wyb());B.appendChild(this.fyb());B.appendChild(this.Yxb());return B;};c.prototype.Txb=function(){var B,E,D,F,C,G;B=this;E=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.zw(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");E.appendChild(D);E.appendChild(C);D.appendChild(F);D.addEventListener("mousedown",function(K){K.preventDefault();});G=!1;D.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(B.Ke.Uy).sort()).forEach(function(K){C.appendChild(B.Uxb(K,D));}),C.style.display="block");G=!G;});return E;};c.prototype.Uxb=function(B,E){var D,F,C;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=B;C.checked=this.Ke.Uy[B];C.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Ke.Uy).forEach(function(G){D.Ke.Uy[G]="all" === B;}),E.click()):D.Ke.Uy[B]=!D.Ke.Uy[B];D.MI(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.syb=function(){var B,E;B=this;E=this.createElement("select",this.zw(22,NaN,1,2),'<option value="' + t.Lj.Of + '">Error</option><option value="' + (t.Lj.hfa + '">Warn</option><option value="') + (t.Lj.Lca + '">Info</option><option value="') + (t.Lj.hLa + '">Trace</option><option value="') + (t.Lj.ga + '">Debug</option>'));E.value=this.Ke.Mqa.toString();E.addEventListener("change",function(D){B.Ke.Mqa=parseInt(D.target.value);B.MI(!0);},!1);return E;};c.prototype.iyb=function(){var E,D;function B(F){return E.jDb.Pl(function(){var C;C=F.target.value;E.Ke.filter=C?new RegExp(C):void 0;E.MI(!0);});}E=this;D=this.createElement("input",this.zw(14,150,1,2));D.value=this.Ke.filter?this.Ke.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.dyb=function(){var B,E,D,F;B=this;E=this.createElement("div",this.zw(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Ke.P4;D.addEventListener("change",function(C){B.Ke.P4=C.target.checked;B.MI(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";E.appendChild(D);E.appendChild(F);return E;};c.prototype.Tyb=function(){var B,E,D;B=this;E=this.createElement("button",this.zw());D=new f("0 0 24 24").BP().AZb().end().DP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.DG,"nonzero").end().end().gi();E.appendChild(D);E.addEventListener("click",function(){B.update();},!1);E.setAttribute("title","Refresh the log console");return E;};c.prototype.Xxb=function(){var B,E;B=this.createElement("button",this.zw());E=new f("0 0 24 24").BP().cZ(0,0,24,24,f.background).end().DP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.DG).end().end().gi();B.appendChild(E);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.yyb=function(){var B;this.DD=this.createElement("button",this.zw());this.DD.style.display=this.Ke.HN?"none":"inline-block";B=new f("0 0 24 24").BP().cZ(0,0,24,24,f.background).end().DP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.DG,"nonzero").end().end().gi();this.DD.addEventListener("click",this.r3a,!1);this.DD.appendChild(B);this.DD.setAttribute("title","Shrink the log console");return this.DD;};c.prototype.wyb=function(){var B;this.yD=this.createElement("button",this.zw());this.yD.style.display=this.Ke.HN?"inline-block":"none";B=new f("0 0 24 24").BP().cZ(4,4,16,16,f.background).end().DP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.DG,"nonzero").end().end().gi();this.yD.addEventListener("click",this.r3a,!1);this.yD.appendChild(B);this.yD.setAttribute("title","Expand the log console");return this.yD;};c.prototype.fyb=function(){var B,E;B=this.createElement("button",this.zw());E=new f("0 0 26 26").BP().cZ(0,0,24,24,f.background).end().DP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.DG,"nonzero").end().end().gi();B.appendChild(E);B.addEventListener("click",this.RAb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.Yxb=function(){var B,E,D;B=this;E=this.createElement("button",this.zw());D=new f("0 0 24 24").BP().cZ(0,0,24,24,f.background).end().DP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.DG,"nonzero").end().end().gi();E.appendChild(D);E.addEventListener("click",function(){B.toggle();},!1);E.setAttribute("title","Close the log console");return E;};c.prototype.MI=function(B){var E;B=void 0 === B?!1:B;E=void 0 === E?!1:E;!1;B && this.update(E);};c.prototype.update=function(B){var E;E=this;B=void 0 === B?!1:B;this.element && this.config.sY && Promise.resolve(this.vtb() + this.NFb().join("\r\n")).then(function(D){E.element && E.ep && (E.ep.value=D,E.element.style.cssText=E.Ke.HN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && E.Pc.Ak(p.Eb,function(){E.ep.scrollTop=E.ep.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.NFb=function(){var B,E;B=this;E=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Ke.Mqa && B.Ke.Uy[D.Ao] && (D=D.saa(!B.Ke.P4,!B.Ke.P4),B.Ke.filter && !B.Ke.filter.test(D) || E.push(D));});return E;};c.prototype.vtb=function(){var B;B=this.GG();return "Version: 6.0033.572.911 \n" + ((B?"Esn: " + B.Wk:"") + "\nJsSid: ") + (this.jg.id + ", Epoch: " + this.xa.gf.da(p.io) + ", Start: " + this.jg.$z.da(p.io) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,E,D,F){return this.ce.createElement(B,E,D,F);};c.prototype.zw=function(B,E,D,F){B=void 0 === B?26:B;E=void 0 === E?26:E;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + f.DG + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(E)?"":"width:" + E + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.KZb="logDxDisplay";a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(n.Vh)),(0,r.__param)(1,(0,m.l)(q.kd)),(0,r.__param)(2,(0,m.l)(d.eg)),(0,r.__param)(3,(0,m.l)(k.Pj)),(0,r.__param)(4,(0,m.l)(w.$J)),(0,r.__param)(5,(0,m.l)(x.eFa)),(0,r.__param)(6,(0,m.l)(u.Fx)),(0,r.__param)(7,(0,m.l)(g.pK)),(0,r.__param)(8,(0,m.l)(h.eBa)),(0,r.__param)(9,(0,m.l)(y.mB))],a);b.fFa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u){var t;t=h.aS.call(this,p,q,"network") || this;t.Pka=u;t.Q4=g.iBa.Vhb;t.bOb=30;t.zRb=function(w){t.Q4=w.target.value;t.refresh();};t.QQb=function(){t.data={};t.refresh();};t.f8a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=t.data[t.Q4][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.K_.qka(x):"log" === w && console.log(v);};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.nib=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(97);g=a(187);h=a(505);k=a(133);n=a(288);na(c,h.aS);c.prototype.xb=function(){var p;p=this;if(this.Gn)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == k.wv.bib && p.toggle();});this.data={};this.Pka.addListener(g.gca.sjb,function(q){var u;p.data[q.type] || (p.data[q.type]=[]);u=p.data[q.type];u.length === p.bOb && u.shift();u.push(q);q.type === p.Q4 && p.refresh();});this.Gn=!0;return Promise.resolve();};c.prototype.Yk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Wna=function(p,q,u){var t;t=p.toString();q='<font color="#C41A16">"' + q + '"</font>';u=this.jb.gi(u);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + t + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + q + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + u + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.ioa=function(){for(var p='<table class="' + this.prefix + '-display-table" width="100%">' + this.Yk(),q=this.data[this.Q4] || [],u=0;u < q.length;++u){p+=this.Wna(u,q[u].name,q[u].value);}return p + "</table>";};c.prototype.AXa=function(){var p;p=this.ce.createElement("button",h.FJ,"Clear",{"class":this.prefix + "-display-btn"});p.onclick=this.QQb;return [p,this.Syb(),this.Gyb()];};c.prototype.Syb=function(){var p;p=this.ce.createElement("select",h.FJ,Object.values(g.iBa).reduce(function(q,u){return q + ('<option value="' + u + '">' + u + "</option>");},""),{"class":this.prefix + "-display-select"});p.onchange=this.zRb;return p;};c.prototype.Gyb=function(){var p,q,u,t;p=this;q=this.ce.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});q.checked=this.XX;q.onchange=function(){return p.r0b();};u=this.ce.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});t=this.ce.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});t.appendChild(q);t.appendChild(u);return t;};c.prototype.g7a=function(){return Promise.resolve(this.ioa());};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.eg)),(0,r.__param)(1,(0,f.l)(m.dg)),(0,r.__param)(2,(0,f.l)(d.$_))],a);b.nib=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(481);f=a(11);b.crypto=new r.rd(function(l){l(c.QAa).$i(f.L0);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.pe=void 0;r=a(0);c=a(1144);f=a(1145);l=a(1146);m=a(139);d=a(319);g=a(486);h=a(1147);k=a(1148);n=a(508);p=a(1149);b.pe=new r.rd(function(q){q(m.r1).to(c.bLa).aa();q(d.xea).to(l.GJa).aa();q(g.YLa).to(f.XLa).aa();q(h.zib).to(k.YGa).aa();q(n.rMa).to(p.qMa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.is=k;this.json=n;(0,l.So)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(1);l=a(56);m=a(39);d=a(0);g=a(27);h=a(139);c.prototype.P6a=function(k){var n;n=this;return f.read(k,function(p){return parseInt(p);},function(p){return n.is.fia(p);});};c.prototype.sua=function(k){var n;n=this;return f.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.tT(p);});};c.prototype.Gq=function(k){var n;n=this;return f.read(k,function(p){return parseInt(p);},function(p){return n.is.CT(p);});};c.prototype.PUb=function(k){var n;n=this;return f.read(k,function(p){return parseFloat(p);},function(p){return n.is.Hi(p);});};c.prototype.O6a=function(k,n){return f.read(k,function(p){return f.rDb(p,n);},function(p){return void 0 !== p;});};c.prototype.zua=function(k,n){return f.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.Q6a=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return f.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.EL(q) && p(q);});}catch(q){return new h.qp();}};c.prototype.Oh=function(k,n,p){var q,u;q=this;p=void 0 === p?1:p;k=k.trim();u=n instanceof Function?n:this.zyb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.qp();k=k.substring(n + 1,p);try{return f.iSb(k).map(function(t){t=u(q,f.B2b(t));if(t instanceof h.qp)throw t;return t;});}catch(t){return t instanceof h.qp?t:new h.qp();}};c.prototype.zyb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=f.RGb(k);return 1 < n?p.Oh(u,k,n - 1):q(p,u);};};c.rDb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.qp();};c.RGb=function(k){switch(k){case "int":return function(n,p){return n.P6a(p);};case "bool":return function(n,p){return n.sua(p);};case "uint":return function(n,p){return n.Gq(p);};case "float":return function(n,p){return n.PUb(p);};case "string":return function(n,p){return n.zua(p);};case "object":return function(n,p){return n.Q6a(p);};}};c.iSb=function(k){var x;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < k.length;(v={iQ:v.iQ},++u)){v.iQ=k.charAt(u);x=void 0;"," == v.iQ && 0 == t?(p.push(k.substr(q,u - q)),q=u + 1):(x=n.find((function(y){return function(z){return z[0] == y.iQ;};})(v)))?(++t,w.push(x)):0 < w.length && w[w.length - 1][1] == v.iQ && (--t,w.pop());}if(q != u)p.push(k.substr(q,u - q));else if(q == u && 0 < q)throw new h.qp();return p;};c.B2b=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.qp();return k.substring(1,k.length - 1);}return k;};a=f=c;a=f=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(g.dg)),(0,r.__param)(1,(0,d.l)(m.OE))],a);b.bLa=a;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(1);a=a(0);c.prototype.YWa=function(l){var m;m=this;return l?(l ^ 16 * Math.random() >> l / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return m.YWa(d);});};f=c;f=r.__decorate([(0,a.R)()],f);b.XLa=f;},function(r,b,a){var f,l,m,d;function c(g){this.location=g;(0,l.So)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;r=a(1);l=a(56);m=a(39);a=a(0);c.FX=function(g){var h,n,p;h={};if(0 < g.length){g=g.split("&");for(var k=0;k < g.length;k++){n=g[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(f.rHa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(f.rHa,"%20")):h[n.toLowerCase()]="";}}return h;};Wa.Object.defineProperties(c.prototype,{HUb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.FX(this.D6a);}},D6a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.dY)return this.dY;this.dY=this.location.search.substr(1);g=this.dY.indexOf("#");0 <= g && (this.dY=this.D6a.substr(0,g));return this.dY;}}});d=f=c;d.rHa=/[+]/g;d=f=r.__decorate([(0,a.R)(),(0,r.__param)(0,(0,a.l)(m.$Ea))],d);b.GJa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zib="ObjectComparerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;r=a(1);f=a(0);l=a(194);c.prototype.compare=function(m,d){var g;g=[];this.Zja(m,d,"",g);return g;};c.prototype.Zja=function(m,d,g,h){var k;k=this;if(l.NE.Hy(m))l.NE.Hy(d) && m.length === d.length?m.forEach(function(q,u){k.Zja(m[u],d[u],g + "[" + u + "]",h);}):h.push({a:m,b:d,path:g});else if(l.NE.EL(m) && null != m){if(l.NE.EL(d) && null != d){for(var n in m){this.Zja(m[n],d[n],g + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:g + "." + p});}}else h.push({a:m,b:d,path:g});}else m !== d && h.push({a:m,b:d,path:g});};a=c;a=r.__decorate([(0,f.R)()],a);b.YGa=a;},function(r,b,a){var f,l,m,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(1);f=a(0);l=a(11);m=a(34);d=a(290);g=a(8);c.prototype.oHb=function(){var h;h=nb.devicePixelRatio || 1;return {width:this.Xga.F4b || l.Bv.width * h,height:this.Xga.E4b || l.Bv.height * h};};Wa.Object.defineProperties(c.prototype,{Xga:{configurable:!0,enumerable:!0,get:function(){return g.ka.get(m.CB);}}});a=c;r.__decorate([d.zW],a.prototype,"Xga",null);a=r.__decorate([(0,f.R)()],a);b.qMa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;r=a(0);c=a(509);f=a(1151);l=a(120);m=a(291);d=a(1152);g=a(1153);h=a(1155);k=a(1156);n=a(1157);p=a(510);q=a(511);u=a(134);t=a(293);w=a(1158);v=a(292);x=a(1160);b.Fd=new r.rd(function(y){y(c.xIa).to(f.wIa).aa();y(m.sea).to(d.yJa).aa();y(l.tF).to(g.gMa).aa();y(p.xJa).to(n.QFa).aa();y(p.wJa).to(k.VEa).aa();y(p.vJa).to(h.MEa).aa();y(t.dza).o0b(function(){var z;return null === (z=u.qn.vi) || void 0 === z?void 0:z.Ku;});y(t.cza).to(w.bza).aa();y(q.qea).to(q.kJa);y(v.Sba).to(x.iAa).aa();});},function(r,b,a){var f,l,m;function c(d,g){this.ib=g;this.ta=d.hb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(1);f=a(0);l=a(7);a=a(27);c.prototype.iAb=function(d){var g;g=this;try{return {direction:d.direction,Eac:d.layoutHasChanged,qcc:d.rowInteractionIndex,Ya:d.lolomos.map(function(h){return g.dAb(h);})};}catch(h){this.ta.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.dAb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.cAb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,rcc:d.rowSegment};};c.prototype.cAb=function(d){var g,h;g={Ed:d.pts,property:d.property,X:d.viewableId,index:d.index};h=d.preplay;this.ib.Hg(h) && (g.X9=this.hAb(h));d=d.params;this.ib.Hg(d) && (g.Hb=this.rUa(d));return g;};c.prototype.hAb=function(d){var g;g={Ed:d.pts,X:d.viewableId,zO:d.pipelineNum,index:d.index};d=d.params;this.ib.Hg(d) && (g.Hb=this.rUa(d));return g;};c.prototype.rUa=function(d){return {ye:d.uiLabel,Dj:d.trackingId,Lm:d.sessionParams};};c.prototype.gAb=function(d){var g;g=this;try{return d.map(function(h){return g.eAb(h);});}catch(h){this.ta.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.eAb=function(d){var g,h;h=d.params;this.ib.Hg(h) && (g=this.fAb(h));return {J:d.movieId,priority:d.priority,force:d.force,Hb:g,ye:d.uiLabel,jdc:d.uiExpectedStartTime,idc:d.uiExpectedEndTime,El:d.firstTimeAdded};};c.prototype.fAb=function(d){var g,h;g=void 0;h=d.sessionParams;this.ib.Hg(h) && (g=h);return {B3:this.bAb(d.authParams),Lm:g,Dj:d.trackingId,Z:d.startPts,oa:d.manifest,Hl:d.isBranching};};c.prototype.bAb=function(d){return {GSb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(a.dg))],m);b.wIa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w,v){this.is=w;this.jg=v;this.log=u.hb("TaskScheduler");this.Ub=new p.Hk();this.config=t();this.currentIteration=this.uU=0;this.bJ=[];this.paused=!1;this.aaa=[];this.OSa=[];this.uKb=this.config.OTb || q.append;this.addEventListener=this.Ub.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;r=a(1);f=a(0);l=a(291);m=a(7);d=a(13);g=a(132);h=a(27);k=a(18);n=a(4);p=a(73);(function(u){u.prepend="prepend";u.append="append";u.GJb="ignore";})(q || (q={}));c.prototype.$qb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.bJ=this.vKb(u);this.uU=0;this.currentIteration+=1;this.Uf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Uf=function(){var u,t,w,v;u=this;if(this.uU === this.bJ.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.uU,numberOfTasks:this.bJ.length});else {t=this.KGb();w=this.currentIteration;t.startTime=this.jg.Xb().da(n.ja);t.status=g.Jk.kx;this.Ub.Fc(l.kK.M_b,{J:t.J,type:t.type});this.aaa.push(t);v=function(x){t.endTime=u.jg.Xb().da(n.ja);x();u.OSa.push(t);u.aaa.splice(u.aaa.indexOf(t),1);u.currentIteration === w && (u.uU++,u.Uf());};t.SWb().then(function(){v(function(){t.status=g.Jk.IP;u.aua(t,l.kK.N_b,"task succeeded");});}).catch(function(x){v(function(){0 <= [g.Jk.Fh,g.Jk.kub,g.Jk.vja].indexOf(x.status)?(t.status=x.status,u.aua(t,l.kK.K_b,"cancelled task")):(t.status=g.Jk.Tt,u.aua(t,l.kK.L_b,"task failed",x));});});}};c.prototype.KGb=function(){return this.bJ[this.uU];};c.prototype.getStats=function(u,t,w){var v,x,y,z;v=this.OSa.map(function(A){return A.au();});x=this.aaa.map(function(A){return A.au();});y=this.is.Hg(u) && this.is.Hg(t);z={};if(this.is.Hg(w))return (z.Ivb=v.filter(function(A){return A.movieId === w;}),z);v.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.Jk.kx?A.startTime:A.endTime;y && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.aua=function(u,t,w,v){var x;x=u.au();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Ub.Fc(t,{J:u.J,type:u.type,reason:u.status});u.kO(x);};c.prototype.vKb=function(u){var t,w;t=this.bJ.filter(function(v){return v.ESb && v.status === g.Jk.Do;});w=this.uKb;return w === q.GJb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(d.ad)),(0,r.__param)(2,(0,f.l)(h.dg)),(0,r.__param)(3,(0,f.l)(k.kd))],a);b.yJa=a;},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A,B,E,D,F,C,G,K,J){this.s3b=A;this.ib=B;this.jg=E;this.We=D;this.hWa=F;this.bDb=C;this.cDb=G;this.ema=K;this.events=new x.EventEmitter();this.log=y.hb("VideoPreparer");this.config=z();this.zya={};this.Q8={};this.ec={num_of_calls:0,num_of_movies:0};this.Fg=J.Fg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;r=a(1);l=a(1154);m=a(13);d=a(0);g=a(7);h=a(81);k=a(27);n=a(291);p=a(18);q=a(4);u=a(132);t=a(292);w=a(510);v=a(293);x=a(17);c.prototype.R8a=function(y,z,A){this.Fg.setData(y,"ldl",z,A);};c.prototype.JZa=function(y){return this.Fg.YV(y,"ldl");};c.prototype.oSa=function(y){this.Fg.clearData(y,"ldl",void 0,!0);};c.prototype.UM=function(y,z){return this.Fg.getData(y,z);};c.prototype.pXa=function(y){var z;z=this.Fg.getData(y,"ldl");this.Fg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.Vbb=function(y){return this.a$a === y || this.NTa === y;};c.prototype.iI=function(y,z){var A,B,E;A=this;y=y.map(function(D){D.Hb=D.Hb || ({B3:{GSb:!1},Dj:0});A.ib.FG(D.Hb.Dj) || (D.Hb.Dj=0);A.ib.FG(D.Ed) && (D.Hb.Z=D.Ed);return D;});B=y.map(function(D){return A.Pyb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);E=B.map(function(D){return D.J + "-" + D.type;});this.log.trace("prepare tasks",E);this.We.$qb(B);this.ec.num_of_calls++;this.ec.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.Q8[A] || ({})),{bJ:this.We.getStats(y,z,A),cache:this.Fg.getStats(y,z),pEb:Object.assign(Object.assign({},this.ec),this.ema.getStats())});};c.prototype.AIb=function(y){this.a$a=y;};c.prototype.zIb=function(y){this.log.trace("task scheduler paused on playback created");this.We.pause();this.config.$zb && this.Fg.Nja(y,["manifest"]);this.config.Zzb && this.Fg.Nja(y,["ldl"]);this.config.Vzb && this.Fg.clearData(y,"manifest");this.ema.l7a(y);this.NTa=y;};c.prototype.GZa=function(){this.log.info("track changed, clearing all manifests from cache");this.Fg.Nja("none",["manifest"]);};c.prototype.yIb=function(y){var z;z=this;this.config.Wzb?this.Fg.clearData(y,"manifest"):this.Fg.YV(y,"manifest") && this.Fg.getData(y,"manifest").then(function(A){A.$b.isSupplemental || z.Fg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Sja(y);this.a$a=this.NTa=void 0;};c.prototype.Sja=function(y){delete this.zya[y];};c.prototype.Gz=function(y){return this.zya[y];};c.prototype.MTa=function(y){return this.zya[y]=this.s3b.bz();};c.prototype.x9a=function(y,z){if(this.JZa(y))return u.Jk.Fh;if(!z.ZV)return u.Jk.vja;};c.prototype.Pyb=function(y,z){var A,B;y.ye && y.Hb && (y.Hb.ye=y.ye);this.J1b(y.J,y.El);A=this.vyb(y,z);B=this.ryb(y,null === A || void 0 === A?void 0:A.id,z);y=this.xyb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(f);};c.prototype.vyb=function(y,z){if(this.Fg.YV(y.J,"manifest"))this.log.trace("manifest exists in cache for " + y.J);else return new l.SR("manifest",this.jg.Xb().da(q.ja),! !y.Hb.Rh,void 0,z,this.hWa,y,this);};c.prototype.ryb=function(y,z,A){if(this.config.WU)if(this.Fg.YV(y.J,"ldl"))!1;else return this.config.ip?new l.SR("ldl",this.jg.Xb().da(q.ja),! !y.Hb.Rh,z,A,this.bDb,y,this):new l.SR("ldl",this.jg.Xb().da(q.ja),! !y.Hb.Rh,z,A,this.cDb,y,this);};c.prototype.xyb=function(y,z,A){if(this.config.sVa)return new l.SR("getMedia",this.jg.Xb().da(q.ja),! !y.Hb.Rh,z,A,this.ema,y,this);};c.prototype.J1b=function(y,z){this.Q8[y] || (this.Q8[y]={V9:0,El:0});y=this.Q8[y];y.V9=(void 0 !== y?void 0 !== y.V9?y.V9:0:0) + 1;y.El=z;};a=c;a=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(g.qb)),(0,r.__param)(1,(0,d.l)(m.ad)),(0,r.__param)(2,(0,d.l)(h.Mx)),(0,r.__param)(3,(0,d.l)(k.dg)),(0,r.__param)(4,(0,d.l)(p.kd)),(0,r.__param)(5,(0,d.l)(n.sea)),(0,r.__param)(6,(0,d.l)(w.xJa)),(0,r.__param)(7,(0,d.l)(w.wJa)),(0,r.__param)(8,(0,d.l)(w.vJa)),(0,r.__param)(9,(0,d.l)(v.cza)),(0,r.__param)(10,(0,d.l)(t.Sba))],a);b.gMa=a;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p,q){this.type=m;this.Do=d;this.ESb=void 0 === g?!1:g;this.notify=k;this.dDb=n;this.HO=p;this.Fd=q;this.id=++l;this.status=f.Jk.Do;}Object.defineProperty(b,"__esModule",{value:!0});b.SR=void 0;f=a(132);l=0;c.prototype.au=function(){var m;m={id:this.id,type:this.type,created:this.Do,status:this.status,movieId:this.J};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.kO=function(m){this.notify && this.notify(m);};c.prototype.SWb=function(){return this.dDb.fetch(this.HO,this.Fd);};Wa.Object.defineProperties(c.prototype,{J:{configurable:!0,enumerable:!0,get:function(){return this.HO.J;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.HO.priority;}}});b.SR=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y;function c(z,A,B,E,D,F,C,G,K,J){this.hs=B;this.YY=E;this.Wc=D;this.xa=F;this.Ba=C;this.MN=G;this.OSb=K;this.pk=J;this.log=z.hb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(132);g=a(63);h=a(58);k=a(34);n=a(155);p=a(188);q=a(36);u=a(4);t=a(38);w=a(18);v=a(189);x=a(199);a=a(119);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",(0,v.QJ)(z));this.J=z.J;this.Fd=A;return A.UM(z.J,"ldl").catch(function(){B.log.trace("Requesting a new license",(0,v.QJ)(z));return B.pk.R5(z.J).then(function(E){var D,F;B.oa=E;B.$b=E.$b;if(E=B.Fd.x9a(z.J,B.$b))throw {status:E};E=B.$b.hB[0].Ou;D=B.$b.hB[0].vla;F=(E?E:[D]).map(function(C){return B.Wc.decode(C.bytes);});B.qf=B.AG({gVa:B.log,Rla:function(C){return B.handleError(C);},Dd:void 0,qsa:function(){},xa:{getTime:function(){return B.Ba.Xb().da(u.ja);},R$b:function(){return B.xa.gf.da(u.io);}}});A.R8a(z.J,B.qf);return B.qf.create(B.config.zm).then(function(){return B.qf.Ig(h.Yh.eo,F,!0);}).then(function(){return B.qf;}).catch(function(C){B.handleError(C);throw C;});}).catch(function(E){B.log.warn("Manifest not available for ldl request",E);if(void 0 !== E.status)throw E;throw {status:d.Jk.Fh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.qf.close();this.Fd.oSa(this.J);this.Fd.Sja(this.J);};c.prototype.AG=function(z){var A,B;A=this;if(!this.hs.OJ || !this.hs.MJ){B=this.OSb();this.hs.OJ=B.ac;this.hs.MJ=B.request;}B=new this.hs.MJ(z.gVa,function(E){var D;D=[];E.ck.forEach(function(F){D.push({sessionId:F.sessionId,dataBase64:A.Wc.encode(F.data)});});E={ck:D,T4:[A.$b.sm],Xf:g.co.iTa(E.Xf),Ti:A.$b.Ti,ba:A.Fd.MTa(A.J),mk:A.oa.mk};A.log.trace("xid created ",{MovieId:A.J,xid:E.ba});return A.MN.By(E);},void 0,{tf:!1,Zk:!1});return this.hs.OJ(z.gVa,z.Dd,{tf:!1,Zk:!1,Ol:B,ZX:this.config.v6a,Y:void 0,eB:this.config.oVa,onerror:z.Rla,qsa:z.qsa,xa:z.xa,dI:!1,osb:this.YY.n4([]),O2b:this.YY.q4([]),X6:this.config.X6});};y=c;y=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.ad)),(0,r.__param)(2,(0,f.l)(k.CB)),(0,r.__param)(3,(0,f.l)(n.YR)),(0,r.__param)(4,(0,f.l)(q.Bi)),(0,r.__param)(5,(0,f.l)(t.Vh)),(0,r.__param)(6,(0,f.l)(w.kd)),(0,r.__param)(7,(0,f.l)(p.qR)),(0,r.__param)(8,(0,f.l)(x.cea)),(0,r.__param)(9,(0,f.l)(a.UE))],y);b.MEa=y;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w,v,x,y){this.Wc=w;this.fBb=v;this.XN=x;this.pk=y;this.log=u.hb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(58);g=a(36);h=a(122);k=a(138);n=a(132);p=a(189);a=a(119);c.prototype.fetch=function(u,t){var w;w=this;this.log.trace("Fetching LDL",(0,p.QJ)(u));this.J=u.J;this.Fd=t;return t.UM(u.J,"ldl").then(function(v){return v.N$;}).catch(function(){w.log.trace("Requesting a new license",(0,p.QJ)(u));return w.pk.R5(u.J).then(function(v){var x,y,z,A;w.$b=v.$b;if(t.JZa(u.J))return t.UM(u.J,"ldl").then(function(B){return B.N$;});x=w.Fd.x9a(u.J,w.$b);if(x)throw {status:x};y=w.$b.hB[0].Ou;x=w.$b.hB[0].vla;z=(y?y:[x]).map(function(B){return w.Wc.decode(B.bytes);});A=w.fBb().then(function(B){var E;E={type:d.Yh.eo,initData:z,context:{Ou:y},Si:{J:u.J,ba:t.MTa(u.J),Ti:w.$b.Ti,sm:w.$b.sm,mk:v.mk}};return B.Ig(E,w.XN());}).catch(function(B){w.handleError("Unable to prepare an EME session.",B);throw B;});w.Fd.R8a(u.J,{N$:A,source:"videopreparer"},function(){if(!w.Fd.Vbb(u.J))try{A.then(function(B){return B.close();}).catch(function(B){w.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){w.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.Jk.Fh};});});};c.prototype.handleError=function(u,t){this.log.warn(u + " LDL is now invalid.",t);this.Fd.oSa(this.J);this.Fd.Sja(this.J);};q=c;q=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.ad)),(0,r.__param)(2,(0,f.l)(g.Bi)),(0,r.__param)(3,(0,f.l)(h.c0)),(0,r.__param)(4,(0,f.l)(k.zR)),(0,r.__param)(5,(0,f.l)(a.UE))],q);b.VEa=q;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w,v,x){this.gra=w;this.jg=v;this.pk=x;this.log=u.hb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;r=a(1);f=a(13);l=a(0);m=a(7);d=a(18);g=a(4);h=a(157);k=a(103);n=a(189);p=a(119);q=a(58);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,n.QJ)(u));v=u.Hb;this.config.pqb && v && v.oa && !this.pk.Coa(u.J) && (!(("clientGenesis" in v.oa) && v.oa.clientGenesis) || Date.now() - v.oa.clientGenesis < this.config.i6a) && (v=this.gra.create(v.oa)) && (v.uI=this.jg.Xb().da(g.ja),v.ZO=this.jg.Xb().da(g.ja),this.pk.gZ(u.J,v));return this.pk.bN({X:u.J,bb:null !== (w=u.Hb) && void 0 !== w?w:{},Xt:k.Ym.hF,Xf:q.Yh.eo},!0,function(){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",X:u.J});});};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.qb)),(0,r.__param)(1,(0,l.l)(f.ad)),(0,r.__param)(2,(0,l.l)(h.yR)),(0,r.__param)(3,(0,l.l)(d.kd)),(0,r.__param)(4,(0,l.l)(p.UE))],a);b.QFa=a;},function(r,b,a){var l,m,d,g,h,k,n,p,q,u,t,w,v,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function f(y,z,A,B,E){var D;D=this;this.Gta=A;this.LTb=B;this.pk=E;this.g_=[];this.zA=new Map();this.kRb=function(F){var C,G;F=F.wishListItem.key.X;if(D.zA.has(F)){G=D.zA.get(F);F=G.HO;G=G.cka;null === (C=G.resolve) || void 0 === C?void 0:C.call(G,F);}};this.y4a=function(F){!F.target.Vbb(F.X) && D.zA.has(F.X) && (D.l7a(F.X),D.q9a(D.g_),D.Ej.has(F.X) && (D.Ej.En(F.X).St=!0));};this.ta=y.hb("VideoPreparer");this.config=z();this.Ej=new v.gfa();}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;r=a(1);l=a(7);a(189);m=a(134);d=a(44);g=a(13);h=a(14);k=a(103);n=a(293);p=a(0);q=a(511);u=a(17);t=a(119);w=a(58);v=a(512);x=a(1159);f.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.y4a))z.events.on("manifestRemovedFromCache",this.y4a);!1;this.q9a(this.zvb(this.Yyb(y,z)));return this.zA.get(y.J).cka.promise;};f.prototype.getStats=function(){return this.Ku.getStats();};f.prototype.zvb=function(y){return [y].concat(ea(this.g_.filter(function(z){return z.key.X !== y.key.X;}))).slice(0,this.config.JTb).map(this.config.KTb?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};f.prototype.bN=function(y){var z;return this.pk.bN({X:y.J,Xt:k.Ym.hF,Xf:w.Yh.eo,bb:null !== (z=y.Hb) && void 0 !== z?z:{}}).then(function(A){return A.$b;});};f.prototype.Yyb=function(y,z){var A,B,E,D,F,C;E=new c();if(this.zA.has(y.J)){D=this.zA.get(y.J);F=D.HO;if(F.J === y.J && F.ye === y.ye)C=D.m3b.key;this.Ku.getStats().contents.some(function(G){return G.id === y.J;}) && (E=D.cka);}D=m.qn.Oe.It((0,h.fka)(y.ye));C || (C={X:y.J,config:D});this.Ej.has(y.J) || this.Ej.store(y.J,this.Xyb(y,z,D));z={key:C,yac:!1,priority:y.priority,E3:d.T.Ab(null !== (B=null === (A=y.Hb) || void 0 === A?void 0:A.Z) && void 0 !== B?B:0),Ej:this.Ej};this.zA.set(y.J,{m3b:z,HO:y,cka:E});return z;};f.prototype.Xyb=function(y,z,A){var B,E,D;B=this;E=y.J;return {get ba() {return z.Gz(E);},St:!1,events:new u.EventEmitter(),uja:function(){},get Ns() {D || (D=B.bN(y).then(function(F){return {oa:F,hi:F.Eoa && !F.ZV,config:A,D9a:{}};}));return D;},X:E,z$a:!1,equals:function(F){var C;C=z.Gz(E);return F.X === E && (!F.ba || !C || C === F.ba);}};};f.prototype.Z8a=function(y){this.g_=y;};f.prototype.q9a=function(y){this.Z8a(y);this.Ku.p9a(this.g_);};f.prototype.l7a=function(y){this.zA.has(y) && (this.Z8a(this.g_.filter(function(z){return z.key.X !== y;})),this.zA.delete(y));};Wa.Object.defineProperties(f.prototype,{Ku:{configurable:!0,enumerable:!0,get:function(){this.ry || (this.ry=this.LTb(),this.ry.ewa(this.Gta).h9a(new x.rEa()).Q8a({mH:this.config.ITb}),this.ry.events.on("prefetchComplete",this.kRb));return this.ry;}}});a=f;a=r.__decorate([(0,p.R)(),(0,r.__param)(0,(0,p.l)(l.qb)),(0,r.__param)(1,(0,p.l)(g.ad)),(0,r.__param)(2,(0,p.l)(q.qea)),(0,r.__param)(3,(0,p.l)(n.dza)),(0,r.__param)(4,(0,p.l)(t.UE))],a);b.bza=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;a.prototype.rWa=function(c,f){var l;return null !== (l=this.sDb(c,f)) && void 0 !== l?l:this.uDb(c,f);};a.prototype.sDb=function(c,f){var l,m;l=this;m=f.za;return c.find(function(d){var g;return l.B4(m,null === (g=d.za) || void 0 === g?void 0:g.za);});};a.prototype.uDb=function(c,f){var l,m;l=f.za.Md;m=f.za.pa[l];return c.find(function(d){var g;d=null === (g=d.za) || void 0 === g?void 0:g.za;d=(g=null === d || void 0 === d?void 0:d.Md) && (null === d || void 0 === d?void 0:d.pa[g]) || void 0;return l === g && m.X === (null === d || void 0 === d?void 0:d.X) && m.Db === (null === d || void 0 === d?void 0:d.Db);});};a.prototype.B4=function(c,f){var l;l=this;return c === f?!0:"object" !== typeof c || "object" !== typeof f?c === f:Object.keys(c).length === Object.keys(f).length && Object.keys(c).every(function(m){return l.B4(c[m],f[m]);});};b.rEa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){var q;q=this;this.jg=n;n=p();this.Fg=new h({log:k.hb("CacheManager"),xa:{getTime:function(){return q.jg.Xb().da(d.ja);}},Promise:Promise,tf:!1,Ftb:n.RTb,Etb:n.PTb,HCb:n.i6a,GCb:n.QTb});}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(4);g=a(13);h=a(1161);c=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(l.kd)),(0,r.__param)(2,(0,f.l)(g.ad))],c);b.iAa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.xa=g.xa;this.FD=c();this.Promise=g.Promise;this.Zy=g.Zy;this.Lxa=g.Lxa;this.tf=g.tf || !1;this.vw=c();this.xC=c();this.kG=c();this.Dpb(g);g.cq && (this.cq=g.cq);}function l(g){return "undefined" !== typeof g;}function m(g){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(l(n))return n;}}a(1162);d=a(1163);f.prototype.Dpb=function(g){this.vw.manifest=m(g.HCb,d.vw.oa);this.vw.ldl=m(g.GCb,d.vw.AW);this.vw.metadata=m(g.B$b,d.vw.Gc);this.xC.manifest=m(g.Ftb,d.xC.oa);this.xC.ldl=m(g.Etb,d.xC.AW);this.xC.metadata=m(g.I9b,d.xC.Gc);this.kG.manifest=m(g.G9b,d.kG.oa);this.kG.ldl=m(g.F9b,d.kG.AW);this.kG.metadata=m(g.H9b,d.kG.Gc);};f.prototype.YV=function(g,h){this.Ot("undefined" !== typeof g);this.Ot("undefined" !== typeof h);return ! !this.iNa(g,h,void 0).value;};f.prototype.iNa=function(g,h,k){var n,p;n={value:null,reason:"",log:""};p=this.FD[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(k=p[g][k?k:"DEFAULTCAPS"]) && k.value?this.s7(h,k.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=k.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,k){this.Ot("undefined" !== typeof g);this.Ot("undefined" !== typeof h);g=this.iNa(g,h,k);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Lxa?JSON.parse(this.Lxa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,k,n,p){var q,u,t;this.Ot("undefined" !== typeof g);this.Ot("undefined" !== typeof h);q=this.FD;u=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Zy?this.Zy(JSON.stringify(k),"gzip",!0):k;q=q[h];this.pnb(g,h,u,q);t=this;n={creationTime:this.xa.getTime(),value:k,size:0,type:h,gla:n,FCb:setTimeout(function(){t.clearData(g,h,u,!1,"expired");},this.vw[h] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=n;q.size+=0;q.numEntries++;this.cq && this.cq.emit("addedCacheItem",n);return n;};f.prototype.pnb=function(g,h,k,n){var p,q,u,t,w,v,x,y,z;p=this;q=n.numEntries;u=this.xC[h];t=n[g] && n[g][k];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][k];B && B.value && p.s7(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});w=z || x;v="cache_full";}this.tf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,h,k,void 0,v),this.log.debug("removed from cache: ",w,h));};f.prototype.Nja=function(g,h){var k,n;k=this;k.Ot("undefined" !== typeof g);n=g + "";h.forEach(function(p){var q;q=k.FD[p];q && Object.keys(q).forEach(function(u){u != n && k.clearData(u,p,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,k,n,p){var q;this.Ot("undefined" !== typeof g);this.Ot("undefined" !== typeof h);q=this.FD[h];h=q?q[g]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.FCb),h[k]=void 0,!n && q.gla && q.gla());this.cq && (g={creationTime:q.creationTime,destroyFn:q.gla,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.cq.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.Ot("undefined" !== typeof g);h=this.FD;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.mSa=function(){var g,h;this.Ot(!1);g=this;h=this.FD;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;g.xa.getTime() - n.creationTime > g.vw[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.s7=function(g,h){return this.xa.getTime() - h > this.vw[g];};f.prototype.getStats=function(g,h,k){var n,p,q,u,t;n={};p=this;q=p.FD;u=l(g) && l(h);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,x;v=Object.keys(q[w]);x=q[w];v.forEach(function(y){!(y=x && x[y] && x[y][t]) || !l(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,p.s7(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && y.creationTime >= g && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,k,n,p;h=[];k=this;n=k.FD;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(w){var v,x;v=t && t[w] && t[w][p];if(v && l(v.value)){x=k.s7(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:q,size:v.size});}});});return h;};f.prototype.Ot=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.tf))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){l=a.pop();if("boolean" === typeof l)f+=4;else if("string" === typeof l)f+=2 * l.length;else if("number" === typeof l)f+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return f;};},function(r){r.exports={vw:{oa:12E5,AW:9E5,Gc:12E5},xC:{oa:10,AW:10,Gc:10},kG:{oa:10240,AW:10240,Gc:10240}};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ka=void 0;r=a(0);c=a(190);f=a(1165);l=a(513);m=a(1166);d=a(514);g=a(1167);h=a(1168);k=a(515);n=a(1169);b.Ka=new r.rd(function(p){p(c.lca).to(f.ABa).aa();p(l.gGa).to(m.fGa).aa();p(d.bHa).to(g.aHa).aa();p(d.nGa).to(h.mGa).aa();p(k.lGa).to(n.kGa).aa();});},function(r,b,a){var f,l,m,d;function c(g){function h(k,n){this.I=k;this.Zl=n;this.q5=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Eg=g.hb("DownloadTrack");}h.prototype.Yp=function(){!1;this.W2=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.W2 + " config: " + JSON.stringify(this.I);};h.prototype.toJSON=function(){return "Download Track id:" + this.W2 + " config: " + JSON.stringify(this.I);};h.prototype.i$=function(k){this.I.connections !== k.connections && (this.I=k);};h.prototype.qu=function(){return 1 < this.I.connections?!0:!1;};Wa.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.W2;}},Do:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.W2;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},BO:{configurable:!0,enumerable:!0,get:function(){return this.Eg;}},FH:{configurable:!0,enumerable:!0,get:function(){return this.Zl.FH;}}});this.KJ=Object.assign(h,new m.BBa());}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;r=a(1);f=a(0);l=a(7);m=a(190);d=a(114).EventEmitter;c=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb))],c);b.ABa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w,v,x,y){this.GL=u;this.jf=w;this.ib=v;this.Ba=x;this.config=y;this.log=t.hb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;r=a(1);f=a(191);l=a(98);m=a(3);d=a(7);g=a(0);h=a(87);k=a(27);n=a(18);p=a(4);a=a(13);c.prototype.Az=function(){return this.Ba.Xb().da(p.ja);};c.prototype.d4a=function(u,t){u.dQb({mediaRequest:u,timestamp:t});};c.prototype.x4a=function(u){var t;t=u.mediaRequest.oA;t.readyState=f.wc.Uc.Xx;u=u.connect?u:{timestamp:this.Az(),connect:!1};u.mediaRequest=t;u.readyState=t.readyState;t.psa(u);};c.prototype.q9=function(u){this.d4a(u.mediaRequest.oA,u.timestamp);};c.prototype.s9=function(u){var t,w;t=u.mediaRequest.oA;w=u.bytes;"undefined" === typeof t?!1:(t.readyState === f.wc.Uc.Zx && this.x4a(u),this.ib.Hi(w) && (u.mediaRequest=t,u.timestamp=this.Az(),w > t.bytesReceived && (u.newBytes=w - t.bytesReceived,u.bytesLoaded=w,t.hQb(u))));};c.prototype.Nn=function(u){var t,w,v,x;t=u.mediaRequest;w=u.errorcode;v=u.httpcode;x=f.wc.f0;if("undefined" === typeof t)!1;else if((t=t.oA,"undefined" === typeof t))!1;else if(t.readyState !== f.wc.Uc.PJ)if(w === m.L.tB)(t.readyState=f.wc.Uc.mQ,u.mediaRequest=t,u.readyState=t.readyState,t.ZPb(u));else {t.readyState=f.wc.Uc.PJ;switch(w){case m.L.lR:v=x.$za;break;case m.L.Hca:v=x.Eca;break;case m.L.iR:v=400 < v && 500 > v?x.Gca:500 <= v?x.tDa:x.Eca;break;case m.L.jR:v=x.Fca;break;case m.L.hR:v=x.aAa;break;case m.L.kR:v=x.x0;break;case m.L.LE:v=x.x0;break;case m.L.sDa:v=x.rDa;break;case m.L.oDa:v=x.Gca;break;case m.L.jfb:v=x.Fca;break;default:v=x.x0;}u.mediaRequest=t;u.readyState=t.readyState;u.errorcode=v;u.nativecode=w;t.rsa(u);}};c.prototype.Jsa=function(u,t){var w,v;w=t.request.oA;if(w)if(t.$){if((!1,u.j && w.readyState !== f.wc.Uc.DONE)){switch(w.readyState){case f.wc.Uc.mQ:!1;return;case f.wc.Uc.PJ:!1;break;case f.wc.Uc.Xx:break;case f.wc.Uc.Zx:this.x4a({mediaRequest:t.request});break;default:!1;}w.readyState=f.wc.Uc.DONE;if(!w.cd){v={mediaRequest:w,readyState:w.readyState,timestamp:this.Az(),cadmiumResponse:t};u.j.txa+=1;w.THb();w.sLb() && (u.j.mva+=1,t.Bm.si=Math.ceil(w.uma),t.Bm.$o=Math.ceil(w.tG),t.Bm.Iq=Math.floor(w.vD));w.g4=v;w.kO(v);}}}else (!1,w.readyState === f.wc.Uc.mQ?!1:(u={mediaRequest:t.request,timestamp:this.Az(),errorcode:t.na,httpcode:t.ik},this.Nn(u)));};c.prototype.download=function(u,t){var w,v;w=this;t=this.jf.download(u,t);if(u.oA){v=u.oA;-1 < [f.wc.Uc.OPENED,f.wc.Uc.PJ].indexOf(v.readyState) && (v.readyState=f.wc.Uc.Zx,this.config().Dra?t.fYb(function(x){w.q9(x);}):this.d4a(v,this.Az()));}t.Mha(function(x){w.Jsa(u,x);});t.lYb(function(x){w.s9(x);});t.XXb(function(x){w.Nn(x);});return t;};q=c;q=r.__decorate([(0,g.R)(),(0,r.__param)(0,(0,g.l)(l.oQ)),(0,r.__param)(1,(0,g.l)(d.qb)),(0,r.__param)(2,(0,g.l)(h.Nx)),(0,r.__param)(3,(0,g.l)(k.dg)),(0,r.__param)(4,(0,g.l)(n.kd)),(0,r.__param)(5,(0,g.l)(a.ad))],q);b.fGa=q;},function(r,b,a){var f,l,m;function c(d,g){this.jf=g;this.log=d.hb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.rV=function(d,g,h){d={url:d.url,gXb:h};!1;this.jf.cZb(d);};c.prototype.aG=function(d){try{d.Zoa();}catch(g){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(a.Nx))],m);b.aHa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x,y,z){this.Ba=t;this.Mr=w;this.config=v;this.jf=y;this.EOb=z;this.log=x.hb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;r=a(1);f=a(44);l=a(0);m=a(7);d=a(87);g=a(513);h=a(90);k=a(191);n=a(18);p=a(4);q=a(40);a=a(13);c.prototype.rV=function(t,w,v){var y,z,A;function x(){t.removeEventListener(k.wc.Le.eF,x);t.cV?t.cV++:t.cV=1;t.cV >= y.config().cma.length && (t.cV=y.config().cma.length - 1);setTimeout(function(){y.rV(t,w,v);},y.config().cma[t.cV]);}y=this;t.zac=!0;z=this.EOb.download({url:t.url,responseType:this.jf.Mjb.Ycb,withCredentials:!1,HC:t.mediaType === f.Tb.Ta.Vb?"audio":"video",offset:w.start,length:t.eh,track:{type:t.mediaType === f.Tb.Ta.Vb?h.Di.audio:h.Di.video},stream:{Bc:t.Pa,bitrate:t.bitrate},tc:t.Nd,oA:t,W$:v,Ls:this.Mr.Ls},function(B){B.$ && t.readyState !== k.wc.Uc.DONE && (t.readyState === k.wc.Uc.mQ?!1:(t.readyState === k.wc.Uc.PJ?!1:t.readyState === k.wc.Uc.Zx?(t.readyState=k.wc.Uc.Xx,t.psa({mediaRequest:t,readyState:t.readyState,timestamp:y.Az(),connect:!1})):t.readyState !== k.wc.Uc.Zx && t.readyState !== k.wc.Uc.Xx && !1,t.readyState=k.wc.Uc.DONE,B={mediaRequest:t,readyState:t.readyState,timestamp:y.Az(),cadmiumResponse:B,response:B.content},t.g4=B,t.kO(B)));});if(t.cd){A={mediaRequest:t,readyState:t.readyState,timestamp:this.Az(),connect:!1};t.psa(A);}t.addEventListener(k.wc.Le.eF,x);t.Zoa=z.abort;};c.prototype.aG=function(t){try{t.Zoa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.Az=function(){return this.Ba.Xb().da(p.ja);};u=c;u=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(n.kd)),(0,r.__param)(1,(0,l.l)(q.Wm)),(0,r.__param)(2,(0,l.l)(a.ad)),(0,r.__param)(3,(0,l.l)(m.qb)),(0,r.__param)(4,(0,l.l)(d.Nx)),(0,r.__param)(5,(0,l.l)(g.gGa))],u);b.mGa=u;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t,w,v){function x(z,A){this.track=z;this.label=A;this.Ch=n.wc.Uc.UNSENT;this.bytesReceived=0;this.ss=[];this.requestId=v.bz().toString();this.ib=u;this.log=q.hb("MediaRequest");this.config=p;this.Ub=new k.Hk();"notification" === this.label?this.config().pz && (this.FH=t):this.FH=w;!1;}function y(z,A){this.requestId=v.bz().toString();this.ib=u;this.log=q.hb("MediaRequest");this.config=p;this.Ub=new k.Hk();this.label=A;"notification" === this.label?this.config().pz && (this.FH=t):this.FH=w;this.kW=this.RL=this.SL=void 0;this.track=z;this.O3=this.url=this.responseType=void 0;this.Ch=n.wc.Uc.UNSENT;this.tj=this.KM=this.qh=this.status=void 0;this.ms=this.bytesReceived=0;this.connect=this.uma=this.tG=this.vD=this.mqa=this.uf=this.tma=this.loadTime=this.nL=void 0;this.ss=[];this.Do=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Ub.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Ub.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Ub.Fc.call(this,z,A,B);};x.prototype.dQb=function(z){this.Ch === n.wc.Uc.OPENED && (this.kW=!0,this.loadTime=this.uf=z.timestamp,!1,this.Ch=n.wc.Uc.Zx,this.emit(n.wc.Le.UGa,z));};x.prototype.psa=function(z){var A;if(this.Ch < n.wc.Uc.Xx){this.ss=[];A=z.timestamp - this.loadTime;!this.cd && 0 < A && (this.connect=!0,this.ss.push(A));!0 === this.config().KJb?this.tma=z.timestamp:this.tma=this.uf=z.timestamp;!1;this.Ch=n.wc.Uc.Xx;this.emit(n.wc.Le.TGa,z);}};x.prototype.hQb=function(z){this.Ch === n.wc.Uc.Xx && (!1,this.mqa=this.uf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.ib.Hg(this.mqa) && this.emit(n.wc.Le.VGa,z));};x.prototype.kO=function(z){-1 < [n.wc.Uc.Zx,n.wc.Uc.Xx].indexOf(this.Ch) && (this.kW=!1,!1,this.uf=z.timestamp,this.Ch=n.wc.Uc.DONE,z.newBytes=this.eh - this.bytesReceived,this.bytesReceived=this.eh,this.ib.Hg(this.tG) && (this.uf=this.tG,0 === z.newBytes && (this.mqa=this.tG)),this.ib.Hg(this.vD) && (this.loadTime=this.vD),this.nL=z.response,this.emit(n.wc.Le.HR,z));};x.prototype.ZPb=function(z){this.kW=!1;!1;this.emit(n.wc.Le.vib,z);};x.prototype.rsa=function(z){this.uf=z.timestamp;this.status=z.httpcode;this.qh=z.errorcode;this.KM=n.wc.f0.name[this.qh];this.tj=z.nativecode;!1;this.emit(n.wc.Le.eF,z);this.kW=!1;};x.prototype.open=function(z,A,B,E,D,F,C){this.kx=!1;this.O3=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.Ch=n.wc.Uc.OPENED;this.FH.rV(this,A,C);return !0;};x.prototype.fd=function(){!1;-1 !== [n.wc.Uc.OPENED,n.wc.Uc.Zx,n.wc.Uc.Xx].indexOf(this.Ch) && this.abort();return !0;};x.prototype.nSa=function(){this.nL=void 0;this.g4 && (this.g4.response=void 0,this.g4.cadmiumResponse.content=void 0);this.Zoa=void 0;};x.prototype.jaa=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Ch=n.wc.Uc.mQ;this.FH.aG(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.nY=function(){};x.prototype.li=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.li(),segmentId:this.ya,isHeader:this.cd,ptsStart:this.DA,ptsOffset:this.Su,responseType:this.responseType,duration:this.Jr,readystate:this.Ch};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.THb=function(){var z,A;if(this.config().Fbb && d.Av && d.Av.getEntriesByType && (!this.ib.Hg(this.vD) || !this.ib.Hg(this.tG) && this.ib.Hg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.SL + "-" + this.RL + "*");A=new RegExp(z);z=d.Av.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.ib.Hg(z) && (0 < z.startTime && (this.vD=z.startTime,0 < z.requestStart && (this.vD=Math.max(this.vD,z.requestStart))),0 < z.responseStart && (this.uma=z.responseStart),0 < z.responseEnd && (this.tG=z.responseEnd));}};x.prototype.sLb=function(){return this.ib.Hg(this.vD) && this.ib.Hg(this.tG) && this.ib.Hg(this.uma);};Wa.Object.defineProperties(x.prototype,{eh:{configurable:!0,enumerable:!0,get:function(){return this.O3.end - this.O3.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.RL - this.SL + 1;}},MZa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},cd:{configurable:!0,enumerable:!0,get:function(){return !this.nD;}},response:{configurable:!0,enumerable:!0,get:function(){return this.nL;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ch;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.cr=Object.assign(y,n.wc);}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(11);g=a(27);h=a(514);k=a(73);n=a(191);a=a(81);c=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.ad)),(0,r.__param)(1,(0,f.l)(l.qb)),(0,r.__param)(2,(0,f.l)(g.dg)),(0,r.__param)(3,(0,f.l)(h.bHa)),(0,r.__param)(4,(0,f.l)(h.nGa)),(0,r.__param)(5,(0,f.l)(a.Mx))],c);b.kGa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.C3a=void 0;r=a(0);c=a(333);f=a(1171);b.C3a=new r.rd(function(l){l(c.yda).to(f.CGa).aa();});},function(r,b,a){var f,l,m,d,g;function c(h){return l.$e.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(1);f=a(46);l=a(47);m=a(0);d=a(37);g=a(4);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{u3a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Oc)(5E3);}},K4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Oc)(1E3);}},L4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Oc)(1E3);}}});a=c;r.__decorate([f.config(f.al,"minDecoderBufferMilliseconds")],a.prototype,"u3a",null);r.__decorate([f.config(f.al,"optimalDecoderBufferMilliseconds")],a.prototype,"K4a",null);r.__decorate([f.config(f.al,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"L4a",null);a=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(d.Xl))],a);b.CGa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.x5a=void 0;r=a(0);c=a(516);f=a(1173);l=a(66);m=a(1175);d=a(519);g=a(1176);h=a(471);k=a(1177);n=a(294);p=a(1178);b.x5a=new r.rd(function(q){q(l.$s).to(m.FHa).aa();q(c.HHa).to(f.GHa).aa();q(h.RHa).to(k.QHa);q(h.PHa).yf(function(u){return function(){return u.$a.get(h.RHa);};});q(d.nIa).to(g.mIa).aa();q(n.Xda).to(p.jIa).aa();});},function(r,b,a){var m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B;function c(E){this.config=E;this.Xy=[];}function f(E,D,F){this.Ba=E;this.SP=D;this.context=F;this.startTime=this.Ba.Xb();}function l(E,D,F,C,G,K,J,I,M,R){this.Bab=D;this.json=F;this.Ba=C;this.Mr=G;this.oua=K;this.Pc=J;this.config=I;this.Ub=M;this.receiver=R;this.log=E.hb("Pbo");I.d7a && (this.Xy=new c(I));this.SP=this.Bab();}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;r=a(1);m=a(0);d=a(4);g=a(517);h=a(7);k=a(39);n=a(18);p=a(40);q=a(140);u=a(48);t=a(518);w=a(66);v=a(97);x=a(15);y=a(69);z=a(1174);a=a(294);A={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(E,D){var F;F=new f(this.Ba,this.SP,E);this.Xy && this.Xy.append(F);return this.Rva(E,D,F);};l.prototype.Rva=function(E,D,F){var C;C=this;return new Promise(function(G,K){C.retry(E,D).then(function(J){var I,M;C.DXb(J);I=aa(C.C2b(J));M=I.next().value;I=I.next().value;M && (C.receiver.kua({command:E.Co,inputs:D,outputs:M}),C.uvb(F),G(J));I && (C.receiver.kua({command:E.Co,inputs:D,outputs:I}),C.BSa(F,I),K(I));}).catch(function(J){var I;C.receiver.kua({command:E.Co,inputs:D,outputs:J});I=C.BSa(F,J);J.ub && (J.ub=[J.ub," ",I].join(""));K(J);});});};l.prototype.DXb=function(E){(E=E.serverTime) && this.Ub.Fc(x.Rca.I8a,(0,d.Oc)(E));};l.prototype.C2b=function(E){var D;!1;D=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{PD:!0,code:D,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(D)return (!1,[D,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.isb=function(E,D,F){var C;C=this;this.P1b(D,E);this.SP=this.Bab(F);return this.SP.send(D,F).then(function(G){return {retry:!1,result:z.Y0.kSb(C.json,G.body)};}).catch(function(G){var K,J;K=z.Y0.xGb(G);J=void 0 !== K?Math.min(K,D.pva):D.pva;return C.T$(D,G,E,J)?(K=C.Utb(G,E,J),C.log.warn("Method failed, retrying",Object.assign({Method:D.Co,Attempt:E + 1,WaitTime:K,MaxRetries:J},C.Tka(G))),Promise.resolve({retry:!0,delay:K,error:G})):Promise.resolve({retry:!1,error:G});});};l.prototype.yEb=function(E){var D,F;if(!this.Gha || this.Gha.ORb !== E){D="";F=E;Object.entries(A).find(function(C){var G;G=aa(C);C=G.next().value;G=G.next().value;if(0 === E.indexOf(C))return (D=G,E=E.slice(C.length),!0);});this.Gha={wSa:D,aB:E,ORb:F};}return this.Gha;};l.prototype.P1b=function(E,D){var F,C,G,K;K=E.url.searchParams;K.set(y.FB.Pjb,(D + 1).toString());K.set(y.FB.Qjb,E.bva);E=this.yEb(null !== (F=this.config.aB) && void 0 !== F?F:"");E.wSa && (K.set(y.FB.keb,E.wSa),E.aB && K.set(y.FB.Dkb,encodeURIComponent(E.aB)),F=this.Mr.he,(null === F || void 0 === F?0:F.name) && K.set(y.FB.Gdb,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && K.set(y.FB.Ldb,encodeURIComponent(F.version)),(null === (C=null === F || void 0 === F?void 0:F.os) || void 0 === C?0:C.name) && K.set(y.FB.wib,encodeURIComponent(F.os.name)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.version) && K.set(y.FB.xib,encodeURIComponent(F.os.version)));};l.prototype.retry=function(E,D,F){var C;C=this;F=void 0 === F?0:F;return this.isb(F++,E,D).then(function(G){if(G.retry)return C.wait(G.delay).then(function(){return C.retry(E,D,F);});if(G.error)throw G.error;if(void 0 === G.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return G.result;});};l.prototype.T$=function(E,D,F,C){var G;G=this.Mr.a8a || z.Y0.tLb(D);if(G && F < C)return !0;G?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Co,Attempt:F + 1,MaxRetries:C},this.Tka(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Co},this.Tka(D)));return !1;};l.prototype.Utb=function(E,D,F){if(E && E.$D && void 0 !== E.$D.retryAfterSeconds)return (0,d.wh)(E.$D.retryAfterSeconds);E=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Oc)(this.oua.H6a(E,D));};l.prototype.wait=function(E){var D;D=this;return new Promise(function(F){D.Pc.Ak(E || d.Eb,F);});};l.prototype.Tka=function(E){return (0,t.y0a)(E)?E:{message:E.message,subCode:E.Cc,extCode:E.Kd,mslCode:E.qA,data:E.data};};l.prototype.uvb=function(E){E.IP();};l.prototype.BSa=function(E,D){var F;E.Tt(D);if(this.Xy)try{F=this.json.stringify(this.Xy);this.log.error("PBO command history",F);return F;}catch(C){}return "";};B=l;B=r.__decorate([(0,m.R)(),(0,r.__param)(0,(0,m.l)(h.qb)),(0,r.__param)(1,(0,m.l)(g.GLa)),(0,r.__param)(2,(0,m.l)(k.OE)),(0,r.__param)(3,(0,m.l)(n.kd)),(0,r.__param)(4,(0,m.l)(p.Wm)),(0,r.__param)(5,(0,m.l)(q.g1)),(0,r.__param)(6,(0,m.l)(u.Pj)),(0,r.__param)(7,(0,m.l)(w.$s)),(0,r.__param)(8,(0,m.l)(v.wca)),(0,r.__param)(9,(0,m.l)(a.Xda))],B);b.GHa=B;f.prototype.IP=function(){this.$=!0;this.elapsedTime=this.Ba.Xb().Ma(this.startTime);};f.prototype.Tt=function(E){this.$=!1;this.elapsedTime=this.Ba.Xb().Ma(this.startTime);this.b_b=E.Cc || E.subCode;this.LCb=E.Kd || E.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var E;E=Object.assign({success:this.$,method:this.context.Co,startTime:this.startTime.da(d.ja),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ja):"in progress"},this.SP.kka());return this.$?E:Object.assign(Object.assign(Object.assign({},E),this.SP.kka()),{subcode:this.b_b,extcode:this.LCb});};c.prototype.append=function(E){this.Xy.push(E);0 < this.config.Voa && this.Xy.length > this.config.Voa && this.Xy.shift();};c.prototype.toJSON=function(){return this.Xy;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Y0=void 0;f=a(3);c.tLb=function(l){var m,d;m=l && l.code;d=l && (l.na || l.Cc);l=l.Kd !== f.z0.wHa;d=! !d && d >= f.L.lR && d <= f.L.jR && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.xGb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.$D) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};c.kSb=function(l,m){var d;if(m){try{d=l.parse(m);}catch(g){throw {PD:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (l=d.result.find(function(g){return g.error;})))throw l.error;return d;}throw {PD:!0,code:"FAIL",message:"There is no result property on the response"};}throw {PD:!0,code:"FAIL",message:"There is no body property on the response"};};b.Y0=c;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u){n=l.$e.call(this,n,"PboConfigImpl") || this;n.config=p;n.Crb=q;n.mj=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(46);g=a(13);h=a(123);a=a(108);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{aB:{configurable:!0,enumerable:!0,get:function(){return this.config().Kr.aB || "";}},Gaa:{configurable:!0,enumerable:!0,get:function(){return this.config().Kr.Gaa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Kr.Pta;}},Opa:{configurable:!0,enumerable:!0,get:function(){return !1;}},wOb:{configurable:!0,enumerable:!0,get:function(){return !0;}},yOb:{configurable:!0,enumerable:!0,get:function(){return !0;}},J8a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Crb.lRa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.K8a);}},K8a:{configurable:!0,enumerable:!0,get:function(){return {};}},d7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Voa:{configurable:!0,enumerable:!0,get:function(){return 10;}},YPa:{configurable:!0,enumerable:!0,get:function(){return !1;}},e4:{configurable:!0,enumerable:!0,get:function(){return !1;}},qVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},f2b:{configurable:!0,enumerable:!0,get:function(){return !1;}},Hbb:{configurable:!0,enumerable:!0,get:function(){return !1;}},pVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},xVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},LG:{configurable:!0,enumerable:!0,get:function(){return this.mj.LG;}},cTa:{configurable:!0,enumerable:!0,get:function(){return [];}}});k=c;r.__decorate([d.config(d.string,"uiVersion")],k.prototype,"aB",null);r.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"Gaa",null);r.__decorate([d.config(d.bB,"pboVersion")],k.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([d.config(d.iZ,"pboLanguages")],k.prototype,"languages",null);r.__decorate([d.config(d.ed,"hasLimitedPlaybackFunctionality")],k.prototype,"Opa",null);r.__decorate([d.config(d.ed,"mdxBindUsingNodeQuark")],k.prototype,"wOb",null);r.__decorate([d.config(d.ed,"mdxPairUsingNodeQuark")],k.prototype,"yOb",null);r.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"J8a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"K8a",null);r.__decorate([d.config(d.ed,"pboRecordHistory")],k.prototype,"d7a",null);r.__decorate([d.config(d.bB,"pboHistorySize")],k.prototype,"Voa",null);r.__decorate([d.config(d.ed,"pboAddXEsnHeader")],k.prototype,"YPa",null);r.__decorate([d.config(d.ed,"combineManifestAndLicense")],k.prototype,"e4",null);r.__decorate([d.config(d.ed,"enableLicensedManifestForPrefetch")],k.prototype,"qVa",null);r.__decorate([d.config(d.ed,"useLdlForPrefetchLicensedManifest")],k.prototype,"f2b",null);r.__decorate([d.config(d.ed,"pboUseStudioManifest")],k.prototype,"Hbb",null);r.__decorate([d.config(d.ed,"pboEnableLeanManifest")],k.prototype,"pVa",null);r.__decorate([d.config(d.ed,"pboEnableV2OptimizedManifest")],k.prototype,"xVa",null);r.__decorate([d.config(d.ed,"pboEnableManifestPartialHydrationSupport")],k.prototype,"LG",null);r.__decorate([d.config(d.iZ,"pboContentPlaygraphTypes")],k.prototype,"cTa",null);k=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl)),(0,r.__param)(1,(0,f.l)(g.ad)),(0,r.__param)(2,(0,f.l)(h.AJ)),(0,r.__param)(3,(0,f.l)(a.iF))],k);b.FHa=k;},function(r,b,a){var l,m;function c(d,g,h,k,n,p,q){this.version=d;this.url=g;this.id=h;this.languages=k;this.Hb=n;this.oBb=p;this.BPb=q;}function f(d){this.$g=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;r=a(1);l=a(0);a=a(66);f.prototype.create=function(d,g,h,k,n){return new c(this.$g.version,g,d,this.$g.languages,h,k,n);};m=f;m=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(a.$s))],m);b.mIa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Hb,echo:this.oBb};};},function(r,b,a){var f,l,m;function c(d,g){this.GG=g;this.log=d.hb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;r=a(1);f=a(0);l=a(7);a=a(91);c.prototype.KPa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.EV=function(d){!1;return this.links[d];};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(a.Fx))],m);b.QHa=m;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(1);a=a(0);c.prototype.eYb=function(l){this.listener=l;};c.prototype.kua=function(l){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,l);};f=c;f=r.__decorate([(0,a.R)()],f);b.jIa=f;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(469);f=a(520);l=a(1180);m=a(522);d=a(1181);g=a(347);h=a(344);k=a(1182);n=a(1193);p=a(13);q=a(18);u=a(96);t=a(27);w=a(7);v=a(1194);x=a(259);y=a(1195);z=a(4);A=a(1196);B=a(1197);E=a(542);D=a(1198);F=a(97);C=a(523);G=a(1199);K=a(112);J=a(29);I=a(155);M=a(91);R=a(283);H=a(545);P=a(1200);N=a(72);L=a(40);Q=a(524);S=a(1201);U=a(295);ca=a(26);b.j=new r.rd(function(ka){ka(H.lea).to(P.KIa).aa();ka(U.Cba).yf(function(ya){var qa;qa=ya.$a;return function(Y,ua){return new (a(1202).Wya)(Y,ua,qa.get(u.sv));};});ka(c.JLa).yf(function(ya){var qa;qa=ya.$a;return function(Y,ua,O,T,ja,ma,ta,Ka,Ua){return new (a(1205).KLa)(qa.get(A.PLa),Y,ua,O,T,ja,ma,ta,Ka,Ua);};});ka(A.PLa).to(B.OLa).aa();ka(f.NLa).to(l.MLa).aa();ka(h.FIa).to(k.EIa).aa();ka(Q.XJa).to(S.WJa);ka(Q.VJa).kab(Q.XJa);ka(g.uBa).yf(function(ya){var qa;qa=ya.$a;return function(Y){return new (a(1206).vBa)(qa.get(F.tBa),qa.get(u.sv),qa.get(q.kd),Y);};});ka(m.vza).yf(function(){return function(ya){return new d.wza(ya);};});ka(v.zIa).yf(function(ya){var qa;qa=ya.$a;return function(Y){return new n.AIa(Y,qa.get(w.qb),qa.get(p.ad),qa.get(t.dg),qa.get(u.sv));};});ka(x.nea).yf(function(ya){var qa;qa=ya.$a;return function(Y,ua,O,T,ja,ma,ta,Ka,Ua){return new y.MIa(Y,ua,O,T,ja,ma,ta,Ka,Ua,qa.get(v.zIa),qa.get(H.lea));};});ka(E.pKa).yf(function(ya){return function(qa){var Y,ua;Y=ya.$a.get(p.ad);ua=ya.$a.get(w.qb);return new D.qKa(Y,qa,ua);};});ka(C.HIa).yf(function(ya){return function(qa){var Y,ua,O,T,ja;Y=ya.$a.get(M.Fx);ua=ya.$a.get(K.pK);O=ya.$a.get(J.eg);T=ya.$a.get(I.YR);ja=ya.$a.get(ca.Ex);return new G.IIa(qa,Y,ua((0,z.wh)(1)),O,T,ja);};});ka(R.wda).qE(function(ya){return new (a(1207).yGa)(ya.$a.get(N.CR),ya.$a.get(L.Wm));}).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.jg=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(1);f=a(15);l=a(521);m=a(18);d=a(0);g=a(4);a=a(13);c.prototype.CM=function(k){var n;k.KZ={};if(!k.qD() && k.$A && 0 < k.$A.length && (k.ZA=this.gYa(k),k.ZA)){n=this.EYb(k);n() || (k.yb.addListener(n),k.Xe.addListener(n));}};c.prototype.EYb=function(k){var p;function n(){var q,u;if(!k.Xe.value || k.yb.value === f.cb.Rf)return !1;q=k.ZA;u=q.getState();return u === l.xp.LOADING?!1:u !== l.xp.PE && q.retry?(q=p.WHb(k))?(k.KZ.offset=p.jg.Xb().da(g.ja),k.ZA=q,q.download(),!0):!1:(k.yb.removeListener(n),k.Xe.removeListener(n),!1);}p=this;return n;};c.prototype.WHb=function(k){var n,p;n=this.config();p=k.Ml.mN() < n.O0b;n=(k.Xe.value?k.Xe.value.bitrate:0) > n.N0b;return this.tHb(k,p && n);};c.prototype.tHb=function(k,n){if(n && (n=this.gYa(k),this.eZa(k,n.size)))return (k.KZ.L7a="h",n);n=this.vGb(k);if(this.eZa(k,n.size))return (k.KZ.L7a="l",n);};c.prototype.eZa=function(k,n){var p,q;p=this.config();q=Math.min(k.HT(),k.WZ());return k.Osb.Ktb(n) * (1 + .01 * p.frb[2]) < q * p.R0b;};c.prototype.gYa=function(k){return k.$A[k.$A.length - 1];};c.prototype.vGb=function(k){return k.$A[0];};h=c;h=r.__decorate([(0,d.R)(),(0,r.__param)(0,(0,d.l)(m.kd)),(0,r.__param)(1,(0,d.l)(a.ad))],h);b.MLa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;a.prototype.jbb=function(){var c;c=this.j.Ka;if(null !== c && void 0 !== c && c.TB){c=c.Qb.get();if(null === c || void 0 === c?0:c.yj)this.j.yj=c.yj.Fa;if(null === c || void 0 === c?0:c.Ra)this.j.Ra=c.Ra.Fa;}};a.prototype.cu=function(){-1 === this.j.Ra && this.jbb();return this.j.Ra;};a.prototype.Ktb=function(c){-1 !== this.j.yj && -1 !== this.j.Ra || this.jbb();return -1 === this.j.yj || -1 === this.j.Ra?Number.MAX_VALUE:this.j.yj + 8 * c / this.j.Ra;};b.wza=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M;function c(R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib,$a,Sa){this.Mz=R;this.pC=H;this.Ba=P;this.xa=N;this.Psb=L;this.kxa=Q;this.MW=S;this.hra=U;this.QN=ca;this.Fd=ka;this.Nh=ya;this.Vi=qa;this.ML=Y;this.QX=ua;this.pk=O;this.Axa=T;this.Yf=ja;this.Fm=ma;this.pe=ta;this.vta=Ka;this.gWb=Ua;this.pia=Ya;this.JH=ab;this.fta=ib;this.V3=$a;this.GL=Sa;}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;r=a(1);f=a(81);l=a(0);m=a(112);d=a(31);g=a(18);h=a(38);k=a(522);n=a(260);p=a(470);q=a(491);u=a(120);t=a(141);w=a(161);v=a(98);x=a(460);y=a(259);z=a(1183);A=a(520);B=a(49);E=a(29);D=a(523);F=a(72);C=a(524);G=a(295);K=a(283);J=a(119);I=a(503);c.prototype.create=function(R,H,P,N,L,Q,S,U){return new (a(525).GIa)(R,H,Q,S,N,L,this.Mz,P,this.Ba,this.pC,this.xa,this.MW,this.Psb,this.kxa,this.hra,this.QN,this.Fd,this.Nh,this.Vi,this.ML,this.QX,this.pk,this.Axa,this.Yf,this.pe,this.vta,this.Fm,this.gWb(),this.pia,this.JH,this.fta,void 0,this.V3,U);};M=c;M=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(f.Mx)),(0,r.__param)(1,(0,l.l)(d.ih)),(0,r.__param)(2,(0,l.l)(g.kd)),(0,r.__param)(3,(0,l.l)(h.Vh)),(0,r.__param)(4,(0,l.l)(k.vza)),(0,r.__param)(5,(0,l.l)(m.pK)),(0,r.__param)(6,(0,l.l)(n.qda)),(0,r.__param)(7,(0,l.l)(p.RFa)),(0,r.__param)(8,(0,l.l)(q.vR)),(0,r.__param)(9,(0,l.l)(u.tF)),(0,r.__param)(10,(0,l.l)(t.QR)),(0,r.__param)(11,(0,l.l)(w.kF)),(0,r.__param)(12,(0,l.l)(x.Eza)),(0,r.__param)(13,(0,l.l)(y.nea)),(0,r.__param)(14,(0,l.l)(J.UE)),(0,r.__param)(15,(0,l.l)(A.NLa)),(0,r.__param)(16,(0,l.l)(B.Xm)),(0,r.__param)(17,(0,l.l)(F.CR)),(0,r.__param)(18,(0,l.l)(E.eg)),(0,r.__param)(19,(0,l.l)(D.HIa)),(0,r.__param)(20,(0,l.l)(C.VJa)),(0,r.__param)(21,(0,l.l)(G.Cba)),(0,r.__param)(22,(0,l.l)(K.wda)),(0,r.__param)(23,(0,l.l)(I.eIa)),(0,r.__param)(24,(0,l.l)(z.pAa)),(0,r.__param)(24,(0,l.optional)()),(0,r.__param)(25,(0,l.l)(v.oQ)),(0,r.__param)(25,(0,l.optional)())],M);b.EIa=M;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pAa=b.qAa=void 0;r=b.qAa || (b.qAa={});r[r.Dib=0]="PAUSE";r[r.Njb=1]="RESUME";r[r.l4b=2]="CAPTIONS_ON";r[r.k4b=3]="CAPTIONS_OFF";r[r.m4b=4]="CAPTION_LANGUAGE_CHANGED";r[r.C3b=5]="AUDIO_LANGUAGE_CHANGED";r[r.M6b=6]="NEXT_EP";r[r.D7b=7]="PREV_EP";r[r.GB=8]="SEEK";r[r.iKa=9]="STOP";b.pAa="CastInteractionTrackerSymbol";},function(r,b,a){var d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I;function c(){this.vaa=[];this.w0b=50;}function f(M){var R;R=this;this.j=M;this.ccb=Promise.resolve();this.dCa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.gC=[];this.mt=new n.Hk();this.WMa=this.qfa=0;this.P1=[];this.Eg=(0,u.Jh)(this.j,"MediaElementASE");this.ROa=z.rl;this.Nfa=!1;this.bc=new c();this.wo={};this.xNa={};this.Y5=this.R1(function(){var H;if(R.Y)return null !== (H=R.Y.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.TC=this.R1(function(){var H;if(R.Y){H=R.hga();return H?H.totalVideoFrames:R.Y.webkitDecodedFrameCount;}});this.YG=this.R1(function(){var H;if(R.Y){H=R.hga();return H?H.droppedVideoFrames:R.Y.webkitDroppedFrameCount;}});this.xV=this.R1(function(){var H;if(R.Y){H=R.hga();return H && H.corruptedVideoFrames;}});this.TNa=function(H){return R.mt.Fc(F.Nj.x1a,{X:H});};this.Il=u.ka.get(D.TEa).create(k.config.ip,this,this.j);k.config.uD && (this.ccb=new Promise(function(H){R.ROa=H;R.j.addEventListener(K.ca.mg,H);}));this.Eg.trace("Created Media Element");this.addEventListener=this.mt.addListener;this.removeEventListener=this.mt.removeListener;}function l(M){var R,H;R=u.ka.get(C.rMa).oHb();M=M.width / M.height * R.height;H=(R.width - M) / 2;return k.config.zYb?(0,z.createElement)("VIDEO","position:absolute;width:" + M + "px;height:" + R.height + "px;left:" + H + "px;top:0px"):(0,z.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(M){M.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;d=a(44);g=a(301);h=a(12);k=a(14);n=a(73);p=a(61);q=a(50);u=a(8);t=a(3);w=a(21);v=a(92);x=a(328);y=a(24);z=a(30);A=a(302);B=a(11);E=a(19);D=a(531);F=a(303);C=a(508);G=a(4);K=a(15);J=a(63);I=! !(B.cF && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.yV=function(M){try{this.Y && (this.WMa=this.Y.currentTime);}catch(R){this.Eg.error("Exception while getting VIDEO.currentTime",R);M && this.sS(t.M.hjb,R);}return (0,B.Mj)(this.WMa * z.Ul);};f.prototype.seek=function(M){var R;(0,w.gb)(!this.Gp);this.LOa();R=this.yV(!0);if(!k.config.wrb && (0,B.VE)(R - M) <= this.Hva)(this.Eg.trace("Seek delta too small",{currentTime:R,seekTime:M,min:this.Hva}),this.bc.trace("smallseek",M));else {this.bc.trace("seek",M);try{this.Eg.trace("Setting video elements currentTime",{From:(0,v.bj)(R),To:(0,v.bj)(M)});this.Gp={};this.Y.currentTime=M / z.Ul;this.mt.Fc(F.Nj.Wp);}catch(H){this.Eg.error("Exception while setting VIDEO.currentTime",H);this.sS(t.M.ijb,H);}}};f.prototype.fZa=function(){return ! !this.Gp;};f.prototype.addSourceBuffer=function(M){var R,H;R=(0,z.He)(this.qfa.toString() + this.gC.length.toString());R={ZY:this.qfa,K3:R};try{H=new g.tda(this.j,M,this.gg,R,this.Eg);this.gC.push(H);M == h.bK && H.vma && H.vma.addListener(this.ROa);return H;}catch(P){H=(0,z.wd)(P);this.Eg.error("Unable to add source buffer.",{error:H});this.j.Yd(t.M.Nda,{na:M === d.Tb.ql.Vb?z.L.nda:z.L.oda,ub:H});}};f.prototype.g3=function(M){var R;R=this;M.forEach(function(H){return R.addSourceBuffer(H);});this.mt.Fc(F.Nj.Q9a);return !0;};f.prototype.removeSourceBuffer=function(M){this.gC=this.gC.filter(function(R){return !(0,q.ISa)(M,R);});this.gg.removeSourceBuffer(M);};f.prototype.endOfStream=function(){this.bc.trace("endofstream");!1;k.config.sja && this.gg.endOfStream();};f.prototype.Yp=function(M){!1;this.gC=[];M && M.Pbc();return !0;};f.prototype.LXb=function(M){this.qfa=M;};f.prototype.BYa=function(){if(this.gg)return (0,G.e6a)(this.gg.duration);};f.prototype.qAb=function(){var M;if(!this.Nfa && this.Y && this.Y.readyState >= J.co.w0.HAVE_CURRENT_DATA){M=this.Y.webkitDecodedFrameCount;if(void 0 === M || 0 < M || k.config.f3b)this.Nfa=!0;}return this.Nfa;};f.prototype.open=function(){var M,R,H;M=this;this.Y=l(this.j.fB);this.sourceBuffers=this.gC;this.j.addEventListener(K.ca.A9a,function(P){return M.uob(P);});if(I){this.j.rD && !k.config.wbb && this.Il.r9();try{this.gg=new B.cF();}catch(P){this.sS(t.M.Zib,P);return;}try{this.wl=URL.createObjectURL(this.gg);}catch(P){this.sS(t.M.$ib,P);return;}try{this.Il.Kqb(this.TNa);this.gg.addEventListener("sourceopen",function(P){return M.sOa(P);});this.gg.addEventListener(this.dCa + "sourceopen",function(P){return M.sOa(P);});this.Y.addEventListener("error",this.wo.error=function(P){return M.VS(P);});this.Y.addEventListener("seeking",this.wo.seeking=function(){return M.tob();});this.Y.addEventListener("seeked",this.wo.seeked=function(){return M.sob();});this.Y.addEventListener("timeupdate",this.wo.timeupdate=function(){return M.vob();});this.Y.addEventListener("loadstart",this.wo.loadstart=function(){return M.Rga();});this.Y.addEventListener("volumechange",this.wo.volumechange=function(P){return M.wob(P);});this.Y.addEventListener(this.Il.JD,this.wo[this.Il.JD]=function(){M.Eg.trace(M.Il.JD);M.qob();});R=this.j.Lg;H=R.lastChild;H?R.insertBefore(this.Y,H):R.appendChild(this.Y);k.config.AUa && this.Y.addEventListener("contextmenu",m);this.Y.src=this.wl;p.ve.addListener(p.Pr,this.xNa[p.Pr]=function(){return M.rOa();});this.rOa();}catch(P){this.sS(t.M.ajb,P);}}else this.L1(t.M.pHa);};f.prototype.close=function(){var R;function M(){R.wl && (R.LOa(),p.ve.removeListener(p.Pr,R.xNa[p.Pr]),R.Ilb());}R=this;this.bc.trace("close");this.Y.removeEventListener(this.Il.JD,this.wo[this.Il.JD]);this.Y.removeEventListener("error",this.wo.error);this.Y.removeEventListener("seeking",this.wo.seeking);this.Y.removeEventListener("seeked",this.wo.seeked);this.Y.removeEventListener("timeupdate",this.wo.timeupdate);this.Y.removeEventListener("loadstart",this.wo.loadstart);this.Y.removeEventListener("volumechange",this.wo.volumechange);this.Il.OVb(this.TNa);k.config.ip?this.Il.IA().then(function(){return M();}):M();this.Il.v7a && clearTimeout(this.Il.v7a);};f.prototype.YC=function(){return this.bc.YC();};f.prototype.qob=function(){k.config.wbb && this.Il.r9();};f.prototype.hga=function(){if(this.Y)return this.Y.getVideoPlaybackQuality && this.Y.getVideoPlaybackQuality() || this.Y.videoPlaybackQuality || this.Y.playbackQuality;};f.prototype.Fpb=function(){var M;M=this.j.ki;return (M=M && M.errorCode) && 0 <= [t.M.W0,t.M.A0].indexOf(M);};f.prototype.Ilb=function(){var M;M=!1;k.config.$Tb && this.Fpb() && (M=!0);k.config.mvb && !M && (this.Y.removeAttribute("src"),this.Y.load && this.Y.load());URL.revokeObjectURL(this.wl);k.config.AUa && this.Y.removeEventListener("contextmenu",m);!M && this.Y && this.j.Lg.removeChild(this.Y);this.Y=this.gg=void 0;this.wl="";};f.prototype.rOa=function(){!0 === B.Be.hidden?this.P1.forEach(function(M){M.refresh();M.vZb();}):this.P1.forEach(function(M){M.refresh();M.IZb();});};f.prototype.R1=function(M){var R;R=u.ka.get(x.ZGa)(M);this.P1.push(R);return function(){R.refresh();return R.nFb();};};f.prototype.sS=function(M,R){var H,P;H={na:z.L.Jj,ub:(0,z.wd)(R)};try{(P=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == P.length && (H.rf=P);}catch(N){}this.j.Yd(M,H);};f.prototype.LOa=function(){this.P1.forEach(function(M){M.refresh();});};f.prototype.Cmb=function(){return this.Y && this.Y.msGraphicsTrustStatus;};f.prototype.L1=function(M,R){this.j.Yd(M,R,void 0);};f.prototype.uob=function(M){var R,P,N,L,Q,S,U;if(this.Y){M=M.YZ;R=this.Cmb();R && (M.ConstrictionActive=R.constrictionActive,M.Status=R.status);try{M.readyState="" + this.Y.readyState;M.currentTime="" + this.Y.currentTime;M.pbRate="" + this.Y.playbackRate;}catch(ca){}R=this.gC.length;for(var H;R--;){H=this.gC[R];P="";H.type == h.F0?P="audio":H.type == h.bK && (P="video");(0,z.Zb)(M,H.Q5(),{prefix:P});k.config.OBb && this.j.ki && h.bK == H.type && (P=(0,z.tP)(H.W5()),3E3 > (P.data && P.data.length) && (P.data=(0,y.kTa)(P.data).join(),(0,z.Zb)(M,P,{prefix:H.type})));}this.gg && (R=this.gg.duration) && !isNaN(R) && (M.duration=R.toFixed(4));if(k.config.lNb)try{N=this.j.qf;L=N && N.Jb;if(L){Q=L.expiration;isNaN(Q) || (M.exp=Q);S=L.keyStatuses.entries();if(S.next){U=S.next().value;U && (M.keyStatus=U[1]);}}}catch(ca){}}};f.prototype.sOa=function(M){!1;this.Hpb || (this.Hpb=!0,this.mt.Fc(F.Nj.R9a,M));};f.prototype.tob=function(){this.bc.trace("seeking");this.Eg.trace("Video element event: seeking");this.Gp?this.Gp.AQb=!0:(this.Eg.error("unexpected seeking event"),k.config.ZCb && this.L1(t.M.njb,{ub:{Trace:this.YC()}}));};f.prototype.sob=function(){this.bc.trace("seeked");this.Eg.trace("Video element event: seeked");this.Gp?((0,w.gb)(this.Gp.AQb),this.Gp.zQb=!0,this.nPa()):(this.Eg.error("unexpected seeked event"),k.config.YCb && this.L1(t.M.mjb,{ub:{Trace:this.YC()}}));};f.prototype.vob=function(){var M;this.bc.trace("timeupdate",null === (M=this.Y) || void 0 === M?void 0:M.currentTime);!1;this.Gp && (this.Gp.CQb=!0,this.nPa());this.mt.Fc(F.Nj.Wp);};f.prototype.Rga=function(){this.Eg.trace("Video element event: loadstart");};f.prototype.wob=function(M){this.Eg.trace("Video element event:",M.type);try{this.j.volume.set(this.Y.volume);this.j.muted.set(this.Y.muted);}catch(R){this.Eg.error("error updating volume",R);}};f.prototype.VS=function(M){var R,H,P,N,L,Q,S,U,ca,ka;R=this.L1;H=t.M.oHa;P=t.vCa;N=this.YC();L=M.target;Q=L && L.error;S=M.errorCode;L=Q && Q.code;(0,z.Zc)(L) || (L=S && S.code);S=Q && Q.message;U=Q && Q.msExtendedCode;(0,z.Zc)(U) || (U=Q && Q.systemCode);(0,z.Zc)(U) || (U=M.systemCode);if(!(0,z.Zc)(U))try{for(M=/\(([^)]+)\)/g;ca=M.exec(S);){ka=Number(ca[1]);(0,E.Ca)(ka) && (U=ka);}}catch(ya){}N=(0,z.Zb)({},{code:L,systemCode:U,trace:JSON.stringify(N)},{tA:!0});P={na:P(L),ub:(0,A.ara)(N)};try{S && (P.UW=S);}catch(ya){}U=(0,z.He)(U);(0,E.Ca)(U) && (P.rf=(0,u.Pia)(U,4));R.call(this,H,P);};f.prototype.nPa=function(){this.Gp && this.Gp.zQb && this.Gp.CQb && (this.bc.trace("seekcomplete"),this.Gp=void 0,this.mt.Fc(F.Nj.HY));};Wa.Object.defineProperties(f.prototype,{Hva:{configurable:!0,enumerable:!0,get:function(){return k.config.nZb;}}});b.eGa=f;c.prototype.trace=function(M,R){this.vaa.push([M,R]);this.vaa.length > this.w0b && this.vaa.shift();};c.prototype.YC=function(){return this.vaa;};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t){var w;w=this;this.j=t;this.bxa=this.H3a=0;this.mg=this.Bq=!1;this.v$=0;this.Rl=function(){var v,x;w.s$();w.CG && (w.log.info("Deactivating",w.CG),w.VA.jzb(w.Re()));w.j.Ii.set(null);w.eJ.$8a(void 0);w.tSa();v=w.j.kc.value;v && v.rq() && !v.Qo() && (v=null);if(v && w.j.yb.value !== q.cb.Rf){x=w.Re();w.VA.uqb(x,v);}v?(w.log.info("Activating",v),w.j.Om.set(v.getState() === f.oF.HB.PE?q.Af.re:q.Af.xd),w.Bq || w.j.Dd("tt_start"),v.b7().then(w.BL).catch(w.BL)):w.j.Om.set(q.Af.re);w.CG=v;w.qJ();};this.sync=function(){w.Bq && (w.eJ.start(),w.j.yb.value !== q.cb.Lc && w.eJ.stop());};this.qJ=function(){var v;w.j.state.value === q.Rb.re && w.j.yb.value !== q.cb.Rf && (w.xh?v=w.eJ.AEb():w.j.kc.value && (v=c.EZb[w.j.kc.value.getState()]));v && (0,p.Zc)(v.startTime) && w.j.gv.value !== v && (w.H3a++,w.bxa+=w.eJ.CYa() - v.startTime,w.gRa=Math.ceil(w.bxa / (w.H3a + 0)));w.j.gv.set(v);};this.Re=function(){var v;v=w.j.Nna();w.CG && w.CG.hu && (v+=w.CG.hu);return v;};this.uRb=function(v){w.fireEvent(c.bZb,v);v && v.id && (w.VA.nbb(v.id),!1);w.log.trace("showsubtitle",w.nZa(v));};this.pRb=function(v){w.fireEvent(c.WVb,v);w.log.trace("removesubtitle",w.nZa(v));};this.tk=function(){w.log.warn("imagesubs buffer underflow",w.j.kc.value.Ri);w.j.Om.set(q.Af.xd);};this.OQb=function(){w.log.info("imagesubs buffering complete",w.j.kc.value.Ri);w.j.Om.set(q.Af.re);};this.m9=function(){w.Bq && w.xh && w.xh.Ks(w.Re());};this.C4a=function(v){w.Bq && w.xh && (w.xh.pause(),w.xh.QA(v.ek));};this.MD=function(){w.Bq && w.xh && w.xh.iua();};this.z4a=function(v){w.xh && w.xh.ti(v.Xg,v.hO);};this.H4a=function(v){w.xh && w.xh.yi(v.ya,v.S1b);};this.hRb=function(){w.Bq=!0;(0,n.Uf)(function(){var v,x;(null === (v=w.CG) || void 0 === v?0:v.kk)?null === (x=w.xh) || void 0 === x?void 0:x.Ks(w.Re()):w.sync();w.qJ();});};this.eRb=function(){w.tSa();w.eJ.stop();w.qJ();w.mg=!0;w.s$();};this.Rsa=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.VA.nbb.apply(w.VA,ea(v.blocks.map(function(x){return x.id;}))),!1);};this.lRb=function(v){w.M1b(v.newValue,v.oldValue);w.sync();w.qJ();};this.BL=function(v){var x;if(!w.mg){x=v.track;if(x === w.j.kc.value)try{w.xh=x.Zwa;x.kk?w.sqb(v):w.tqb(v);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Bq || w.j.Dd(v.$?"tt_comp":"tt_err");v.$?(d.config.m8a?setTimeout(function(){w.j.Om.set(q.Af.re);},d.config.m8a):w.j.Om.set(q.Af.re),x.kk || w.qJ()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.XCb?w.j.Yd(k.M.Xgb,{ub:v.track?v.track.Ri:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.Om.set(q.Af.re));}};this.Ub=new m.Hk();this.VA=new h.cLa((0,g.Jh)(t,"SubtitleTracker"),d.config.aCb);this.log=(0,g.Jh)(t,"TimedTextManager");this.eJ=new l.yLa(this.Re,this.qJ);this.j.kc.addListener(this.Rl);d.config.wTb?(this.j.addEventListener(q.ca.Bq,this.hRb),this.Rl()):(this.j.Om.set(q.Af.re),this.j.addEventListener(q.ca.Bq,function(){w.Bq=!0;w.Rl();}));this.j.yb.addListener(this.lRb);this.j.addEventListener(q.ca.lxa,this.sync);this.j.gv.addListener(this.Rsa);this.j.addEventListener(q.ca.mg,this.eRb);}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;f=a(279);l=a(532);m=a(73);d=a(14);g=a(8);h=a(1186);k=a(3);n=a(62);p=a(19);q=a(15);u=a(1187);c.prototype.addEventListener=function(t,w,v){this.Ub.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Ub.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Ub.Fc(t,w,v);};c.prototype.Oha=function(t,w,v){var x,y;x=this;y=u.uLa.ayb(this.j,t,w,v);this.a0a(this.j.Sh,y);this.j.Ki.forEach(function(z){x.a0a(z.Sh,y);});this.j.kc.set(y);this.j.fireEvent(q.ca.jv);};c.prototype.CTb=function(t){this.fva(t)?t.b7().then(function(){}):Promise.resolve();};c.prototype.MHb=function(t){return this.VA.uHb(t);};c.prototype.hoa=function(t){return this.VA.hoa(t);};c.prototype.QV=function(){var t,w;t=this.j.yZ;w=d.config.qxa.characterSize;w={size:d.config.qaa.characterSize || w};t && (w.visibility=t.ooa(),w.VT=t.moa(),w.cs=t.noa());return w;};c.prototype.vYb=function(t){d.config.qaa.characterSize=t;t=this.j.kc.value;this.fva(t) && !t.kk && t.b7().then(this.BL).catch(this.BL);};c.prototype.M1b=function(t,w){var v;t === q.cb.Lc || t == q.cb.jh?w !== q.cb.Lc && w !== q.cb.jh && ((w=this.j.kc.value) && !this.fva(w) || this.VA.M3a(this.Re(),w || void 0,"presentingstate:" + t)):t !== q.cb.Rf && t !== q.cb.Yq || this.VA.Lla(null !== (v=this.Re()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.s$=function(){this.v$=0;clearTimeout(this.KWb);};c.prototype.tSa=function(){var t;this.xh && this.xh.stop();(null === (t=this.CG) || void 0 === t?0:t.kk) && this.h2a("removeListener");this.xh=void 0;};c.prototype.h2a=function(t){this.xh && (this.xh[t]("showsubtitle",this.uRb),this.xh[t]("removesubtitle",this.pRb),this.xh[t]("underflow",this.tk),this.xh[t]("bufferingComplete",this.OQb),"addListener" === t?(this.j.addEventListener(q.ca.Wp,this.m9),this.j.addEventListener(q.ca.xk,this.C4a),this.j.addEventListener(q.ca.EI,this.MD),this.j.addEventListener(q.ca.b9,this.z4a),this.j.addEventListener(q.ca.Vxa,this.H4a)):(this.j.removeEventListener(q.ca.Wp,this.m9),this.j.removeEventListener(q.ca.xk,this.C4a),this.j.removeEventListener(q.ca.EI,this.MD),this.j.removeEventListener(q.ca.b9,this.z4a),this.j.removeEventListener(q.ca.Vxa,this.H4a)));};c.prototype.nZa=function(t){return {currentPts:this.Re(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.sqb=function(t){var w,v;w=this;v=t.track;if(!v || !v.kk)throw Error("Not an image base subtitle");t.$?(this.s$(),this.h2a("addListener"),this.log.info("Activated",v),this.j.Ii.set(v),this.Bq?(0,n.Uf)(function(){w.xh.Ks(w.Re());}):this.xh.pause()):this.$7a(v,t);};c.prototype.tqb=function(t){var w,v;w=t.track;v=t.$;if(!w || w.kk)throw Error("Not a valid text track");v?(this.s$(),this.eJ.$8a(this.xh),this.log.info("Activated",w),this.j.Ii.set(w)):this.$7a(w,(0,k.Ws)(t));this.qJ();};c.prototype.$7a=function(t,w){var v,x;v=this;x=this.v$ < d.config.mOb;x && (this.KWb=setTimeout(function(){v.v$++;t.b7().then(v.BL).catch(v.BL);},d.config.d0b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.kk)?" img subtitle":""),{retry:x},w,t);};c.prototype.fva=function(t){return !(!t || t.rq() && !t.Qo());};c.prototype.a0a=function(t,w){var v;v=t.findIndex(function(x){return x.jc >= w.jc;});-1 === v && (v=0);t.splice(v,0,w);};b.wLa=c;r={};c.EZb=(r[f.oF.HB.LOADING]={X7:!0},r[f.oF.HB.pR]={Tt:!0},r);c.bZb="showsubtitle";c.WVb="removesubtitle";},function(r,b,a){var l;function c(m,d,g){this.start=m;this.track=d;this.ZI=Array.isArray(g)?g:[];}function f(m,d){this.log=m;this.eB=d;this.qua=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;l=a(21);f.prototype.uqb=function(m,d){this.M3a(m,d,"activating");};f.prototype.jzb=function(m){this.Lla(m,"de-activating");};f.prototype.M3a=function(m,d,g){var h;this.Sk && this.Lla(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ea(this.orphans)),this.orphans=[]);this.Sk=new c(m,d,h);this.eB && this.log.trace("new range: " + g,this.Sk);};f.prototype.Lla=function(m,d){this.Sk && (this.Sk.end=m,this.qua.push(this.Sk),this.eB && this.log.trace("end range: " + d,this.Sk || ({})),this.Sk=void 0);};f.prototype.nbb=function(m){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.Sk?this.Sk.ZI.push.apply(this.Sk.ZI,ea(d)):this.orphans.push.apply(this.orphans,ea(d));};f.prototype.hoa=function(m){var d,g;d=this.qua.slice(0);if(this.Sk && "undefined" !== typeof m){g=new c(this.Sk.start,this.Sk.track,this.Sk.ZI);g.end=m;d.push(g);}m=d.reduce(function(h,k){var n,p,q,u;if(!k.track)return h;p=k.track.Bc;q=k.track.Or(k.start,k.end);if(void 0 === q || null === q)return h;u=new Set(k.ZI);h[p]?(k=h[p],k.expected+=q,k.missed+=q - u.size):h[p]={dlid:p,bcp47:k.track.Xd,profile:k.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=k.track.GHb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.eB && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};f.prototype.uHb=function(m){var d,g,h,k;d=this.qua.slice(0);g=0;h=0;if(this.Sk && "undefined" != typeof m){k=new c(this.Sk.start,this.Sk.track,this.Sk.ZI);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,l.gb)(!1,"negative range");n.aE=0;return;}p=new Set(n.ZI);q=n.track.Or(n.start,n.end);n.n5=q;n.aE=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.aE=100;p=n.end - n.start;g+=p;h+=n.aE * p;});k=g?Math.round(h / g):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.eB && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.aE),lang:n.track?n.track.Xd:"none","actual  ":n.ZI.join(" "),expected:n.n5};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.cLa=f;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v,x){var y,z;q=g.oF.call(this,u,q,q,v,!0,"","1",{0:t},[{id:0,name:"custom"}],"xx",w || q,h.wp.iK,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=x;q.Ls=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(59);f=a(14);l=a(61);m=a(8);d=a(30);g=a(279);h=a(131);k=a(74);n=a(133);p=a(15);(0,r.kea)(r.gea,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.wv.vkb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Sq.Oha("nourl",y,{content:z.result});});}});v.click();}}t=(0,m.Jh)(q,"TimedTextCustomTrack");f.config.Lka && (t.info("Loading url",{Url:f.config.Lka}),q.Sq.Oha(f.config.Lka,"custom"));l.ve.addListener(l.aD,u);q.addEventListener(p.ca.mg,function(){l.ve.removeListener(l.aD,u);});});na(c,g.oF);c.ayb=function(q,u,t,w){var v;v="custom" + c.wKb++;return new c(v,q,u,t,-1,w);};c.prototype.TUa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:k.Woa,url:q.url,track:q,tc:null,HC:"tt-" + q.Xd};q.j.S6.download(v,function(x){x.$?u(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=q,t(x));});}});};b.uLa=c;c.wKb=0;},function(r,b,a){var f,l,m,d,g,h;function c(k){var n,p;n=this;this.j=k;this.TQb=function(){var q;m.ve.removeListener(m.B6,n.F4a);q=n.Tr.Fn();q && q.parentNode && q.parentNode.removeChild(q);};this.Rsa=function(q){n.Tr.WXb(q.newValue);};this.xRb=function(q){n.Tr.cYb(q.newValue?q.newValue.x7:void 0);};this.F4a=function(){n.Tr.TO();};this.Tr=new g.vLa(d.config.pxa,k.kc.value?k.kc.value.x7:void 0);p=k.fB;(0,l.gb)(.1 < p.width / p.height);this.Tr.MXb(p.width / p.height);k.Lg.appendChild(this.Tr.Fn());k.gv.addListener(this.Rsa);k.kc.addListener(this.xRb);k.addEventListener(h.ca.mg,this.TQb,f.fF);m.ve.addListener(m.B6,this.F4a);}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;f=a(12);l=a(21);m=a(61);d=a(14);g=a(537);h=a(15);c.prototype.lwa=function(k){this.Tr.lwa(k);};c.prototype.ooa=function(){return this.Tr.ooa();};c.prototype.jwa=function(k){this.Tr.jwa(k);};c.prototype.moa=function(){return this.Tr.moa();};c.prototype.kwa=function(k){this.Tr.kwa(k);};c.prototype.noa=function(){return this.Tr.noa();};b.xLa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.x6a=void 0;b.x6a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t){this.j=t;this.y_b=!1;this.log=(0,d.Jh)(this.j,"MediaAppendManager");this.Yb=this.j.Yb;this.Y=this.Yb.Y;this.b_=this.MT=!1;this.audio={type:m.Di.audio,ow:[],Jl:[],wO:!1};this.video={type:m.Di.video,ow:[],Jl:[],wO:!1};t={};this.iJ=(t[f.Tb.ql.Nb]=this.video,t[f.Tb.ql.Vb]=this.audio,t);this.closed=!1;this.hA=l.config.hA;this.G8=l.config.G8;this.$H=(0,l.TSa)(! !this.j.bb.Hl).$H;this.hRa=!0;(0,h.gb)(this.hA > this.G8,"bad config");(0,h.gb)(this.hA > this.$H,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;f=a(44);l=a(14);m=a(90);d=a(8);g=a(3);h=a(21);k=a(30);n=a(15);p=a(185);q=a(4);u=a(63);c.prototype.P5=function(){var v,x;function t(y,z){return w(y,z.w8);}function w(y,z){var A,B,E,D;E=! !z.response;D=z.response;if(z.cd)return y + (D.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.RL) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.SL) && void 0 !== B?B:0);return (E?D.byteLength:z) + y;}v=this.iJ[f.Tb.ql.Nb];x=this.iJ[f.Tb.ql.Vb];return {videoToAppend:v.Jl.reduce(w,0),videoInBuffer:v.ow.reduce(t,0),audioToAppend:x.Jl.reduce(w,0),audioInBuffer:x.ow.reduce(t,0)};};c.prototype.qQb=function(){this.audio.Zi && !this.audio.Zi.Ih() && (!1,this.audio.Zi.vQa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.nYb=function(){this.audio.qwa=!0;this.video.qwa=!0;};c.prototype.tYb=function(t){t === f.Tb.ql.Vb?this.MT=!0:t === f.Tb.ql.Nb && (this.b_=!0);};c.prototype.Ih=function(){var t,w;return !(null === (t=this.audio.Zi) || void 0 === t || !t.Ih()) || !(null === (w=this.video.Zi) || void 0 === w || !w.Ih());};c.prototype.P$=function(t){var w,v;null === (w=this.audio.Zi) || void 0 === w?void 0:w.P$(t);null === (v=this.video.Zi) || void 0 === v?void 0:v.P$(t);};c.prototype.Grb=function(t){var w;t.mediaType === f.Tb.ql.Vb?this.MT=!1:t.mediaType === f.Tb.ql.Nb && (this.b_=!1);w=this.iJ[t.mediaType];w?w.Jl.push(t):(0,h.gb)(!1);};c.prototype.Erb=function(t,w,v){w={mediaType:t.type,nD:!1,response:w,li:function(){return "header";},get cd() {return !this.nD;},profile:v.profile};(t=this.iJ[t.type])?t.Jl.push(w):(0,h.gb)(!1);};c.prototype.rYb=function(t){var w;w=this.iJ[t.type];if(w)try{w.Zi=t;}catch(v){this.Yd(g.M.Nda,{na:(0,p.b6)(t.type),ub:(0,k.wd)(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Yd=function(t,w,v){this.closed || this.j.Yd(t,w,v);};c.prototype.Vka=function(t){return this.LUa(this.audio,t,this.x4()) && this.LUa(this.video,t,this.x4());};c.prototype.x4=function(){return this.j.yb.value === n.cb.Rf?this.$H:this.G8;};c.prototype.j0b=function(){var t,w;t=this.video.Jl.filter(function(v){return !v.cd;}).reduce(function(v,x){return v + x.Jr;},0);w=this.audio.Jl.filter(function(v){return !v.cd;}).reduce(function(v,x){return v + x.Jr;},0);return Math.min(t,w);};c.prototype.LUa=function(t,w,v){var x;x=t.Wka;x=x && x.w8;return !t.Zi || 0 === t.Jl.length && (t.type === m.Di.audio && this.MT || t.type === m.Di.video && this.b_)?!0:x && x.ax - w >= v || !1;};c.prototype.Dxa=function(t){this.y_b || (this.Eab(this.audio,t),this.Eab(this.video,t));this.closed || this.fSa();};c.prototype.fSa=function(){var t,w,v,x,y;v=!this.audio.Zi || 0 !== this.audio.ow.length;x=0 === this.video.Jl.length && this.b_;y=!this.video.Zi || 0 !== this.video.ow.length;!(!(0 === this.audio.Jl.length && this.MT && y || x && v) || (null === (t=this.audio.Zi) || void 0 === t?0:t.Ih()) || (null === (w=this.video.Zi) || void 0 === w?0:w.Ih()) || this.Kla) && this.Y.readyState > u.co.w0.HAVE_NOTHING && (this.Kla=!0,this.Yb.endOfStream());};c.prototype.Eab=function(t,w){var v,x,y;if(!this.closed && t.Zi){v=t.Zi;x=t.ow;!v.Ih() && 0 < x.length && (t.Wka=x[x.length - 1]);if(t.qwa){if(v.Ih())return;t.qwa=!1;y=this.Yb.BYa().d6a(q.io);0 < y && v.remove(0,y);}for(y=t.Jl[0];y && y.response && (y.cd || y.DA - w <= this.hA);){if((this.Kla=!1,this.Y0b(y)))(t.Jl.shift(),y=t.Jl[0]);else break;}!v.Ih() && 0 < x.length && (t.Wka=x[x.length - 1]);}};c.prototype.Y0b=function(t){var w,v,x;!1;(0,h.gb)(t && ! !t.response);w=t.response;v=t.mediaType;x=this.iJ[v];if(!this.closed && x.Zi && !x.Zi.Ih()){try{t.cd && t.profile && x.Zi.yub(t.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.Zi.vQa(w,t);t.cd || x.ow.push(this.cyb(t));l.config.DAb && !t.cd && t.nSa();}catch(y){"QuotaExceededError" === y.name?(this.j.z4=this.j.z4?this.j.z4 + 1:1,this.hRa=!1,x.wO=!0):(this.log.error("Exception while appending media",t,y),this.Yd("CodecSwitchingError" === y.name?g.M.qHa:g.M.jjb,(0,p.b6)(v)));return;}return !0;}};c.prototype.Vxb=function(t){var w;w=this.j.GIb(t.Nd);w || (this.log.warn("Could not find CDN",{cdnId:t.Nd}),w={id:t.Nd,Gqa:t.location});return w;};c.prototype.GTa=function(t){var w,v;v=t.Pa;t.mediaType === f.Tb.ql.Vb?w=this.j.HZa(v):t.mediaType === f.Tb.ql.Nb && (w=this.j.SZa(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.cyb=function(t){var w;w=this.GTa(t);return {w8:t,stream:w,jm:{startTime:Math.floor(t.DA),endTime:Math.floor(t.ax)},tc:this.Vxb(t)};};c.prototype.Cja=function(t){this.jSa(t,f.Tb.ql.Vb);this.jSa(t,f.Tb.ql.Nb);};c.prototype.jSa=function(t,w){var v,x,y,z,A,B,E,D,F;v=this;x=t;this.hRa && (x-=l.config.bP);y=this.iJ[w];z=y.ow;E=!1;z.some(function(C,G){var K;K=C.w8;if(t < K.DA)return ((0,h.gb)(!1,"decoder content does not contain media time"),!0);x >= K.ax && (A=G);if(t < K.ax)return (B=G,G=w === f.Tb.ql.Vb?v.j.lf:v.j.oe,C !== G.value && (G.set(C),E=!0),!0);});if((y.wO || E) && void 0 !== A && !this.Kla){if(A + 1 === B){if(0 === A)return;A--;}D=z[A].w8.ax - 1;if(0 < D){F=y.Zi;F && !F.Ih()?(F.remove(0,D / k.Ul),y.wO=!1,z.splice(0,A + 1)):(y.wO=!0,!1);}}};c.prototype.Q7a=function(){!1;[this.audio,this.video].forEach(function(t){t.ow=[];t.Wka=void 0;t.Jl=[];});this.b_=this.MT=!1;this.j.fireEvent(n.ca.t8);};c.prototype.voa=function(){return [this.audio,this.video].filter(function(t){return t.Zi;});};c.prototype.XEb=function(){var t,w;if(this.Ih())(0,h.gb)(!1,"should not be busy while checking buffer ranges");else {t=this.voa().map(function(v){var x,y,z,A,B;A=v.Jl.filter(function(E){return E.nD;});B=v.Zi.buffered();v=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=A[0]) || void 0 === x?void 0:x.DA;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.ax) && void 0 !== z?z:B;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(t.every(function(v){return v;})){w=Math.max.apply(Math,ea(t.map(function(v){return v.start;})));t=Math.min.apply(Math,ea(t.map(function(v){return v.end;})));if(t > w)return {start:(0,q.Oc)(w),end:(0,q.Oc)(t)};}}};c.prototype.skip=function(t){(0,h.gb)(!this.Ih(),"should not be busy while skipping");this.voa().forEach(function(w){w.wO=!0;});this.Cja(t);this.voa().forEach(function(w){0 < w.ow.length || (w.Jl=w.Jl.filter(function(v){return v.cd || v.ax > t?!0:!1;}));});};b.WFa=c;},function(r,b){function a(f,l,m){var d,g,h,k;d=[];f.forEach(function(n){-1 == d.indexOf(n.oh) && d.push(n.oh);});g=null;h=null;l.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && h && (p.ranges.push({min:g,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.oh === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.N4};})),k.push(p));});return k;}function c(f,l){var m;m=void 0;f=f.filter(function(g){var h;h=l(g);h && (m=m || [],m.push({stream:g,N4:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].gJb=f[d + 1];}return {OC:f,BAb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.AAb=b.Jt=b.Uyb=b.yZa=void 0;b.yZa=function(f,l){l=c(f,l);return a(f,l.OC,l.BAb);};b.Uyb=a;b.Jt=c;b.AAb=function(f){if(f.$k && f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,l;function c(m,d){m=f.dc.call(this,m) || this;m.rra=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;f=a(80);l=a(92);na(c,f.dc);c.prototype.set=function(m){f.dc.prototype.set.call(this,(0,l.pp)(m,0,this.rra));};b.LIa=c;},function(r,b,a){var l,m,d,g,h,k,n,p;function c(q,u,t,w,v){var x;x=this;this.Ui=q;this.config=t;this.ib=w;this.debug=v;this.P9=[];this.js=[];this.yta=[];this.iG={};this.MUa=!1;this.QT={};this.ypa=0;this.log=u.hb("PlayTimeTracker");this.startTime=this.Ui.mediaTime.value;this.b8=this.config().oqb;this.vJ();this.iG.abrdel=0;this.b8.forEach(function(y){y="abrdel" + y;x.QT[y]=0;x.iG[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;l=a(1);r=a(0);m=a(7);d=a(13);g=a(94);a(4);h=a(27);k=a(96);n=a(12);p=a(24);f.prototype.encode=function(q){return {downloadableId:q.Bc,correlationId:q.Gg,bitrate:q.bitrate,vmaf:q.sb,duration:q.duration,metric:q.WW,cdnId:q.zC};};f.prototype.decode=function(q){return {Bc:q.downloadableId,Gg:q.correlationId,bitrate:q.bitrate,sb:q.vmaf,duration:q.duration,WW:q.metric,zC:q.cdnId};};c.prototype.mN=function(){var q;this.SI(this.Ui.mediaTime.value);q=0;this.js.forEach(function(u){q+=(u.endTime - u.startTime) / u.rate;});return Math.floor(q);};c.prototype.poa=function(){var q;this.SI(this.Ui.mediaTime.value);q=0;this.js.forEach(function(u){q+=u.endTime - u.startTime;});this.debug.assert(q === Math.floor(q),"Value of totalContentPlayTime is not an integer.");return Math.floor(q);};c.prototype.JEb=function(){this.SI(this.Ui.mediaTime.value);return {audio:this.AV(this.P9,this.KXa),video:this.AV(this.js,this.KXa)};};c.prototype.ZGb=function(){var q;q={total:this.mN(),totalContentTime:this.poa(),audio:this.AV(this.P9,this.a6),video:this.AV(this.js,this.a6),timedtext:this.AV(this.yta,this.a6)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.Zma=function(){var q,u;this.SI(this.Ui.mediaTime.value);q=this.Uma(this.js,this.VEb);try{u=this.gXa(q);}catch(t){return (this.log.warn("Failed to calc average bitrate."),null);}this.iG.abrdel=Math.round(u);return this.iG.abrdel;};c.prototype.hXa=function(){var q,u;this.SI(this.Ui.mediaTime.value);q=this.Uma(this.js,this.gIb);try{u=this.gXa(q);}catch(t){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.fXa=function(){var q,u;q=this;if(!this.MUa){u=this.mN();this.b8.forEach(function(t){var w,v,x;if(0 === q.QT["abrdel" + t] && u > t * n.Ul){w=0;v=0;x=0;q.js.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > t * n.Ul)return !0;});w && (q.QT["abrdel" + t]=Math.round((w - x * (v - t * n.Ul)) / (t * n.Ul)));}});0 !== this.QT["abrdel" + this.b8[this.b8.length - 1]] && (this.MUa=!0);(0,p.te)(this.QT,function(t,w){q.iG[t]=0 === w?q.iG.abrdel:w;});}return this.iG;};c.prototype.Iqb=function(q){this.ypa+=q;};c.prototype.TZa=function(){return ! !(this.js[0] && this.js[0].stream && this.ib.Hg(this.js[0].stream.sb));};c.prototype.vJ=function(){var q;q=this;this.Ui.lf.addListener(function(u){q.hM=q.bSa(q.hM,q.P9,u.newValue);});this.Ui.oe.addListener(function(u){q.kM=q.bSa(q.kM,q.js,u.newValue);});this.Ui.playbackRate.addListener(function(u){q.SI(q.Ui.mediaTime.value,u.oldValue);});this.Ui.Ii.addListener(this.IQb.bind(this));};c.prototype.ssa=function(q,u){this.SI(q);this.startTime=u;this.kM=this.hM=void 0;this.jM && (this.jM.startTime=this.startTime);!1;};c.prototype.IQb=function(q){this.bY(this.jM,this.yta,this.Ui.mediaTime.value);this.jM=q.newValue?{track:q.newValue,startTime:this.Ui.mediaTime.value,endTime:g.wB}:void 0;};c.prototype.SI=function(q,u){u=void 0 === u?this.Ui.playbackRate.value:u;q && this.hM && this.kM && (q=Math.min(q,this.hM.endTime,this.kM.endTime),this.bY(this.hM,this.P9,q,u),this.hM.startTime=q,this.bY(this.kM,this.js,q,u),this.kM.startTime=q,this.jM && (this.bY(this.jM,this.yta,q,u),this.jM.startTime=q),this.startTime=q,!1);};c.prototype.bSa=function(q,u,t){q && this.bY(q,u,Math.min(q.endTime,this.Ui.mediaTime.value));if(t && t.stream)return (q=t.jm,u=t.stream,{tc:t.tc,track:u.track,stream:u,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime});};c.prototype.bY=function(q,u,t,w){w=void 0 === w?this.Ui.playbackRate.value:w;q && t && t >= q.startTime && (q={tc:q.tc,track:q.track,stream:q.stream,startTime:q.startTime,endTime:t,rate:w},(t=u[u.length - 1]) && t.track === q.track && t.stream === q.stream && t.tc === q.tc && t.endTime === q.startTime && t.rate === q.rate?t.endTime=q.endTime:u.push(q),!1);};c.prototype.Uma=function(q,u){var t,w;t=this;w={};return q.reduce(function(v,x){var y,z,A;y=u.bind(t,x)();z=y.key;y=(0,l.__rest)(y,["key"]);x=x.endTime - x.startTime;A=w[z];A?A.duration+=x:(A=y,A.duration=x,v.push(A),w[z]=A);return v;},[]);};c.prototype.AV=function(q,u){return this.Uma(q,u).map(function(t){return new f().encode(t);});};c.prototype.a6=function(q){var u,t,w;u=q.stream;if(u){q=u.Bc;t=u.bitrate;w=u.sb;}else q=q.track.Bc;return {key:q + "$" + t + "$" + w,Bc:q,bitrate:t,sb:w};};c.prototype.KXa=function(q){var u,t,w;t=this.a6(q);w=null === (u=q.tc) || void 0 === u?void 0:u.id;q=q.track.Gg;return Object.assign({},t,{key:t.key + "$" + w + "$" + q,zC:w,Gg:q});};c.prototype.VEb=function(q){var u;u=q.stream;q=null === u || void 0 === u?void 0:u.Bc;u=null === u || void 0 === u?void 0:u.bitrate;return {key:q + "$" + u,Bc:null !== q && void 0 !== q?q:"",WW:u};};c.prototype.gIb=function(q){var u;u=q.stream;q=null === u || void 0 === u?void 0:u.Bc;u=null === u || void 0 === u?void 0:u.sb;return {key:q + "$" + u,Bc:null !== q && void 0 !== q?q:"",WW:u};};c.prototype.gXa=function(q){var u,t,w;u=this;t=0;q.forEach(function(v){if(u.ib.Hg(v.duration) && u.ib.Hg(v.WW))t+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!t)return 0;w=0;q.forEach(function(v){w+=v.WW * v.duration / t;});return w;};a=c;a=l.__decorate([(0,r.R)(),(0,l.__param)(1,(0,r.l)(m.qb)),(0,l.__param)(2,(0,r.l)(d.ad)),(0,l.__param)(3,(0,r.l)(h.dg)),(0,l.__param)(4,(0,r.l)(k.sv))],a);b.AIa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zIa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p,q,u,t,w){this.index=m;this.J=d;this.ya=g;this.bb=h;this.ba=k;this.wk=n;this.Oqa=p;this.dwb=u;this.l3a=w;this.pc=new f.dc(null);this.yg=new f.dc(null);this.kc=new f.dc(null);this.Ii=new f.dc(null);this.gv=new f.dc(void 0);this.Xe=new f.dc(null);this.mh=new f.dc(null);this.lf=new f.dc(null);this.oe=new f.dc(null);this.tc=[new f.dc(null),new f.dc(null)];this.mediaTime=new f.dc(void 0);this.playbackRate=new f.dc(1);this.Op=new f.dc(null);this.mG=this.lG="notcached";this.M4=this.background=!1;q && (this.Xe.set(q.Xe.value),this.mh.set(q.mh.value));this.Ml=t(this);this.Fm=this.l3a.zVb(this.ba,this.wk);}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;f=a(80);l=a(4);c.prototype.Dd=function(m){this.Fm.Lp(m);};c.prototype.Nz=function(m){var d;d=this;Object.entries(m).forEach(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;d.Fm.Lp(g,(0,l.Oc)(h - d.wk.da(l.ja)));});};c.prototype.i9=function(){this.l3a.RVb(this.ba);};Wa.Object.defineProperties(c.prototype,{ye:{configurable:!0,enumerable:!0,get:function(){return this.bb.ye;}},Qaa:{configurable:!0,enumerable:!0,get:function(){return this.bb.Qaa;}},sm:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.sm;}},Ki:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.Ki) && void 0 !== m?m:[];}},jp:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.jp) && void 0 !== m?m:[];}},$A:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.$A) && void 0 !== m?m:[];}},Sh:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.Sh) && void 0 !== m?m:[];}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.Ti;}},rD:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.rD) && void 0 !== m?m:!1;}},Ru:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.Ru) && void 0 !== m?m:[];}},kj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.kj) && void 0 !== m?m:[];}},$y:{configurable:!0,enumerable:!0,get:function(){return this.Gfa && 0 < this.Gfa.da(l.ja)?this.Gfa:(0,l.Oc)(this.oa?this.oa.$b.duration:0);},set:function(m){this.Gfa=m;}},Dj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Dj || 0;}},Hka:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.nU?this.nU:void 0 === this.mediaTime.value?null:this.dwb(this.mediaTime.value,this.ya);}},Gg:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.$b.W3) || void 0 === d?void 0:d.gs;}},JI:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.$b.W3) || void 0 === d?void 0:d.JI;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.Fm.Sc;}}});b.MIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLa="TrickPlayParserSymbol";},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(1);l=a(165);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new l.GQ(g);d=this.eSb(h);g=this.fSb(h,g,d);return {header:d,images:g};};c.prototype.eSb=function(d){var g,h,k,n;if(d.Una() < this.tWb())throw Error("array buffer too short");f.uFa.forEach(function(p){if(p != d.GA())throw Error("BIF has invalid magic.");});g=d.NO();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.NO();if(0 == h)throw Error("BIF has no frames.");k=d.NO();n=d.Oh(f.HJa);return {version:g,xQb:h,hab:k,O7a:n};};c.prototype.fSb=function(d,g,h){var p,q;for(var k=[],n=0;n <= h.xQb;n++){p={timestamp:d.NO(),offset:d.NO()};void 0 != q && k.push(g.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.tWb=function(){return f.uFa.length + 4 + 4 + 4 + f.HJa;};m=f=c;m.uFa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.HJa=44;m=f=r.__decorate([(0,a.R)()],m);b.OLa=m;},function(r,b,a){var f,l,m;function c(d,g,h){this.config=d;this.j=g;this.Zf=h;this.KX=void 0;this.F9=!1;this.qqa=0;this.log=this.Zf.hb();}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;f=a(15);l=a(4);m=a(92);c.prototype.GGb=function(d,g,h,k,n){var p,q,u,t;h=void 0 === h?this.j.ya:h;k=void 0 === k?!1:k;p=g === f.Ce.nK;q=this.Wtb(p?d:this.bvb(d,h),k,h);k=this.j.Ka;p?(d=q,q=k.Ht(q)):d=k.eM(h,q);g === f.Ce.Lx && (this.j.tRa=q);n=this.Li(d,g,n);u=(p=p || n)?d:q;if(this.j.Gu){t=this.config().$H;this.j.KZa(u,t) || g !== f.Ce.GB || (u=this.j.Gu.da(l.ja) - t - 1E3,p?(d=u,q=k.Ht(u)):(d=k.eM(h,u),q=u));}return {a9:u,ek:q,dTb:d,Li:n};};c.prototype.Wtb=function(d,g,h){d=this.pLb() || g?Math.round(d):this.j.Ka.rja(d,h);this.j.bb.Hl && (d=this.WDb(d));this.config().Gva && (d+=this.config().Gva);return d;};c.prototype.Li=function(d,g,h){if(this.config().zAb || g === f.Ce.Lx || g === f.Ce.ZR || g === f.Ce.i0 || !h || d < h.start.da(l.ja) || d >= h.end.da(l.ja))return !1;g=this.j.Ka;return (null === g || void 0 === g?void 0:g.ai) && g.Li(d) || !1;};c.prototype.pLb=function(){return this.j.bb.Hl?!0:"boolean" === typeof this.j.bb.SX?this.j.bb.SX:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().SX && this.config().zTb:this.config().SX;};c.prototype.bvb=function(d,g){var h;g=this.j.Fl(g);h=g.$y;g=(g.nOb || h).da(l.ja) - this.config().q3b;return (0,m.pp)(d,0,g);};c.prototype.WDb=function(d){var g,h,k;g=this.j.vV();if(Object.values(g).find(function(n){var p;p=n.Ob;p=d < (null !== p && void 0 !== p?p:Infinity);return n.Db <= d && p;}))return (!1,d);k=d;Object.entries(g).forEach(function(n){var p;n=aa(n);n.next();n=n.next().value.Db;p=n - d;0 < p && (void 0 === h || p < h) && (h=p,k=n);});!1;return k;};Wa.Object.defineProperties(c.prototype,{Qpa:{configurable:!0,enumerable:!0,get:function(){return this.F9 || ! !this.KX;}}});b.qKa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v;function c(x,y,z,A,B,E){var D;D=this;this.j=x;this.gk=y;this.RZ=z;this.ce=A;this.YY=B;this.vn=E;this.TTa={};this.update=function(){var F;if(D.ep.selectionStart == D.ep.selectionEnd){F="";D.CV().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var K;K=aa(G);G=K.next().value;K=K.next().value;F+=G + ": " + K + "\n";});});D.ep.style.fontSize=(0,d.pp)((0,h.xB)(D.element.clientHeight / 60),8,18) + "px";D.ep.value=F;}};this.YQb=function(){var F,C;if(D.j.$f){C=D.j.$f.YG();C && (D.Ika=C - (null !== (F=D.pab) && void 0 !== F?F:0),D.pab=C,D.pO());}};this.pO=function(){D.RZ.Pl(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.wv.neb || F.keyCode == p.wv.Q) && D.toggle();};this.P5a=[x.mediaTime,x.tc[f.Tb.Ta.Vb],x.tc[f.Tb.Ta.Nb],x.lf,x.oe,x.mh,x.Xe,x.Ii,x.state,x.Br,x.yb,x.volume,x.muted];this.element=this.ce.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.ep=this.ce.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.ep);this.controls=this.ce.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.ce.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.Sr();},!1);this.controls.appendChild(y);m.ve.addListener(m.aD,this.onkeydown);x.addEventListener(n.ca.mg,function(){m.ve.removeListener(m.aD,D.onkeydown);D.Sr();});}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;f=a(44);l=a(59);m=a(61);d=a(92);g=a(302);h=a(11);k=a(19);n=a(15);p=a(133);q=a(4);r={};u=(r[n.Rb.fK]="Not Loaded",r[n.Rb.LOADING]="Loading",r[n.Rb.re]="Normal",r[n.Rb.CLOSING]="Closing",r[n.Rb.CLOSED]="Closed",r);r={};t=(r[n.Af.re]="Normal",r[n.Af.xd]="Pre-buffering",r[n.Af.hKa]="Network stalled",r);r={};w=(r[n.cb.Rf]="Waiting for decoder",r[n.cb.Lc]="Playing",r[n.cb.jh]="Paused",r[n.cb.Yq]="Media ended",r);v=[n.ca.t8];c.prototype.TXb=function(x){this.TTa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.AKb=nb.setInterval(this.YQb,1E3),document.body.appendChild(this.element),this.P5a.forEach(function(y){y.addListener(x.pO);}),v.forEach(function(y){x.j.addEventListener(y,x.pO);}),this.visible=!0,this.vn.lZ().then(function(y){x.Ioa=y;x.pO();}));this.update();};c.prototype.Sr=function(){var x;x=this;this.visible && (clearInterval(this.AKb),this.pab=this.Ika=void 0,document.body.removeChild(this.element),this.P5a.forEach(function(y){y.removeListener(x.pO);}),v.forEach(function(y){x.j.removeEventListener(y,x.pO);}),this.RZ.Pl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Sr():this.show();};c.prototype.CV=function(){var x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S,U,ca,ka,ya,qa,Y,ua,O,T,ja,ma,ta,Ka,Ua,Ya,ab,ib;C=[];G=this.gk();C.push({Version:"6.0033.572.911",Esn:G?G.Wk:"UNKNOWN",PBCID:this.j.Gg,UserAgent:h.BB});try{K={MovieId:this.j.J,TrackingId:this.j.Dj,Xid:this.j.ba + " (" + l.ho.map(function($a){return $a.ba;}).join(", ") + ")",Position:(0,d.bj)(this.j.mediaTime.value),Duration:(0,d.bj)(this.j.$y.da(q.ja)),PlayerDuration:(0,d.bj)(this.j.Gu.da(q.ja)),Volume:(0,h.Mj)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.bb.Hl || this.j.bb.A7)(K["Segment Position"]=(0,d.bj)(this.j.WC()),K.Segment=this.j.Ona());C.push(K);}catch($a){}try{C.push({"Player state":u[this.j.state.value],"Buffering state":t[this.j.Br.value],"Rendering state":w[this.j.yb.value]});}catch($a){}try{J=this.j.mya() + this.j.xia();I=this.j.lf.value;M=null === I || void 0 === I?void 0:I.stream;R=this.j.oe.value;H=null === R || void 0 === R?void 0:R.stream;P=null !== (x=null === M || void 0 === M?void 0:M.bitrate) && void 0 !== x?x:"?";N=H?H.bitrate + " (" + H.width + "x" + H.height + ")":"?";L=null !== (y=null === H || void 0 === H?void 0:H.sb) && void 0 !== y?y:"?";Q=null !== (A=null === (z=this.j.Xe.value) || void 0 === z?void 0:z.sb) && void 0 !== A?A:"?";S=null !== (E=null === (B=this.j.mh.value) || void 0 === B?void 0:B.bitrate) && void 0 !== E?E:"?";U=null !== (F=null === (D=this.j.Xe.value) || void 0 === D?void 0:D.bitrate) && void 0 !== F?F:"?";ca=this.j.tc[f.Tb.Ta.Nb].value;ka=this.j.tc[f.Tb.Ta.Vb].value;C.push({"Playing bitrate (a/v)":P + " / " + N,"Playing/Buffering vmaf":L + "/" + Q,"Buffering bitrate (a/v)":S + " / " + U,"Buffer size in Bytes (a/v)":this.j.xia() + " / " + this.j.mya(),"Buffer size in Bytes":"" + J,"Buffer size in Seconds (a/v)":(0,d.bj)(this.j.HT()) + " / " + (0,d.bj)(this.j.WZ()),"Current CDN (a/v)":(ka?ka.name + ", Id: " + ka.id:"?") + " / " + (ca?ca.name + ", Id: " + ca.id:"?")});}catch($a){}try{if(this.j.lf.value && this.j.oe.value){ya=this.j.lf.value.stream;qa=ya.track;Y=this.j.oe.value.stream;ua=this.j.Ii.value;O=this.YY.q4(this.j.yg.value?this.j.yg.value.streams:[]);T=this.YY.n4(qa.streams);ja=Y.oh;ma=(/hevc/).test(ja)?"hevc":(/vp9/).test(ja)?"vp9":(/h264hpl/).test(ja)?"avchigh":(/av1/).test(ja)?"av1":"avc";(/hdr/).test(ja) && (ma+=", hdr");(/dv/).test(ja) && (ma+=", dv");(/prk/).test(ja) && (ma+=", prk");ta=ya.oh;Ka=(/xheaac/).test(ta)?"xhe-aac":(/heaac/).test(ta)?"he-aac":(/ddplus/).test(ta)?"ddplus":"unknown";(/atmos/).test(ta) && (Ka+=", atmos");C.push({"Audio Track":qa.Xd + ", Id: " + qa.trackId + ", Channels: " + qa.channels + ", Codec: " + T + " (" + Ka + ")","Video Track":"Codec: " + O + " (" + ma + ")","Timed Text Track":ua?ua.Xd + ", Profile: " + ua.profile + ", Id: " + ua.trackId:"none"});}}catch($a){}try{Ua=this.j.$f;Ya=this.j.Xe.value?this.j.Xe.value.framerate:0;ab=a(544).c2a;C.push({Framerate:Ya.toFixed(3),"Current Dropped Frames":(0,k.Ca)(this.Ika)?this.Ika:"","Total Frames":Ua.TC(),"Total Dropped Frames":Ua.YG(),"Total Corrupted Frames":Ua.xV(),"Main Thread stall/sec":ab?ab.ZFb().join(" "):"DISABLED",VideoDiag:(0,g.ara)(this.j.w6()),"HDR support":this.Ioa?this.Ioa.result + " (" + this.Ioa.reason + ")":"unknown"});}catch($a){}try{C.push({Throughput:this.j.Ra + " kbps"});}catch($a){}ib=void 0;try{Object.entries(this.TTa).forEach(function($a){var Sa;Sa=aa($a);$a=Sa.next().value;Sa=Sa.next().value;ib=ib || ({});ib[$a]=JSON.stringify(Sa);});ib && C.push(ib);}catch($a){}return C;};b.IIa=c;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){this.ba=h;this.pWb=k;this.ta=n;this.jg=p;this.Sc={};}function f(h,k){this.Zf=h;this.jg=k;this.Gc={};this.ta=h.hb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ajb=b.KIa=void 0;r=a(1);l=a(0);m=a(7);d=a(18);g=a(4);f.prototype.zVb=function(h,k){this.Gc[h] && this.ta.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.jg.Xb()).da(g.ja);this.ta.trace("registerPlayback: xid " + h + " at " + k);this.Gc[h]=new c(h,k,this.ta,this.jg);return this.Gc[h];};f.prototype.aHb=function(h){this.Gc[h] || this.ta.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Gc[h];};f.prototype.RVb=function(h){this.ta.trace("removePlayback: xid " + h);delete this.Gc[h];};a=f;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.qb)),(0,r.__param)(1,(0,l.l)(d.kd))],a);b.KIa=a;c.prototype.Lp=function(h,k){k=k?k.da(g.ja):this.jg.Xb().da(g.ja) - this.pWb;this.ta.trace("addMilestone: xid " + this.ba + " " + h + " at " + k);this.Sc[h]=k;};b.Ajb=c;},function(r,b,a){var f,l,m,d;function c(g){this.Ba=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;r=a(1);f=a(15);l=a(0);m=a(18);d=a(4);c.prototype.xk=function(g){g.cause !== f.Ce.Lx && (this.trace.unshift({time:this.Ba.Xb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.pZa=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.dab(h.time),lastRepositionCause:this.sXa(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:g.dab(k.time),cause:g.sXa(k.event.cause),newMediaTime:k.event.a9,oldMediaTime:k.event.Hsa,contentPts:k.event.ek,skip:k.event.skip};})};};c.prototype.dab=function(g){return this.Ba.Xb().Ma(g).da(d.ja);};c.prototype.sXa=function(g){switch(g){case f.Ce.Lx:return "initial";case f.Ce.GB:return "seek";case f.Ce.nK:return "segment_changed";case f.Ce.ZR:return "track_changed";case f.Ce.i0:return "force_rebuffer";}};a=c;a=r.__decorate([(0,l.R)(),(0,r.__param)(0,(0,l.l)(m.kd))],a);b.WJa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A){var B;B=this;this.lb=y;this.j=z;this.debug=A;this.qr=this.ai=this.TB=!1;this.qt=this.ln=void 0;this.Pe=function(){var E,D,F,C,G,K;B.debug.assert(B.qa,"has access to asePlaygraph");B.debug.assert(B.pd,"has access to internalLogger");B.debug.assert(B.wu,"has access to mediaBufferGetLogFields");if(B.wf.value !== f.ma.jr && B.wf.value !== f.ma.cj){G=B.yo;K=null === (D=null === (E=B.Qb.get()) || void 0 === E?void 0:E.Ra) || void 0 === D?void 0:D.Fa;E={type:"logdata",target:"startplay",fields:{hasasereport:B.j.yM,hashindsight:!1,buffCompleteReason:G.reason,actualbw:K,initSelReason:null !== (F=G.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:G.vBufferLevelMs,bcABufferLevelMs:G.aBufferLevelMs}};(0,h.uia)({SVa:E,nk:B.nk,loadTime:B.loadTime});B.qa.LZ("startplay",m.de.cp);null !== (C=B.Ha) && void 0 !== C && C.wm?(B.pd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:G},B.wu()),B.j.yo=G,B.j.Br.set(k.Af.re),B.MDb || (B.MDb=!0,B.j.Dd("pb")),B.play()):B.pd.error("Shim received buffering complete but player has no position (player " + (B.Ha?"":"un") + "defined, state " + B.j.state + ")");}};this.NT=function(){var E,D;B.debug.assert(B.pd,"has access to internalLogger");!1;B.ln=void 0;B.j.paused.value && B.OD && (B.OD=!1,B.j.paused.set(!1,{msa:!0}));null === (E=B.j.$f) || void 0 === E?void 0:E.Gvb();null === (D=B.rX) || void 0 === D?void 0:D.call(B);B.rX=void 0;};this.events=new x();this.Ej=new v.gfa();}Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;f=a(44);l=a(17);m=a(295);d=a(62);g=a(3);h=a(1203);k=a(15);n=a(14);p=a(19);q=a(4);u=a(1204);t=a(92);w=a(80);v=a(512);x=a(114).EventEmitter;c.prototype.P3=function(){};c.prototype.fd=function(){var y;this.qr=!1;this.Qb.pP(null);this.debug.assert(this.vi,"has access to streamingEngine");this.qa && this.vi.Uu(this.qa);this.Ha && this.vi.RO(this.Ha);this.vi.Rua(this.Ej.En(this.lb.ha.X));this.Ej.clear();null === (y=this.rj) || void 0 === y?void 0:y.Yp();};c.prototype.DYb=function(y){var z,A,B,E,D,F,C,G,K,J,I,M,R;z=y.config;A=y.qn;B=y.pd;E=y.pe;D=y.wu;F=y.Oi;C=y.PY;y=y.FI;this.pd=B;this.wu=D;this.PY=C;this.FI=y;D=this.j.ha;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.vi,"has access to streamingEngine");this.debug.assert(D.oa,"has access to manifest");this.vi=A.vi;A.Oe.set(a(186)(z),!0,F("ASE"));A.Oe.set({maxNumberTitlesScheduled:null !== (K=null === (G=z.vTb) || void 0 === G?void 0:G.maxNumberTitlesScheduled) && void 0 !== K?K:1},!0,B);z.owb && 3E5 > D.oa.$b.duration?A.Oe.CX({expandDownloadTime:!1},!0,B):A.Oe.CX({expandDownloadTime:A.Oe.D5a().expandDownloadTime},!0,B);z=D.background || z.tTb && "postplay" === D.ye?"historical":A.Oe.D5a().initBitrateSelectorAlgorithm;A.Oe.CX({initBitrateSelectorAlgorithm:z},!0,B);z=null === (R=null === (M=null === (I=null === (J=D.yg) || void 0 === J?void 0:J.value) || void 0 === I?void 0:I.streams) || void 0 === M?void 0:M[0]) || void 0 === R?void 0:R.oh;A.Oe.CX((0,n.SSa)(! !D.bb.Hl,! !D.bb.A7,z),!0,B);B=E.LH({},(0,n.fka)(D.ye));this.Oe=A.Oe.It(B);f.platform.events.emit("networkchange",D.Tc.KXb);this.TB=!0;};c.prototype.i7=function(y){var z,A;this.debug.assert(this.vi,"has access to streamingEngine");z=this.j.Fl(y.ya);this.debug.assert(z.Tc,"has access to playback parsedManifest");A=y.flags;this.Qb.reset();this.Bd=new Set([f.Tb.Ta.Vb,f.Tb.Ta.Nb]);(A.vE || A.KT) && this.Bd.delete(A.vE?f.Tb.Ta.Vb:f.Tb.Ta.Nb);this.QP=[z.Tc.Gzb,z.Tc.Qzb];this.tU(y.ya,y.nw);this.mKb(y);this.xka();};c.prototype.VP=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.VP(y);};c.prototype.$sb=function(y){var z,A,B,E;z=this;A=y.loadTime;B=y.nk;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");this.nk=B;this.loadTime=A;y=this.qa.events;E=this.Ha.events;y.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (z.pd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.pd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.wu())),(0,d.Uf)(function(){z.j.Yd(g.M.Bcb,{na:D.nativeCode,ub:D.errormsg,ik:D.httpCode,V8:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.qa) || void 0 === F?void 0:F.eG,(0,h.uia)({SVa:D,nk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.Br.set(k.Af.xd);});y.addListener("bufferingComplete",function(D){z.yo=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.pd,"has access to internalLogger");null !== (F=D.qm) && void 0 !== F && F.msa || !z.TB || (D.newValue && z.wf.value === f.ma.Lc?(z.wf.set(f.ma.jh),z.Cd.emit("paused",{type:"paused",pts:z.Cd.Nc})):D.newValue || z.wf.value !== f.ma.jh || (z.wf.set(f.ma.Lc),z.Cd.emit("playing",{type:"playing",pts:z.Cd.Nc})));D.newValue || (z.OD=!1);z.pd.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,t.bj)(z.j.mediaTime.value)});});this.j.pc.addListener(function(D){var F,C,G,K;if(z.TB)if((z.debug.assert(z.pd,"has access to internalLogger"),D.qm && D.qm.kQa))z.pd.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {K=D.newValue;z.kaa({sn:K.Tz,toJSON:function(){return K.Ri;}})?z.pd.trace("ASE accepted the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId):(z.pd.trace("ASE rejected the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId),D.oldValue && D.oldValue.Tz !== K.Tz && z.j.pc.set(D.oldValue,{kQa:!0}));}});y.addListener("serverSwitch",function(D){var F;z.j.fireEvent(k.ca.MY,D);if("video" === D.mediatype)F=f.Tb.Ta.Nb;else "audio" === D.mediatype && (F=f.Tb.Ta.Vb);(0,p.Zc)(F) && z.PY(D.segmentId,D.server,F);});y.addListener("streamSelected",function(D){var F,C,G,K;C=(null === (F=z.qa) || void 0 === F?void 0:F.bD(D.position)).xG.W;F=[];if(D.mediaType === f.Tb.Ta.Nb){G=z.j.SZa(D.streamId);K=z.j.Xe;F=z.j.gH();}else D.mediaType === f.Tb.Ta.Vb && (G=z.j.HZa(D.streamId),K=z.j.mh,F=z.j.GEb());G && K?(!1,K.set(G,{oG:C,RT:D.bandwidth})):z.pd.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.mG});});y.addListener("segmentNormalized",function(D){var F,C;F=z.j.Fl(D.segmentId);C=Math.floor(D.viewableContentEnd.W);D=Math.floor(D.viewableEarliestContentEnd.W);C=(0,q.Oc)(C);D=(0,q.Oc)(D);F && (F.$y=C,F.nOb=D);z.j.Gu || (z.j.Gu=C);});E.addListener("segmentPresenting",function(D){var F;z.debug.assert(z.qa,"has access to asePlaygraph");z.debug.assert(z.Ha,"has access to asePlayer");z.debug.assert(z.FI,"has access to segmentPresentingHandler");F=z.qa.bD(D.position);z.FI(F.X,!1);z.j.fireEvent(k.ca.EI,{type:"segmentPresenting",position:{segmentId:D.position.ya,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});z.qt=z.Ha.Lo();});E.addListener("ptsChanged",function(){z.Cd.emit("skipped");});y.addListener("locationSelected",function(D){z.j.fireEvent(k.ca.GW,D);});y.addListener("aseReportEnabled",function(){z.j.yM=!0;});y.addListener("aseReport",function(D){z.j.fireEvent(k.ca.HL,D);});};c.prototype.Lo=function(){var y,z,A,B,E,D,F,C,G;C=null === (y=this.Ha) || void 0 === y?void 0:y.J6();y=(null !== (z=this.qt) && void 0 !== z?z:C && this.Ha.Lo()) || ({});z=y.O;C=y.Sf;G=y.EO;y=y.gI;return {id:String(null === z || void 0 === z?void 0:z.id),Fe:null !== (A=null === C || void 0 === C?void 0:C.W) && void 0 !== A?A:0,gd:null !== (B=null === z || void 0 === z?void 0:z.Og.W) && void 0 !== B?B:Infinity,Mc:null !== (E=null === z || void 0 === z?void 0:z.Vk.W) && void 0 !== E?E:0,me:null !== (D=null === G || void 0 === G?void 0:G.W) && void 0 !== D?D:Infinity,zd:null !== (F=null === y || void 0 === y?void 0:y.W) && void 0 !== F?F:0};};c.prototype.S5=function(){return {Fe:0};};c.prototype.j7=function(){var y,z;this.debug.assert(this.qa,"has access to asePlaygraph");y={};z=this.qa.yw();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.xta=function(){this.Cd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Cd.Nc});};c.prototype.kaa=function(y){var z,A,B,E;z=this;this.debug.assert(this.pd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");this.debug.assert(this.j.oa,"has access to playback manifest");if(this.jJ)return (!1,!1);if(!this.j.oa.$b.audio_tracks.some(function(D,F){if(D.track_id === y.sn)return (E=F,!0);}))return (!1,!1);!1;this.ln=E;null === (A=this.j.$f) || void 0 === A?void 0:A.DZb();(null === (B=this.Ha) || void 0 === B?0:B.WA)?this.OD=!1:n.config.pSb && !this.j.paused.value && (this.Ha.pause([f.Tb.Ta.Vb]),this.OD=!0,this.j.paused.set(!0,{msa:!0}));this.debug.sia(this.ln,"has access to valid requestedAudioTrackIndex number");this.QP[f.Tb.Ta.Vb]=this.ln;(this.qa.eE({ys:function(){return z.QP[f.Tb.Ta.Vb];}},{ys:function(){return z.QP[f.Tb.Ta.Nb];}}) || this.OD) && this.Ha.resume(this.OD?[f.Tb.Ta.Vb]:void 0);this.Uq(this.NT);return !0;};c.prototype.Zn=function(){var y;this.wf.set(f.ma.Qf);null === (y=this.qa) || void 0 === y?void 0:y.LZ("intrplay",m.de.Zn);this.Cd.emit("underflow",{type:"underflow",pts:this.Cd.Nc});this.Uq(this.Pe);};c.prototype.Mq=function(y,z){this.gB.Mq(y,z);};c.prototype.open=function(){this.qr || (this.debug.assert(this.qa,"has access to asePlaygraph"),this.debug.assert(this.Ha,"has access to asePlayer"),this.qr=this.ai=!0,this.qa.open(),this.debug.assert(this.jx,"invalid start position relative to playgraph"),this.qa.bE(this.jx),this.wf.set(f.ma.xd),this.Uq(this.Pe),this.qa.wia(this.Ha),this.VMb());};c.prototype.play=function(){this.debug.assert(this.qa,"has access to asePlaygrah");this.debug.assert(this.Ha,"has access to asePlayer");0 !== this.qa.state && (this.Ha.resume(this.OD?[f.Tb.Ta.Vb]:void 0),this.wf.set(f.ma.Lc),this.Cd.emit("playing",{type:"playing",pts:this.Cd.Nc}));};c.prototype.stop=function(){var y;this.wf.set(f.ma.jr);null === (y=this.Ha) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Cd.emit("paused",{type:"paused",pts:this.Cd.Nc});};c.prototype.flush=function(){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.vi,"has access to streamingEngine");this.qr && this.wf.value !== f.ma.cj && this.wf.value !== f.ma.jr && this.stop();this.qa.LZ("endplay",m.de.$p);this.qa.Ff();this.vi.Mh.save();this.vi.Jn.save();};c.prototype.Ht=function(y){var z;this.debug.assert(this.qa,"has access to asePlaygraph");z=f.T.Ab(y);return (z=this.qa.ls(z,{M9a:!0,L9a:!0}))?this.qa.za.pa[z.ya].Db + Number(z.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.eM=function(y,z){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.pd,"has access to internalLogger");this.qa.za.pa[y] || (y=this.hV(z));this.debug.u3(y,"has access to segmentId");y={ya:y,offset:f.T.Ab(z - this.qa.za.pa[y].Db)};if(y=this.qa.TV(y))return y.W;!1;return z;};c.prototype.rja=function(y,z){var A,B,E;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");z && this.qa.za.pa[z] || (z=null !== (A=this.hV(y)) && void 0 !== A?A:null === (B=this.Ha) || void 0 === B?void 0:B.Rk.ya);return null === (E=this.qa.An(z,y)) || void 0 === E?void 0:E.gd;};c.prototype.mz=function(y){var z;z=void 0 === z?!0:z;this.ai?Number.isFinite(y) && (this.debug.assert(this.Ha,"has access to asePlayer"),z?this.Ha.RY(y):this.Ha.$va(y)):this.fail("Must call open prior to drmReady");};c.prototype.H6=function(){var y;return null !== (y=this.Ha) && void 0 !== y && y.wm?this.Ha.Po(this.lb.ha.X):!1;};c.prototype.Li=function(y){!1;return this.Ha?this.Ha.Li(f.T.Ab(y)):(!1,!1);};c.prototype.xs=function(y,z){var A;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");z && this.qa.za.pa[z] || (z=null !== (A=this.hV(y)) && void 0 !== A?A:this.lb.Xg);this.debug.u3(z,"has access to segmentId");this.debug.assert(this.qa.za.pa[z],"segment exists in playgraph map");y={ya:z,offset:f.T.Ab(y - this.qa.za.pa[z].Db)};this.qa.bE(y);this.Ha.resume();this.wf.set(f.ma.xd);this.Uq(this.Pe);y=this.qa.xva(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.W;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.UP=function(y,z){var A;A={};this.qa.yi((A[y]=z,A));};c.prototype.Er=function(y,z){var A,B;this.debug.assert(this.pd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");A=this.Lo().id;B=this.qa.eN(A,y);if(z){if(!B.Kbb)return (this.pd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.gO)return (!1,B.gO === y);this.qa.ti(A,y,!1,z);return !0;}if(void 0 !== B.gO)return (!1,!1);B.PL && (this.Ha.reset(),this.qa.ti(A,y,!1,z),this.Ha.resume(),this.wf.set(f.ma.xd),this.Uq(this.Pe));return ! !B.PL;};c.prototype.ti=function(y,z,A,B){this.debug.assert(this.qa,"has access to asePlaygraph");this.qa.ti(y,z,A,B);};c.prototype.Wn=function(){var y;this.debug.assert(this.pd,"has access to internalLogger");y=this.Cd.Nc;!1;this.Cd.emit("skipped",{type:"skipped",pts:y});return new f.qF(Promise.resolve()).ova;};c.prototype.hV=function(y){var z,A,B,E,D,F,C,G,K;this.debug.assert(this.qa,"has acccess to asePlaygraph");this.debug.assert(this.pd,"has acccess to internalLogger");z=this.qa.za;A=[];B=Infinity;for(E in z.pa){D=z.pa[E];F=D.Db;D=D.Ob;C=F <= y;G=y < Number(null !== D && void 0 !== D?D:Infinity);!1;if(C && G)(!1,A.push(E));else if((F=Math.min(Math.abs(y - F),Math.abs(y - D)),F < B)){B=F;K=E;}}y=A[0] || K;this.debug.u3(y,"has access to locatedSegmentId");!1;return y;};c.prototype.VMb=function(){var y,z;y=this;this.debug.assert(this.j.Yb,"has acccess to mediaElement");z=this.j.Yb.Y;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.wf.value === f.ma.jh && (y.wf.set(f.ma.Lc),y.Cd.emit("playing",{type:"playing",pts:y.Cd.Nc}));});z.addEventListener("pause",function(){y.wf.value === f.ma.Lc && (y.wf.set(f.ma.jh),y.Cd.emit("paused",{type:"paused",pts:y.Cd.Nc}));});};c.prototype.fail=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Uq=function(y){var z,A,B,E,D,F,C,G;z=this;if(y !== this.NT && this.jJ)this.rX=y;else {G=!0 === (null === (A=this.Ha) || void 0 === A?void 0:A.nA.value);A=(null === (B=this.qa) || void 0 === B?void 0:B.Ef.value) === f.Kc.dj;null === (E=this.Ha) || void 0 === E?void 0:E.nA.removeListener(this.W2a);null === (D=this.qa) || void 0 === D?void 0:D.Ef.removeListener(this.ERa);G && A?y():(this.W2a=function(){return z.Uq(y);},this.ERa=function(){return z.Uq(y);},null === (F=this.Ha) || void 0 === F?void 0:F.nA.addListener(this.W2a),null === (C=this.qa) || void 0 === C?void 0:C.Ef.addListener(this.ERa));}};c.prototype.ZWa=function(y){var z,A,B;z=this;B=this.j.Fl(y);return Promise.resolve(null !== (A=B.oa) && void 0 !== A?A:this.j.JUb(B).then(function(){z.j.FTb(B);return B.oa;})).then(function(E){E=E.$b;return {oa:E,hi:E.Eoa && !E.ZV,config:z.Oe,Bd:[].concat(ea(z.Bd))};});};c.prototype.tU=function(y,z){var A,B,E;A=this;this.debug.assert(this.vi,"has access to streamingEngine");B=this.j.Fl(y).J;if(!this.Ej.has(B)){this.Ej.store(B,{uja:function(){},equals:function(D){return D.X === B && (z.ba === D.ba || !D.ba || !z.ba);},get Ns() {E || (E=A.ZWa(y));return E;},set Ns(D) {E=D;},events:new l.EventEmitter(),ba:z.ba,X:B,St:!1,z$a:!1});this.Oe.pz && this.vi.dE(this.Ej.En(B),{ba:z.ba,gs:z.gs,KC:z.oz});}};c.prototype.sx=function(y){var z;this.debug.assert(this.vi,"has access to streamingEngine");z=this.lb.sf(y).X;if(!this.Ej.has(z))return Promise.resolve();z=this.Ej.En(z);z.Ns=this.ZWa(y);return this.vi.sx(z);};c.prototype.eN=function(y){var z;this.debug.assert(this.Ha,"has access to asePlayer");this.debug.assert(this.qa,"has access to asePlaygraph");return this.qa.eN(null === (z=this.Ha.Lo().O) || void 0 === z?void 0:z.id,y);};c.prototype.mKb=function(y){var z,A,B;z=this;A=y.nw;B=y.ya;this.debug.assert(this.vi,"has access to streamingEngine");this.debug.assert(this.pd,"has access to internalLogger");y=this.j.Fl(B);y=this.lb.o6(y);B=y.pa[B];this.debug.assert(B,"segment exists");this.jx=(0,u.OV)(B.X,y,this.j.Z,B.Db);A=Object.create(this.Oe,{oz:{value:A.oz}});this.wf=new w.dc(f.ma.Ah);this.qa=this.vi.bG(y,this.Oe.V5a,A,this.Ej);this.gB=new f.sF(this.pd);A=this.qa.FC(this.gB);y=this.qa.EC();this.qa.S$(y,A);this.qa.eE({ys:function(){return z.QP[f.Tb.Ta.Vb];}},{ys:function(){return z.QP[f.Tb.Ta.Nb];}});this.OD=!1;};c.prototype.xka=function(){var y,z;y=this;this.debug.assert(this.vi,"has access to streamingEngine");z=Object.create(this.Oe,{Bd:{value:[].concat(ea(this.Bd))},HV:{value:function(){return y.l6();}}});this.Cd=Object.create(new l.EventEmitter(),{Nc:{get:function(){y.debug.sia(y.j.mediaTime.value,"has access to mediaTime.value");return f.T.Ab(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},GV:{value:function(){y.debug.assert(y.j.Yb,"has access to mediaElement");return y.j.Yb;}}});this.Ha=this.vi.PPa(this.Cd,z);};c.prototype.l6=function(){this.rj || (this.rj=new f.platform.MediaSource(this.Cd),this.rj.qc || (this.rj.qc=f.platform.MediaSource.qc));return this.rj;};Wa.Object.defineProperties(c.prototype,{jJ:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.ln;}},Qb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.vi,"has access to streamingEngine");return this.vi.Qb;}}});b.Wya=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uia=void 0;c=a(19);b.uia=function(f){var l,m,d,g;l=f.nk;m=f.loadTime;f=f.SVa;d=(0,c.Ca)(m)?m:0;g=l[f.target] || ({});l[f.target] !== g && (l[f.target]=g);Object.entries(f.fields).forEach(function(h){var k,n,p,q;k=aa(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)g[h]=k;else {n=k.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== k.value){if("array" === n){n=g[h];p=k.adjust;q=k.value;n || (n=g[h]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else g[h]="sum" === n?(g[h] || 0) + k.value:k.value;}else g[h]=k;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.OV=void 0;c=a(44);f=a(21);b.OV=function(l,m,d,g){return m.pa[m.Md].Db === g?(l=(0,c.oka)(m,l,c.T.Ab(d)),(0,f.gb)(l,"has valid start position relative to playgraph"),l):{ya:m.Md,offset:c.T.Eb};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,u,t,w,v,x,y,z){var A;A=this;this.Q0b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.ISb=w;this.JSb=v;this.size=x;this.hu=y;this.urls=z;this.type=f.Di.Bxa;this.retry=!0;this.state=g.xp.P0;this.Ri={};this.w3={};this.qUb=function(B){if(B.$)try{A.data=A.Q0b.parse(B.content);A.state=g.xp.PE;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Ri);A.j.fireEvent(h.ca.JZ);}catch(E){A.state=g.xp.cHa;A.log.error("TrickPlay parse failed.",E);}else (A.state=g.xp.P0,A.log.error("TrickPlay download failed.",(0,k.Ws)(B),A.Ri));};this.log=(0,m.Jh)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;f=a(90);l=a(14);m=a(8);d=a(74);g=a(521);h=a(15);k=a(3);c.prototype.SFb=function(n){if(this.data && (this.hu && (n+=this.hu),n=Math.floor(n / this.data.header.hab),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.hab,height:this.height,width:this.width,pixelAspectHeight:this.ISb,pixelAspectWidth:this.JSb};};c.prototype.s6=function(){switch(this.state){case g.xp.PE:return "downloaded";case g.xp.LOADING:return "loading";case g.xp.pR:return "downloadfailed";case g.xp.cHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.ZHb();n?(this.state=g.xp.LOADING,this.VAb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.ZHb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.w3[n.urls[u]] || 0) <= l.config.M0b;});if(p){q=this.urls[p];(q in this.w3)?this.w3[q]++:this.w3[q]=1;return {url:q,zC:p};}};c.prototype.VAb=function(n){this.log.trace("Downloading",n.url,this.Ri);n={responseType:d.cW,tc:this.cna(n.zC),url:n.url,track:this};this.j.S6.download(n,this.qUb);};c.prototype.cna=function(n){return this.j.kj.find(function(p){return p && p.id === n;});};b.KLa=c;},function(r,b,a){var f;function c(l,m,d,g){this.kla=l;this.debug=m;this.Ba=d;this.j=g;this.A9=[];this.O8={};this.mla={};this.rma=!1;this.M$a=1;this.rza=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;f=a(4);a(15);a(19);a(74);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.A9.indexOf(l)),"panel already registered");this.O8[l]=m;this.A9.push(l);};c.prototype.j4a=function(l){var m;m=this;this.mla[l]=!0;this.rma || (this.rma=!0,setTimeout(function(){return m.GDb();},0));};c.prototype.BGb=function(l){return (l=this.O8[l])?l():void 0;};c.prototype.CV=function(){var l;l=this.j.K9;return l?l.CV():[];};c.prototype.addEventListener=function(l,m){this.kla.addListener(l,m);this.O8[l] && this.j4a(l);};c.prototype.removeEventListener=function(l,m){this.kla.removeListener(l,m);};c.prototype.getTime=function(){return this.Ba.Xb().da(f.ja);};c.prototype.GDb=function(){this.rma=!1;for(var l=this.A9.length,m;l--;){m=this.A9[l];this.mla[m] && (this.mla[m]=!1,this.kla.Fc(m + "changed",{getModel:this.O8[m]}));}};b.vBa=c;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p){var q;q=this;this.Fm=n;this.Mr=p;this.rab=function(u){var t,w,v,x,y,z,A;t=q.M$a++;w=u.request.HC || "dl";v=q.vZa(w,"start");if(v){x=u.request.oA;y=x.stream.P.Yo;x=aa(x.stream.P.Zh).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.O.id,!q.b$a.has(y))){z=q.RYa(y);A=u.ps;q.Fm.mark(v,z,A?w + "-" + A + "-" + t:w);u.Mha(function(){var B,E;B=q.vZa(w,"end");E=A?w + "-" + A + "-" + t:w;B && q.Fm.mark(B,z,E);});}}};this.M$a=0;this.b$a=new Set();this.Jva=new Map();p.XU && this.j3b();}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(1);f=a(0);l=a(63);m=a(72);d=a(4);g=a(74);a=a(40);h={start:{video:l.Ia.zQ,audio:l.Ia.vQ},end:{video:l.Ia.yQ,audio:l.Ia.uQ}};c.prototype.SYa=function(n){var q,u,t,w,v,x,y,z;function p(A){return (0,d.timestamp)(q.cQa((0,d.timestamp)(A),n,!0));}q=this;u=new Set();t=n.Sc;w=n.ba;v=void 0 === n.W9a?null:n.W9a;x=n.ya;y=this.Fm.vYa(w);z=x && this.RYa(x);z && y.push.apply(y,ea(this.Fm.vYa(z)));this.Fm.n7a(n.ba);z && this.Fm.n7a(z);x && this.b$a.add(x);x=[];("pr_ats" in t) && x.push({name:l.Ia.f1,Gs:p(t.pr_ats),ba:w,Gg:"request-pre-manifest"});("ats" in t) && x.push({name:l.Ia.d1,Gs:p(t.ats),ba:w,Gg:"request-manifest"});("pr_at" in t) && x.push({name:l.Ia.e1,Gs:p(t.pr_at),ba:w,Gg:"request-pre-manifest"});("at" in t) && x.push({name:l.Ia.c1,Gs:p(t.at),ba:w,Gg:"request-manifest"});("lg" in t) && x.push({name:l.Ia.b1,Gs:p(t.lg),ba:w,Gg:"request-license"});("lr" in t) && (x.push({name:l.Ia.a1,Gs:p(t.lr),ba:w,Gg:"request-license"}),x.push({name:l.Ia.p_,Gs:p(t.lr),ba:w,Gg:"apply-license"}));("ld" in t) && x.push({name:l.Ia.o_,Gs:p(t.ld),ba:w,Gg:"apply-license"});("tt_start" in t) && x.push({name:l.Ia.xQ,Gs:p(t.tt_start),ba:w,Gg:"request-timed-text"});("tt_comp" in t) && x.push({name:l.Ia.wQ,Gs:p(t.tt_comp),ba:w,Gg:"request-timed-text"});return x.concat(y).map(function(A){return q.h0b(A,n);}).filter(function(A){return A.ts <= (null !== v && void 0 !== v?v:A.ts)?("end" === A.step && u.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || u.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var E;E=B.eventName;delete B.eventName;E && (A[E]=B);return A;},{});};c.prototype.grb=function(n,p,q){return (void 0 === q?0:q)?n.da(d.ja) + p.wk.da(d.ja):n.da(d.ja) - p.wk.da(d.ja);};c.prototype.cQa=function(n,p,q){q=void 0 === q?!1:q;if(p.Pm)if(q)n.da(d.ja) + p.Pm;else return n.da(d.ja) - p.Pm;return this.grb(n,p,q);};c.prototype.h0b=function(n,p){var q,u;q=n.Gg;u=n.name;return {eventName:this.VPb(u,q),eventId:q || u,ts:this.cQa(n.Gs,p),comp:this.wV(u),cat:this.bFb(u),step:this.IHb(u)};};c.prototype.VPb=function(n,p){switch(n){case l.Ia.xQ:case l.Ia.wQ:case l.Ia.vQ:case l.Ia.uQ:case l.Ia.zQ:case l.Ia.yQ:return n + "-" + p;default:return n;}};c.prototype.wV=function(n){switch(n){case l.Ia.f1:case l.Ia.e1:case l.Ia.d1:case l.Ia.c1:return "manifest";case l.Ia.b1:case l.Ia.a1:case l.Ia.Fea:case l.Ia.Eea:case l.Ia.l0:case l.Ia.k0:case l.Ia.p_:case l.Ia.o_:return "license";case l.Ia.xQ:case l.Ia.wQ:case l.Ia.vQ:case l.Ia.uQ:case l.Ia.zQ:case l.Ia.yQ:case l.Ia.kba:case l.Ia.jba:return "buffering";case l.Ia.Kda:case l.Ia.Jda:return "playback";default:return null;}};c.prototype.bFb=function(n){switch(n){case l.Ia.f1:case l.Ia.e1:case l.Ia.d1:case l.Ia.c1:return "aws";case l.Ia.b1:case l.Ia.a1:return "mixed";case l.Ia.Kda:case l.Ia.Jda:case l.Ia.Fea:case l.Ia.Eea:case l.Ia.l0:case l.Ia.k0:case l.Ia.p_:case l.Ia.o_:case l.Ia.kba:case l.Ia.jba:return "device";case l.Ia.xQ:case l.Ia.wQ:case l.Ia.vQ:case l.Ia.uQ:case l.Ia.zQ:case l.Ia.yQ:return "cdn";default:return null;}};c.prototype.IHb=function(n){switch(n){case l.Ia.f1:case l.Ia.Kda:case l.Ia.d1:case l.Ia.b1:case l.Ia.kba:case l.Ia.xQ:case l.Ia.vQ:case l.Ia.zQ:case l.Ia.Fea:case l.Ia.l0:case l.Ia.p_:return "start";case l.Ia.e1:case l.Ia.Jda:case l.Ia.c1:case l.Ia.a1:case l.Ia.Eea:case l.Ia.k0:case l.Ia.o_:case l.Ia.jba:case l.Ia.wQ:case l.Ia.uQ:case l.Ia.yQ:return "end";default:return null;}};c.prototype.vZa=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.l1b=function(){g.jf.removeEventListener(g.P6,this.rab);};c.prototype.j3b=function(){this.l1b();g.jf.addEventListener(g.P6,this.rab);};c.prototype.RYa=function(n){var p;if(this.Jva.has(n))return this.Jva.get(n);p=Date.now();this.Jva.set(n,p);return p;};k=c;k=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.CR)),(0,r.__param)(1,(0,f.l)(a.Wm))],k);b.yGa=k;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E,D,F,C,G,K,J,I,M,R,H,P,N,L,Q,S;Object.defineProperty(b,"__esModule",{value:!0});b.GSa=void 0;r=a(0);c=a(485);f=a(1209);l=a(103);m=a(1210);d=a(496);g=a(1211);h=a(498);k=a(1212);n=a(499);p=a(1213);q=a(285);u=a(1214);t=a(82);w=a(1215);v=a(1216);x=a(41);y=a(3);z=a(1217);A=a(1218);B=a(1219);E=a(53);D=a(1220);F=a(300);C=a(1221);G=a(1222);K=a(1223);J=a(482);I=a(1224);M=a(1225);R=a(1226);H=a(348);P=a(1227);N=a(66);L=a(546);Q=a(1228);S=a(1229);b.GSa=new r.rd(function(U){U(E.Zm).to(D.EHa);U(c.THa).to(f.SHa);U(F.Sda).to(C.zHa);U(J.BHa).to(I.AHa);U(G.ujb).to(K.XHa);U(l.Vda).to(m.UHa);U(L.VHa).yf(function(ca){return function(){var ka;ka=ca.$a.get(N.$s);return ka && ka.Hbb?ca.$a.resolve(S.oIa):ca.$a.resolve(Q.WHa);};});U(d.yHa).to(g.xHa);U(h.lIa).to(k.kIa);U(n.NHa).to(p.MHa);U(q.Uda).to(u.OHa);U(t.QKa).to(w.PKa);U(t.UKa).to(v.TKa);U(t.DEa).to(z.CEa);U(t.LKa).to(A.KKa);U(t.oCa).to(B.nCa);U(R.vjb).to(M.YHa);U(H.LHa).to(P.KHa);U(t.sca).yf(function(ca){return function(ka){switch(ka){case t.np.start:return ca.$a.get(t.QKa);case t.np.stop:return ca.$a.get(t.UKa);case t.np.uW:return ca.$a.get(t.DEa);case t.np.splice:return ca.$a.get(t.LKa);case t.np.DM:return ca.$a.get(t.oCa);}throw new x.qd(y.M.Jib,void 0,void 0,void 0,void 0,"The event key was invalid - " + ka);};});});},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.thb,1,m.ej.Q1a,m.ej.Q1a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k){var n;n=this;return this.send(h,"/" + this.name,k).then(function(p){return p.result;}).catch(function(p){throw n.Dn(p);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.SHa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x,y){t=d.Ci.call(this,t,l.M.xR,3,m.ej.oa,m.ej.oa) || this;t.platform=w;t.gra=v;t.zMb=x;t.LNb=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;r=a(1);f=a(103);l=a(3);m=a(69);a(187);d=a(75);g=a(53);h=a(34);k=a(40);n=a(157);p=a(285);q=a(0);a=a(546);na(c,d.Ci);c.prototype.pg=function(t,w){var v,x;v=this;this.C2=w.Xt === f.Ym.hF?"prefetch/manifest":m.ej.oa;x=w.Xt === f.Ym.l1?k.zv.rJa:k.zv.RR;return this.LNb().transform(w,x).then(function(y){var z,A;y=aa(y);z=y.next().value;A=y.next().value;!1;A.qw && (v.C2=w.Xt === f.Ym.hF?"prefetch/licensedManifest":"licensedManifest");return v.send(t,A.Co,z,void 0,void 0,x).then(function(B){var E;B=v.gra.create(B.result);E=B.$b.hB.map(function(D){return D.Ig;}).filter(Boolean);A.qw && (0 < E.length?(E=v.zMb.xab(E),A.qw.IPa(E),B.qw=A.qw,B.t0a=w.Xt === f.Ym.hF,B.s0a=!0):A.qw.close());!1;return B;});}).catch(function(y){!1;throw v.Dn(y);});};c.prototype.gq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.R)(),(0,r.__param)(0,(0,q.l)(g.Zm)),(0,r.__param)(1,(0,q.l)(h.Ik)),(0,r.__param)(2,(0,q.l)(n.yR)),(0,r.__param)(3,(0,q.l)(p.Uda)),(0,r.__param)(4,(0,q.l)(a.VHa))],u);b.UHa=u;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.YJ,3,m.ej.Ig,m.ej.Ig) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.gq=function(h,k,n){var p;p=this;k=k.EV(n.z1a).href;this.C2="ldl" === n.z1a?"prefetch/license":m.ej.Ig;return this.send(h,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.Fub(q);return q;}).catch(function(q){throw p.Dn(q);});};c.prototype.Fub=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.xHa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.Aea,3,m.ej.Ig,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k){var n;n=this;return this.send(h,"/bundle",k).then(function(p){return p.result;}).catch(function(p){throw n.Dn(p);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.kIa=g;},function(r,b,a){var f,l,m;function c(d){this.xa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(1);f=a(0);l=a(38);m=a(4);c.prototype.F0b=function(d){var g;g=this.xa.gf.da(m.io);return {inputs:d.ck.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.ba.toString(),mdxControllerEsn:d.SW};}),z1a:"standard" === d.Xf.toLowerCase()?"license":"ldl"};};c.prototype.I0b=function(d){var g,h;g=this;h=[];return d.we.map(function(k){h.push(k.id);return {url:g.xtb(k.BH,k.FW),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.ba.toString()}};});};c.prototype.xtb=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.Vh))],a);b.MHa=a;},function(r,b,a){var f,l,m;function c(d,g){this.ce=d;this.Ly=g;}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;r=a(1);f=a(0);l=a(29);a=a(36);c.prototype.xab=function(d){var g,h;g=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return g.ce.FX(k.substring(k.indexOf("?") + 1));});return {$:!0,we:d.map(function(k,n){return {id:k.drmSessionId,BH:h[n].drmlicensecontextid,FW:h[n].licenseid};}),oj:d.map(function(k){return {data:g.Ly.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.eg)),(0,r.__param)(1,(0,f.l)(a.Bi))],m);b.OHa=m;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Xq.call(this,h,l.M.ekb,d.np.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Xq);g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.PKa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Xq.call(this,h,l.M.iKa,d.np.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Xq);g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.TKa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Xq.call(this,h,l.M.Vca,d.np.uW,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CEa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Xq);g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.CEa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Xq.call(this,h,l.M.gKa,d.np.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Xq);g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.KKa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Xq.call(this,h,l.M.Hfb,d.np.DM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Xq);c.prototype.L3=function(h){return Object.assign(Object.assign({},m.Xq.prototype.L3.call(this,h)),{action:h.action});};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.nCa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v,x,y,z,A){this.Dh=q;this.jf=u;this.$g=t;this.GAb=w;this.Mz=v;this.$1b=x;this.Pka=y;this.jWb=z;this.GG=A;}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(1);f=a(0);l=a(123);m=a(66);d=a(519);g=a(516);h=a(81);k=a(87);n=a(335);p=a(97);a=a(91);c=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.AJ)),(0,r.__param)(1,(0,f.l)(k.Nx)),(0,r.__param)(2,(0,f.l)(m.$s)),(0,r.__param)(3,(0,f.l)(g.HHa)),(0,r.__param)(4,(0,f.l)(h.Mx)),(0,r.__param)(5,(0,f.l)(n.SLa)),(0,r.__param)(6,(0,f.l)(p.$_)),(0,r.__param)(7,(0,f.l)(d.nIa)),(0,r.__param)(8,(0,f.l)(a.Fx))],c);b.EHa=c;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.Zcb,2,m.ej.bind,m.ej.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Dn(q);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.zHa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ujb="PboPairCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.Bib,2,m.ej.b5a,m.ej.b5a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Dn(q);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.XHa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.$cb,2,m.ej.bind,m.ej.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k,n){var p;p=this;return this.send(h,"/bindDevice",k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Dn(q);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.AHa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.Uib,1,m.ej.ping,m.ej.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Dn(q);});};c.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.YHa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vjb="PboPingCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.Ci.call(this,h,l.M.Xfb,2,m.ej.oa,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;r=a(1);f=a(0);l=a(3);m=a(69);d=a(75);a=a(53);na(c,d.Ci);c.prototype.pg=function(h,k){var n;n=this;return this.send(h,"/generateScreenshots",k).then(function(p){return p.result;}).catch(function(p){throw n.Dn(p);});};c.prototype.gq=function(h,k,n){var p;p=this;return this.send(h,k.EV("generateScreenshots").href,n).then(function(q){return q.result;}).catch(function(q){throw p.Dn(q);});};g=c;g=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(a.Zm))],g);b.KHa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;function c(y,z,A,B,E,D,F,C,G,K){this.$g=y;this.platform=z;this.config=A;this.oub=B;this.WSb=E;this.qk=D;this.cU=F;this.xa=C;this.v8=G;this.vn=K;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(1);f=a(0);l=a(103);m=a(13);d=a(465);g=a(463);h=a(545);k=a(71);n=a(34);p=a(38);q=a(4);u=a(166);t=a(66);w=a(337);v=a(26);x=a(58);c.prototype.transform=function(y,z){var A,B,E,D,F,C,G,K,J,I,M,R,H;A=this;C=y.bb;G=Object.assign({},C.B3,C.Lm);K={};J=y.X;K[J]={unletterboxed:! !G.preferUnletterboxed};I=this.config();M=I.l2b?30:25;R=I.ip?this.qk.DFb():Promise.resolve(this.v8.Zt());H=null === (E=null === (B=I.Jxa) || void 0 === B?void 0:B[null === C || void 0 === C?void 0:C.ye]) || void 0 === E?void 0:E.mv;B=null === (F=null === (D=I.Jxa) || void 0 === D?void 0:D[null === C || void 0 === C?void 0:C.ye]) || void 0 === F?void 0:F.rC;return Promise.all([this.vn.qZa(B),this.vn.sZa(H),this.vn.fN(),this.vn.n6(),this.cFb(y.ba,z),this.HFb(y),R]).then(function(P){var N,L,Q,S,U,ca;N=aa(P);L=N.next().value;Q=N.next().value;S=N.next().value;U=N.next().value;ca=N.next().value;P=N.next().value;N=N.next().value;L=(L || []).concat(Q || []).concat(A.config().hv).concat(["BIF240","BIF320"]).filter(Boolean);U=U?U.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === C.ye?!0:! !G.isUIAutoPlay;S={type:"standard",manifestVersion:A.$g.xVa?"v2":"v1",viewableId:J,profiles:L,flavor:y.Xt,drmType:N,drmVersion:M,usePsshBox:!0,isBranching:! !y.bb.Hl,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().x_b,imageSubtitleHeight:d.Uea.XYa(),uiVersion:A.$g.aB,uiPlatform:A.$g.Gaa,clientVersion:A.platform.version,supportsPreReleasePin:A.config().Kr.r_b,supportsWatermark:A.config().Kr.s_b,packageId:A.UGb(C),deviceSecurityLevel:U,videoOutputInfo:S,titleSpecificData:K,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:Q,challenge:ca,isNonMember:A.$g.Opa,pin:C.E5a,desiredVmaf:A.config().Abb?A.config().tUa:A.config().uUa,desiredSegmentVmaf:A.config().Abb?A.config().tUa:A.config().uUa,requestSegmentVmaf:A.config().oWb,supportsPartialHydration:A.$g.LG,contentPlaygraph:A.$g.cTa,identToken:y.FJb};C.WVa && (S.extraParams=C.WVa);C.sUa && (S.desiredDownloadables=C.sUa);C.dva && (S.requestReference=C.dva);ca={Co:P?"licensedManifest":"manifest",qw:null === P || void 0 === P?void 0:P.ac};P && (P={drmSessionId:P.ac.Bz() || "session",clientTime:A.xa.LY.da(q.io),challengeBase64:P.zja},S.challenges={"default":[P]},S.profileGroups=[{name:"default",profiles:L}],S.licenseType=y.Xf == x.Yh.eo?"limited":"standard",y.ba && (S.xid=y.ba.toString()));A.$g.LG || (S.showAllSubDubTracks=A.config().Kr.aZb || ! !G.showAllSubDubTracks,A.$g.pVa && y.Xt === l.Ym.l1 && (S.maxSupportedLanguages=2));y.xaa && (S.originalPlaybackContextId=y.xaa.NRb,S.requiredAudioTrackId=y.xaa.sWb,S.requiredTextTrackId=y.xaa.vWb);return [S,ca];});};c.prototype.UGb=function(y){if(this.config().c$.enabled){if(void 0 !== y.Xo)return y.Xo;if(void 0 !== this.config().c$.Xo)return Number(this.config().c$.Xo);}};c.prototype.cFb=function(y,z){var A;A=this;return this.oub.tXa(z).then(function(B){var E;E=y && A.WSb.aHb(y);E && E.Lp("cad");return B;});};c.prototype.HFb=function(y){var z;if(void 0 === y.Xf || !this.config().ip)return Promise.resolve(void 0);z=y.Xf === x.Yh.up && this.$g.e4;return y.Xf === x.Yh.eo && this.$g.qVa || z?this.cU.aoa(y.Xf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(t.$s)),(0,r.__param)(1,(0,f.l)(n.Ik)),(0,r.__param)(2,(0,f.l)(m.ad)),(0,r.__param)(3,(0,f.l)(g.Vza)),(0,r.__param)(4,(0,f.l)(h.lea)),(0,r.__param)(5,(0,f.l)(k.Ys)),(0,r.__param)(6,(0,f.l)(u.I_)),(0,r.__param)(7,(0,f.l)(p.Vh)),(0,r.__param)(8,(0,f.l)(w.sda)),(0,r.__param)(9,(0,f.l)(v.Ex))],a);b.WHa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){this.platform=k;this.config=n;this.cU=p;this.vn=q;}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(1);f=a(0);l=a(13);m=a(34);d=a(166);g=a(26);h=a(58);c.prototype.transform=function(k){var n,p;n=this;p=k.bb;return Promise.all([this.vn.qZa(),this.vn.sZa(),this.cU.aoa(h.Yh.up)]).then(function(q){var u,t;u=aa(q);q=u.next().value;t=u.next().value;u=u.next().value;return [{viewableId:k.X,packageId:p.Xo,assetId:p.tia,challenge:u.zja,audioProfiles:q,textProfiles:n.config().hv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:t,audioLanguages:p.psb,textLanguages:p.Q_b,videoLanguages:p.Qbb?[p.Qbb]:void 0,requestReference:p.dva},{qw:null === u || void 0 === u?void 0:u.ac,Co:"studioManifest"}];});};a=c;a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Ik)),(0,r.__param)(1,(0,f.l)(l.ad)),(0,r.__param)(2,(0,f.l)(d.I_)),(0,r.__param)(3,(0,f.l)(g.Ex))],a);b.oIa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(277);f=a(517);l=a(1231);m=a(1232);d=a(1233);g=a(40);b.transports=new r.rd(function(h){h(c.w1).to(d.FLa).aa();h(f.FGa).to(l.EGa);h(f.NKa).to(m.MKa);h(f.GLa).yf(function(k){return function(n){var p;return k.$a.get(c.w1).U$(null !== (p=null === n || void 0 === n?void 0:n.BPb) && void 0 !== p?p:g.zv.RR)?k.$a.get(f.FGa):k.$a.get(f.NKa);};});});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){var q;q=this;this.GD=n;this.profile=p;this.log=k.hb("MslTransport");this.GD().then(function(u){return q.S8=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(1);f=a(0);l=a(7);m=a(156);d=a(4);a=a(94);g={license:!0};c.prototype.send=function(k,n){var p,q;p=this;q={D3a:Object.assign({jf:k.jf,log:k.log,profile:this.profile},k.Zsb),method:k.Co,url:k.url.href,body:JSON.stringify(n),timeout:k.timeout.da(d.ja),r2b:this.profile,jcc:!g[k.Co],TPb:! !g[k.Co],Uk:!0,v$:k.pva,headers:k.headers};!1;return this.GD().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.Cc=t.na || t.Cc,t);w=t.error;w.$D=t.$D;p.log.error("Error sending MSL request",{mslCode:w.qA,subCode:w.Cc,data:w.data,message:w.message});throw w;});});};c.prototype.kka=function(){var k;return {userTokens:null === (k=this.S8) || void 0 === k?void 0:k.fX.getUserIdTokenKeys()};};h=c;h=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.qb)),(0,r.__param)(1,(0,f.l)(m.DR)),(0,r.__param)(2,(0,f.l)(a.TR))],h);b.EGa=h;},function(r,b,a){var f,l,m,d;function c(g,h){this.jf=h;this.log=g.hb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(1);f=a(0);l=a(4);m=a(7);a=a(87);c.prototype.send=function(g,h){var k,n;k=this;n={url:g.url.href,HC:"nq-" + g.Co,Kta:JSON.stringify(h),i4:g.timeout.da(l.ja),headers:g.headers,withCredentials:!0};!1;return new Promise(function(p,q){k.jf.download(n,function(u){u.$?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Cc=p.na || p.Cc,p);q=p.error;q.$D=p.$D;k.log.error("Error sending SSL request",{subCode:q.Cc,data:q.content,message:q.message});throw q;});};c.prototype.kka=function(){return {};};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(a.Nx))],d);b.MKa=d;},function(r,b,a){var f,l,m,d,g;function c(h){return l.$e.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(46);g=a(40);na(c,l.$e);c.prototype.U$=function(h){var k,n;k=this.sJ;n=this.hQa;switch(h){case g.zv.RR:return k;case g.zv.rJa:return k && !n;case g.zv.sib:return !1;}};Wa.Object.defineProperties(c.prototype,{sJ:{configurable:!0,enumerable:!0,get:function(){return !0;}},hQa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.ed,"usesMsl")],a.prototype,"sJ",null);r.__decorate([d.config(d.ed,"allowRequestsWithoutMsl")],a.prototype,"hQa",null);a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl))],a);b.FLa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Il=void 0;r=a(0);c=a(531);f=a(1235);b.Il=new r.rd(function(l){l(c.TEa).to(f.SEa);});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,u,t,w){this.JG=p;this.Zp=q;this.config=u;this.XN=t;this.Fd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(1);f=a(0);l=a(122);m=a(1236);d=a(1237);g=a(70);h=a(13);k=a(138);a=a(120);c.prototype.create=function(p,q,u){return p?new m.UEa(this.config(),this.Zp,this.Fd,q,u,this.JG,this.XN()):new d.LEa(this.config,this.Fd,q,u);};n=c;n=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.c0)),(0,r.__param)(1,(0,f.l)(g.vv)),(0,r.__param)(2,(0,f.l)(h.ad)),(0,r.__param)(3,(0,f.l)(k.zR)),(0,r.__param)(4,(0,f.l)(a.tF))],n);b.SEa=n;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v,x,y){w=k.tQ.call(this,w,v) || this;w.config=q;w.Zp=u;w.Fd=t;w.JG=x;w.Bra=y;w.log=(0,l.Jh)(w.j,"LicenseBroker");w.DW=new Set();w.Ara=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(1);f=a(3);l=a(8);m=a(326);d=a(4);g=a(0);h=a(290);k=a(547);n=a(58);p=a(15);na(c,k.tQ);c.prototype.r9=function(){var q,u;q=this;u=this.j.ha;this.DW.has(u.J) || (this.DW.add(u.J),this.Jrb(u).catch(function(){return q.B7a(u);}).then(function(){return q.AQa(u);}).catch(function(t){return q.zQa(u,t);}).catch(function(t){return q.Yd(t.code,t,t.Kd);}));};c.prototype.Jrb=function(q){var u;u=this;return Promise.all([this.Fd.pXa(q.J),this.JG()]).then(function(t){var w,v;t=aa(t);w=t.next().value;v=t.next().value;return w.N$.then(function(x){var y;if("manifest" === w.source){y=u.qYa(q);v.x3a(y,x);}return x;}).then(function(x){return u.p3(x,q,w.source);});}).catch(function(t){u.log.warn("eme not in cache",t);throw t;});};c.prototype.p3=function(q,u,t){this.q6a(q,u);u.lG=t;this.Bra.setMediaKeys(q.mediaKeys);return q.lia();};c.prototype.ZDb=function(q){var u;u={};q.forEach(function(t){u[(0,m.ZUa)(t.XW)]=t.time.da(d.ja);});return u;};c.prototype.q6a=function(q,u){var t;t=this;u.qf=q;q.YXb(function(w){t.Yd(w.code,w,w.Kd);});};c.prototype.AQa=function(q){this.log.info("Successfully applied license for xid: " + q.ba + ", viewable: " + q.J + ", segment: " + q.ya);this.Nz(q);this.Ara?this.x5(q.J):this.setMediaKeys(q);};c.prototype.zQa=function(q,u){this.Nz(q);throw u;};c.prototype.Nz=function(q){q.qf && q.Nz(this.ZDb(q.qf.Sc));};c.prototype.qYa=function(q){var u;return {type:this.g6(!1),initData:q.Ru.map(function(t){return (0,l.Cr)(t);}),context:{Y:this.Yb.Y,Ou:null === (u=q.yg.value) || void 0 === u?void 0:u.Ou},Si:{J:q.J,ba:q.ba,Ti:q.Ti,sm:q.sm,mk:q.oa.mk}};};c.prototype.B7a=function(q){var u;u=this;return this.JG().then(function(t){var w;w=u.qYa(q);u.DW.add(q.J);return t.Ig(w,u.Bra).then(function(v){u.q6a(v,q);u.j.fireEvent(p.ca.NN,{J:q.J});return v.lia();});});};c.prototype.setMediaKeys=function(q){var u;u=this;if(this.Ara)this.log.trace("Media Keys already set");else try{this.Yb.Y?this.Yb.Y.setMediaKeys(q.qf.mediaKeys).then(function(){u.x5(q.J);u.Ara=!0;}).catch(function(t){t=u.xZa(t);u.Yd(f.M.hK,t,t.rf);}):this.x5(q.J);}catch(t){this.Yd(f.M.hK,t,void 0);}};c.prototype.IA=function(){var q,u;q=this;u=this.j.ha.qf;return u?this.JG().then(function(t){return t.release(u,q.Bra).then(function(w){q.log.trace("Successfully released the license");return w.close();}).catch(function(w){q.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.A7a=function(q){var u;u=this;q=void 0 === q?this.j:q;return this.B7a(q).then(function(){return u.AQa(q);}).catch(function(t){return u.zQa(q,t);});};c.prototype.g6=function(q){return this.Zp.nV?n.Yh.eo:q?n.Yh.eo:n.Yh.up;};Wa.Object.defineProperties(c.prototype,{JD:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},zm:{configurable:!0,enumerable:!0,get:function(){return this.config.zm;}}});a=c;r.__decorate([h.zW],a.prototype,"JD",null);a=r.__decorate([(0,g.R)()],a);b.UEa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u;function c(t,w,v,x){v=p.tQ.call(this,v,x) || this;v.config=t;v.Fd=w;v.log=(0,l.Jh)(v.j,"LegacyLicenseBroker");v.zm=v.config().zm;v.config().v6a?(0,d.B0a)()?v.Paa=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:g.BB}):v.Paa=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;r=a(1);f=a(3);l=a(8);m=a(155);d=a(50);g=a(11);h=a(0);k=a(290);n=a(34);p=a(547);q=a(58);na(c,p.tQ);c.prototype.sTa=function(t){var w;w=void 0 === w?this.j:w;return new this.hs.MJ(t,function(v){return w.j4.bH(v);},function(v){return w.j4.release(v);},{tf:!1,Zk:!1});};c.prototype.AG=function(t){var w,v,x,y,z,A;w=this;t=void 0 === t?this.j:t;v=a(51).dk;this.hs.MJ || this.Yd(f.M.YJ,f.L.zfb);x=(0,l.Jh)(t,"Eme");y=this.sTa(x);z=l.ka.get(m.YR);A=z.n4(t.pc.value.streams);z=z.q4(t.yg.value.streams);return this.hs.OJ(x,function(B){return t.Dd(B);},{tf:!1,Zk:!1,xa:{getTime:v},Ol:y,ZX:! !this.Paa,Y:this.Yb.Y,eB:this.config().oVa,onerror:function(B,E,D){return w.Yd(B,E,D);},qsa:function(){},dI:!0,osb:A,O2b:z,X6:this.config().X6});};c.prototype.setMediaKeys=function(t){var w;w=this;return this.Paa?new Promise(function(v,x){if(w.Yb.Y)w.Yb.Y.setMediaKeys(t).then(function(){v();}).catch(function(y){var z;z=w.xZa(y);x({$:!1,code:f.M.hK,Cc:z.na,Kd:z.rf,ub:z.ub,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.OVa=function(t){return {code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.xn,message:t.message,errorDetails:t.ub,errorData:t.GM,state:t.state};};c.prototype.cwa=function(t,w,v){var y,z,A;function x(){z.rI().catch(function(B){y.log.error("Unable to set the license",y.OVa(B));B.cause && B.cause.ub && (B.ub=B.ub?B.ub + B.cause.ub:B.cause.ub);y.Yd(B.code,B,B.Kd);});}y=this;v=void 0 === v?this.j:v;z=v.qf;this.log.info("Setting the license");A=w?function(){return Promise.resolve();}:function(){return z.Ig(y.g6(!1),t);};return (w?function(){return z.p3(y.Yb.Y);}:function(){return z.create(y.zm).then(function(){return Promise.resolve();});})().then(function(){return y.config().a9a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().a9a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.x5(v.J);y.Yb.ccb.then(function(){y.config().uD && (w || y.config().nV) && (y.v7a=nb.setTimeout(x,y.config().uD));});}).catch(function(B){y.log.error("Unable to set the license",y.OVa(B));B.cause && B.cause.ub && (B.ub=B.ub?B.ub + B.cause.ub:B.cause.ub);if(w)throw Error(B && B.message?B.message:"failed to set license");y.Yd(B.code,B,B.Kd);});};c.prototype.IA=function(){return Promise.resolve();};c.prototype.r9=function(){var w;function t(){var v;w.j.qf=w.AG();v=[];w.j.Ru.forEach(function(x){v.push((0,l.Cr)(x));});w.cwa(v);}w=this;this.DW || (this.DW=!0,this.hs.OJ?this.j.Ru?this.config().WU && this.config().Yw?this.Fd.pXa(this.j.J).then(function(v){w.j.qf=v;return v.rya.then(function(){var x;x=[];w.j.Ru.forEach(function(y){x.push((0,l.Cr)(y));});return w.cwa(x,!0).then(function(){var y;if(v.S9b)w.Yd(f.M.Cfb);else {y=(0,l.Jh)(w.j,"Eme");v.hbb({log:y,On:function(z){return w.j.Dd(z);}},{Ol:w.sTa(y),onerror:function(z,A,B){return w.Yd(z,A,B);}});w.j.Nz(v.Sc || ({}));w.j.lG="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);t();}):t():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Yd(f.M.fjb)):this.Yd(f.M.YJ,f.L.Afb));};c.prototype.A7a=function(t){var w;t=void 0 === t?this.j:t;t.qf=this.AG();w=[];t.Ru.forEach(function(v){w.push((0,l.Cr)(v));});return this.cwa(w,!1,t);};c.prototype.g6=function(t){return this.config().nV?q.Yh.eo:t?q.Yh.eo:q.Yh.up;};Wa.Object.defineProperties(c.prototype,{hs:{configurable:!0,enumerable:!0,get:function(){return l.ka.get(n.CB);}},JD:{configurable:!0,enumerable:!0,get:function(){return this.Paa?"encrypted":this.Yb.dCa + "needkey";}}});u=c;r.__decorate([k.zW],u.prototype,"hs",null);r.__decorate([k.zW],u.prototype,"JD",null);u=r.__decorate([(0,h.R)()],u);b.LEa=u;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.ah=void 0;r=a(0);c=a(304);f=a(1239);l=a(305);m=a(1244);d=a(121);g=a(1246);h=a(1247);k=a(161);n=a(548);p=a(1248);q=a(549);u=a(1250);t=a(81);w=a(550);v=a(1251);b.ah=new r.rd(function(x){x(c.pea).to(f.cJa).aa();x(l.rea).to(m.oJa).aa();x(d.jK).to(g.aJa).aa();x(k.kF).to(h.ZIa).aa();x(n.iJa).to(p.hJa).aa();x(q.mJa).yf(function(y){var z;z=y.$a;return function(A){return new u.nJa(A,z.get(t.Mx),z.get(k.kF));};});x(w.PEa).yf(function(y){var z;z=y.$a;return function(A,B,E){return new v.QEa(A,B,E,z.get(k.kF),z.get(d.jK));};});});},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v,x,y){this.Zf=q;this.Xla=u;this.Vi=t;this.xxa=w;this.jTb=v;this.lTb=x;this.kTb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(1);f=a(0);l=a(1240);m=a(7);d=a(161);g=a(338);h=a(548);k=a(346);n=a(549);a=a(305);c.prototype.create=function(q){return new l.dJa(q,this.Zf,this.Xla,this.Vi,this.xxa,this.jTb,this.lTb,this.kTb);};p=c;p=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.qb)),(0,r.__param)(1,(0,f.l)(g.OQ)),(0,r.__param)(2,(0,f.l)(d.kF)),(0,r.__param)(3,(0,f.l)(k.DLa)),(0,r.__param)(4,(0,f.l)(h.iJa)),(0,r.__param)(5,(0,f.l)(n.mJa)),(0,r.__param)(6,(0,f.l)(a.rea))],p);b.cJa=p;},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p,q,u){this.xxa=n;this.oya=u;this.kV=!1;k.Oaa && (d=new m.eJa().H0b(d));this.lb=q(d);this.Fk=new l.pJa(this.lb);this.Fk.U8a(this.lb.ha.X);this.log=g.hb("PlaygraphManager");this.Ub=h.create();this.Du=p.create(this.lb,this.Fk,this.log,this.Ub);this.GYb();}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;f=a(15);l=a(1241);m=a(1243);c.prototype.dHb=function(){return this.lb.R9;};c.prototype.W5=function(){return this.lb.ha;};c.prototype.DXa=function(){return this.lb.Xg;};c.prototype.fH=function(){return this.lb.gl;};c.prototype.ti=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.lb.ti.apply(this.lb,ea(g));};c.prototype.ivb=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.lb.PQa(g);};c.prototype.VP=function(d){this.lb.gl=d;};c.prototype.yi=function(d,g){this.lb.yi(d,g);};c.prototype.xoa=function(d,g,h,k){var n,p;h=void 0 === h?{}:h;k=void 0 === k?!0:k;if(d !== this.lb.Xg)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.fH().pa[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.u9a();null === (p=h.Lm) || void 0 === p?void 0:p.isUIAutoPlay;return this.Du.yoa(g,h,k);};c.prototype.isReady=function(){return this.Du.isReady();};c.prototype.addListener=function(d,g,h){this.Ub.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Ub.removeListener(d,g);};c.prototype.Fn=function(){return this.Du.Fn();};c.prototype.Bb=function(){return this.Du.dH();};c.prototype.Iyb=function(d,g,h){var k;d=void 0 === d?this.fH().Md:d;g=void 0 === g?{}:g;k=this.oya.ETa(this);this.NTb(null !== d && void 0 !== d?d:this.fH().Md,g,h);return k;};c.prototype.crb=function(d){var g;this.log.info("Adding segment - movieId: " + d.J + ", startPts: " + d.Z + ", logicalEnd: " + d.qj);g=Object.assign({},d.Hb,d.Z?{Z:d.Z}:{},d.qj?{qj:d.qj}:{});this.j$a(d.J,g,d.oa);d=this.Du.XPa(d);this.u9a();return d;};c.prototype.transition=function(d){var g;g=this.lb.IV(this.lb.Xg);return g?this.xoa(this.lb.Xg,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Du.close(d);};c.prototype.NTb=function(d,g,h){var k;void 0 === d && (d=null === (k=this.fH()) || void 0 === k?void 0:k.Md);(g || h) && this.j$a(this.fH().pa[d].X,null !== g && void 0 !== g?g:{},h);this.Du.jI(d);};c.prototype.j$a=function(d,g,h){h && this.Fk.CL(d,h);this.Fk.Tqb(d,g);};c.prototype.GYb=function(){var d;d=this;this.lb.f_b(function(){d.Fk.Tw();d.Du.Tw();});this.lb.g_b(function(g){d.Du.Psa(g);});this.lb.e_b(function(g){d.Du.WH(g);});this.addListener(f.lF.IY,function(){return d.sRb();});this.addListener(f.Da.c0a,function(g){return d.fRb(g);});};c.prototype.u9a=function(){var d;d=this;this.kV || (this.Bb().Uha(f.ca.EI,function(g){return d.MD(g);}),this.kV=!0);};c.prototype.fRb=function(d){var g;g=this;this.Du.Iab(d).catch(function(){return g.Ub.Fc(f.Da.error,d.DZ());});};c.prototype.sRb=function(){var d;d=this.Bb().getError();d?this.Ub.Fc(f.Da.QL,d):(this.Ub.Fc(f.Da.z3),this.Ub.Fc(f.Da.hm),this.Ub.Fc(f.Da.jv),this.Ub.Fc(f.Da.Rl),this.Ub.Fc(f.Da.JZ),this.Ub.Fc(f.Da.QL));};c.prototype.MD=function(d){var g,h,k;!1;g=d.metrics;if(g){h=this.Bb();k=h.Fl(d.position.segmentId);g=h.Fl(g.srcsegment);this.xxa.rUb(d,k,g,! !h.TYa().Hl);}};b.dJa=c;},function(r,b,a){var f;function c(l){this.za=l;this.aQ={};this.Tw();}Object.defineProperty(b,"__esModule",{value:!0});b.pJa=void 0;f=a(1242);c.prototype.Tw=function(){var l;l=this;Object.values(this.za.gl.pa).forEach(function(m){m=m.X;l.aQ[m] || l.X_a(m);});this.Iaa();};c.prototype.oN=function(l){return this.aQ[l];};c.prototype.$Xb=function(l){this.KV(l).state=f.cy.ICa;this.Iaa();};c.prototype.ZXb=function(l,m){l=this.KV(l);l.state=f.cy.Error;l.error=m;l.Y7a(!1);this.Iaa();};c.prototype.U8a=function(l){l=this.KV(l);l.state=f.cy.rfb;l.Y7a(!0);this.Iaa();};c.prototype.Tqb=function(l,m){this.KV(l).Hb=m;};c.prototype.CL=function(l,m){this.KV(l).oa=m;};c.prototype.KV=function(l){var m;return null !== (m=this.oN(l)) && void 0 !== m?m:this.X_a(l);};c.prototype.X_a=function(l){var m,d;m=void 0;d=new Promise(function(g,h){m=function(k){(k?g:h)();};});return this.aQ[l]={state:f.cy.PGa,TUb:d,Y7a:m};};c.prototype.Iaa=function(){var m;for(var l=this.za.Xg;l=this.za.IV(l);){m=this.oq(l);if(this.aQ[m].state === f.cy.Error)break;if(this.aQ[m].state === f.cy.ICa)break;if(this.aQ[m].state === f.cy.PGa)break;}};c.prototype.oq=function(l){return this.za.gl.pa[l].X;};b.pJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cy=void 0;r=b.cy || (b.cy={});r[r.PGa=0]="None";r[r.ICa=1]="Fetching";r[r.rfb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;f=a(67);c.prototype.H0b=function(l){var m;if(!this.vLb(l.pa))return l;m=new f.EB().KI(l.Md);Object.entries(l.pa).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;d === l.Md?m.Ok(d,Object.assign(Object.assign({},g),{next:void 0,Ob:void 0,Qe:void 0})):m.Ok(d,g);});return m.gi();};c.prototype.vLb=function(l){l=Object.values(l).map(function(m){return m.X;});return 1 === new Set(l).size;};b.eJa=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.Ba=g;this.vMb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;r=a(1);f=a(0);l=a(18);m=a(550);c.prototype.create=function(g){return new (a(306).y1)(this.Ba.Xb(),g);};c.prototype.ETa=function(g){return new (a(1245).cMa)(this.Ba.Xb(),g,this.vMb);};d=c;d=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kd)),(0,r.__param)(1,(0,f.l)(m.PEa))],d);b.oJa=d;},function(r,b,a){var f;function c(l,m,d){var g;g=f.y1.call(this,l,m) || this;g.seek=function(h){return g.Bb().seek(h);};g.addEpisode=function(h){return g.Aqa.Dqb(h);};g.playNextEpisode=function(h){h=void 0 === h?{}:h;return g.Aqa.TSb(h);};g.watchCredits=function(h){return g.Aqa.d3b(h);};g.playSegment=function(h){return g.Bb().M5a(h);};g.queueSegment=function(h){return g.Bb().F6a(h);};g.updateNextSegmentWeights=function(h,k){return g.Bb().yi(h,k);};g.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {ya:p.segmentId,hO:p.nextSegmentId};});g.ah.ti.apply(g.ah,ea(k));};g.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return g.ah.ivb.apply(g.ah,ea(k));};g.goToNextSegment=function(h,k){return g.ah.xoa(h,k);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return ! !g.Bb().QV().visibility;};g.setTimedTextVisibility=function(h){return g.setTimedTextVisible(h);};g.setTimedTextSize=function(h){return g.Bb().sP({size:h});};g.setTimedTextBounds=function(h){return g.Bb().sP({bounds:h});};g.setTimedTextMargins=function(h){return g.Bb().sP({margins:h});};g.setTimedTextVisible=function(h){return g.Bb().sP({visibility:h});};g.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};g.Aqa=d(l,m,g.log);return g;}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;f=a(306);na(c,f.y1);b.cMa=c;},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;r=a(1);f=a(121);l=a(0);m=a(67);c.prototype.Dyb=function(d){var k,n,p;for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}k=this;if(0 === g.length)throw Error("Empty playgraph");n=new m.EB().KI(this.Nr(g[0]));g.reverse().forEach(function(q){var u;u=k.Nr(q);n.Ok(u,Object.assign({X:q,Db:0,Ob:Infinity},p?{Qe:p}:{}));p=u;});return n.gi();};c.prototype.Nr=function(d,g){g=void 0 === g?f.mF.hda:g;return d + ":" + g;};c.prototype.Irb=function(d,g){var h,k,n,p;if(void 0 === n)n=null !== (h=g.id) && void 0 !== h?h:this.Nr(g.J);h=this.nYa(d);p=new m.EB(d);p.Ok(n,{X:g.J,Db:null !== (k=g.Z) && void 0 !== k?k:0,Ob:Infinity});d=d.pa[h];g={};p.Ok(h,Object.assign({},d,{Qe:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return p.gi();};c.prototype.nYa=function(d){for(var g=d.Md,h=g;h=d.pa[h].Qe;){g=h;}return g;};a=c;a=r.__decorate([(0,l.R)()],a);b.aJa=a;},function(r,b,a){var f,l,m,d,g;function c(h){return l.$e.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=void 0;r=a(1);f=a(0);l=a(47);m=a(37);d=a(46);g=a(4);na(c,l.$e);Wa.Object.defineProperties(c.prototype,{TTb:{configurable:!0,enumerable:!0,get:function(){return 2;}},STb:{configurable:!0,enumerable:!0,get:function(){return (0,g.N8)(3);}},hya:{configurable:!0,enumerable:!0,get:function(){return !1;}},Oaa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gbb:{configurable:!0,enumerable:!0,get:function(){return !1;}},IWa:{configurable:!0,enumerable:!0,get:function(){return !1;}},T9:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.bB,"prepareSegmentsUpfront")],a.prototype,"TTb",null);r.__decorate([d.config(d.al,"prepareSegmentsDuration")],a.prototype,"STb",null);r.__decorate([d.config(d.ed,"usePlaygraphForPostPlay")],a.prototype,"hya",null);r.__decorate([d.config(d.ed,"usePlaygraphForSkipSegment")],a.prototype,"Oaa",null);r.__decorate([d.config(d.ed,"useSinglePlayerPlayback")],a.prototype,"Gbb",null);r.__decorate([d.config(d.ed,"forcePlaygraphTrace")],a.prototype,"IWa",null);r.__decorate([d.config(d.ed,"postPlayDefaultNextEpisode")],a.prototype,"T9",null);a=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(m.Xl))],a);b.ZIa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(u,t,w,v,x,y,z){this.Ba=u;this.nXb=w;this.Vi=x;this.Gm=z;this.mXb=t.SC(!1,"6.0033.572.911",u.id,y,v);}Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;r=a(1);f=a(0);l=a(18);m=a(161);d=a(1249);g=a(343);h=a(210);k=a(13);n=a(551);p=a(39);a=a(121);c.prototype.create=function(u,t,w,v){var x,y;x=this.nXb.uyb(u,this.mXb,t);y=u.iya;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.IKa(this.Vi,u,t,w,x,v,this.Gm):new n.ZE(u,t,x,v,this.Gm);};q=c;q=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(l.kd)),(0,r.__param)(1,(0,f.l)(g.uKa)),(0,r.__param)(2,(0,f.l)(h.Lea)),(0,r.__param)(3,(0,f.l)(k.ad)),(0,r.__param)(4,(0,f.l)(m.kF)),(0,r.__param)(5,(0,f.l)(p.PR)),(0,r.__param)(6,(0,f.l)(a.jK))],q);b.hJa=q;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q,u,t){var w;w=d.ZE.call(this,k,n,q,u,t) || this;w.Vi=h;w.ta=p;w.kV=!1;w.Sla=new Map();w.iRb=function(){w.dH().Uha(l.ca.EI,function(v){w.Ub.Fc(l.lF.IY);w.lb.Xg=v.position.segmentId;});};w.gKb();u.addListener(l.Da.loaded,w.iRb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;f=a(67);l=a(15);m=a(3);d=a(551);g=a(121);na(c,d.ZE);c.prototype.XPa=function(h){var k,n,p,q,u,t,w,v,x,y,z;k=this;p=this.lb.gl;q=this.Gm.Nr(h.J,"ident");u=this.Gm.Nr(h.J,"main");t=this.Gm.Nr(h.J,"credits");w=isFinite(h.qj);v=isFinite(h.Z) && h.J !== p.pa[p.Md].X;x={};y=new f.EB(p).Ok(u,Object.assign({X:h.J,Db:v && h.Z || 0,Ob:null !== (n=h.qj) && void 0 !== n?n:Infinity},w?{next:(x[t]={},x),Qe:t}:{}));v && (n={},y.Ok(q,{X:h.J,Db:0,Ob:h.Z,next:(n[u]={},n),Qe:u}));w && y.Ok(t,{X:h.J,Db:h.qj,Ob:Infinity});if(!this.lb.cE(u)){h=p.pa[this.Gm.nYa(p)].X;z=this.Gm.Nr(h,g.mF.dAa);[this.Gm.Nr(h,g.mF.hda),z].filter(function(A){return k.lb.cE(A);}).forEach(function(A){var B,E,D;B=k.lb.sf(A);E=A === z || k.Vi.T9;D={};y.Ok(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},E?{Qe:u}:{}));});}this.lb.gl=y.gi();return this.jI(u);};c.prototype.Tw=function(){this.isReady() && this.dH().Tw();};c.prototype.Psa=function(){};c.prototype.WH=function(h){this.dH().WH(h);};c.prototype.yoa=function(h,k,n){k=void 0 === k?{}:k;this.ta.debug("goToSegment " + h);return this.dH().SV(h,k,n);};c.prototype.jI=function(h){if(h === this.lXb)return null;this.lXb=h;return this.kV?this.Fk.oN(this.lb.sf(h).X).TUb:(this.kV=!0,d.ZE.prototype.jI.call(this,h));};c.prototype.Iab=function(h){return h.errorCode && this.Sla.has(h.errorCode)?this.Sla.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.gKb=function(){var h;h=this;this.Sla.set(m.M.qHa,function(){var k,n;return null !== (n=null === (k=d.ZE.prototype.jI.call(h,h.lb.Xg)) || void 0 === k?void 0:k.then(function(){var p,q;d.ZE.prototype.yoa.call(h,h.lb.Xg,null !== (q=null === (p=h.Fk.oN(h.lb.ha.X)) || void 0 === p?void 0:p.Hb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.IKa=c;},function(r,b,a){var f,l;function c(m,d,g){this.Mz=d;this.Vi=g;this.s2={};this.abb=[];this.J9a=[];this.P3a=[];this.qia=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;f=a(67);l=a(67);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.pa).length && 1 === new Set(Object.values(m.pa).map(function(g){return g.X;})).size;this.bqb=this.Vi.Gbb || d;this.g9a(m);this.Xg=m.Md;this.Kob=this.Mz.bz();this.zwa=new Map();};c.prototype.o6=function(m){if(this.iya)return this.gl;this.qia.has(m) || this.qia.set(m,(0,f.OI)(m.J,m.ya));return this.qia.get(m);};c.prototype.g9a=function(m){this.Lob=m;this.s2={};m=Object.keys(m.pa);this.PQa(m);this.pQb();};c.prototype.ti=function(m){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(k){return h.cE(k.ya);}).filter(function(k){k=k.hO;return !k || h.cE(k);}).forEach(function(k){var n;n=k.ya;h.s2[n]=h.k4a(k.hO);h.gQb(n);});};c.prototype.PQa=function(m){var d;d=this;m.filter(function(g){return d.cE(g);}).forEach(function(g){d.s2[g]=d.k4a(d.sf(g).Qe);});};c.prototype.yi=function(m,d){var g,h,k;g=this.sf(m);if(g && g.next){h=new l.EB(this.gl);k=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});k=Object.assign({},g,{next:k});h.Ok(m,k);this.gl=h.gi();}};c.prototype.cE=function(m,d){d=void 0 === d?this.gl.pa:d;return (m in d);};c.prototype.IV=function(m){return this.s2[m];};c.prototype.sf=function(m){return this.gl.pa[m];};c.prototype.DHb=function(m){if(this.zwa.has(m))return this.zwa.get(m);m=this.sf(m);return isFinite(m.Ob)?m.Ob:void 0;};c.prototype.I1b=function(m,d){this.zwa.set(m,d);this.lQb(m);};c.prototype.f_b=function(m){this.abb.push(m);};c.prototype.g_b=function(m){this.J9a.push(m);};c.prototype.e_b=function(m){this.P3a.push(m);};c.prototype.pQb=function(){var m;m=this;this.abb.forEach(function(d){return d(m.gl);});};c.prototype.gQb=function(m){this.P3a.forEach(function(d){return d(m);});};c.prototype.lQb=function(m){this.J9a.forEach(function(d){return d(m);});};c.prototype.k4a=function(m){return null === m?void 0:m;};Wa.Object.defineProperties(c.prototype,{R9:{configurable:!0,enumerable:!0,get:function(){return this.Kob;}},iya:{configurable:!0,enumerable:!0,get:function(){return this.bqb;}},gl:{configurable:!0,enumerable:!0,get:function(){return this.Lob;},set:function(m){if(this.Xg && !this.cE(this.Xg,m.pa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Xg);this.g9a(m);}},Xg:{configurable:!0,enumerable:!0,get:function(){return this.Vlb;},set:function(m){if(!this.cE(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.Vlb=m;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.sf(this.Xg);}}});b.nJa=c;},function(r,b,a){var f,l;function c(m,d,g,h,k){this.wk=m;this.ah=d;this.log=g;this.Vi=h;this.Gm=k;this.L9=new f.mea();}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;f=a(552);l=a(121);c.prototype.Dqb=function(m){var d,g,h,k,n,p,q;this.log.info("Next episode added",m);p=this.L9.ira(m.playbackParams);q=Math.max(0,null !== (h=null !== (g=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== g?g:p.Z) && void 0 !== h?h:0);d=null !== (n=null !== (k=m.endPts) && void 0 !== k?k:m.currentEndPts) && void 0 !== n?n:p.qj;return this.ah.crb({J:m.movieId,Z:q,qj:d,Hb:p,oa:m.manifest,wk:this.wk});};c.prototype.TSb=function(m){var d,g,h,k,n,p;m=this.L9.ira(m);this.log.info("Playing the next episode",m);h=this.ah.DXa();k=this.ah.fH();n=k.pa[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.X !== k.pa[q].X;});d=!this.Vi.T9 || !(null === (g=m.Lm) || void 0 === g?0:g.isUIAutoPlay);return p?this.ah.xoa(h,p,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.d3b=function(m){var d,g;d=this.Gm.Nr(m,l.mF.hda);m=this.Gm.Nr(m,l.mF.dAa);g=this.ah.lb;this.Vi.T9 && g.Xg !== m && g.cE(m) && g.IV(d) !== m && this.ah.ti({ya:d,hO:m});};b.QEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;r=a(0);c=a(1253);f=a(31);b.SQa=new r.rd(function(l){l(f.ih).to(c.lza).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,u,t,w;function c(v,x,y,z,A,B){var E;E=this;this.nl=v;this.config=y;this.Zo=z;this.debug=A;this.Ba=B;this.lab=[];this.Sc={};this.log=x.hb("loadAsync");this.ENb=(0,u.QCa)(function(D){E.AVb=!0;E.startTime=E.Ba.Xb().da(p.ja);E.load(E.lab).then(function(){E.endTime=E.Ba.Xb().da(p.ja);D(w.Ze);}).catch(function(F){E.endTime=E.Ba.Xb().da(p.ja);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;r=a(1);f=a(72);l=a(3);m=a(1254);d=a(63);g=a(0);h=a(7);k=a(13);n=a(64);p=a(4);q=a(96);u=a(553);t=a(18);w=a(12);c.prototype.ON=function(v){this.ENb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.AVb);this.lab.push({$Mb:this.bub(x),errorCode:v});};c.prototype.Dd=function(v){this.debug.assert(void 0 === this.Sc[v]);this.Sc[v]=this.Ba.Xb().da(p.ja);};c.prototype.load=function(v){var x;x=this;return (0,m.o6a)(v).then(function(y){x.nl.mark(d.co.Qj.Jcb);return y.reduce(function(z,A){return z.then(function(){return x.XMb(A);});},Promise.resolve()).then(function(){x.nl.mark(d.co.Qj.Hcb);});});};c.prototype.XMb=function(v){var x,y;x=this;y=v.$Mb;!1;return this.Zo.Jq((0,p.Oc)(this.config().csb),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.nl.mark(d.co.Qj.Icb);if(z instanceof n.kr)throw {na:l.L.Gcb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.na=z.na || l.L.Fcb;throw z;});};c.prototype.bub=function(v){return function(){return new Promise(function(x,y){v(function(z){z.$?x():y(z);});});};};a=c;a=r.__decorate([(0,g.R)(),(0,r.__param)(0,(0,g.l)(f.pF)),(0,r.__param)(1,(0,g.l)(h.qb)),(0,r.__param)(2,(0,g.l)(k.ad)),(0,r.__param)(3,(0,g.l)(n.Wx)),(0,r.__param)(4,(0,g.l)(q.sv)),(0,r.__param)(5,(0,g.l)(t.kd))],a);b.lza=a;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.o6a=void 0;c=a(3);f=[c.M.Ggb,c.M.ZDa,c.M.XDa,c.M.YDa,c.M.cEa,c.M.UDa,c.M.SDa,c.M.Nca,c.M.eEa,c.M.VDa,c.M.Dgb,c.M.Egb,c.M.TDa,c.M.uB,c.M.PDa,c.M.RDa,c.M.$Da,c.M.aEa,c.M.bEa,c.M.Hgb,c.M.Jgb,c.M.Ngb,c.M.Lgb,c.M.Kgb,c.M.Igb,c.M.Mgb,c.M.Pgb,c.M.WDa,c.M.Ogb,c.M.QDa];(function(m){m.qib=function(d){var k;for(var g={},h=0;h < d.length;h++){k=d[h];if(g[k.errorCode])return {errorCode:k.errorCode,na:c.L.Dcb};g[k.errorCode]=1;}};m.rib=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,na:c.L.Ecb};}};})(l || (l={}));b.o6a=function(m){return new Promise(function(d,g){var h;h=l.rib(m);h && g(h);(h=l.qib(m)) && g(h);d(m.sort(function(k,n){return f.indexOf(k.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.oa=void 0;r=a(0);c=a(1256);f=a(119);b.oa=new r.rd(function(l){l(f.UE).to(c.LFa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u,t,w,v){this.jg=u;this.INb=w;this.pY=new Map();this.log=q.hb("ManifestFetcher");this.Fg=t.Fg;this.Dtb=v().PBb;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;r=a(1);f=a(0);l=a(18);m=a(41);d=a(7);g=a(4);h=a(13);k=a(103);n=a(51);a=a(292);c.prototype.bN=function(q,u,t){var w;w=this;u=void 0 === u?!0:u;t && this.Xqb(q.X,t);return u && this.Coa(q.X)?this.R5(q.X).catch(function(){return w.D7a(q,u);}):this.D7a(q,u);};c.prototype.Coa=function(q){return this.Fg.YV(q,"manifest");};c.prototype.gZ=function(q,u){var t;t=this;this.Dtb && this.Fg.setData(q,"manifest",u,function(){return t.vIb(q);});};c.prototype.R5=function(q){var u;u=this;return this.Fg.getData(q,"manifest").then(function(t){if(!t)throw Error("Manifest not found");if(t.$b.expiration <= (0,n.a4)())throw (u.Fg.clearData(q,"manifest"),Error("Manifest has expired"));return t;});};c.prototype.vIb=function(q){var u;null === (u=this.pY.get(q)) || void 0 === u?void 0:u.forEach(function(t){return t();});this.pY.delete(q);};c.prototype.Xqb=function(q,u){this.pY.has(q) || this.pY.set(q,[]);this.pY.get(q).push(u);};c.prototype.D7a=function(q,u){var t,w,v;t=this;this.log.trace("Requesting a new manifest",q.X);w=this.jg.Xb().da(g.ja);v=this.INb.pg(this.log,q).then(function(x){var y,z;if(x.qw){y=x.qw;z={N$:Promise.resolve(y),source:"manifest"};delete x.qw;t.Fg.setData(q.X,"ldl",z,function(){y.close().catch(function(A){t.log.info("Unable to cleanup LDL session.",A);});});}q.Xt === k.Ym.hF && (x.uI=w,x.ZO=t.jg.Xb().da(g.ja));return x;}).catch(function(x){u && t.gZ(q.X,void 0);t.log.error("Failed to fetch manifest",m.qd.wd(x));throw x;});u && this.gZ(q.X,v);return v;};p=c;p=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(d.qb)),(0,r.__param)(1,(0,f.l)(l.kd)),(0,r.__param)(2,(0,f.l)(a.Sba)),(0,r.__param)(3,(0,f.l)(k.Vda)),(0,r.__param)(4,(0,f.l)(h.ad))],p);b.LFa=p;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.sQa=void 0;c=a(1258);f=a(123);r=a(0);l=a(94);m=a(13);b.sQa=new r.rd(function(d){d(f.AJ).to(c.Mya).aa();});b.profile=new r.rd(function(d){d(l.TR).qE(function(g){return (g=g.$a.get(m.ad)()) && g.tw?"browsertest":"browser";});});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){k=d.$e.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.Daa=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;r=a(1);f=a(0);l=a(40);m=a(46);d=a(47);g=a(37);a=a(277);na(c,d.$e);c.prototype.NGb=function(k){return "" + this.FVa + (this.Daa.U$(k)?"/msl_v1":"");};c.prototype.YGb=function(k){return "" + this.host + (this.Daa.U$(k)?"/msl":"") + "/playapi";};Wa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},FVa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.FM){case l.Ix.mkb:k="www.stage";break;case l.Ix.mLa:k="www-qa.test";break;case l.Ix.vEa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},lRa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"FVa",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"lRa",null);h=r.__decorate([(0,f.R)(),(0,r.__param)(0,(0,f.l)(g.Xl)),(0,r.__param)(1,(0,f.l)(l.Wm)),(0,r.__param)(2,(0,f.l)(a.w1)),(0,r.__param)(3,(0,f.l)(g.L_)),(0,r.__param)(3,(0,f.optional)())],h);b.Mya=h;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.t2b=b.tkb=b.rkb=b.qkb=b.skb=void 0;c=a(30);f=a(11);b.skb=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.qkb=function(l,m,d){d=(0,c.Se)(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.rkb=function(l,m){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof g[k]?g[k]:h;});};b.tkb=function(l){for(var m=l.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=l.charCodeAt(g);}return d.buffer;};b.t2b=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,g){m[g]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(113);a=a(289);r.ka.get(b.$J).k$(a.eda.aeb,function(c){var f,l;f=c.level;if(!nb._cad_global.config || f <= nb._cad_global.config.rNb){c=c.saa();l=nb.console;1 >= f?l.error(c):2 >= f?l.warn(c):l.log(c);}});},function(r,b,a){var h,k,n,p,q;function c(u){var t,v;(0,k.nM)(u);if((0,n.Se)(u) && b.hEa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,n.He)(t[w]);if(0 > v || !(0,q.Wz)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function f(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,n.He)(u[0]) << 24,t+=(0,n.He)(u[1]) << 16,t+=(0,n.He)(u[2]) << 8,t + (0,n.He)(u[3]));}function l(u){var t,w;(0,k.nM)(u);if((0,n.Se)(u) && u.match(b.iEa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=m(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,q.Wz)(w,0,h.wFa))return;}return t.join(":");}}}function m(u){var t;u=f(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.fhb=b.khb=b.hhb=b.ghb=b.jhb=b.ehb=b.ihb=b.ME=b.iEa=b.hEa=void 0;h=a(12);k=a(21);n=a(30);p=a(11);q=a(19);b.hEa=/^[0-9.]*$/;b.iEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.ME="0000000000000000";b.ihb=c;b.ehb=f;b.jhb=l;b.ghb=m;b.hhb=d;b.khb=function(u,t,w){var v,x,y,z;v=c(u);x=l(u);y=c(t);z=l(t);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(u === v)return (w=g(w),(f(u) & w) !== (f(t) & w)?!1:!0);if(u === x){u=u.split(":");t=t.split(":");for(v=(0,p.xB)(w / b.ME.length);v--;){if(u[v] !== t[v])return !1;}w%=b.ME.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.ME.substring(0,b.ME.length - u.length) + u,t=b.ME.substring(0,b.ME.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.fhb=g;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(14);a(12);r=a(8);a(113);a(289);a(3);a(112);a(4);a=a(31);r.ka.get(a.ih);!1;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(50);f=a(12);l=a(14);m=a(3);d=a(198);g=a(34);h=a(11);k=a(8);r=a(31);n=k.ka.get(r.ih);n.register(m.M.cEa,function(p){h.Vp && h.Vp.generateKey && h.Vp.importKey && h.Vp.unwrapKey?!k.ka.get(g.CB).Zba && l.config.LL != d.yx.rjb && l.config.LL != d.yx.Ehb || h.L0?(n.Dd("wcs"),(0,c.ZH)(h.Vp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Dd("wcdone");p(f.Ze);},function(q){var u;q="" + q;if(0 <= q.indexOf("missing crypto.subtle"))u=m.L.ifa;else 0 <= q.indexOf("timeout waiting for iframe to load") && (u=m.L.Mkb);p({na:u,ub:q});})):p({na:m.L.Lkb}):p({na:m.L.ifa});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);f=a(506);a=a(31);c.ka.get(a.ih).register(r.M.SDa,function(l){c.ka.get(f.OBa)().then(function(){l({$:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({$:!0});});});},function(r,b,a){var m,d,g,h;function c(k,n,p,q){var u,t,w;(0,m.gb)((0,h.Lh)(k) && !(0,h.isArray)(k));q=q || "";u="";t=k.hasOwnProperty(g.Gk) && k[g.Gk];t && (0,d.te)(t,function(v,x){u && (u+=" ");u+=v + '="' + l(x) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=k.hasOwnProperty(g.Ps) && k[g.Ps].trim && "" !== k[g.Ps].trim() && k[g.Ps];if(w)return t + ">" + l(w) + "</" + p + ">";k=f(k,n,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function f(k,n,p){var q;(0,m.gb)((0,h.Lh)(k) && !(0,h.isArray)(k));p=p || "";q="";(0,d.te)(k,function(u,t){var x;if("$" != u[0])for(var w=(0,d.Hw)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,h.Lh)(t)))q+=c(t,n,u,p);else {x=(n?n + ":":"") + u;q+=p + "<" + x + ">" + l(t) + "</" + x + ">";}}});return q;}function l(k){if((0,h.Se)(k))return (0,d.bW)(k);if((0,h.Ca)(k))return ((0,m.yU)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,m.gb)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.q0b=b.SLb=b.RLb=void 0;m=a(21);d=a(24);g=a(158);h=a(19);b.RLb=c;b.SLb=f;b.q0b=l;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(296);f=a(192);l=a(14);m=a(12);d=a(3);g=a(21);h=a(8);k=a(72);n=a(63);p=a(79);q=a(24);u=a(11);t=a(19);w=a(50);v=a(112);x=a(4);r=a(31);y=a(477);z={};A=h.ka.get(r.ih);A.register(d.M.VDa,function(B){var C,G,K,J,I,M,R,H,P,N,L,Q,S,U;function E(ca){ca && ca.userList && l.config.QYb && (ca.userList=[]);J({esn:f.gk.Wk,esnPrefix:f.gk.Go,authenticationType:l.config.LL,authenticationKeyNames:l.config.aRa,systemKeyWrapFormat:l.config.D_b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:ca,notifyMilestone:A.Dd.bind(A),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.L.Shb,MSL_READ_TIMEOUT:d.L.Rhb}},{result:function(ka){D(ka);},timeout:function(){B({na:d.L.FFa});},error:function(ka){B(F(d.L.FFa,void 0,ka));}});}function D(ca){var ya,qa,Y;function ka(){Q && h.ka.get(p.mB).create().then(function(ua){return ua.save(N,qa,!1);}).catch(function(ua){R.error("Error persisting msl store",(0,d.Ws)(ua));});}ya=h.ka.get(v.pK)((0,x.Oc)(100));Y=I.extend({init:function(ua){this.hOa=ua;},getResponse:function(ua,O,T){var ja,ma;O=this.hOa;ja=O.D3a.jf || ja;ua=(0,t.aqa)(ua.body)?(0,h.UZ)(ua.body):ua.body;(0,g.nM)(ua,"Msl should not be sending empty request");ua={url:O.url,Kta:ua,withCredentials:!0,HC:"nq-" + O.method,headers:O.headers};O=this.hOa.timeout;ua.i4=O;ua.jsa=O;ma=ja.download(ua,function(ta){try{if(ta.$)T.result({body:ta.content});else if(400 === ta.ik && ta.ub)T.result({body:ta.ub});else throw (0,q.Zb)(new M("HTTP error, SubCode: " + ta.na + (ta.ik?", HttpCode: " + ta.ik:"")),{cadmiumResponse:ta});}catch(Ka){T.error(Ka);}});return {abort:function(){ma.abort();}};}});P && ca.addEventHandler("shouldpersist",function(ua){qa=ua.storeState;ya.Pl(ka);});(0,q.Zb)(z,{qac:function(){L=!0;},send:function(ua){function O(){var T,ja;T=ua.D3a;ja={method:ua.method,nonReplayable:ua.TPb,encrypted:ua.Uk,userId:ua.r2b,body:ua.body,timeout:2 * ua.timeout,url:new Y(ua),allowTokenRefresh:Q,sendUserAuthIfRequired:U,shouldSendUserAuthData:l.config.UYb};T.email?(ja.email=T.email,ja.password=T.password || ""):T.s0b?(ja.token=T.s0b,ja.mechanism=T.gbc,T.$ra && (ja.netflixId=T.$ra,ja.secureNetflixId=T.jXb),T.dua && (ja.profileGuid=T.dua)):T.$ra?(ja.netflixId=T.$ra,ja.secureNetflixId=T.jXb):T.xOb?(ja.mdxControllerToken=T.xOb,ja.mdxPin=T.ebc,ja.mdxNonce=T.dbc,ja.mdxEncryptedPinB64=T.cbc,ja.mdxSignature=T.fbc):L || T.useNetflixUserAuthData?ja.useNetflixUserAuthData=!0:T.dua && (ja.profileGuid=T.dua);return ja;}return new Promise(function(T,ja){var ma;ma=O();ca.send(ma).then(function(ta){L && (L=!1);T({$:!0,body:ta.body});}).catch(function(ta){var Ka,Ua;if(ta.error){Ka=ta.error.cadmiumResponse && ta.error.cadmiumResponse.na?ta.error.cadmiumResponse.na:ca.isErrorReauth(ta.error)?d.L.EFa:ca.isErrorHeader(ta.error)?d.L.Lhb:d.L.Khb;Ua=ca.getErrorCode(ta.error);ja(F(Ka,Ua,ta.error));}else (R.error("Unknown MSL error",ta),ta.Cc=ta.subCode,ja({na:ta.Cc?ta.Cc:d.L.Thb}));});});},fX:ca});B(m.Ze);h.ka.get(y.zda).EPb(z);}function F(ca,ka,ya){var qa,Y,ua,O;ua={na:ca,f5:ka};if(ya){O=function(T){var ja;T=T || "" + ya;if(ya.stack){ja="" + ya.stack;T=0 <= ja.indexOf(T)?ja:T + ja;}return T;};if(Y=ya.cadmiumResponse){if(qa=Y.rf && Y.rf.toString())Y.rf=qa;Y.na=ca;Y.f5=ka;Y.ub=O(ya.message);Y.error={Cc:ca,Kd:qa,qA:ka,data:ya.cause,message:ya.message};return Y;}O=O(ya.errorMessage);qa=(0,q.He)(ya.internalCode) || (0,q.He)(ya.error && ya.error.internalCode);Y=void 0 !== ya.wCb?(0,w.zsa)(ya.wCb):void 0;}O && (ua.ub=O);qa && (ua.rf=qa);ua.error={Cc:ca,Kd:qa.toString(),qA:ka,data:Y,message:O};return ua;}(0,g.gb)(l.config);C=h.ka.get(k.pF);G=n.co.Qj;if(u.AB && u.Vp && u.Vp.unwrapKey){try{K=nb.netflix.msl;J=K.createMslClient;I=K.IHttpLocation;M=K.MslIoException;}catch(ca){B({na:d.L.Mhb});return;}R=(0,h.Oi)("Msl");H=l.config.APb;P=l.config.CPb;N=l.config.tw?"mslstoretest":"mslstore";K=c.VI.M8a;L=l.config.WJb;Q=!K || K.$;S=(0,h.Cr)(l.config.tw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");U=! !l.config.Tva;h.ka.get(p.mB).create().then(function(ca){H?ca.remove(N).then(function(){E();}).catch(function(ka){R.error("Unable to delete MSL store",(0,d.Ws)(ka));E();}):P?ca.load(N).then(function(ka){C.mark(G.Ohb);E(ka.value);}).catch(function(ka){ka.na == d.L.IB?(C.mark(G.Qhb),E()):(R.error("Error loading msl store",(0,d.Ws)(ka)),C.mark(G.Phb),ca.remove(N).then(function(){E();}).catch(function(ya){B(ya);}));}):E();}).catch(function(ca){R.error("Error creating app storage while loading msl store",(0,d.Ws)(ca));B(ca);});}else B({na:d.L.Nhb});});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(12);l=a(14);m=a(59);d=a(51);r=a(3);g=a(8);h=a(72);k=a(11);n=a(62);p=a(19);q=a(49);u=a(89);a=a(31);v=g.ka.get(a.ih);v.register(r.M.TDa,function(x){var z;function y(){var A,B,E;A=v.startTime;B={browserua:k.BB,browserhref:k.N0.href,initstart:A,initdelay:v.endTime - A};(A=k.Be.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);(0,p.Xz)(l.config.fWa) && (B.fesn=l.config.fWa);Object.assign(B,(0,c.Xna)());E=k.Av && k.Av.timing;E && l.config.oNb.map(function(D){var F;F=E[D];F && (B["pt_" + D]=F - (0,d.xSa)());});A=z.sYa();Object.entries(A).forEach(function(D){var F;F=aa(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=w.Kt("startup","info",B,m.DB.xma);t.Hc(A);}w=g.ka.get(u.Ox);t=g.ka.get(q.Xm);z=g.ka.get(h.pF);v.ON(function(){t.xb();(0,n.Uf)(y);});x(f.Ze);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(44);l=a(515);m=a(1270);d=a(301);g=a(14);h=a(12);k=a(190);n=a(555);p=a(51);r=a(3);q=a(8);u=a(284);t=a(11);w=a(297);b=a(31);v=a(59);x=a(134);q.ka.get(b.ih).register(r.M.PDa,function(y){var z,A,B,E,D,F,C;z=q.ka.get(u.Q0).uka();A=q.ka.get(k.lca).KJ;B=q.ka.get(l.lGa).cr;E={BO:(0,q.tV)("ASE"),Orb:(0,q.tV)("JS-ASE",void 0,"Platform"),Oi:q.tV,storage:w.storage,MGb:t.IJ,getTime:p.dk,LN:{},cr:B,Cv:m.Cv,KJ:A,MediaSource:n.oGa,SourceBuffer:d.tda,Jo:function(){return [g.config.ET,g.config.FT];},Jt:function(G){v.ho.forEach(function(K){K.l9a(G);});}};A=new Promise(function(G){w.storage.load("nh",function(K){E.LN.nh=K.$?K.data:void 0;G();});});B=new Promise(function(G){w.storage.load("lh",function(K){E.LN.lh=K.$?K.data:void 0;G();});});D=new Promise(function(G){w.storage.load("gh",function(K){E.LN.gh=K.$?K.data:void 0;G();});});F=new Promise(function(G){w.storage.load("sth",function(K){E.LN.sth=K.$?K.data:void 0;G();});});C=new Promise(function(G){w.storage.load("vb",function(K){E.LN.vb=K.$?K.data:void 0;G();});});Promise.all([A,B,C,F,D]).then(function(){return (0,c.__awaiter)(this,void 0,void 0,function K(){var J,I,M;return Ja(K,function(R){var H;if(1 == R.SH){J=a(1272)(E);x.qn.Oe=a(556);x.qn.Oe.declare(f.mj);x.qn.Oe.set(a(186)(g.config),!0,(0,q.tV)("ASE"));I=f.e2a(J);x.qn.NQa=new I(x.qn.Oe,z);x.qn.NQa.xb(g.config.ET,g.config.FT,{BO:E.BO},g.config.bP);H=f.cH(J);R.SH=2;return {value:H};}M=R.Bya;M.open(x.qn.Oe,z);M.Yva({audio:g.config.ET,video:g.config.FT},{W:g.config.bP,fa:void 0});x.qn.vi=M;y(h.Ze);R.SH=0;});});}).catch(function(G){E.BO.error("Exception loading location history from local storage",G);});});},function(r,b,a){var f,l,m,d,g,h,k;function c(){var n;n=new l.Hk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Fc.bind(this);this.B2=h++;this.Eg=(0,m.Oi)("ProbeRequest");this.DOa=f.CJa;(0,d.gb)(void 0 !== this.DOa);this.Ch=b.Cv.Uc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Cv=void 0;f=a(1271);l=a(73);m=a(8);d=a(21);g=a(30);h=0;(function(){function n(){return JSON.stringify({url:this.wl,id:this.B2,affected:this.E1,readystate:this.Ch});}(0,g.Zb)(c.prototype,{kO:function(p){p.affected=this.E1;p.probed={requestId:this.B2,url:this.wl,Nd:this.kT,groupId:this.h2};this.emit(b.Cv.Le.HR,p);},rsa:function(p){this.Kpb=p.httpcode;p.affected=this.E1;p.probed={requestId:this.B2,url:this.wl,Nd:this.kT,groupId:this.h2};this.emit(b.Cv.Le.eF,p);},open:function(p,q,u,t){if(!p)return (!1,!1);this.wl=p;this.E1=q;this.kT=u;this.Ch=b.Cv.Uc.OPENED;this.knb=t;this.DOa.rV(this);return !0;},fd:function(){!1;return !0;},li:function(){return this.B2;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ch;},set:function(){}},status:{get:function(){return this.Kpb;}},url:{get:function(){return this.wl;}},n9b:{get:function(){return this.E1;}},gNb:{get:function(){return this.knb;}}});})();(function(n){n.Le={HR:"pr0",eF:"pr1"};n.Uc={UNSENT:0,OPENED:1,Zx:2,DONE:3,PJ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.Cv=Object.assign(c,k);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.CJa=void 0;c=a(8);f=a(74);b.CJa=(function(){(0,c.Oi)("ProbeDownloader");return {rV:function(l){l={url:l.url,fUb:l};!1;f.jf.iUb(l);}};})();},function(r,b,a){var g,h,k,n,p,q,u,t,w,v,x,y,z,A,B,E;function c(D,F,C){this.Ao=D;this.groups=F;this.prefix=C;D=v(D,F,C);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function f(){this.qTa=function(){throw Error("Not implemented");};this.FAb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return w?w:"0.0.0.0";}function d(D){D({O4a:0,qZ:0,c_a:0,eWa:0});}g=a(17);f.prototype.set=function(D,F){n[D]=F;p.save(D,F);};f.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(C){C.$?(n[D]=C.data,F && F(C.data)):n[D]=void 0;});};f.prototype.remove=function(D){p.remove(D);};f.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return q();};l.prototype.ea=function(){return u();};l.prototype.Wra=function(D){return D + q() - u();};l.prototype.tsa=function(D){return D + u() - q();};c.prototype.HTa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ea(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Ao,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.BO;v=D.Oi;p=D.storage;n=D.LN;q=D.MGb;u=D.getTime;t=D.Orb;y=D.cr;E=D.Cv;z=D.KJ;A=D.SourceBuffer;B=D.MediaSource;w=D.tac;k=D.Jt;return {name:"cadmium",Jt:k,BO:h,storage:new f(),Storage:f,time:new l(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,cr:y,KJ:z,Whb:A,MediaSource:B,Cv:E,Wo:{name:m},memory:{XFb:d},Jo:D.Jo};};},function(r,b,a){r.exports={EventEmitter:a(1274),Xh:a(1275)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,u){var v,x,y,z,A,B,E,D,F,C,G;function t(){var K;K=q.yb.value === n.cb.Lc && q.state.value === n.Rb.re && q.J === u.J;G?K || (clearInterval(G),B=G=void 0):K && (G=nb.setInterval(w,1E3));}function w(){var K,J,I,M,R,H;K=q.oe.value;K=(K=K && K.stream) && K.height;if(null !== K && 0 < K){J=(0,d.dk)();I=q.$f.YG();if(I){if(B && 2E3 > J - B.time && K === B.height){M=I - B.hBb;R=x[K];R || (x[K]=R=[],K > D && (A.push(K),(0,m.x_)(A)));0 < M && !(C && C < K) && (C=K);R.push(M);R.length > E && R.shift();(R=z[K]) || (z[K]=R={});H=R[M];R[M]=H?H + 1:1;}B={time:J,hBb:I,height:K};q.K9 && q.K9.TXb(x);}}}v=(0,g.Jh)(q,"DFF");x={};y=f.config.lBb;z={};A=[];E=f.config.jBb;D=f.config.kBb;F=l.vFa;if(f.config.iBb)return (u.zla={OEb:function(){var K;K={};z && A.forEach(function(J){var I,M,R;I=z[J];if(I){M=0;R=0;(0,p.te)(I,function(H,P){R+=(0,h.He)(H);M+=P;});K[J]=R / M;}});return K;},LV:function(K){var J;J={};K.forEach(function(I){J[I]={};});z && ((0,m.x_)(K),A.forEach(function(I){var M,R,H,P;M=z[I];if(M){R=0;H=0;(0,p.te)(M,function(U,ca){R+=ca;});P=Object.keys(M).map(Number);(0,m.x_)(P);for(var N=P.length - 1,L=P[N],Q=K.length - 1;0 <= Q;Q--){for(var S=K[Q];L >= S && 0 <= N;){(L=M[L]) && (H+=L);L=P[--N];}J[S][I]=(0,k.Mj)(H / R * 100);}}}));return J;}},q.state.addListener(t),q.yb.addListener(t),q.addEventListener(n.ca.CH,t),{LM:"df",bv:function(K){var M,R,H,L,Q;if(K.lower && K.height > D){K=K.height;a:{if(C){for(var J=A.length,I=0;I < J;I++){M=A[I];if(M >= C && M < F){R=x[M];if(H=R)b:{H=y.length;for(var P=R.length,N=0;N < H;N++){L=y[N];Q=L[0];L=L[1];for(var S=0;S < P;S++){if(R[S] >= L && 0 >= --Q){H=!0;break b;}}}H=!1;}if(H && F != M){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:M});u.Op.set({reason:"droppedFrames",height:M});J=F=M;break a;}}}C=void 0;}J=F;}K=K >= J;}else K=!1;return K;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Yhb=void 0;r=a(106);f=a(14);l=a(12);m=a(50);d=a(51);g=a(8);h=a(30);k=a(11);n=a(15);p=a(24);(0,r.XE)(c);b.Yhb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(106);(0,r.XE)(function(){return {LM:"op",bv:function(){}};});},function(r,b,a){var f,l;function c(m,d){var g,h;g=(0,l.Jh)(m,"MSS");if(f.config.YOb)return {LM:"mss",bv:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=nb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Op.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Zhb=void 0;r=a(106);f=a(14);l=a(8);(0,r.XE)(c);b.Zhb=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(1280);f=a(8);l=a(34);m=a(71);(0,r.XE)(function(d){var g;if(f.ka.get(l.Ik).oY){g=f.ka.get(m.Ys);return new c.FEa(d,f.Zf,g);}});},function(r,b,a){var f;function c(l,m,d){var g;g=this;this.j=l;this.ta=m;this.BD=d;this.Ypa=!1;this.log=this.ta.hb("KeySystemRobustness",this.j);this.Ypa=!1;this.BD.Aw().then(function(h){var k,n;n=null === (k=h.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(p){return p.robustness;});g.Ypa=!(null === n || void 0 === n || !n.some(function(p){return p === f.UJ;}));l.m9a("keySystem",h.keySystem);l.m9a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;f=a(57);c.prototype.bv=function(l){return l.lower && l.$k && !this.Ypa && 720 < l.height;};Wa.Object.defineProperties(c.prototype,{LM:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.FEa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(14);f=a(8);l=a(1282);(0,r.XE)(function(m,d){if(c.config.XLb)return new l.EEa(m,d,f.Zf,c.config,f.xa,f.Pc);});},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p){var q;q=this;this.j=d;this.wa=g;this.ta=h;this.config=k;this.xa=n;this.Pc=p;this.xrb=function(u){!0 === u.oldValue && !1 === u.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.GWb());};this.$0b=function(u){var t,w,v;q.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (q.NXb(w,(null === (t=null === u || void 0 === u?void 0:u.qm) || void 0 === t?void 0:t.height) || 0),"usable" === v && (u=q.xa.gf.Ma(q.ZLb),q.log.error("UHD KeyStatus unexpectedly changed: " + u.da(m.ja))));};this.M0a=!1;this.log=this.ta.hb("KeyStatusStreamFilter",this.j);this.iQa=new l.dc(!1,this.xrb);this.Z0b=new l.dc(void 0,this.$0b);}Object.defineProperty(b,"__esModule",{value:!0});b.EEa=void 0;f=a(206);l=a(80);m=a(4);c.prototype.bv=function(d){return d.$k && (this.c_b(),this.iQa.set(this.M0a && this.WIb),d.lower && 1080 < d.height && !this.iQa.value)?!0:!1;};c.prototype.Fvb=function(){this.WIb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.XZa);};c.prototype.pyb=function(){var d,g,h;g={};h=null === (d=this.wa.yg.value) || void 0 === d?void 0:d.Ou;null === h || void 0 === h?void 0:h.forEach(function(k){g[k.nj]=k.yI.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.N3a=function(d){var g;g=this;Object.entries(d).forEach(function(h){var k;k=aa(h);h=k.next().value;k=k.next().value;h=g.YLb[h];1080 < h && (g.M0a="usable" === k,g.Z0b.set(k,{height:h}));});};c.prototype.c_b=function(){var d,g;d=this;g=this.wa.qf;!this.zLb && (0,f.Cpa)(g) && (this.zLb=!0,this.YLb=this.pyb(),this.N3a(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.N3a(h.newValue);}),this.Pc.Ak((0,m.Oc)(this.config.XZa),function(){return d.Fvb();}),this.ZLb=this.xa.gf);};c.prototype.NXb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.wa.Op.set({reason:"keyStatus",height:g});};Wa.Object.defineProperties(c.prototype,{LM:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.EEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(14);f=a(8);(0,r.XE)(function(l,m){var d,g,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.a1b);g=d[m.ye];if(c.config.b1b && g){h={};k=(0,f.Jh)(l,"MediaStreamFilter");return {LM:"uiLabel",bv:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),m.Op.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(554);r=a(59);l=a(14);m=a(61);d=a(12);g=a(50);h=a(51);k=a(24);n=a(11);p=a(8);q=a(123);u=a(15);t=a(31);w=a(34);(0,r.kea)(r.fea,function(v){var D,F,C,G,K,J;function x(I){var M,R;if(I.newValue >= u.Rb.LOADING){v.state.removeListener(x);I=(0,n.M0);try{M="" + (0,h.Z3)();localStorage.setItem("player$test",M);R=localStorage.getItem("player$test");localStorage.removeItem("player$test");M=M == R?"success":"mism";}catch(H){M="ex: " + H;}E("type=openplay&sev=info&locstor=" + I(M));C=(0,h.dk)();A();}}function y(){J("type=startplay&sev=info&outcome=success");}function z(){var I,M;I=v.ki;if(I){M="type=startplay&sev=error&outcome=error";I=(0,c.Mna)(p.ka.get(w.Ik).bq,I);(0,k.te)(I,function(R,H){M+="&" + (0,n.M0)(R) + "=" + (0,n.M0)(H || "");});J(M);}else J("type=startplay&sev=info&outcome=abort");}function A(){var I,M;I=G.shift();if(0 < I){M=(0,n.fo)(I - ((0,h.dk)() - C),0);F=setTimeout(function(){E("type=startstall&sev=info&kt=" + I);A();},M);}}function B(){J("type=startplay&sev=info&outcome=unload");}function E(I){I=K + "&soffms=" + v.Tna() + "&" + I;v.Sc && Object.keys(v.Sc).length && (I+="&" + (0,g.oO)((0,k.Zb)({},v.Sc,{prefix:"sm_"})));(0,f.tab)("playback",I,D);}D=p.ka.get(q.AJ).host + l.config.vxa;if(l.config.uab && D && l.config.vab.playback){G=l.config.D0b.slice();K="xid=" + v.ba + "&pbi=" + v.index + "&uiLabel=" + (v.ye || "");v.state.addListener(x);v.addEventListener(u.ca.Cq,y);v.addEventListener(u.ca.mg,z);m.ve.addListener(m.Gl,B,d.fF);J=function(I){var M;J=d.rl;M=p.ka.get(t.ih);I+="&initstart=" + M.startTime + "&initend=" + M.endTime;E(I);clearTimeout(F);v.removeEventListener(u.ca.Cq,y);v.removeEventListener(u.ca.mg,z);m.ve.removeListener(m.Gl,B);};}});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);m=a(167);a=a(31);l.ka.get(a.ih).register(r.M.RDa,function(d){c.config.I5 && l.ka.get(m.PCa).start();d(f.Ze);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;c=a(74);f=a(50);l=a(21);m=a(24);d=a(30);b.DAa=function(g,h){(0,l.gb)(g);(0,l.gb)(h);(0,l.nM)(h.mCb,"endpointURL property is required");(0,l.gb)(h.he);this.log=g;this.T5a=h;};b.DAa.prototype.SC=function(){var g,h,k;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.T5a.he)};k=g.T5a.mCb + "?" + (0,f.oO)(h);return new Promise(function(n,p){function q(x){var y,z;try{if(x.$){y=new Uint8Array(x.content);z=String.fromCharCode.apply(null,y);return {$:!0,config:JSON.parse(z).core.initParams};}return {$:!1,message:"Unable to download the config. " + x.ub,fD:x.ik};}catch(A){return (x=(0,m.wd)(A),g.log.error("Unable to download the config. Received an exception parsing response",{message:A.message,exception:x,url:k}),{$:!1,ub:x,message:"Unable to download the config. " + A.message});}}function u(x,y,z){return y > z?(g.log.error("Config download failed, retry limit exceeded, giving up",(0,d.Zb)({Attempts:y - 1,MaxRetries:z},x)),!1):!0;}function t(x,y){x=1E3 * Math.pow(2,Math.min(x - 1,y));return (0,m.pua)(1E3,x);}function w(x){return new Promise(function(y){setTimeout(function(){y();},x);});}function v(x,y,z){c.jf.download(x,function(A){var B;A=q(A);if(A.$)n(A);else {g.log.warn("Config download failed, retrying",(0,d.Zb)({Attempt:y,WaitTime:B,MaxRetries:z},A));if(u(A,y + 1,z)){B=t(y,z);return w(B).then(function(){return v(x,y + 1,z);});}p(A);}});}return c.jf?v({url:k,responseType:3,withCredentials:!0,HC:"config-download"},1,3):Promise.reject({$:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);f=a(163);l=a(12);m=a(14);r=a(3);d=a(8);g=a(21);h=a(24);k=a(30);n=a(19);p=a(49);q=a(89);a=a(31);d.ka.get(a.ih).register(r.M.$Da,function(u){var t,w;t=(0,d.Oi)("NccpApi");w=(0,h.JQa)(["info","warn","trace","error"]);f.uK.GT.nccp={getEsn:function(){return c.gk.Wk;},getPreferredLanguages:function(){return m.config.Kr.Pta;},setPreferredLanguages:function(v){(0,g.gb)((0,n.isArray)(v) && (0,k.Xz)(v[0]));m.config.Kr.Pta=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.ka.get(p.Xm);v=d.ka.get(q.Ox).Kt(v,x,y);z.Hc(v);}else t.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ka.get(p.Xm).flush(!0);}};u(l.Ze);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(31);b=a(3);c=a(7);f=a(34);l=a(294);m=a(12);d=a(14);g=a(8);h=a(134);k=a(59);n=a(163);p=a(300);q=a(120);g.ka.get(r.ih).register(b.M.bEa,function(u){var v,x,y;function t(z,A){return void 0 === z || void 0 === A?Promise.reject("Invalid email and/or password"):g.ka.get(p.Sda).pg(this.log,{},{email:z,password:A}).then(function(){});}function w(z){var A;A=g.ka.get(q.tF);return A.hWa.fetch(z,A);}if(d.config.JCb){v=g.ka.get(l.Xda);x=g.ka.get(f.Ik);y=g.ka.get(c.qb).hb("Test");n.uK.GT.test={setPboRequestsListener:function(z){return v.eYb(z);},playbacks:k.ho,getPlayback:function(z){return k.ho.find(function(A){return A.ba === z;});},playgraphManager:{isNextSegmentReady:function(z,A){var B,E;return void 0 !== (null === (E=null === (B=k.ho.find(function(D){return D.ba === z;})) || void 0 === B?void 0:B.Ka) || void 0 === E?void 0:E.S5(A));},isNextSegmentBuffering:function(z,A){var B,E;return null === (E=null === (B=k.ho.find(function(D){return D.ba === z;})) || void 0 === B?void 0:B.Ka) || void 0 === E?void 0:E.eN(A).PL;}},aseManager:{cacheDestroy:function(){return h.qn.NQa.Ry();}},device:{esn:nb._cad_global.device.Wk,esnPrefix:x.Go,errorPrefix:x.bq},log:{info:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.info(z,B);},error:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.error(z,B);},warn:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.warn(z,B);},trace:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.trace(z,B);},log:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.log(z,B);},debug:function(z,A){for(var B=[],E=1;E < arguments.length;++E){B[E - 1]=arguments[E];}return y.debug(z,B);}},login:t,getManifest:w};}u(m.Ze);});},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1290);c=a(12);f=a(14);l=a(59);b=a(7);m=a(8);d=a(49);g=a(113);h=a(21);k=a(30);n=a(11);nb.netflix=nb.netflix || ({});(0,h.gb)(!nb.netflix.player);nb.netflix.player={VideoSession:r.jMa,diag:{togglePanel:function(p,q){var u;u=[];if(!f.config || f.config.sY){switch(p){case "info":u=l.ho.map(function(t){return t.K9;});break;case "streams":u=l.ho.map(function(t){return t.M9;});break;case "log":u=[];}u.forEach(function(t){(0,k.Zc)(q)?q?t.show():t.Sr():t.toggle();});}},addLogMessageSink:function(p){m.ka.get(d.Xm).addListener({Ecc:function(){},POb:function(q){p({data:q.data});}});}},log:(0,m.Oi)("Ext"),LogLevel:b.Lj,addLogSink:function(p,q){m.ka.get(g.$J).k$(p,q);},getVersion:function(){return "6.0033.572.911";},getMostRecentPlaybackDiagnosticGroups:function(){var p;return null === (p=l.DB.A3a) || void 0 === p?void 0:p.K4.CV();},isWidevineSupported:function(p){var u;function q(t){return function(w,v){return v.contentType == t;};}if("function" !== typeof p)throw Error("input param is not a function");u=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Px,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.aK,robustness:"SW_SECURE_CRYPTO"}]}];try{n.mf.requestMediaKeySystemAccess("com.widevine.alpha",u).then(function(t){var w;w=t.getConfiguration();t=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(q(c.aK),!1);t=t.reduce(q(c.Px),!1);p(w && t);}).catch(function(){p(!1);});}catch(t){p(!1);}}};},function(r,b,a){var f,l,m,d,g,h;function c(k){var n;n=m.uK.call(this,k) || this;n.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Dj:q}:q;u=f.ka.get(l.jK);t=f.ka.get(g.yR).create(q.manifest);w=f.ka.get(d.rea);p=u.Dyb(p);u=f.ka.get(h.pea).create(p);p=u.W5();w=w.ETa(u);w.addEpisode({movieId:p.X,playbackParams:n.$Qa(q,p),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;f=a(8);l=a(121);m=a(163);d=a(305);g=a(157);h=a(304);na(c,m.uK);b.jMa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(163);f=a(192);l=a(12);m=a(50);r=a(3);d=a(8);g=a(165);h=a(21);k=a(30);n=a(11);b=a(31);p=a(51);q=a(94);u=a(156);t=a(164);d.ka.get(b.ih).register(r.M.aEa,function(w){var B;function v(){return f.gk.Wk;}function x(E){var D;D=d.ka.get(q.TR);d.ka.get(u.DR)().then(function(F){var C,G;C=F.fX.getStateForMdx(D);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?((0,h.gb)(G),F=["1",(0,d.sC)(JSON.stringify(F.toJSON())),(0,d.sC)(JSON.stringify(C.toJSON()))].join(),E({success:!0,cryptoContext:{cTicket:F,encrypt:function(K,J){K=(0,k.Se)(K)?(0,d.WP)(K):K;G.encrypt(K,{result:function(I){I=(0,d.sC)(I);J({success:!0,mslEncryptionEnvelopeBase64:I});},timeout:function(){J({success:!1});},error:function(I){(0,h.gb)(!1,"Encrypt error: " + I);J({success:!1});}});},decrypt:function(K,J){K=(0,d.Cr)(K);G.decrypt(K,{result:function(I){J({success:!0,text:(0,d.UZ)(I)});},timeout:function(){J({success:!1});},error:function(I){(0,h.gb)(!1,"Decrypt error: " + I);J({success:!1});}});},hmac:function(K,J){K=(0,k.Se)(K)?(0,d.WP)(K):K;G.sign(K,{result:function(I){J({success:!0,hmacBase64:(0,d.sC)(I)});},timeout:function(){J({success:!1});},error:function(I){(0,h.gb)(!1,"Hmac error: " + I);J({success:!1});}});}}})):((0,h.gb)(!1,"Must login first"),E({success:!1}));});}function y(E,D){var F;F=(0,d.Cr)(E);E=F.subarray(32,48);F=F.subarray(0,32);if(16 != E.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,m.ZH)(n.Vp.importKey("raw",E,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.ZH)(n.Vp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){D({success:!0,cryptoContext:z(C[0],C[1])});},function(){D({success:!1});});}function z(E,D){function F(C){C=new g.GQ((0,d.Cr)(C));C.GA();return {iv:C.L6a(),kCb:C.L6a()};}return {encrypt:function(C,G){var K;C=(0,k.Se)(C)?(0,d.WP)(C):C;K=n.AB.getRandomValues(new Uint8Array(16));(0,m.ZH)(n.Vp.encrypt({name:"AES-CBC",iv:K},E,C)).then(function(J){var I,M;J=new Uint8Array(J);I=[];M=new g.GQ(I);M.dba(2);M.kcb(K);M.kcb(J);J=(0,d.sC)(I);G({success:!0,encryptedDataAsn1Base64:J});},function(J){(0,h.gb)(!1,"Encrypt error: " + J);G({success:!1});});},decrypt:function(C,G){var K;K=F(C);C=K.iv;K=K.kCb;(0,m.ZH)(n.Vp.decrypt({name:"AES-CBC",iv:C},E,K)).then(function(J){J=new Uint8Array(J);G({success:!0,text:(0,d.UZ)(J)});},function(J){(0,h.gb)(!1,"Decrypt error: " + J);G({success:!1});});},hmac:function(C,G){C=(0,k.Se)(C)?(0,d.WP)(C):C;(0,m.ZH)(n.Vp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,C)).then(function(K){K=new Uint8Array(K);G({success:!0,hmacBase64:(0,d.sC)(K)});},function(K){(0,h.gb)(!1,"Hmac error: " + K);G({success:!1});});}};}function A(){return (0,p.a4)();}B=d.ka.get(t.pB);if(B.k0a || B.Dw)c.uK.GT.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};w(l.Ze);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);b=a(31);m=a(120);l.ka.get(b.ih).register(r.M.WDa,function(g){var h,k,n;if(c.config.cTb){h=(0,l.Oi)("PlayerPredictionModel");k=l.ka.get(m.tF);n=a(1293);h.log=h.trace.bind(h);d=new n({},h,{uY:function(){},cWb:function(){}},k,{iI:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.Ze);});},function(r,b,a){var m,d,g,h,k,n,p;function c(q,u,t,w,v,x){this.J=this.X=q;this.priority=u;this.Ed=t;x && x.ye && (this.ye=x.ye);void 0 !== w && (this.zO=w);this.El=v;this.Hb=x;}function f(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.H=u;this.Ja=t;this.cqb=w;this.Wpb=v;this.AOa=n.Mta;this.tL=[];this.Bha=!1;this.yS=0;new p().on(n,"changed",l,this);this.reset();}function l(){this.H.log("config changed");n.Mta && (this.AOa=n.Mta);n.eX !== this.hL && (this.reset(),this.Yua());}m=a(307);d=a(308);b=a(557);g=b.assert;h=b.qWa;k=a(1294);n=a(558).config;p=a(1295).Xh;n.declare({Mta:["ppmConfig",{c4b:{p4a:0,o4a:2,m4a:0,n4a:5,r9a:0},q8b:{p4a:0,o4a:1,m4a:0,n4a:3,r9a:1E3},s4b:{p4a:0,o4a:1,m4a:0,n4a:3,r9a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.cga=!0;this.hL=n.eX;this.H.log("create model: " + n.eX,n.e8a,n.CSa);switch(n.eX){case "modelone":this.hL=new k(this.H);break;default:this.hL=new k(this.H);}};f.prototype.Yua=function(){var u,t;if(!1 === this.Bha){this.Bha=!0;for(var q=0;q < this.tL.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.tL[q]));u=this.jTa(this.tL[q]);t=this.$Wa(u);this.hL.update(u,t);this.cga=!1;}this.tL=[];}};f.prototype.update=function(q){var u,t,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Ya && q.Ya[0]){!1 === this.Bha && this.tL.length < n.iOb && this.tL.push(q);u=this.jTa(q);t=this.$Wa(u);this.H.log("actionType",t);u="mlmodel" == n.eX?this.hL.update(q,t):this.hL.update(u,t);u=this.wEb(u,n.MLb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.yS && (this.yS=m(),this.Ja && this.Ja.uY && this.Ja.uY({jAb:this.yS}));if(this.Ja && this.Ja.cWb){this.uFb();w=[];u.forEach(function(v){w.push({gdc:v.X});});JSON.stringify(q);JSON.stringify(u);}this.cqb.iI(u);this.Wpb.iI(u);this.cga=!1;}};f.prototype.uFb=function(){m();};f.prototype.uY=function(){this.yS=m();this.Ja && this.Ja.uY && this.Ja.uY({jAb:this.yS});};f.prototype.jTa=function(q){var u,t,w,v,x;u={};w=q.Ya || [];v=(function(y){var z,A;z={};x=d.oR.name.indexOf(y.context);z.context=0 <= x?x:d.oR.Ux;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(B){A={X:B.X,Ed:B.Ed,index:B.index,zO:B.zO,X9:B.X9,list:B.list,Hb:B.Hb};void 0 !== B.property && (x=d.WJ.name.indexOf(B.property),A.property=0 <= x?x:d.WJ.Ux);z.list.push(A);}).bind(this));u.Ya.push(z);}).bind(this);if(void 0 !== q.direction){x=d.yv.name.indexOf(q.direction);u.direction=0 <= x?x:d.yv.Ux;}void 0 !== q.lV && (u.H$b=q.lV.rowIndex,u.G$b=q.lV.yvb);u.lV=q.lV;u.Ya=[];w.forEach(v);return u;};f.prototype.$Wa=function(q){var u,t,w;u=q.direction || d.yv.Ux;t=q.lV;w=q.Ya || [];!0 === this.cga?q=d.wx.DCa:!0 === w.some(this.SIb)?(q=d.wx.KR,this.m$(w,u,t)):q=w[0].context === d.oR.i1?d.wx.i1:u === d.yv.KJa || u === d.yv.GEa?d.wx.dKa:d.wx.Ux;return q;};f.prototype.SIb=function(q){return (q.list || []).some(function(u){return u.property === d.WJ.KR || u.property === d.WJ.VAa;});};f.prototype.m$=function(q,u,t){var w,v;this.H.log("reportPlayFocusEvent: ",u,t);w={};v=h(q);this.Ja && this.Ja.m$ && (w.y$b=m(),w.direction=d.yv.name[u],t && (w.rowIndex=t.rowIndex,w.Xja=t.yvb),void 0 !== v.yk && (w.requestId=q[v.yk].requestId),this.Ja.m$ && this.Ja.m$(w));};f.prototype.wEb=function(q,u){for(var t=q.length,w=[],v,x,y,z,A=0;A < t;A++){x=q[A];v=Math.floor(A / u) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.wvb,z) && !(y[B].El=x.El,this.NPa(y[B],v,w),w.length >= n.J2a);B++){;}}else this.NPa(x,v,w);if(w.length >= n.J2a)break;}return w;};f.prototype.NPa=function(q,u,t){var v,x;function w(y){y.ye && (y.Hb || (y.Hb={}),y.Hb.ye=y.ye);return y.Hb;}v=q.X9;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.X && (x=w(y),t.push(new c(y.X,u,y.Ed,y.zO,q.El,x)));});else if(void 0 !== v && void 0 !== v.X){v=q.X9;x=w(v);t.push(new c(v.X,u,v.Ed,v.zO,q.El,x));}void 0 !== q.X && (x=w(q),t.push(new c(q.X,u,q.Ed,q.zO,q.El,x)));};f.prototype.SC=function(q){var u;u=this.AOa;return q?u[q]:u;};r.exports=f;},function(r,b,a){var l,m,d,g,h,k,n,p,q,u;function c(t,w){this.yk=t;this.lm=w;}function f(t){this.H=t;this.reset();}l=a(307);m=a(308);b=a(557);d=a(558).config;g=b.mFb;h=b.UEb;k=b.lAb;n=b.GQb;p=b.FQb;q=b.EQb;u=b.qWa;f.prototype.constructor=f;f.prototype.reset=function(){this.BOa=void 0;this.Mk=[];this.pOa=this.qOa=!1;};f.prototype.update=function(t,w){var v;this.Mk && (this.Mk=this.Mk.filter(this.SYb,this));if(!1 === this.qOa){v=g(t.Ya).slice(0,d.UTa);0 < v.length && (this.MH(v,m.Bx.sl),this.qOa=!0,this.Mk=this.oJ(v.concat(this.Mk)));}!1 === this.pOa && (v=h(t.Ya).slice(0,d.UTa),0 < v.length && (this.MH(v,m.Bx.sl),this.pOa=!0,this.Mk=this.oJ(v.concat(this.Mk))));switch(w){case m.wx.DCa:w=this.sIb(t);break;case m.wx.dKa:w=this.BIb(t);break;case m.wx.i1:w=this.CIb(t);break;case m.wx.KR:w=this.xIb(t);break;default:w=this.pIb(t);}this.BOa=t;return w;};f.prototype.sIb=function(t){t=n(t.Ya,d.e8a,d.CSa);this.MH(t,m.Bx.sl);return this.Mk=this.oJ(this.Mk.concat(t));};f.prototype.BIb=function(t){var w,v;this.H.log("handleScrollHorizontal");w=t.Ya;t=n(w,d.g8a,d.DSa);v=k(w,this.BOa.Ya);w=w[v].list.slice(0,d.PWb);w.concat(t);this.MH(w,m.Bx.Wea);return this.oJ(w.concat(this.Mk));};f.prototype.MH=function(t,w){t.forEach(function(v){if(void 0 === v.yC || v.yC < w)v.yC=w;void 0 === v.LP && (v.LP=l());void 0 === v.El && (v.El=l());});};f.prototype.CIb=function(t){this.H.log("handleSearch");t=p(t.Ya,d.hXb);this.MH(t,m.Bx.eKa);this.Mk=t.concat(this.Mk);return this.Mk=this.oJ(this.Mk);};f.prototype.xIb=function(t){var w,v,x,y,z;this.H.log("handlePlayFocus: ",d.aW);w=t.direction;v=t.Ya;t=[];x=u(v);if(void 0 !== x.yk)switch((t.push(x),w)){case m.yv.KJa:for(w=1;w < d.aW;w++){t.push(new c(x.yk,x.lm + w));}t.push(new c(x.yk - 1,x.lm));t.push(new c(x.yk + 1,x.lm));break;case m.yv.GEa:for(w=1;w < d.aW;w++){t.push(new c(x.yk,x.lm - w));}t.push(new c(x.yk - 1,x.lm));t.push(new c(x.yk + 1,x.lm));break;case m.yv.Gkb:t.push(new c(x.yk - 1,x.lm));for(w=1;w <= d.aW / 2;w++){t.push(new c(x.yk,x.lm + w));t.push(new c(x.yk,x.lm - w));}break;case m.yv.ifb:for((t.push(new c(x.yk + 1,x.lm)),w=1);w <= d.aW / 2;w++){t.push(new c(x.yk,x.lm + w));t.push(new c(x.yk,x.lm - w));}}y=[];t.forEach(function(A){z=q(v,A.yk,A.lm);void 0 !== z && y.push(z);});this.MH(y,m.Bx.Wea);return this.oJ(y.concat(this.Mk));};f.prototype.pIb=function(t){this.H.log("ModelOne: handleDefaultCase");t=n(t.Ya,d.g8a,d.DSa);this.MH(t,m.Bx.Wea);return this.oJ(t.concat(this.Mk));};f.prototype.SYb=function(t){return t.yC == m.Bx.sl | t.yC == m.Bx.eKa & l() - t.LP < d.mJb;};f.prototype.oJ=function(t){var w,v,x,y,z,A,B;w=[];v={};y=0;z=t.length;for(x=0;x < z;x++){A=t[x].X;B=t[x];!1 === (A in v)?(w.push(B),v[A]=y,y++):(A=w[v[A]],B.El < A.El && (A.El=B.El),B.yC > A.yC && (A.yC=B.yC),B.LP > A.LP && (A.LP=B.LP));}return w;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1296),Xh:a(1297)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);